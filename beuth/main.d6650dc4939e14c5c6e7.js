(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+6XX":function(e,t,n){var r=n("y1pI");e.exports=function(e){return r(this.__data__,e)>-1}},"+K+b":function(e,t,n){var r=n("JHRd");e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},"+Qka":function(e,t,n){var r=n("fmRc"),i=n("t2Dn"),s=n("cq/+"),o=n("T1AV"),a=n("GoyQ"),l=n("mTTR"),c=n("itsj");e.exports=function e(t,n,u,h,d){t!==n&&s(n,function(s,l){if(d||(d=new r),a(s))o(t,n,l,u,e,h,d);else{var p=h?h(c(t,l),s,l+"",t,n,d):void 0;void 0===p&&(p=s),i(t,l,p)}},l)}},"+c4W":function(e,t,n){var r=n("711d"),i=n("4/ic"),s=n("9ggG"),o=n("9Nap");e.exports=function(e){return s(e)?r(o(e)):i(e)}},"+iFO":function(e,t,n){var r=n("dTAl"),i=n("LcsW"),s=n("6sVZ");e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}},"/9aa":function(e,t,n){var r=n("NykK"),i=n("ExA7");e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},"/uUt":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e,t){return n=>n.lift(new s(e,t))}class s{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends r.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},0:function(e,t,n){e.exports=n("zUnb")},"03A+":function(e,t,n){var r=n("JTzB"),i=n("ExA7"),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},"0Cz8":function(e,t,n){var r=n("Xi7e"),i=n("ebwN"),s=n("e4Nc");e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}},"0xIU":function(e,t,n){var r=n("pHPU"),i=n("M96O");e.exports=function(e,t,n){return i.transform(e.nodes(),function(i,s){i[s]=r(e,s,t,n)},{})}},"0ycA":function(e,t){e.exports=function(){return[]}},"1+5i":function(e,t,n){var r=n("w/wX"),i=n("sEf8"),s=n("mdPL"),o=s&&s.isSet,a=o?i(o):r;e.exports=a},"14Cm":function(e,t,n){"use strict";var r=n("b5wT");function i(e,t,n){for(var i=r.zipObject(n,r.map(n,function(e,t){return t})),s=r.flatten(r.map(t,function(t){return r.sortBy(r.map(e.outEdges(t),function(t){return{pos:i[t.w],weight:e.edge(t).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var l=r.map(new Array(a),function(){return 0}),c=0;return r.forEach(s.forEach(function(e){var t=e.pos+o;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),l[t=t-1>>1]+=e.weight;c+=e.weight*n})),c}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}},"1G5W":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("zx2A");function i(e){return t=>t.lift(new s(e))}class s{constructor(e){this.notifier=e}call(e,t){const n=new o(e),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class o extends r.b{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1LK5":function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"1PPP":function(e,t,n){var r=n("b5wT");e.exports=function(e,t,n){var i,s={};r.forEach(n,function(n){for(var r,o,a=e.parent(n);a;){if((r=e.parent(a))?(o=s[r],s[r]=a):(o=i,i=a),o&&o!==a)return void t.setEdge(o,a);a=r}})}},"1hJj":function(e,t,n){var r=n("e4Nc"),i=n("ftKO"),s=n("3A9y");function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,e.exports=o},"1iNE":function(e,t,n){var r=n("A90E"),i=n("QqLw"),s=n("MMmD"),o=n("4qC0"),a=n("Z1HP");e.exports=function(e){if(null==e)return 0;if(s(e))return o(e)?a(e):e.length;var t=i(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},"1w02":function(e,t){e.exports=function(e,t,n){for(var r=-1,i=e.length,s=t.length,o={};++r<i;){var a=r<s?t[r]:void 0;n(o,e[r],a)}return o}},"2J+T":function(e,t,n){e.exports={components:n("5EqP"),dijkstra:n("pHPU"),dijkstraAll:n("0xIU"),findCycles:n("3azA"),floydWarshall:n("ZzYp"),isAcyclic:n("Q+g8"),postorder:n("Txda"),preorder:n("qvmO"),prim:n("Yen4"),tarjan:n("z6cq"),topsort:n("gYXE")}},"2QA8":function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("XNiG"),i=n("9ppp");class s extends r.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(e){super.next(this._value=e)}}},"2ajD":function(e,t){e.exports=function(e){return e!=e}},"2fFW":function(e,t,n){"use strict";n.d(t,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"2fNS":function(e,t,n){"use strict";var r=n("b5wT");e.exports=function(e,t){var n={};return r.forEach(e,function(e,t){var i=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(i.barycenter=e.barycenter,i.weight=e.weight)}),r.forEach(t.edges(),function(e){var t=n[e.v],i=n[e.w];r.isUndefined(t)||r.isUndefined(i)||(i.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function i(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var s=e.pop();t.push(s),r.forEach(s.in.reverse(),n(s)),r.forEach(s.out,i(s))}return r.map(r.filter(t,function(e){return!e.merged}),function(e){return r.pick(e,["vs","i","barycenter","weight"])})}(r.filter(n,function(e){return!e.indegree}))}},"2gN3":function(e,t,n){var r=n("Kz5y")["__core-js_shared__"];e.exports=r},"3A9y":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"3Fdi":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},"3L66":function(e,t,n){var r=n("MMmD"),i=n("ExA7");e.exports=function(e){return i(e)&&r(e)}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},"3WF5":function(e,t,n){var r=n("eUgh"),i=n("ut/Y"),s=n("l9OW"),o=n("Z0cm");e.exports=function(e,t){return(o(e)?r:s)(e,i(t,3))}},"3azA":function(e,t,n){var r=n("M96O"),i=n("z6cq");e.exports=function(e){return r.filter(i(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},"3y7U":function(e,t,n){var r=n("M96O");function i(e,t,n,s,o,a){r.has(s,t)||(s[t]=!0,n||a.push(t),r.each(o(t),function(t){i(e,t,n,s,o,a)}),n&&a.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var s=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],a={};return r.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,a,s,o)}),o}},"4/ic":function(e,t,n){var r=n("ZWtO");e.exports=function(e){return function(t){return r(t,e)}}},"409L":function(e,t,n){e.exports={graphlib:n("F9We"),layout:n("epwv"),debug:n("4JAw"),util:{time:n("tQ6r").time,notime:n("tQ6r").notime},version:n("khRU")}},"44Ds":function(e,t,n){var r=n("e4Nc");function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},"4Ai+":function(e,t,n){var r=n("Ac7g");e.exports={Graph:r.Graph,json:n("GbLa"),alg:n("2J+T"),version:r.version}},"4I5i":function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},"4JAw":function(e,t,n){var r=n("b5wT"),i=n("tQ6r"),s=n("F9We").Graph;e.exports={debugOrdering:function(e){var t=i.buildLayerMatrix(e),n=new s({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),r.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),r.forEach(t,function(e,t){var i="layer"+t;n.setNode(i,{rank:"same"}),r.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},"4kuk":function(e,t,n){var r=n("SfRM"),i=n("Hvzi"),s=n("u8Dt"),o=n("ekgI"),a=n("JSQU");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},"4qC0":function(e,t,n){var r=n("NykK"),i=n("Z0cm"),s=n("ExA7");e.exports=function(e){return"string"==typeof e||!i(e)&&s(e)&&"[object String]"==r(e)}},"4sDh":function(e,t,n){var r=n("4uTw"),i=n("03A+"),s=n("Z0cm"),o=n("wJg7"),a=n("shjB"),l=n("9Nap");e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,h=!1;++c<u;){var d=l(t[c]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++c!=u?h:!!(u=null==e?0:e.length)&&a(u)&&o(d,u)&&(s(e)||i(e))}},"4uTw":function(e,t,n){var r=n("Z0cm"),i=n("9ggG"),s=n("GNiM"),o=n("dt0z");e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:s(o(e))}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>Object(i.a)(e(n,s)).pipe(Object(r.a)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends s.b{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.a(this),n=this.destination;n.add(t);const r=Object(s.c)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"5EqP":function(e,t,n){var r=n("M96O");e.exports=function(e){var t,n={},i=[];function s(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),s),r.each(e.predecessors(i),s))}return r.each(e.nodes(),function(e){t=[],s(e),t.length&&i.push(t)}),i}},"5Tg0":function(e,t,n){(function(e){var r=n("Kz5y"),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n("YuTi")(e))},"5jIi":function(e,t,n){"use strict";var r=n("b5wT");e.exports=function(e){var t={},n=r.filter(e.nodes(),function(t){return!e.children(t).length}),i=r.max(r.map(n,function(t){return e.node(t).rank})),s=r.map(r.range(i+1),function(){return[]});var o=r.sortBy(n,function(t){return e.node(t).rank});return r.forEach(o,function n(i){if(r.has(t,i))return;t[i]=!0;var o=e.node(i);s[o.rank].push(i),r.forEach(e.successors(i),n)}),s}},"6Ekc":function(e,t,n){"use strict";var r=n("b5wT");e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),function n(i){var s=e.node(i);if(r.has(t,i))return s.rank;t[i]=!0;var o=r.min(r.map(e.outEdges(i),function(t){return n(t.w)-e.edge(t).minlen}));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),s.rank=o})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},"6sVZ":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"711d":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"77Zs":function(e,t,n){var r=n("Xi7e");e.exports=function(){this.__data__=new r,this.size=0}},"7GkX":function(e,t,n){var r=n("b80T"),i=n("A90E"),s=n("MMmD");e.exports=function(e){return s(e)?r(e):i(e)}},"7Ix3":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"7fqy":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class c extends s.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!e){this.destination=i.a;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.a](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;Object(r.a)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.a&&(a=Object.create(t),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},"81LO":function(e,t,n){var r=n("b5wT"),i=n("tQ6r");function s(e,t,n){for(var i;t.length&&(i=r.last(t)).i<=n;)t.pop(),e.push(i.vs),n++;return n}e.exports=function(e,t){var n=i.partition(e,function(e){return r.has(e,"barycenter")}),o=n.lhs,a=r.sortBy(n.rhs,function(e){return-e.i}),l=[],c=0,u=0,h=0;o.sort((d=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:d?t.i-e.i:e.i-t.i})),h=s(l,a,h),r.forEach(o,function(e){h+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,u+=e.weight,h=s(l,a,h)});var d;var p={vs:r.flatten(l,!0)};u&&(p.barycenter=c/u,p.weight=u);return p}},"88Gu":function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),s=16-(i-r);if(r=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},"8c2E":function(e,t,n){var r=n("b5wT");e.exports=function(e){var t=function(e){var t={},n=0;function i(s){var o=n;r.forEach(e.children(s),i),t[s]={low:o,lim:n++}}return r.forEach(e.children(),i),t}(e);r.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,s=function(e,t,n,r){var i,s,o=[],a=[],l=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),o.push(i)}while(i&&(t[i].low>l||c>t[i].lim));s=i,i=r;for(;(i=e.parent(i))!==s;)a.push(i);return{path:o.concat(a.reverse()),lca:s}}(e,t,i.v,i.w),o=s.path,a=s.lca,l=0,c=o[l],u=!0;n!==i.w;){if(r=e.node(n),u){for(;(c=o[l])!==a&&e.node(c).maxRank<r.rank;)l++;c===a&&(u=!1)}if(!u){for(;l<o.length-1&&e.node(c=o[l+1]).minRank<=r.rank;)l++;c=o[l]}e.setParent(n,c),n=e.successors(n)[0]}})}},"9/5/":function(e,t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,a="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),u=Object.prototype.toString,h=Math.max,d=Math.min,p=function(){return c.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=i.test(e);return a||s.test(e)?o(e.slice(2),a?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,s,o,a,l,c=0,u=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function _(e){return c=e,a=setTimeout(w,t),u?y(e):o}function b(e){var n=e-l;return void 0===l||n>=t||n<0||m&&e-c>=s}function w(){var e=p();if(b(e))return x(e);a=setTimeout(w,function(e){var n=t-(e-l);return m?d(n,s-(e-c)):n}(e))}function x(e){return a=void 0,v&&r?y(e):(r=i=void 0,o)}function E(){var e=p(),n=b(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return _(l);if(m)return a=setTimeout(w,t),y(l)}return void 0===a&&(a=setTimeout(w,t)),o}return t=g(t)||0,f(n)&&(u=!!n.leading,s=(m="maxWait"in n)?h(g(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},E.flush=function(){return void 0===a?o:x(p())},E}},"9Nap":function(e,t,n){var r=n("/9aa");e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"9ggG":function(e,t,n){var r=n("Z0cm"),i=n("/9aa"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!s.test(e)||null!=t&&e in Object(t))}},"9ppp":function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},"9u+N":function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){"use strict";function r(){}r.QUALITY=1,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=15,r.NODE_DIMENSIONS_INCLUDE_LABELS=!1,r.SIMPLE_NODE_SIZE=40,r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.WORLD_BOUNDARY=1e6,r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(8),s=n(9);function o(e,t,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}for(var a in o.prototype=Object.create(r.prototype),r)o[a]=r[a];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),r=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},o.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,n){"use strict";var r=n(2),i=n(10),s=n(13),o=n(0),a=n(16),l=n(5);function c(e,t,n,o){null==n&&null==o&&(o=t),r.call(this,o),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=o,this.edges=[],this.graphManager=e,this.rect=null!=n&&null!=t?new s(t.x,t.y,n.width,n.height):new s}for(var u in c.prototype=Object.create(r.prototype),r)c[u]=r[u];c.prototype.getEdges=function(){return this.edges},c.prototype.getChild=function(){return this.child},c.prototype.getOwner=function(){return this.owner},c.prototype.getWidth=function(){return this.rect.width},c.prototype.setWidth=function(e){this.rect.width=e},c.prototype.getHeight=function(){return this.rect.height},c.prototype.setHeight=function(e){this.rect.height=e},c.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},c.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},c.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},c.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},c.prototype.getRect=function(){return this.rect},c.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},c.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},c.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},c.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},c.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},c.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},c.prototype.getEdgeListToNode=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.target==e){if(r.source!=n)throw"Incorrect edge source!";t.push(r)}}),t},c.prototype.getEdgesBetween=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";r.target!=e&&r.source!=e||t.push(r)}),t},c.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach(function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}}),e},c.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),n=0;n<t.length;n++)t[n].withChildren().forEach(function(t){e.add(t)});return e},c.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),n=0;n<t.length;n++)e+=t[n].getNoOfChildren();return 0==e&&(e=1),e},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},c.prototype.scatter=function(){var e,t,n=-o.INITIAL_WORLD_BOUNDARY,r=o.INITIAL_WORLD_BOUNDARY;e=o.WORLD_CENTER_X+a.nextDouble()*(r-n)+n;var i=-o.INITIAL_WORLD_BOUNDARY,s=o.INITIAL_WORLD_BOUNDARY;t=o.WORLD_CENTER_Y+a.nextDouble()*(s-i)+i,this.rect.x=e,this.rect.y=t},c.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),n=e.getBottom()-e.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(t+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>t?(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(t+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(n+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>n?(this.rect.y-=(this.labelHeight-n)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(n+this.labelHeight))}}},c.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},c.prototype.transform=function(e){var t=this.rect.x;t>o.WORLD_BOUNDARY?t=o.WORLD_BOUNDARY:t<-o.WORLD_BOUNDARY&&(t=-o.WORLD_BOUNDARY);var n=this.rect.y;n>o.WORLD_BOUNDARY?n=o.WORLD_BOUNDARY:n<-o.WORLD_BOUNDARY&&(n=-o.WORLD_BOUNDARY);var r=new l(t,n),i=e.inverseTransformPoint(r);this.setLocation(i.x,i.y)},c.prototype.getLeft=function(){return this.rect.x},c.prototype.getRight=function(){return this.rect.x+this.rect.width},c.prototype.getTop=function(){return this.rect.y},c.prototype.getBottom=function(){return this.rect.y+this.rect.height},c.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=c},function(e,t,n){"use strict";var r=n(0);function i(){}for(var s in r)i[s]=r[s];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},function(e,t,n){"use strict";function r(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(e){this.x=e},r.prototype.setY=function(e){this.y=e},r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(10),s=n(0),o=n(7),a=n(3),l=n(1),c=n(13),u=n(12),h=n(11);function d(e,t,n){r.call(this,n),this.estimatedSize=i.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof o?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}for(var p in d.prototype=Object.create(r.prototype),r)d[p]=r[p];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(e,t,n){if(null==t&&null==n){var r=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(i.source=t,i.target=n,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),n!=t&&n.edges.push(i),i)},d.prototype.remove=function(e){var t=e;if(e instanceof a){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=t.edges.slice(),r=n.length,i=0;i<r;i++)(s=n[i]).isInterGraph?this.graphManager.remove(s):s.source.owner.remove(s);if(-1==(o=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(o,1)}else if(e instanceof l){var s;if(null==(s=e))throw"Edge is null!";if(null==s.source||null==s.target)throw"Source and/or target is null!";if(null==s.source.owner||null==s.target.owner||s.source.owner!=this||s.target.owner!=this)throw"Source and/or target owner is invalid!";var o,c=s.source.edges.indexOf(s),u=s.target.edges.indexOf(s);if(!(c>-1&&u>-1))throw"Source and/or target doesn't know this edge!";if(s.source.edges.splice(c,1),s.target!=s.source&&s.target.edges.splice(u,1),-1==(o=s.source.owner.getEdges().indexOf(s)))throw"Not in owner's edge list!";s.source.owner.getEdges().splice(o,1)}},d.prototype.updateLeftTop=function(){for(var e,t,n,r=i.MAX_VALUE,s=i.MAX_VALUE,o=this.getNodes(),a=o.length,l=0;l<a;l++){var c=o[l];r>(e=c.getTop())&&(r=e),s>(t=c.getLeft())&&(s=t)}return r==i.MAX_VALUE?null:(n=null!=o[0].getParent().paddingLeft?o[0].getParent().paddingLeft:this.margin,this.left=s-n,this.top=r-n,new u(this.left,this.top))},d.prototype.updateBounds=function(e){for(var t,n,r,s,o,a=i.MAX_VALUE,l=-i.MAX_VALUE,u=i.MAX_VALUE,h=-i.MAX_VALUE,d=this.nodes,p=d.length,f=0;f<p;f++){var g=d[f];e&&null!=g.child&&g.updateBounds(),a>(t=g.getLeft())&&(a=t),l<(n=g.getRight())&&(l=n),u>(r=g.getTop())&&(u=r),h<(s=g.getBottom())&&(h=s)}var m=new c(a,u,l-a,h-u);a==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),o=null!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=m.x-o,this.right=m.x+m.width+o,this.top=m.y-o,this.bottom=m.y+m.height+o},d.calculateBounds=function(e){for(var t,n,r,s,o=i.MAX_VALUE,a=-i.MAX_VALUE,l=i.MAX_VALUE,u=-i.MAX_VALUE,h=e.length,d=0;d<h;d++){var p=e[d];o>(t=p.getLeft())&&(o=t),a<(n=p.getRight())&&(a=n),l>(r=p.getTop())&&(l=r),u<(s=p.getBottom())&&(u=s)}return new c(o,l,a-o,u-l)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,n=t.length,r=0;r<n;r++)e+=t[r].calcEstimatedSize();return this.estimatedSize=0==e?s.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,n,r=new h,i=new Set,s=this.nodes[0];for(s.withChildren().forEach(function(e){r.push(e),i.add(e)});0!==r.length;)for(var o=(t=(s=r.shift()).getEdges()).length,a=0;a<o;a++)null==(n=t[a].getOtherEndInGraph(s,this))||i.has(n)||n.withChildren().forEach(function(e){r.push(e),i.add(e)});if(this.isConnected=!1,i.size>=this.nodes.length){var l=0;i.forEach(function(t){t.owner==e&&l++}),l==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=d},function(e,t,n){"use strict";var r,i=n(1);function s(e){r=n(6),this.layout=e,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},s.prototype.add=function(e,t,n,r,i){if(null==n&&null==r&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=n,n=e;var s=(r=t).getOwner(),o=i.getOwner();if(null==s||s.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==o||o.getGraphManager()!=this)throw"Target not in this graph mgr!";if(s==o)return n.isInterGraph=!1,s.add(n,r,i);if(n.isInterGraph=!0,n.source=r,n.target=i,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},s.prototype.remove=function(e){if(e instanceof r){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var n,s=[],o=(s=s.concat(t.getEdges())).length,a=0;a<o;a++)n=s[a],t.remove(n);var l,c=[];for(o=(c=c.concat(t.getNodes())).length,a=0;a<o;a++)l=c[a],t.remove(l);t==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(t);this.graphs.splice(u,1),t.parent=null}else if(e instanceof i){if(null==(n=e))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(u=n.source.edges.indexOf(n),n.source.edges.splice(u,1),u=n.target.edges.indexOf(n),n.target.edges.splice(u,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";u=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(u,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),n=t.length,r=0;r<n;r++)e=e.concat(t[r].getNodes());this.allNodes=e}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),n=(t.length,0);n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var n,r=e.getOwner();null!=(n=r.getParent());){if(n==t)return!0;if(null==(r=n.getOwner()))break}for(r=t.getOwner();null!=(n=r.getParent());){if(n==e)return!0;if(null==(r=n.getOwner()))break}return!1},s.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,r,i,s=this.getAllEdges(),o=s.length,a=0;a<o;a++)if(t=(e=s[a]).source,n=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=n,t!=n){for(r=t.getOwner();null==e.lca;){for(e.targetInLca=n,i=n.getOwner();null==e.lca;){if(i==r){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(r==this.rootGraph)break;null==e.lca&&(e.sourceInLca=r.getParent(),r=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},s.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var n=e.getOwner();null!=n;){for(var r=t.getOwner();null!=r;){if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},s.prototype.calcInclusionTreeDepths=function(e,t){var n;null==e&&null==t&&(e=this.rootGraph,t=1);for(var r=e.getNodes(),i=r.length,s=0;s<i;s++)(n=r[s]).inclusionTreeDepth=t,null!=n.child&&this.calcInclusionTreeDepths(n.child,t+1)},s.prototype.includesInvalidEdge=function(){for(var e,t=this.edges.length,n=0;n<t;n++)if(e=this.edges[n],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},e.exports=s},function(e,t,n){"use strict";var r=n(12);function i(){}i.calcSeparationAmount=function(e,t,n,r){if(!e.intersects(t))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,i),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var s=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(s=1);var o=s*n[0],a=n[1]/s;n[0]<a?a=n[0]:o=n[1],n[0]=-1*i[0]*(a/2+r),n[1]=-1*i[1]*(o/2+r)},i.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},i.getIntersection2=function(e,t,n){var r=e.getCenterX(),i=e.getCenterY(),s=t.getCenterX(),o=t.getCenterY();if(e.intersects(t))return n[0]=r,n[1]=i,n[2]=s,n[3]=o,!0;var a=e.getX(),l=e.getY(),c=e.getRight(),u=e.getX(),h=e.getBottom(),d=e.getRight(),p=e.getWidthHalf(),f=e.getHeightHalf(),g=t.getX(),m=t.getY(),v=t.getRight(),y=t.getX(),_=t.getBottom(),b=t.getRight(),w=t.getWidthHalf(),x=t.getHeightHalf(),E=!1,C=!1;if(r===s){if(i>o)return n[0]=r,n[1]=l,n[2]=s,n[3]=_,!1;if(i<o)return n[0]=r,n[1]=h,n[2]=s,n[3]=m,!1}else if(i===o){if(r>s)return n[0]=a,n[1]=i,n[2]=v,n[3]=o,!1;if(r<s)return n[0]=c,n[1]=i,n[2]=g,n[3]=o,!1}else{var S=e.height/e.width,k=t.height/t.width,T=(o-i)/(s-r),A=void 0,D=void 0,O=void 0,I=void 0,N=void 0,P=void 0;if(-S===T?r>s?(n[0]=u,n[1]=h,E=!0):(n[0]=c,n[1]=l,E=!0):S===T&&(r>s?(n[0]=a,n[1]=l,E=!0):(n[0]=d,n[1]=h,E=!0)),-k===T?s>r?(n[2]=y,n[3]=_,C=!0):(n[2]=v,n[3]=m,C=!0):k===T&&(s>r?(n[2]=g,n[3]=m,C=!0):(n[2]=b,n[3]=_,C=!0)),E&&C)return!1;if(r>s?i>o?(A=this.getCardinalDirection(S,T,4),D=this.getCardinalDirection(k,T,2)):(A=this.getCardinalDirection(-S,T,3),D=this.getCardinalDirection(-k,T,1)):i>o?(A=this.getCardinalDirection(-S,T,1),D=this.getCardinalDirection(-k,T,3)):(A=this.getCardinalDirection(S,T,2),D=this.getCardinalDirection(k,T,4)),!E)switch(A){case 1:I=l,O=r+-f/T,n[0]=O,n[1]=I;break;case 2:O=d,I=i+p*T,n[0]=O,n[1]=I;break;case 3:I=h,O=r+f/T,n[0]=O,n[1]=I;break;case 4:O=u,I=i+-p*T,n[0]=O,n[1]=I}if(!C)switch(D){case 1:P=m,N=s+-x/T,n[2]=N,n[3]=P;break;case 2:N=b,P=o+w*T,n[2]=N,n[3]=P;break;case 3:P=_,N=s+x/T,n[2]=N,n[3]=P;break;case 4:N=y,P=o+-w*T,n[2]=N,n[3]=P}}return!1},i.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},i.getIntersection=function(e,t,n,i){if(null==i)return this.getIntersection2(e,t,n);var s,o,a,l,c,u,h,d=e.x,p=e.y,f=t.x,g=t.y,m=n.x,v=n.y,y=i.x,_=i.y;return 0==(h=(s=g-p)*(l=m-y)-(o=_-v)*(a=d-f))?null:new r((a*(u=y*v-m*_)-l*(c=f*p-d*g))/h,(o*c-s*u)/h)},i.angleOfVector=function(e,t,n,r){var i=void 0;return e!==n?(i=Math.atan((r-t)/(n-e)),n<e?i+=Math.PI:r<t&&(i+=this.TWO_PI)):i=r<t?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(e,t,n,r){var i=e.x,s=e.y,o=t.x,a=t.y,l=n.x,c=n.y,u=r.x,h=r.y,d=(o-i)*(h-c)-(u-l)*(a-s);if(0===d)return!1;var p=((h-c)*(u-i)+(l-u)*(h-s))/d,f=((s-a)*(u-i)+(o-i)*(h-s))/d;return 0<p&&p<1&&0<f&&f<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},function(e,t,n){"use strict";function r(){}r.sign=function(e){return e>0?1:e<0?-1:0},r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=r},function(e,t,n){"use strict";function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return{value:e,next:null,prev:null}},s=function(e,t,n,r){return null!==e?e.next=t:r.head=t,null!==n?n.prev=t:r.tail=t,t.prev=e,t.next=n,r.length++,t},o=function(e,t){var n=e.prev,r=e.next;return null!==n?n.next=r:t.head=r,null!==r?r.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e},a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach(function(e){return n.push(e)})}return r(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return s(t.prev,i(e),t,this)}},{key:"insertAfter",value:function(e,t){return s(t,i(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return s(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return s(t,e,t.next,this)}},{key:"push",value:function(e){return s(this.tail,i(e),null,this)}},{key:"unshift",value:function(e){return s(null,i(e),this.head,this)}},{key:"remove",value:function(e){return o(e,this)}},{key:"pop",value:function(){return o(this.tail,this).value}},{key:"popNode",value:function(){return o(this.tail,this)}},{key:"shift",value:function(){return o(this.head,this).value}},{key:"shiftNode",value:function(){return o(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,n=this.head;t<e;)n=n.next,t++;return n.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var n=1,r=this.head;n<e;)r=r.next,n++;r.value=t}}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t,n){this.x=null,this.y=null,null==e&&null==t&&null==n?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==n?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==n&&(n=e,this.x=n.x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(e,t,n){"Point"==e.constructor.name&&null==t&&null==n?(n=e,this.setLocation(n.x,n.y)):"number"==typeof e&&"number"==typeof t&&null==n&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},r.prototype.move=function(e,t){this.x=e,this.y=t},r.prototype.translate=function(e,t){this.x+=e,this.y+=t},r.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=n&&null!=r&&(this.x=e,this.y=t,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(e){this.x=e},r.prototype.getY=function(){return this.y},r.prototype.setY=function(e){this.y=e},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(e){return!(this.getRight()<e.x||this.getBottom()<e.y||e.getRight()<this.x||e.getBottom()<this.y)},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(){}i.lastID=0,i.createID=function(e){return i.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=i.getString(),i.lastID++),e.uniqueID)},i.getString=function(e){return null==e&&(e=i.lastID),"Object#"+e},i.isPrimitive=function(e){var t=void 0===e?"undefined":r(e);return null==e||"object"!=t&&"function"!=t},e.exports=i},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),s=n(7),o=n(3),a=n(1),l=n(6),c=n(5),u=n(17),h=n(29);function d(e){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}d.RANDOM_SEED=1,d.prototype=Object.create(h.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var e=new s(this);return this.graphManager=e,e},d.prototype.newGraph=function(e){return new l(null,this.graphManager,e)},d.prototype.newNode=function(e){return new o(this.graphManager,e)},d.prototype.newEdge=function(e){return new a(null,null,e)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var n=this.graphManager.getRoot().getNodes();for(t=0;t<n.length;t++)n[t];this.update(this.graphManager.getRoot())}},d.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof o){var t=e;if(null!=t.getChild())for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof a){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}else if(e instanceof l){var s=e;null!=s.vGraphObject&&s.vGraphObject.update(s)}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(e){if(null==e)this.transform(new c(0,0));else{var t=new u,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(n.x),t.setDeviceOrgY(n.y);for(var r=this.getAllNodes(),i=0;i<r.length;i++)r[i].transform(t)}}},d.prototype.positionNodesRandomly=function(e){if(null==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,r=e.getNodes(),i=0;i<r.length;i++)null==(n=(t=r[i]).getChild())||0==n.getNodes().length?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},d.prototype.getFlatForest=function(){for(var e=[],t=!0,n=this.graphManager.getRoot().getNodes(),i=!0,s=0;s<n.length;s++)null!=n[s].getChild()&&(i=!1);if(!i)return e;var o=new Set,a=[],l=new Map,c=[];for(c=c.concat(n);c.length>0&&t;){for(a.push(c[0]);a.length>0&&t;){var u=a[0];a.splice(0,1),o.add(u);var h=u.getEdges();for(s=0;s<h.length;s++){var d=h[s].getOtherEnd(u);if(l.get(u)!=d){if(o.has(d)){t=!1;break}a.push(d),l.set(d,u)}}}if(t){var p=[].concat(r(o));for(e.push(p),s=0;s<p.length;s++){var f=p[s],g=c.indexOf(f);g>-1&&c.splice(g,1)}o=new Set,l=new Map}else e=[]}return e},d.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],n=e.source,r=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var s=this.newNode(null);s.setRect(new Point(0,0),new Dimension(1,1)),r.add(s);var o=this.newEdge(null);this.graphManager.add(o,n,s),t.add(s),n=s}return o=this.newEdge(null),this.graphManager.add(o,n,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):r.remove(e),t},d.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(r(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var n=e[t];if(n.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(n),s=0;s<i.length;s++){var o=i[s],a=new c(o.getCenterX(),o.getCenterY()),l=n.bendpoints.get(s);l.x=a.x,l.y=a.y,o.getOwner().remove(o)}this.graphManager.add(n,n.source,n.target)}}},d.transform=function(e,t,n,r){if(null!=n&&null!=r){var i=t;return e<=50?i-=(t-t/n)/50*(50-e):i+=(t*r-t)/50*(e-50),i}var s,o;return e<=50?(s=9*t/500,o=t/10):(s=9*t/50,o=-8*t),s*e+o},d.findCenterOfTree=function(e){var t=[];t=t.concat(e);var n=[],r=new Map,i=!1,s=null;1!=t.length&&2!=t.length||(i=!0,s=t[0]);for(var o=0;o<t.length;o++){var a=(u=t[o]).getNeighborsList().size;r.set(u,u.getNeighborsList().size),1==a&&n.push(u)}var l=[];for(l=l.concat(n);!i;){var c=[];for(c=c.concat(l),l=[],o=0;o<t.length;o++){var u=t[o],h=t.indexOf(u);h>=0&&t.splice(h,1),u.getNeighborsList().forEach(function(e){if(n.indexOf(e)<0){var t=r.get(e)-1;1==t&&l.push(e),r.set(e,t)}})}n=n.concat(l),1!=t.length&&2!=t.length||(i=!0,s=t[0])}return s},d.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=d},function(e,t,n){"use strict";function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return r.x=1e4*Math.sin(r.seed++),r.x-Math.floor(r.x)},e.exports=r},function(e,t,n){"use strict";var r=n(5);function i(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(e){this.lworldExtX=e},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(e){this.lworldExtY=e},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},i.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return 0!=n&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},i.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return 0!=n&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},i.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return 0!=n&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},i.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return 0!=n&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},i.prototype.inverseTransformPoint=function(e){return new r(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=i},function(e,t,n){"use strict";var r=n(15),i=n(4),s=n(0),o=n(8),a=n(9);function l(){r.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var c in l.prototype=Object.create(r.prototype),r)l[c]=r[c];l.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var e,t,n,r,o,a,l,c=this.getGraphManager().getAllEdges(),u=0;u<c.length;u++)t=(e=c[u]).idealLength,e.isInterGraph&&(r=e.getSource(),o=e.getTarget(),a=e.getSourceInLca().getEstimatedSize(),l=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=a+l-2*s.SIMPLE_NODE_SIZE),n=e.getLca().getInclusionTreeDepth(),e.idealLength+=t*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(r.getInclusionTreeDepth()+o.getInclusionTreeDepth()-2*n))},l.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),n=0;n<t.length;n++)e=t[n],this.calcSpringForce(e,e.idealLength)},l.prototype.calcRepulsionForces=function(){var e,t,n,r,s,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&o&&this.updateGrid(),s=new Set,e=0;e<l.length;e++)n=l[e],this.calculateRepulsionForceOfANode(n,s,o,a),s.add(n);else for(e=0;e<l.length;e++)for(n=l[e],t=e+1;t<l.length;t++)r=l[t],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},l.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),n=0;n<t.length;n++)e=t[n],this.calcGravitationalForce(e)},l.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},l.prototype.calcSpringForce=function(e,t){var n,r,i,s,o=e.getSource(),a=e.getTarget();if(this.uniformLeafNodeSizes&&null==o.getChild()&&null==a.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(n=e.getLength())&&(i=(r=e.edgeElasticity*(n-t))*(e.lengthX/n),s=r*(e.lengthY/n),o.springForceX+=i,o.springForceY+=s,a.springForceX-=i,a.springForceY-=s)},l.prototype.calcRepulsionForce=function(e,t){var n,r,s,l,c,u,h,d=e.getRect(),p=t.getRect(),f=new Array(2),g=new Array(4);if(d.intersects(p)){o.calcSeparationAmount(d,p,f,i.DEFAULT_EDGE_LENGTH/2),u=2*f[0],h=2*f[1];var m=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=m*u,e.repulsionForceY-=m*h,t.repulsionForceX+=m*u,t.repulsionForceY+=m*h}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(n=p.getCenterX()-d.getCenterX(),r=p.getCenterY()-d.getCenterY()):(o.getIntersection(d,p,g),n=g[2]-g[0],r=g[3]-g[1]),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=a.sign(n)*i.MIN_REPULSION_DIST),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=a.sign(r)*i.MIN_REPULSION_DIST),s=n*n+r*r,l=Math.sqrt(s),u=(c=(e.nodeRepulsion/2+t.nodeRepulsion/2)*e.noOfChildren*t.noOfChildren/s)*n/l,h=c*r/l,e.repulsionForceX-=u,e.repulsionForceY-=h,t.repulsionForceX+=u,t.repulsionForceY+=h},l.prototype.calcGravitationalForce=function(e){var t,n,r,i,s,o,a,l;n=((t=e.getOwner()).getRight()+t.getLeft())/2,r=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-n,s=e.getCenterY()-r,o=Math.abs(i)+e.getWidth()/2,a=Math.abs(s)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(o>(l=t.getEstimatedSize()*this.gravityRangeFactor)||a>l)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*s):(o>(l=t.getEstimatedSize()*this.compoundGravityRangeFactor)||a>l)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*s*this.compoundGravityConstant)},l.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)(e=t[n]).noOfChildren=e.getNoOfChildren()},l.prototype.calcGrid=function(e){var t,n;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);for(i=0;i<t;i++)for(var s=0;s<n;s++)r[i][s]=new Array;return r},l.prototype.addNodeToGrid=function(e,t,n){var r,i,s,o;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),s=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange));for(var a=r;a<=i;a++)for(var l=s;l<=o;l++)this.grid[a][l].push(e),e.setGridCoordinates(r,i,s,o)},l.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(e,t,n,r){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var s,o=new Set;e.surrounding=new Array;for(var a=this.grid,l=e.startX-1;l<e.finishX+2;l++)for(var c=e.startY-1;c<e.finishY+2;c++)if(!(l<0||c<0||l>=a.length||c>=a[0].length))for(var u=0;u<a[l][c].length;u++)if(s=a[l][c][u],e.getOwner()==s.getOwner()&&e!=s&&!t.has(s)&&!o.has(s)){var h=Math.abs(e.getCenterX()-s.getCenterX())-(e.getWidth()/2+s.getWidth()/2),d=Math.abs(e.getCenterY()-s.getCenterY())-(e.getHeight()/2+s.getHeight()/2);h<=this.repulsionRange&&d<=this.repulsionRange&&o.add(s)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o))}for(l=0;l<e.surrounding.length;l++)this.calcRepulsionForce(e,e.surrounding[l])},l.prototype.calcRepulsionRange=function(){return 0},e.exports=l},function(e,t,n){"use strict";var r=n(1),i=n(4);function s(e,t,n){r.call(this,e,t,n),this.idealLength=i.DEFAULT_EDGE_LENGTH,this.edgeElasticity=i.DEFAULT_SPRING_STRENGTH}for(var o in s.prototype=Object.create(r.prototype),r)s[o]=r[o];e.exports=s},function(e,t,n){"use strict";var r=n(3),i=n(4);function s(e,t,n,s){r.call(this,e,t,n,s),this.nodeRepulsion=i.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var o in s.prototype=Object.create(r.prototype),r)s[o]=r[o];s.prototype.setGridCoordinates=function(e,t,n,r){this.startX=e,this.finishX=t,this.startY=n,this.finishY=r},e.exports=s},function(e,t,n){"use strict";function r(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},e.exports=r},function(e,t,n){"use strict";var r=n(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(e,t){var n=r.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},i.prototype.contains=function(e){return r.createID(e),null!=this.map[e]},i.prototype.get=function(e){var t=r.createID(e);return this.map[t]},i.prototype.keySet=function(){return this.keys},e.exports=i},function(e,t,n){"use strict";var r=n(14);function i(){this.set={}}i.prototype.add=function(e){var t=r.createID(e);this.contains(t)||(this.set[t]=e)},i.prototype.remove=function(e){delete this.set[r.createID(e)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(e){return this.set[r.createID(e)]==e},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),n=t.length,r=0;r<n;r++)e.push(this.set[t[r]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];this.add(r)}},e.exports=i},function(e,t,n){"use strict";function r(){}r.multMat=function(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var i=0;i<t[0].length;i++){n[r][i]=0;for(var s=0;s<e[0].length;s++)n[r][i]+=e[r][s]*t[s][i]}}return n},r.transpose=function(e){for(var t=[],n=0;n<e[0].length;n++){t[n]=[];for(var r=0;r<e.length;r++)t[n][r]=e[r][n]}return t},r.multCons=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]*t;return n},r.minusOp=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]-t[r];return n},r.dotProduct=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n},r.mag=function(e){return Math.sqrt(this.dotProduct(e,e))},r.normalize=function(e){for(var t=[],n=this.mag(e),r=0;r<e.length;r++)t[r]=e[r]/n;return t},r.multGamma=function(e){for(var t=[],n=0,r=0;r<e.length;r++)n+=e[r];n*=-1/e.length;for(var i=0;i<e.length;i++)t[i]=n+e[i];return t},r.multL=function(e,t,n){for(var r=[],i=[],s=[],o=0;o<t[0].length;o++){for(var a=0,l=0;l<t.length;l++)a+=-.5*t[l][o]*e[l];i[o]=a}for(var c=0;c<n.length;c++){for(var u=0,h=0;h<n.length;h++)u+=n[c][h]*i[h];s[c]=u}for(var d=0;d<t.length;d++){for(var p=0,f=0;f<t[0].length;f++)p+=t[d][f]*s[f];r[d]=p}return r},e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===n&&void 0===n||(this.compareFunction=this._defaultCompareFunction);var r=void 0;r=t instanceof i?t.size():t.length,this._quicksort(t,0,r-1)}return r(e,[{key:"_quicksort",value:function(e,t,n){if(t<n){var r=this._partition(e,t,n);this._quicksort(e,t,r),this._quicksort(e,r+1,n)}}},{key:"_partition",value:function(e,t,n){for(var r=this._get(e,t),i=t,s=n;;){for(;this.compareFunction(r,this._get(e,s));)s--;for(;this.compareFunction(this._get(e,i),r);)i++;if(!(i<s))return s;this._swap(e,i,s),i++,s--}}},{key:"_get",value:function(e,t){return e instanceof i?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,n){e instanceof i?e.set_object_at(t,n):e[t]=n}},{key:"_swap",value:function(e,t,n){var r=this._get(e,t);this._set(e,t,this._get(e,n)),this._set(e,n,r)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(){}r.svd=function(e){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=e.length,this.n=e[0].length;var t=Math.min(this.m,this.n);this.s=function(e){for(var t=[];e-- >0;)t.push(0);return t}(Math.min(this.m+1,this.n)),this.U=function e(t){if(0==t.length)return 0;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([this.m,t]),this.V=function(e){return function e(t){if(0==t.length)return 0;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}(e)}([this.n,this.n]);for(var n,i,s=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.n),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.m),a=Math.min(this.m-1,this.n),l=Math.max(0,Math.min(this.n-2,this.m)),c=0;c<Math.max(a,l);c++){if(c<a){this.s[c]=0;for(var u=c;u<this.m;u++)this.s[c]=r.hypot(this.s[c],e[u][c]);if(0!==this.s[c]){e[c][c]<0&&(this.s[c]=-this.s[c]);for(var h=c;h<this.m;h++)e[h][c]/=this.s[c];e[c][c]+=1}this.s[c]=-this.s[c]}for(var d=c+1;d<this.n;d++){if(n=c<a,i=0!==this.s[c],n&&i){for(var p=0,f=c;f<this.m;f++)p+=e[f][c]*e[f][d];p=-p/e[c][c];for(var g=c;g<this.m;g++)e[g][d]+=p*e[g][c]}s[d]=e[c][d]}if(function(e,t){return t}(0,c<a))for(var m=c;m<this.m;m++)this.U[m][c]=e[m][c];if(c<l){s[c]=0;for(var v=c+1;v<this.n;v++)s[c]=r.hypot(s[c],s[v]);if(0!==s[c]){s[c+1]<0&&(s[c]=-s[c]);for(var y=c+1;y<this.n;y++)s[y]/=s[c];s[c+1]+=1}if(s[c]=-s[c],function(e,t){return e&&t}(c+1<this.m,0!==s[c])){for(var _=c+1;_<this.m;_++)o[_]=0;for(var b=c+1;b<this.n;b++)for(var w=c+1;w<this.m;w++)o[w]+=s[b]*e[w][b];for(var x=c+1;x<this.n;x++)for(var E=-s[x]/s[c+1],C=c+1;C<this.m;C++)e[C][x]+=E*o[C]}for(var S=c+1;S<this.n;S++)this.V[S][c]=s[S]}}var k=Math.min(this.n,this.m+1);a<this.n&&(this.s[a]=e[a][a]),this.m<k&&(this.s[k-1]=0),l+1<k&&(s[l]=e[l][k-1]),s[k-1]=0;for(var T=a;T<t;T++){for(var A=0;A<this.m;A++)this.U[A][T]=0;this.U[T][T]=1}for(var D=a-1;D>=0;D--)if(0!==this.s[D]){for(var O=D+1;O<t;O++){for(var I=0,N=D;N<this.m;N++)I+=this.U[N][D]*this.U[N][O];I=-I/this.U[D][D];for(var P=D;P<this.m;P++)this.U[P][O]+=I*this.U[P][D]}for(var M=D;M<this.m;M++)this.U[M][D]=-this.U[M][D];this.U[D][D]=1+this.U[D][D];for(var R=0;R<D-1;R++)this.U[R][D]=0}else{for(var L=0;L<this.m;L++)this.U[L][D]=0;this.U[D][D]=1}for(var F=this.n-1;F>=0;F--){if(function(e,t){return e&&t}(F<l,0!==s[F]))for(var j=F+1;j<t;j++){for(var B=0,V=F+1;V<this.n;V++)B+=this.V[V][F]*this.V[V][j];B=-B/this.V[F+1][F];for(var z=F+1;z<this.n;z++)this.V[z][j]+=B*this.V[z][F]}for(var U=0;U<this.n;U++)this.V[U][F]=0;this.V[F][F]=1}for(var H=k-1,$=Math.pow(2,-52),q=Math.pow(2,-966);k>0;){var G=void 0,W=void 0;for(G=k-2;G>=-1&&-1!==G;G--)if(Math.abs(s[G])<=q+$*(Math.abs(this.s[G])+Math.abs(this.s[G+1]))){s[G]=0;break}if(G===k-2)W=4;else{var X=void 0;for(X=k-1;X>=G&&X!==G;X--){var Y=(X!==k?Math.abs(s[X]):0)+(X!==G+1?Math.abs(s[X-1]):0);if(Math.abs(this.s[X])<=q+$*Y){this.s[X]=0;break}}X===G?W=3:X===k-1?W=1:(W=2,G=X)}switch(G++,W){case 1:var K=s[k-2];s[k-2]=0;for(var Z=k-2;Z>=G;Z--){var Q=r.hypot(this.s[Z],K),J=this.s[Z]/Q,ee=K/Q;this.s[Z]=Q,Z!==G&&(K=-ee*s[Z-1],s[Z-1]=J*s[Z-1]);for(var te=0;te<this.n;te++)Q=J*this.V[te][Z]+ee*this.V[te][k-1],this.V[te][k-1]=-ee*this.V[te][Z]+J*this.V[te][k-1],this.V[te][Z]=Q}break;case 2:var ne=s[G-1];s[G-1]=0;for(var re=G;re<k;re++){var ie=r.hypot(this.s[re],ne),se=this.s[re]/ie,oe=ne/ie;this.s[re]=ie,ne=-oe*s[re],s[re]=se*s[re];for(var ae=0;ae<this.m;ae++)ie=se*this.U[ae][re]+oe*this.U[ae][G-1],this.U[ae][G-1]=-oe*this.U[ae][re]+se*this.U[ae][G-1],this.U[ae][re]=ie}break;case 3:var le=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[k-1]),Math.abs(this.s[k-2])),Math.abs(s[k-2])),Math.abs(this.s[G])),Math.abs(s[G])),ce=this.s[k-1]/le,ue=this.s[k-2]/le,he=s[k-2]/le,de=this.s[G]/le,pe=s[G]/le,fe=((ue+ce)*(ue-ce)+he*he)/2,ge=ce*he*(ce*he),me=0;(function(e,t){return e||t})(0!==fe,0!==ge)&&(me=Math.sqrt(fe*fe+ge),fe<0&&(me=-me),me=ge/(fe+me));for(var ve=(de+ce)*(de-ce)+me,ye=de*pe,_e=G;_e<k-1;_e++){var be=r.hypot(ve,ye),we=ve/be,xe=ye/be;_e!==G&&(s[_e-1]=be),ve=we*this.s[_e]+xe*s[_e],s[_e]=we*s[_e]-xe*this.s[_e],ye=xe*this.s[_e+1],this.s[_e+1]=we*this.s[_e+1];for(var Ee=0;Ee<this.n;Ee++)be=we*this.V[Ee][_e]+xe*this.V[Ee][_e+1],this.V[Ee][_e+1]=-xe*this.V[Ee][_e]+we*this.V[Ee][_e+1],this.V[Ee][_e]=be;if(we=ve/(be=r.hypot(ve,ye)),xe=ye/be,this.s[_e]=be,ve=we*s[_e]+xe*this.s[_e+1],this.s[_e+1]=-xe*s[_e]+we*this.s[_e+1],ye=xe*s[_e+1],s[_e+1]=we*s[_e+1],_e<this.m-1)for(var Ce=0;Ce<this.m;Ce++)be=we*this.U[Ce][_e]+xe*this.U[Ce][_e+1],this.U[Ce][_e+1]=-xe*this.U[Ce][_e]+we*this.U[Ce][_e+1],this.U[Ce][_e]=be}s[k-2]=ve;break;case 4:if(this.s[G]<=0){this.s[G]=this.s[G]<0?-this.s[G]:0;for(var Se=0;Se<=H;Se++)this.V[Se][G]=-this.V[Se][G]}for(;G<H&&!(this.s[G]>=this.s[G+1]);){var ke=this.s[G];if(this.s[G]=this.s[G+1],this.s[G+1]=ke,G<this.n-1)for(var Te=0;Te<this.n;Te++)ke=this.V[Te][G+1],this.V[Te][G+1]=this.V[Te][G],this.V[Te][G]=ke;if(G<this.m-1)for(var Ae=0;Ae<this.m;Ae++)ke=this.U[Ae][G+1],this.U[Ae][G+1]=this.U[Ae][G],this.U[Ae][G]=ke;G++}k--}}return{U:this.U,V:this.V,S:this.s}},r.hypot=function(e,t){var n=void 0;return Math.abs(e)>Math.abs(t)?(n=t/e,n=Math.abs(e)*Math.sqrt(1+n*n)):0!=t?(n=e/t,n=Math.abs(t)*Math.sqrt(1+n*n)):n=0,n},e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i(this,e),this.sequence1=t,this.sequence2=n,this.match_score=r,this.mismatch_penalty=s,this.gap_penalty=o,this.iMax=t.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var a=0;a<this.iMax;a++){this.grid[a]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.grid[a][l]=0}this.tracebackGrid=new Array(this.iMax);for(var c=0;c<this.iMax;c++){this.tracebackGrid[c]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.tracebackGrid[c][u]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return r(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var r=1;r<this.jMax;r++){var i=[this.sequence1[n-1]===this.sequence2[r-1]?this.grid[n-1][r-1]+this.match_score:this.grid[n-1][r-1]+this.mismatch_penalty,this.grid[n-1][r]+this.gap_penalty,this.grid[n][r-1]+this.gap_penalty],s=this.arrayAllMaxIndexes(i);this.grid[n][r]=i[s[0]],this.tracebackGrid[n][r]=[s.includes(0),s.includes(1),s.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],n=this.tracebackGrid[t.pos[0]][t.pos[1]];n[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),n[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),n[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var n=[],r=-1;-1!==(r=e.indexOf(t,r+1));)n.push(r);return n}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=function(){};r.FDLayout=n(18),r.FDLayoutConstants=n(4),r.FDLayoutEdge=n(19),r.FDLayoutNode=n(20),r.DimensionD=n(21),r.HashMap=n(22),r.HashSet=n(23),r.IGeometry=n(8),r.IMath=n(9),r.Integer=n(10),r.Point=n(12),r.PointD=n(5),r.RandomSeed=n(16),r.RectangleD=n(13),r.Transform=n(17),r.UniqueIDGeneretor=n(14),r.Quicksort=n(25),r.LinkedList=n(11),r.LGraphObject=n(2),r.LGraph=n(6),r.LEdge=n(1),r.LGraphManager=n(7),r.LNode=n(3),r.Layout=n(15),r.LayoutConstants=n(0),r.NeedlemanWunsch=n(27),r.Matrix=n(24),r.SVD=n(26),e.exports=r},function(e,t,n){"use strict";function r(){this.listeners=[]}var i=r.prototype;i.addListener=function(e,t){this.listeners.push({event:e,callback:t})},i.removeListener=function(e,t){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===e&&r.callback===t&&this.listeners.splice(n,1)}},i.emit=function(e,t){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];e===r.event&&r.callback(t)}},e.exports=r}])},e.exports=r()},A90E:function(e,t,n){var r=n("6sVZ"),i=n("V6Ve"),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},AE40:function(e,t,n){var r=n("dunj"),i=n("jSBL"),s=n("zZ0H");e.exports=function(e){return e&&e.length?r(e,s,i):void 0}},AP2z:function(e,t,n){var r=n("nmnc"),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[a]=n:delete e[a]),i}},Ac7g:function(e,t,n){e.exports={Graph:n("lnHP"),version:n("w802")}},AevD:function(e,t,n){var r=n("M96O");function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(e){return e.key})},i.prototype.has=function(e){return r.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var i=this._arr,s=i.length;return n[e]=s,i.push({key:e,priority:t}),this._decrease(s),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],s=n[t];n[e]=s,n[t]=i,r[s.key]=e,r[i.key]=t}},B8du:function(e,t){e.exports=function(){return!1}},BiGR:function(e,t,n){var r=n("nmnc"),i=n("03A+"),s=n("Z0cm"),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||i(e)||!!(o&&e&&e[o])}},BkRI:function(e,t,n){var r=n("OBhP");e.exports=function(e){return r(e,5)}},C4tZ:function(e,t,n){"use strict";var r=n("6Ekc").longestPath,i=n("GEWS"),s=n("dOj1");e.exports=function(e){switch(e.graph().ranker){case"network-simplex":a(e);break;case"tight-tree":!function(e){r(e),i(e)}(e);break;case"longest-path":o(e);break;default:a(e)}};var o=r;function a(e){s(e)}},CH3K:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},CMye:function(e,t,n){var r=n("GoyQ");e.exports=function(e){return e==e&&!r(e)}},CZoQ:function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},Cfvw:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO");var a=n("jZKg"),l=n("Lhse");var c=n("c2HN"),u=n("I55L");function h(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new r.a(n=>{const r=new s.a;return r.add(t.schedule(()=>{const i=e[o.a]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a(n=>{const r=new s.a;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if(Object(u.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[l.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[l.a](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function d(e,t){return t?h(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},Cwc5:function(e,t,n){var r=n("NKxu"),i=n("Npjl");e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},D0XW:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},D1Mh:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).layoutBase.LinkedList,i={getTopMostNodes:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;return e.filter(function(e,n){"number"==typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0})},connectComponents:function(e,t,n,i){var s=new r,o=new Set,a=[],l=void 0,c=void 0,u=void 0,h=!1,d=1,p=[],f=[],g=function(){var r=e.collection();f.push(r);var i=n[0],g=e.collection();g.merge(i).merge(i.descendants().intersection(t)),a.push(i),g.forEach(function(e){s.push(e),o.add(e),r.merge(e)});for(var m=function(){i=s.shift();var c=e.collection();i.neighborhood().nodes().forEach(function(e){t.intersection(i.edgesWith(e)).length>0&&c.merge(e)});for(var u=0;u<c.length;u++){var h=c[u];null==(l=n.intersection(h.union(h.ancestors())))||o.has(l[0])||l.union(l.descendants()).forEach(function(e){s.push(e),o.add(e),r.merge(e),n.has(e)&&a.push(e)})}};0!=s.length;)m();if(r.forEach(function(e){t.intersection(e.connectedEdges()).forEach(function(e){r.has(e.source())&&r.has(e.target())&&r.merge(e)})}),a.length==n.length&&(h=!0),!h||h&&d>1){c=a[0],u=c.connectedEdges().length,a.forEach(function(e){e.connectedEdges().length<u&&(u=e.connectedEdges().length,c=e)}),p.push(c.id());var v=e.collection();v.merge(a[0]),a.forEach(function(e){v.merge(e)}),a=[],n=n.difference(v),d++}};do{g()}while(!h);return i&&p.length>0&&i.set("dummy"+(i.size+1),p),f},calcBoundingBox:function(e,t,n,r){for(var i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,l=void 0,c=void 0,u=void 0,h=void 0,d=e.descendants().not(":parent"),p=d.length,f=0;f<p;f++){var g=d[f];i>(l=t[r.get(g.id())]-g.width()/2)&&(i=l),s<(c=t[r.get(g.id())]+g.width()/2)&&(s=c),o>(u=n[r.get(g.id())]-g.height()/2)&&(o=u),a<(h=n[r.get(g.id())]+g.height()/2)&&(a=h)}var m={};return m.topLeftX=i,m.topLeftY=o,m.width=s-i,m.height=a-o,m}};e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=n(1),o=n(5).spectralLayout,a=n(4).coseLayout,l=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(e){return 4500},idealEdgeLength:function(e){return 50},edgeElasticity:function(e){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i({},l,t)}return r(e,[{key:"run",value:function(){var e=this.options,t=e.cy,n=e.eles,r=[],i=[],l=void 0;(e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint)&&(e.tile=!1,e.packComponents=!1);var c=void 0,u=!1;if(t.layoutUtilities&&e.packComponents&&e.randomize&&((c=t.layoutUtilities("get"))||(c=t.layoutUtilities()),u=!0),n.nodes().length>0){if(u){var h=s.getTopMostNodes(e.eles.nodes());if(l=s.connectComponents(t,e.eles,h),e.randomize&&l.forEach(function(t){e.eles=t,r.push(o(e))}),"default"==e.quality||"proof"==e.quality){var d=t.collection();if(e.tile){var p=new Map,f=0,g={nodeIndexes:p,xCoords:[],yCoords:[]},m=[];if(l.forEach(function(e,t){0==e.edges().length&&(e.nodes().forEach(function(t,n){d.merge(e.nodes()[n]),t.isParent()||(g.nodeIndexes.set(e.nodes()[n].id(),f++),g.xCoords.push(e.nodes()[0].position().x),g.yCoords.push(e.nodes()[0].position().y))}),m.push(t))}),d.length>1){l.push(d),r.push(g);for(var v=m.length-1;v>=0;v--)l.splice(m[v],1),r.splice(m[v],1)}}l.forEach(function(t,n){e.eles=t,i.push(a(e,r[n]))})}if(l.length>1){var y=[];l.forEach(function(t,n){var o=void 0;"draft"==e.quality&&(o=r[n].nodeIndexes);var a={nodes:[],edges:[]},l=void 0;t.nodes().forEach(function(t){if("draft"==e.quality)if(t.isParent()){var c=s.calcBoundingBox(t,r[n].xCoords,r[n].yCoords,o);a.nodes.push({x:c.topLeftX,y:c.topLeftY,width:c.width,height:c.height})}else l=o.get(t.id()),a.nodes.push({x:r[n].xCoords[l]-t.boundingbox().w/2,y:r[n].yCoords[l]-t.boundingbox().h/2,width:t.boundingbox().w,height:t.boundingbox().h});else a.nodes.push({x:i[n][t.id()].getLeft(),y:i[n][t.id()].getTop(),width:i[n][t.id()].getWidth(),height:i[n][t.id()].getHeight()})}),t.edges().forEach(function(t){var l=t.source(),c=t.target();if("draft"==e.quality){var u=o.get(l.id()),h=o.get(c.id()),d=[],p=[];if(l.isParent()){var f=s.calcBoundingBox(l,r[n].xCoords,r[n].yCoords,o);d.push(f.topLeftX+f.width/2),d.push(f.topLeftY+f.height/2)}else d.push(r[n].xCoords[u]),d.push(r[n].yCoords[u]);if(c.isParent()){var g=s.calcBoundingBox(c,r[n].xCoords,r[n].yCoords,o);p.push(g.topLeftX+g.width/2),p.push(g.topLeftY+g.height/2)}else p.push(r[n].xCoords[h]),p.push(r[n].yCoords[h]);a.edges.push({startX:d[0],startY:d[1],endX:p[0],endY:p[1]})}else a.edges.push({startX:i[n][l.id()].getCenterX(),startY:i[n][l.id()].getCenterY(),endX:i[n][c.id()].getCenterX(),endY:i[n][c.id()].getCenterY()})}),y.push(a)});var _=c.packComponents(y).shifts;"draft"==e.quality?r.forEach(function(e,t){var n=e.xCoords.map(function(e){return e+_[t].dx}),r=e.yCoords.map(function(e){return e+_[t].dy});e.xCoords=n,e.yCoords=r}):i.forEach(function(e,t){Object.keys(e).forEach(function(n){var r=e[n];r.setCenter(r.getCenterX()+_[t].dx,r.getCenterY()+_[t].dy)})})}}else{if(e.randomize){var b=o(e);r.push(b)}"default"!=e.quality&&"proof"!=e.quality||i.push(a(e,r[0]))}if(!e.fixedNodeConstraint){var w=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY;if("draft"==e.quality){r.forEach(function(e){e.xCoords.forEach(function(e){e<w&&(w=e),e>x&&(x=e)}),e.yCoords.forEach(function(e){e<E&&(E=e),e>C&&(C=e)})});var S=e.eles.boundingBox(),k=S.x1+S.w/2-(x+w)/2,T=S.y1+S.h/2-(C+E)/2;r.forEach(function(e){e.xCoords=e.xCoords.map(function(e){return e+k}),e.yCoords=e.yCoords.map(function(e){return e+T})})}else{i.forEach(function(e){Object.keys(e).forEach(function(t){var n=e[t];n.getCenterX()<w&&(w=n.getCenterX()),n.getCenterX()>x&&(x=n.getCenterX()),n.getCenterY()<E&&(E=n.getCenterY()),n.getCenterY()>C&&(C=n.getCenterY())})});var A=e.eles.boundingBox(),D=A.x1+A.w/2-(x+w)/2,O=A.y1+A.h/2-(C+E)/2;i.forEach(function(e,t){Object.keys(e).forEach(function(t){var n=e[t];n.setCenter(n.getCenterX()+D,n.getCenterY()+O)})})}}}"default"==e.quality||"proof"==e.quality||e.randomize?(e.eles=n,n.nodes().not(":parent").layoutPositions(this,e,function(t,n){if("default"==e.quality||"proof"==e.quality){"number"==typeof t&&(t=n);var s=void 0,o=t.data("id");return i.forEach(function(e){o in e&&(s={x:e[o].getRect().getCenterX(),y:e[o].getRect().getCenterY()})}),{x:s.x,y:s.y}}var a=void 0;return r.forEach(function(e){var n=e.nodeIndexes.get(t.id());null!=n&&(a={x:e.xCoords[n],y:e.yCoords[n]})}),null==a&&(a={x:t.position("x"),y:t.position("y")}),{x:a.x,y:a.y}})):console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),e}();e.exports=c},function(e,t,n){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e}},function(e,t,n){"use strict";var r=n(1),i=n(0).CoSELayout,s=n(0).CoSENode,o=n(0).layoutBase.PointD,a=n(0).layoutBase.DimensionD,l=n(0).layoutBase.LayoutConstants,c=n(0).layoutBase.FDLayoutConstants,u=n(0).CoSEConstants;e.exports={coseLayout:function(e,t){var n=e.eles,h=n.nodes(),d=n.edges(),p=void 0,f=void 0,g=void 0,m={};e.randomize&&(p=t.nodeIndexes,f=t.xCoords,g=t.yCoords);var v=function(e){return"function"==typeof e},y=function(e,t){return v(e)?e(t):e};null!=e.nestingFactor&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(u.DEFAULT_GRAVITY_STRENGTH=c.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(u.MAX_ITERATIONS=c.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=c.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=c.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),"proof"==e.quality?l.QUALITY=2:l.QUALITY=0,u.NODE_DIMENSIONS_INCLUDE_LABELS=c.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!e.randomize,u.ANIMATE=c.ANIMATE=l.ANIMATE=e.animate,u.TILE=e.tile,u.TILING_PADDING_VERTICAL="function"==typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL="function"==typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal,u.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!0,l.DEFAULT_UNIFORM_LEAF_NODE_SIZES=e.uniformNodeDimensions,"transformed"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,u.ENFORCE_CONSTRAINTS=!1,u.APPLY_LAYOUT=!1),"enforced"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!1),"cose"==e.step&&(u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!1,u.APPLY_LAYOUT=!0),"all"==e.step&&(e.randomize?u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:u.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!0),e.randomize&&!(e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint)?u.TREE_REDUCTION_ON_INCREMENTAL=!0:u.TREE_REDUCTION_ON_INCREMENTAL=!1;var _=new i,b=_.newGraphManager();return function e(t,n,i,l){for(var c=n.length,u=0;u<c;u++){var h=n[u],d=h.children(),v=void 0,_=h.layoutDimensions({nodeDimensionsIncludeLabels:l.nodeDimensionsIncludeLabels});if(null!=h.outerWidth()&&null!=h.outerHeight())if(l.randomize)if(h.isParent()){var b=r.calcBoundingBox(h,f,g,p);v=t.add(new s(i.graphManager,new o(b.topLeftX,b.topLeftY),new a(b.width,b.height)))}else v=t.add(new s(i.graphManager,new o(f[p.get(h.id())]-_.w/2,g[p.get(h.id())]-_.h/2),new a(parseFloat(_.w),parseFloat(_.h))));else v=t.add(new s(i.graphManager,new o(h.position("x")-_.w/2,h.position("y")-_.h/2),new a(parseFloat(_.w),parseFloat(_.h))));else v=t.add(new s(this.graphManager));v.id=h.data("id"),v.nodeRepulsion=y(l.nodeRepulsion,h),v.paddingLeft=parseInt(h.css("padding")),v.paddingTop=parseInt(h.css("padding")),v.paddingRight=parseInt(h.css("padding")),v.paddingBottom=parseInt(h.css("padding")),l.nodeDimensionsIncludeLabels&&h.isParent()&&(v.labelWidth=h.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,v.labelHeight=h.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,v.labelPosVertical=h.css("text-valign"),v.labelPosHorizontal=h.css("text-halign")),m[h.data("id")]=v,isNaN(v.rect.x)&&(v.rect.x=0),isNaN(v.rect.y)&&(v.rect.y=0),null!=d&&d.length>0&&e(i.getGraphManager().add(i.newGraph(),v),d,i,l)}}(b.addRoot(),r.getTopMostNodes(h),_,e),function(t,n,r){for(var i=0,s=0,o=0;o<r.length;o++){var a=r[o],l=m[a.data("source")],h=m[a.data("target")];if(l!==h&&0==l.getEdgesBetween(h).length){var d=n.add(t.newEdge(),l,h);d.id=a.id(),d.idealLength=y(e.idealEdgeLength,a),d.edgeElasticity=y(e.edgeElasticity,a),i+=d.idealLength,s++}}null!=e.idealEdgeLength&&(r.length>0?u.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=i/s:v(e.idealEdgeLength)?u.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=50:u.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=e.idealEdgeLength,u.MIN_REPULSION_DIST=c.MIN_REPULSION_DIST=c.DEFAULT_EDGE_LENGTH/10,u.DEFAULT_RADIAL_SEPARATION=c.DEFAULT_EDGE_LENGTH)}(_,b,d),function(e,t){t.fixedNodeConstraint&&(e.constraints.fixedNodeConstraint=t.fixedNodeConstraint),t.alignmentConstraint&&(e.constraints.alignmentConstraint=t.alignmentConstraint),t.relativePlacementConstraint&&(e.constraints.relativePlacementConstraint=t.relativePlacementConstraint)}(_,e),_.runLayout(),m}}},function(e,t,n){"use strict";var r=n(1),i=n(0).layoutBase.Matrix,s=n(0).layoutBase.SVD;e.exports={spectralLayout:function(e){var t=e.cy,n=e.eles,o=n.nodes(),a=n.nodes(":parent"),l=new Map,c=new Map,u=new Map,h=[],d=[],p=[],f=[],g=[],m=[],v=[],y=[],_=void 0,b=1e8,w=1e-9,x=e.piTol,E=e.samplingType,C=e.nodeSeparation,S=void 0,k=function(e,t,n){for(var r=[],i=0,s=0,o=0,a=void 0,l=[],u=0,d=1,p=0;p<_;p++)l[p]=b;for(r[s]=e,l[e]=0;s>=i;){o=r[i++];for(var f=h[o],v=0;v<f.length;v++)l[a=c.get(f[v])]==b&&(l[a]=l[o]+1,r[++s]=a);m[o][t]=l[o]*C}if(n){for(var y=0;y<_;y++)m[y][t]<g[y]&&(g[y]=m[y][t]);for(var w=0;w<_;w++)g[w]>u&&(u=g[w],d=w)}return d};r.connectComponents(t,n,r.getTopMostNodes(o),l),a.forEach(function(e){r.connectComponents(t,n,r.getTopMostNodes(e.descendants().intersection(n)),l)});for(var T=0,A=0;A<o.length;A++)o[A].isParent()||c.set(o[A].id(),T++);var D=!0,O=!1,I=void 0;try{for(var N,P=l.keys()[Symbol.iterator]();!(D=(N=P.next()).done);D=!0){var M=N.value;c.set(M,T++)}}catch(K){O=!0,I=K}finally{try{!D&&P.return&&P.return()}finally{if(O)throw I}}for(var R=0;R<c.size;R++)h[R]=[];a.forEach(function(e){for(var t=e.children();0==t.nodes(":childless").length;)t=t.nodes()[0].children();var n=0,r=t.nodes(":childless")[0].connectedEdges().length;t.nodes(":childless").forEach(function(e,t){e.connectedEdges().length<r&&(r=e.connectedEdges().length,n=t)}),u.set(e.id(),t.nodes(":childless")[n].id())}),o.forEach(function(e){var t=void 0;t=e.isParent()?c.get(u.get(e.id())):c.get(e.id()),e.neighborhood().nodes().forEach(function(r){n.intersection(e.edgesWith(r)).length>0&&(r.isParent()?h[t].push(u.get(r.id())):h[t].push(r.id()))})});var L=function(e){var n=c.get(e),r=void 0;l.get(e).forEach(function(i){r=t.getElementById(i).isParent()?u.get(i):i,h[n].push(r),h[c.get(r)].push(e)})},F=!0,j=!1,B=void 0;try{for(var V,z=l.keys()[Symbol.iterator]();!(F=(V=z.next()).done);F=!0)L(V.value)}catch(K){j=!0,B=K}finally{try{!F&&z.return&&z.return()}finally{if(j)throw B}}var U=void 0;if((_=c.size)>2){S=_<e.sampleSize?_:e.sampleSize;for(var H=0;H<_;H++)m[H]=[];for(var $=0;$<S;$++)y[$]=[];return"draft"==e.quality||"all"==e.step?(function(e){var t=void 0;if(e){t=Math.floor(Math.random()*_);for(var n=0;n<_;n++)g[n]=b;for(var r=0;r<S;r++)f[r]=t,t=k(t,r,e)}else{!function(){for(var e=0,t=0,n=!1;t<S;){e=Math.floor(Math.random()*_),n=!1;for(var r=0;r<t;r++)if(f[r]==e){n=!0;break}n||(f[t]=e,t++)}}();for(var i=0;i<S;i++)k(f[i],i,e)}for(var s=0;s<_;s++)for(var o=0;o<S;o++)m[s][o]*=m[s][o];for(var a=0;a<S;a++)v[a]=[];for(var l=0;l<S;l++)for(var c=0;c<S;c++)v[l][c]=m[f[c]][l]}(E),function(){for(var e=s.svd(v),t=e.S,n=e.U,r=e.V,o=t[0]*t[0]*t[0],a=[],l=0;l<S;l++){a[l]=[];for(var c=0;c<S;c++)a[l][c]=0,l==c&&(a[l][c]=t[l]/(t[l]*t[l]+o/(t[l]*t[l])))}y=i.multMat(i.multMat(r,a),i.transpose(n))}(),function(){for(var e=void 0,t=void 0,n=[],r=[],s=[],o=[],a=0;a<_;a++)n[a]=Math.random(),r[a]=Math.random();n=i.normalize(n),r=i.normalize(r);for(var l=w,c=w,u=void 0;;){for(var h=0;h<_;h++)s[h]=n[h];if(n=i.multGamma(i.multL(i.multGamma(s),m,y)),e=i.dotProduct(s,n),n=i.normalize(n),l=i.dotProduct(s,n),(u=Math.abs(l/c))<=1+x&&u>=1)break;c=l}for(var f=0;f<_;f++)s[f]=n[f];for(c=w;;){for(var g=0;g<_;g++)o[g]=r[g];if(o=i.minusOp(o,i.multCons(s,i.dotProduct(s,o))),r=i.multGamma(i.multL(i.multGamma(o),m,y)),t=i.dotProduct(o,r),r=i.normalize(r),l=i.dotProduct(o,r),(u=Math.abs(l/c))<=1+x&&u>=1)break;c=l}for(var v=0;v<_;v++)o[v]=r[v];d=i.multCons(s,Math.sqrt(Math.abs(e))),p=i.multCons(o,Math.sqrt(Math.abs(t)))}(),U={nodeIndexes:c,xCoords:d,yCoords:p}):(c.forEach(function(e,n){d.push(t.getElementById(n).position("x")),p.push(t.getElementById(n).position("y"))}),U={nodeIndexes:c,xCoords:d,yCoords:p}),U}var q=c.keys(),G=t.getElementById(q.next().value),W=G.position(),X=G.outerWidth();if(d.push(W.x),p.push(W.y),2==_){var Y=t.getElementById(q.next().value).outerWidth();d.push(W.x+X/2+Y/2+e.idealEdgeLength),p.push(W.y)}return U={nodeIndexes:c,xCoords:d,yCoords:p}}}},function(e,t,n){"use strict";var r=n(2),i=function(e){e&&e("layout","fcose",r)};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i}])},e.exports=r(n("V1JX"))},DH7j:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},DSRE:function(e,t,n){(function(e){var r=n("Kz5y"),i=n("B8du"),s=t&&!t.nodeType&&t,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===s?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l}).call(this,n("YuTi")(e))},"Dw+G":function(e,t,n){var r=n("juv8"),i=n("mTTR");e.exports=function(e,t){return e&&r(t,i(t),e)}},"E+oP":function(e,t,n){var r=n("A90E"),i=n("QqLw"),s=n("03A+"),o=n("Z0cm"),a=n("MMmD"),l=n("DSRE"),c=n("6sVZ"),u=n("c6wG"),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||s(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},E2jh:function(e,t,n){var r,i=n("2gN3"),s=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!s&&s in e}},EA7m:function(e,t,n){var r=n("zZ0H"),i=n("Ioao"),s=n("wclG");e.exports=function(e,t){return s(i(e,t,r),e+"")}},EEGq:function(e,t,n){var r=n("juv8"),i=n("oCl/");e.exports=function(e,t){return r(e,i(e),t)}},EQ5u:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY"),a=n("x+ZX");class l extends i.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new o.a,e.add(this.source.subscribe(new u(this.getSubject(),this))),e.closed&&(this._connection=null,e=o.a.EMPTY)),e}refCount(){return Object(a.a)()(this)}}const c=(()=>{const e=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class u extends r.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}s.a},EY2u:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n("HDdC");const i=new r.a(e=>e.complete());function s(e){return e?function(e){return new r.a(t=>e.schedule(()=>t.complete()))}(e):i}},Ekho:function(e,t,n){var r,i,s;(function(){var n,o,a,l,c,u,h,d,p,f,g,m,v,y,_;a=Math.floor,f=Math.min,o=function(e,t){return e<t?-1:e>t?1:0},p=function(e,t,n,r,i){var s;if(null==n&&(n=0),null==i&&(i=o),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)i(t,e[s=a((n+r)/2)])<0?r=s:n=s+1;return[].splice.apply(e,[n,n-n].concat(t)),t},u=function(e,t,n){return null==n&&(n=o),e.push(t),y(e,0,e.length-1,n)},c=function(e,t){var n,r;return null==t&&(t=o),n=e.pop(),e.length?(r=e[0],e[0]=n,_(e,0,t)):r=n,r},d=function(e,t,n){var r;return null==n&&(n=o),r=e[0],e[0]=t,_(e,0,n),r},h=function(e,t,n){var r;return null==n&&(n=o),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],_(e,0,n)),t},l=function(e,t){var n,r,i,s,l,c;for(null==t&&(t=o),l=[],r=0,i=(s=(function(){c=[];for(var t=0,n=a(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)c.push(t);return c}).apply(this).reverse()).length;r<i;r++)n=s[r],l.push(_(e,n,t));return l},v=function(e,t,n){var r;if(null==n&&(n=o),-1!==(r=e.indexOf(t)))return y(e,0,r,n),_(e,r,n)},g=function(e,t,n){var r,i,s,a,c;if(null==n&&(n=o),!(i=e.slice(0,t)).length)return i;for(l(i,n),s=0,a=(c=e.slice(t)).length;s<a;s++)r=c[s],h(i,r,n);return i.sort(n).reverse()},m=function(e,t,n){var r,i,s,a,u,h,d,g,m;if(null==n&&(n=o),10*t<=e.length){if(!(s=e.slice(0,t).sort(n)).length)return s;for(i=s[s.length-1],a=0,h=(d=e.slice(t)).length;a<h;a++)n(r=d[a],i)<0&&(p(s,r,0,null,n),s.pop(),i=s[s.length-1]);return s}for(l(e,n),m=[],u=0,g=f(t,e.length);0<=g?u<g:u>g;0<=g?++u:--u)m.push(c(e,n));return m},y=function(e,t,n,r){var i,s,a;for(null==r&&(r=o),i=e[n];n>t&&r(i,s=e[a=n-1>>1])<0;)e[n]=s,n=a;return e[n]=i},_=function(e,t,n){var r,i,s,a,l;for(null==n&&(n=o),i=e.length,l=t,s=e[t],r=2*t+1;r<i;)(a=r+1)<i&&!(n(e[r],e[a])<0)&&(r=a),e[t]=e[r],r=2*(t=r)+1;return e[t]=s,y(e,l,t,n)},n=function(){function e(e){this.cmp=null!=e?e:o,this.nodes=[]}return e.push=u,e.pop=c,e.replace=d,e.pushpop=h,e.heapify=l,e.updateItem=v,e.nlargest=g,e.nsmallest=m,e.prototype.push=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pop=function(){return c(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return d(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return h(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return v(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),i=[],void 0===(s="function"==typeof(r=function(){return n})?r.apply(t,i):r)||(e.exports=s)}).call(this)},EpBk:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},EwQA:function(e,t,n){var r=n("zZ0H");e.exports=function(e){return"function"==typeof e?e:r}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},F1pL:function(e,t,n){e.exports=n("Ekho")},F9We:function(e,t,n){var r;try{r=n("4Ai+")}catch(i){}r||(r=window.graphlib),e.exports=r},FZoo:function(e,t,n){var r=n("MrPd"),i=n("4uTw"),s=n("wJg7"),o=n("GoyQ"),a=n("9Nap");e.exports=function(e,t,n,l){if(!o(e))return e;for(var c=-1,u=(t=i(t,e)).length,h=u-1,d=e;null!=d&&++c<u;){var p=a(t[c]),f=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=h){var g=d[p];void 0===(f=l?l(g,p,d):void 0)&&(f=o(g)?g:s(t[c+1])?[]:{})}r(d,p,f),d=d[p]}return e}},FfPP:function(e,t,n){var r=n("idmN"),i=n("hgQt");e.exports=function(e,t){return r(e,t,function(t,n){return i(e,n)})}},G6z8:function(e,t,n){var r=n("fR/l"),i=n("oCl/"),s=n("mTTR");e.exports=function(e){return r(e,s,i)}},GDhZ:function(e,t,n){var r=n("wF/u"),i=n("mwIZ"),s=n("hgQt"),o=n("9ggG"),a=n("CMye"),l=n("IOzZ"),c=n("9Nap");e.exports=function(e,t){return o(e)&&a(t)?l(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?s(n,e):r(t,o,3)}}},GEWS:function(e,t,n){"use strict";var r=n("b5wT"),i=n("F9We").Graph,s=n("6Ekc").slack;function o(e,t){return r.forEach(e.nodes(),function n(i){r.forEach(t.nodeEdges(i),function(r){var o=r.v,a=i===o?r.w:o;e.hasNode(a)||s(t,r)||(e.setNode(a,{}),e.setEdge(i,a,{}),n(a))})}),e.nodeCount()}function a(e,t){return r.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return s(t,n)})}function l(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}e.exports=function(e){var t,n,r=new i({directed:!1}),c=e.nodes()[0],u=e.nodeCount();r.setNode(c,{});for(;o(r,e)<u;)t=a(r,e),n=r.hasNode(t.v)?s(e,t):-s(e,t),l(r,e,n);return r}},GNiM:function(e,t,n){var r=n("I01J"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(s,"$1"):n||e)}),t});e.exports=o},GbLa:function(e,t,n){var r=n("M96O"),i=n("lnHP");function s(e){return r.map(e.nodes(),function(t){var n=e.node(t),i=e.parent(t),s={v:t};return r.isUndefined(n)||(s.value=n),r.isUndefined(i)||(s.parent=i),s})}function o(e){return r.map(e.edges(),function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(n)||(i.value=n),i})}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:s(e),edges:o(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return r.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},Gi0A:function(e,t,n){var r=n("QqLw"),i=n("ExA7");e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},H8j4:function(e,t,n){var r=n("QkVE");e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},HDdC:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("7o/Q");var i=n("2QA8"),s=n("gRHU");var o=n("kJWO"),a=n("SpAZ");function l(e){return 0===e.length?a.a:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}var c=n("2fFW");class u{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const t=new u;return t.source=this,t.operator=e,t}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(s.a)}(e,t,n);if(o?a.add(o.call(a,this.source)):a.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.a?n:null}return!0}(e)?console.warn(t):e.error(t)}}forEach(e,t){return new(t=h(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.a](){return this}pipe(...e){return 0===e.length?this:l(e)(this)}toPromise(e){return new(e=h(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}u.create=e=>new u(e)},HDyB:function(e,t,n){var r=n("nmnc"),i=n("JHRd"),s=n("ljhN"),o=n("or5M"),a=n("7fqy"),l=n("rEGp"),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var m=o(p(e),p(t),r,c,h,d);return d.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},HLqC:function(e,t,n){var r=n("R5Y4"),i=n("mv/X"),s=n("ZCgT");e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),o=void 0===o?t<n?1:-1:s(o),r(t,n,o,e)}}},HOxn:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Promise");e.exports=r},Hvzi:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},HzoJ:function(e,t,n){var r=n("b5wT");e.exports=function(e,t){return r.map(t,function(t){var n=e.inEdges(t);if(n.length){var i=r.reduce(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}return{v:t}})}},I01J:function(e,t,n){var r=n("44Ds");e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},I55L:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},IOzZ:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},IWTy:function(e,t,n){var r=n("yue5");e.exports=function(e,t,n){for(var i=-1,s=e.criteria,o=t.criteria,a=s.length,l=n.length;++i<a;){var c=r(s[i],o[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},Ig6t:function(e,t,n){var r=n("b5wT"),i=n("tQ6r");function s(e,t,n,r,s,o){var a={width:0,height:0,rank:o,borderType:t},l=s[t][o-1],c=i.addDummyNode(e,"border",a,n);s[t][o]=c,e.setParent(c,r),l&&e.setEdge(l,c,{weight:1})}e.exports=function(e){r.forEach(e.children(),function t(n){var i=e.children(n),o=e.node(n);if(i.length&&r.forEach(i,t),r.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var a=o.minRank,l=o.maxRank+1;a<l;++a)s(e,"borderLeft","_bl",n,o,a),s(e,"borderRight","_br",n,o,a)}})}},IjjT:function(e,t,n){"use strict";n.d(t,"a",function(){return i});class r{constructor(e,t=r.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}r.now=()=>Date.now();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},Ioao:function(e,t,n){var r=n("heNW"),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,a=i(s.length-t,0),l=Array(a);++o<a;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=n(l),r(e,this,c)}}},IyW0:function(e,t,n){"use strict";var r=n("b5wT"),i=n("tQ6r"),s=n("jFXE").positionX;e.exports=function(e){(function(e){var t=i.buildLayerMatrix(e),n=e.graph().ranksep,s=0;r.forEach(t,function(t){var i=r.max(r.map(t,function(t){return e.node(t).height}));r.forEach(t,function(t){e.node(t).y=s+i/2}),s+=i+n})})(e=i.asNonCompoundGraph(e)),r.forEach(s(e),function(t,n){e.node(n).x=t})}},IzEk:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(e){return t=>0===e?Object(s.b)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new i.a}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends r.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},J2m7:function(e,t,n){var r=n("XKAG")(n("UfWW"));e.exports=r},JAaw:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ExpressionGrammarModel});class RuleSetInterface{constructor(e){this.expIndex=(null==e?void 0:e.expIndex)||0,this.rule=(null==e?void 0:e.rule)||"",this.prevExp=(null==e?void 0:e.prevExp)||"",this.afterExp=(null==e?void 0:e.afterExp)||""}}class ExpressionGrammarModel{constructor(e){this._expression="",this._valid=!1,this._rule={V:[],SIG:[],R:{A:[],O:[],Z:[]},start:""},this._ruleSet=[],this.value=null,this.Expression=e,this._rule={V:["A","O","Z"],SIG:["0","1","2","3","4","5","6","7","8","9","+","*","-","/","(",")"],R:{A:["A O A","( A )","Z"],O:["+","*","-","/"],Z:["0","1","2","3","4","5","6","7","8","9"]},start:"A"}}get Expression(){return this._expression}get Rule(){return this._rule}get Valid(){return this._valid}_setRuleSet(e){let t=e.slice().replace(/ /g,"").split("").join(" "),n=[],r=!0;const{O:i,Z:s}=this._rule.R;let o=0;for(;t.length>0&&o<1e3&&"A"!==t&&r;){let e=0,a=t.slice();for(let r of t){if(s.includes(r)){const i=new RuleSetInterface,s=new RuleSetInterface;i.expIndex=e,i.prevExp=t,t=t.substring(0,e)+"Z"+t.substring(e+1),i.afterExp=t,i.rule=`Z \u2192 ${r}`,s.expIndex=e,s.prevExp=t,t=t.substring(0,e)+"A"+t.substring(e+1),s.afterExp=t,s.rule="A \u2192 Z",n.push(i),n.push(s)}else if(i.includes(r)){const i=new RuleSetInterface;i.expIndex=e,i.prevExp=t,t=t.substring(0,e)+"O"+t.substring(e+1),i.afterExp=t,i.rule=`O \u2192 ${r}`,n.push(i)}e++}if(t.indexOf("A O A")>-1){const e=t.indexOf("A O A"),r=new RuleSetInterface;r.expIndex=t.indexOf("A O A"),r.prevExp=t,t=t.substring(0,e)+"A"+t.substring(e+5,t.length),r.afterExp=t,r.rule="A \u2192 A O A",n.push(r)}if(t.indexOf("( A )")>-1){const e=t.indexOf("( A )"),r=new RuleSetInterface;r.expIndex=t.indexOf("( A )"),r.prevExp=t,t=t.substring(0,e)+"A"+t.substring(e+5,t.length),r.afterExp=t,r.rule="A \u2192 ( A )",n.push(r)}o++,a===t&&(r=!1)}this.isExpressionValid(e)&&0!==this.isExpressionValid(e)?this._ruleSet=n.reverse():this._ruleSet=n.map(e=>({prevExp:e.afterExp,afterExp:e.prevExp,expIndex:e.expIndex,rule:e.rule.split("").reverse().join("").replace(") A (","( A )")}))}get ruleSet(){return this._ruleSet}set Expression(e){this._expression=e;try{this.value=this.isExpressionValid(e),this._setRuleSet(e)}catch(t){this._setRuleSet(e),this.value=null,this._expression=e}}static _isNegNumber(e){return 0===e.indexOf("-")||!!e.match(/\(\s*-\s*/gm)}isExpressionValid(exp){let result;const matchDoubleD=exp.match(/[0-9]\s*[0-9]/gm);if(matchDoubleD||ExpressionGrammarModel._isNegNumber(exp))this._valid=!1;else try{result=eval(exp),this.value=Number.parseFloat(result),this._valid=!0}catch(_a){this._valid=!1}return result}_hasNonTerminalChar(e){return[...e].some(e=>this._rule.V.indexOf(e)>=0)}_hasTerminalChar(e){return[...e].some(e=>this._rule.SIG.indexOf(e)>=0)}_hasElementOfKind(e,t){return[...e].some(e=>t.indexOf(e)>=0)}_getCorrectExpression(){let e=this._rule.start;for(;this._hasNonTerminalChar(e);){if(e.includes("A")){let t=Math.random()*(500/e.length)>5?Math.round(Math.random()*(this._rule.R.A.length-1)):this._rule.R.A.length-1,n=this._rule.R.A[t];e=e.replace("A",n)}if(e.includes("O")){let t=Math.round(Math.random()*(this._rule.R.O.length-1)),n=this._rule.R.O[t];e=e.replace("O",n)}if(e.includes("Z")){let t=Math.round(Math.random()*(this._rule.R.Z.length-1)),n=this._rule.R.Z[t];e=e.replace("Z",n)}}return e}_getWrongExpression(){let e=Array.from(this._getCorrectExpression().replace(/ /g,"")),t=Math.round(Math.random()*(e.length-1));return this._rule.R.Z.includes(e[t])?10*Math.random()>5?e[t]=["(",")"][Math.round(Math.random())]:e[t]=this._rule.R.O[Math.round(Math.random()*(this._rule.R.O.length-1))]:this._rule.R.O.includes(e[t])?10*Math.random()>5?e[t]=["(",")"][Math.round(Math.random())]:e[t]=this._rule.R.Z[Math.round(Math.random()*(this._rule.R.Z.length-1))]:["(",")"].includes(e[t])&&(10*Math.random()>5?e[t]=this._rule.R.Z[Math.round(Math.random()*(this._rule.R.Z.length-1))]:e[t]=this._rule.R.O[Math.round(Math.random()*(this._rule.R.O.length-1))]),e.join(" ")}generateCorrectExpression(){const e=this._getCorrectExpression();this.Expression=e}generateWrongExpression(){const e=this._getWrongExpression();this.Expression=e}}},JC6p:function(e,t,n){var r=n("cq/+"),i=n("7GkX");e.exports=function(e,t){return e&&r(e,t,i)}},JHRd:function(e,t,n){var r=n("Kz5y").Uint8Array;e.exports=r},JHgL:function(e,t,n){var r=n("QkVE");e.exports=function(e){return r(this,e).get(e)}},JIr8:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("zx2A");function i(e){return function(t){const n=new s(e),r=t.lift(n);return n.caught=r}}class s{constructor(e){this.selector=e}call(e,t){return t.subscribe(new o(e,this.selector,this.caught))}}class o extends r.b{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const s=Object(r.c)(n,i);s!==i&&this.add(s)}}}},JRpN:function(e,t,n){var r=n("b5wT"),i=n("tQ6r");function s(e,t,n,o,a,l,c){var u=e.children(c);if(u.length){var h=i.addBorderNode(e,"_bt"),d=i.addBorderNode(e,"_bb"),p=e.node(c);e.setParent(h,c),p.borderTop=h,e.setParent(d,c),p.borderBottom=d,r.forEach(u,function(r){s(e,t,n,o,a,l,r);var i=e.node(r),u=i.borderTop?i.borderTop:r,p=i.borderBottom?i.borderBottom:r,f=i.borderTop?o:2*o,g=u!==p?1:a-l[c]+1;e.setEdge(h,u,{weight:f,minlen:g,nestingEdge:!0}),e.setEdge(p,d,{weight:f,minlen:g,nestingEdge:!0})}),e.parent(c)||e.setEdge(t,h,{weight:0,minlen:a+l[c]})}else c!==t&&e.setEdge(t,c,{weight:0,minlen:n})}e.exports={run:function(e){var t=i.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(i,s){var o=e.children(i);o&&o.length&&r.forEach(o,function(e){n(e,s+1)}),t[i]=s}return r.forEach(e.children(),function(e){n(e,1)}),t}(e),o=r.max(r.values(n))-1,a=2*o+1;e.graph().nestingRoot=t,r.forEach(e.edges(),function(t){e.edge(t).minlen*=a});var l=function(e){return r.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;r.forEach(e.children(),function(r){s(e,t,a,l,o,n,r)}),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},JSQU:function(e,t,n){var r=n("YESw");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},JTzB:function(e,t,n){var r=n("NykK"),i=n("ExA7");e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},JZM8:function(e,t,n){var r=n("FfPP"),i=n("xs/l")(function(e,t){return null==e?{}:r(e,t)});e.exports=i},JmpY:function(e,t,n){var r=n("eUgh");e.exports=function(e,t){return r(t,function(t){return e[t]})}},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},KMkd:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},"KZ/l":function(e,t,n){var r=n("b5wT"),i=n("F9We").Graph,s=n("RYnF");e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new i,o=0,a=0;r.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),r.forEach(e.edges(),function(e){var r=n.edge(e.v,e.w)||0,i=t(e),s=r+i;n.setEdge(e.v,e.w,s),a=Math.max(a,n.node(e.v).out+=i),o=Math.max(o,n.node(e.w).in+=i)});var c=r.range(a+o+3).map(function(){return new s}),u=o+1;return r.forEach(n.nodes(),function(e){l(c,u,n.node(e))}),{graph:n,buckets:c,zeroIdx:u}}(e,t||o),c=function(e,t,n){var r,i=[],s=t[t.length-1],o=t[0];for(;e.nodeCount();){for(;r=o.dequeue();)a(e,t,n,r);for(;r=s.dequeue();)a(e,t,n,r);if(e.nodeCount())for(var l=t.length-2;l>0;--l)if(r=t[l].dequeue()){i=i.concat(a(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,function(t){return e.outEdges(t.v,t.w)}),!0)};var o=r.constant(1);function a(e,t,n,i,s){var o=s?[]:void 0;return r.forEach(e.inEdges(i.v),function(r){var i=e.edge(r),a=e.node(r.v);s&&o.push({v:r.v,w:r.w}),a.out-=i,l(t,n,a)}),r.forEach(e.outEdges(i.v),function(r){var i=e.edge(r),s=r.w,o=e.node(s);o.in-=i,l(t,n,o)}),e.removeNode(i.v),o}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kj3r:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("7o/Q"),i=n("D0XW");function s(e,t=i.a){return n=>n.lift(new o(e,t))}class o{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}class a extends r.a{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function l(e){e.debouncedNext()}},Kp9H:function(e,t,n){"use strict";var r=n("b5wT"),i=n("5jIi"),s=n("14Cm"),o=n("OOL/"),a=n("iBet"),l=n("1PPP"),c=n("F9We").Graph,u=n("tQ6r");function h(e,t,n){return r.map(t,function(t){return a(e,t,n)})}function d(e,t){var n=new c;r.forEach(e,function(e){var i=e.graph().root,s=o(e,i,n,t);r.forEach(s.vs,function(t,n){e.node(t).order=n}),l(e,n,s.vs)})}function p(e,t){r.forEach(t,function(t){r.forEach(t,function(t,n){e.node(t).order=n})})}e.exports=function(e){var t=u.maxRank(e),n=h(e,r.range(1,t+1),"inEdges"),o=h(e,r.range(t-1,-1,-1),"outEdges"),a=i(e);p(e,a);for(var l,c=Number.POSITIVE_INFINITY,f=0,g=0;g<4;++f,++g){d(f%2?n:o,f%4>=2),a=u.buildLayerMatrix(e);var m=s(e,a);m<c&&(g=0,l=r.cloneDeep(a),c=m)}p(e,l)}},Kqap:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}class s{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KwMD:function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}},Kz5y:function(e,t,n){var r=n("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},L8xA:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},LGYb:function(e,t,n){var r=n("1hJj"),i=n("jbM+"),s=n("Xt/L"),o=n("xYSL"),a=n("dQpi"),l=n("rEGp");e.exports=function(e,t,n){var c=-1,u=i,h=e.length,d=!0,p=[],f=p;if(n)d=!1,u=s;else if(h>=200){var g=t?null:a(e);if(g)return l(g);d=!1,u=o,f=new r}else f=t?[]:p;e:for(;++c<h;){var m=e[c],v=t?t(m):m;if(m=n||0!==m?m:0,d&&v==v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),p.push(m)}else u(f,v,n)||(f!==p&&f.push(v),p.push(m))}return p}},LRne:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...e){let t=e[e.length-1];return Object(r.a)(t)?(e.pop(),Object(s.a)(e,t)):Object(i.a)(e)}},LXxW:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}},LcsW:function(e,t,n){var r=n("kekF")(Object.getPrototypeOf,Object);e.exports=r},Lhse:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},LsHQ:function(e,t,n){var r=n("EA7m"),i=n("mv/X");e.exports=function(e){return r(function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(s--,o):void 0,a&&i(n[0],n[1],a)&&(o=s<3?void 0:o,s=1),t=Object(t);++r<s;){var l=n[r];l&&e(t,l,r,o)}return t})}},M96O:function(e,t,n){var r;try{r={clone:n("uM7l"),constant:n("cvCv"),each:n("xkGU"),filter:n("k4Da"),has:n("OFL0"),isArray:n("Z0cm"),isEmpty:n("E+oP"),isFunction:n("lSCD"),isUndefined:n("TP7S"),keys:n("7GkX"),map:n("3WF5"),reduce:n("xaJk"),size:n("1iNE"),transform:n("UMpK"),union:n("v8eK"),values:n("P/G1")}}catch(i){}r||(r=window._),e.exports=r},MMmD:function(e,t,n){var r=n("lSCD"),i=n("shjB");e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},MrPd:function(e,t,n){var r=n("hypo"),i=n("ljhN"),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];s.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},MvSz:function(e,t,n){var r=n("LXxW"),i=n("0ycA"),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return s.call(e,t)}))}:i;e.exports=a},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,"a",function(){return r})},NKxu:function(e,t,n){var r=n("lSCD"),i=n("E2jh"),s=n("GoyQ"),o=n("3Fdi"),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?d:a).test(o(e))}},Npjl:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},NykK:function(e,t,n){var r=n("nmnc"),i=n("AP2z"),s=n("KfNM"),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):s(e)}},O0oS:function(e,t,n){var r=n("Cwc5"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},O7RO:function(e,t,n){var r=n("CMye"),i=n("7GkX");e.exports=function(e){for(var t=i(e),n=t.length;n--;){var s=t[n],o=e[s];t[n]=[s,o,r(o)]}return t}},OBhP:function(e,t,n){var r=n("fmRc"),i=n("gFfm"),s=n("MrPd"),o=n("WwFo"),a=n("Dw+G"),l=n("5Tg0"),c=n("Q1l4"),u=n("VOtZ"),h=n("EEGq"),d=n("qZTm"),p=n("G6z8"),f=n("QqLw"),g=n("yHx3"),m=n("wrZu"),v=n("+iFO"),y=n("Z0cm"),_=n("DSRE"),b=n("zEVN"),w=n("GoyQ"),x=n("1+5i"),E=n("7GkX"),C=n("mTTR"),S="[object Arguments]",k="[object Function]",T="[object Object]",A={};A[S]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[T]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[k]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,D,O,I,N){var P,M=1&n,R=2&n,L=4&n;if(D&&(P=I?D(t,O,I,N):D(t)),void 0!==P)return P;if(!w(t))return t;var F=y(t);if(F){if(P=g(t),!M)return c(t,P)}else{var j=f(t),B=j==k||"[object GeneratorFunction]"==j;if(_(t))return l(t,M);if(j==T||j==S||B&&!I){if(P=R||B?{}:v(t),!M)return R?h(t,a(P,t)):u(t,o(P,t))}else{if(!A[j])return I?t:{};P=m(t,j,M)}}N||(N=new r);var V=N.get(t);if(V)return V;N.set(t,P),x(t)?t.forEach(function(r){P.add(e(r,n,D,r,t,N))}):b(t)&&t.forEach(function(r,i){P.set(i,e(r,n,D,i,t,N))});var z=F?void 0:(L?R?p:d:R?C:E)(t);return i(z||t,function(r,i){z&&(r=t[i=r]),s(P,i,e(r,n,D,i,t,N))}),P}},OFL0:function(e,t,n){var r=n("lvO4"),i=n("4sDh");e.exports=function(e,t){return null!=e&&i(e,t,r)}},"OOL/":function(e,t,n){var r=n("b5wT"),i=n("HzoJ"),s=n("2fNS"),o=n("81LO");e.exports=function e(t,n,a,l){var c=t.children(n),u=t.node(n),h=u?u.borderLeft:void 0,d=u?u.borderRight:void 0,p={};h&&(c=r.filter(c,function(e){return e!==h&&e!==d}));var f=i(t,c);r.forEach(f,function(n){if(t.children(n.v).length){var i=e(t,n.v,a,l);p[n.v]=i,r.has(i,"barycenter")&&(s=n,o=i,r.isUndefined(s.barycenter)?(s.barycenter=o.barycenter,s.weight=o.weight):(s.barycenter=(s.barycenter*s.weight+o.barycenter*o.weight)/(s.weight+o.weight),s.weight+=o.weight))}var s,o});var g=s(f,a);!function(e,t){r.forEach(e,function(e){e.vs=r.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}(g,p);var m=o(g,l);if(h&&(m.vs=r.flatten([h,m.vs,d],!0),t.predecessors(h).length)){var v=t.node(t.predecessors(h)[0]),y=t.node(t.predecessors(d)[0]);r.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+v.order+y.order)/(m.weight+2),m.weight+=2}return m}},"Of+w":function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"WeakMap");e.exports=r},"P/G1":function(e,t,n){var r=n("JmpY"),i=n("7GkX");e.exports=function(e){return null==e?[]:r(e,i(e))}},"Q+g8":function(e,t,n){var r=n("gYXE");e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},Q1l4:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},QIyF:function(e,t,n){var r=n("Kz5y");e.exports=function(){return r.Date.now()}},QcOe:function(e,t,n){var r=n("GoyQ"),i=n("6sVZ"),s=n("7Ix3"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&o.call(e,a))&&n.push(a);return n}},QkVE:function(e,t,n){var r=n("EpBk");e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},QkVN:function(e,t,n){var r=n("+Qka"),i=n("LsHQ")(function(e,t,n){r(e,t,n)});e.exports=i},QoRX:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},QqLw:function(e,t,n){var r=n("tadb"),i=n("ebwN"),s=n("HOxn"),o=n("yGk4"),a=n("Of+w"),l=n("NykK"),c=n("3Fdi"),u="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",g=c(r),m=c(i),v=c(s),y=c(o),_=c(a),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||i&&b(new i)!=u||s&&b(s.resolve())!=h||o&&b(new o)!=d||a&&b(new a)!=p)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return f;case m:return u;case v:return h;case y:return d;case _:return p}return t}),e.exports=b},"R/W3":function(e,t,n){var r=n("KwMD"),i=n("2ajD"),s=n("CZoQ");e.exports=function(e,t,n){return t==t?s(e,t,n):r(e,i,n)}},"R5/Y":function(e,t,n){var r;r=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=function(){var e={};return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"introjs-stamp";return e[n]=e[n]||0,void 0===t[n]&&(t[n]=e[n]++),t[n]}}();function n(e,t,n){if(e)for(var r=0,i=e.length;r<i;r++)t(e[r],r);"function"==typeof n&&n()}var r=new function(){var e="introjs_event";this._id=function(e,n,r,i){return n+t(r)+(i?"_".concat(t(i)):"")},this.on=function(t,n,r,i,s){var o=this._id.apply(this,arguments),a=function(e){return r.call(i||t,e||window.event)};"addEventListener"in t?t.addEventListener(n,a,s):"attachEvent"in t&&t.attachEvent("on".concat(n),a),t[e]=t[e]||{},t[e][o]=a},this.off=function(t,n,r,i,s){var o=this._id.apply(this,arguments),a=t[e]&&t[e][o];a&&("removeEventListener"in t?t.removeEventListener(n,a,s):"detachEvent"in t&&t.detachEvent("on".concat(n),a),t[e][o]=null)}},i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e,t){return e(t={exports:{}},t.exports),t.exports}var o=function(e){return e&&e.Math==Math&&e},a=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i&&i)||function(){return this}()||Function("return this")(),l=function(e){try{return!!e()}catch(t){return!0}},c=!l(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),u={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,d={f:h&&!u.call({1:2},1)?function(e){var t=h(this,e);return!!t&&t.enumerable}:u},p=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,g=function(e){return f.call(e).slice(8,-1)},m="".split,v=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==g(e)?m.call(e,""):Object(e)}:Object,y=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},_=function(e){return v(y(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},w=function(e,t){if(!b(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!b(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},x={}.hasOwnProperty,E=function(e,t){return x.call(e,t)},C=a.document,S=b(C)&&b(C.createElement),k=function(e){return S?C.createElement(e):{}},T=!c&&!l(function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a}),A=Object.getOwnPropertyDescriptor,D={f:c?A:function(e,t){if(e=_(e),t=w(t,!0),T)try{return A(e,t)}catch(n){}if(E(e,t))return p(!d.f.call(e,t),e[t])}},O=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},I=Object.defineProperty,N={f:c?I:function(e,t,n){if(O(e),t=w(t,!0),O(n),T)try{return I(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},P=c?function(e,t,n){return N.f(e,t,p(1,n))}:function(e,t,n){return e[t]=n,e},M=function(e,t){try{P(a,e,t)}catch(n){a[e]=t}return t},R="__core-js_shared__",L=a[R]||M(R,{}),F=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(e){return F.call(e)});var j,B,V,z=L.inspectSource,U=a.WeakMap,H="function"==typeof U&&/native code/.test(z(U)),$=s(function(e){(e.exports=function(e,t){return L[e]||(L[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),q=0,G=Math.random(),W=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++q+G).toString(36)},X=$("keys"),Y=function(e){return X[e]||(X[e]=W(e))},K={},Z=a.WeakMap;if(H){var Q=L.state||(L.state=new Z),J=Q.get,ee=Q.has,te=Q.set;j=function(e,t){return t.facade=e,te.call(Q,e,t),t},B=function(e){return J.call(Q,e)||{}},V=function(e){return ee.call(Q,e)}}else{var ne=Y("state");K[ne]=!0,j=function(e,t){return t.facade=e,P(e,ne,t),t},B=function(e){return E(e,ne)?e[ne]:{}},V=function(e){return E(e,ne)}}var re={set:j,get:B,has:V,enforce:function(e){return V(e)?B(e):j(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=B(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ie=s(function(e){var t=re.get,n=re.enforce,r=String(String).split("String");(e.exports=function(e,t,i,s){var o,l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,u=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof t||E(i,"name")||P(i,"name",t),(o=n(i)).source||(o.source=r.join("string"==typeof t?t:""))),e!==a?(l?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=i:P(e,t,i)):c?e[t]=i:M(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||z(this)})}),se=a,oe=function(e){return"function"==typeof e?e:void 0},ae=function(e,t){return arguments.length<2?oe(se[e])||oe(a[e]):se[e]&&se[e][t]||a[e]&&a[e][t]},le=Math.ceil,ce=Math.floor,ue=function(e){return isNaN(e=+e)?0:(e>0?ce:le)(e)},he=Math.min,de=function(e){return e>0?he(ue(e),9007199254740991):0},pe=Math.max,fe=Math.min,ge=function(e,t){var n=ue(e);return n<0?pe(n+t,0):fe(n,t)},me=function(e){return function(t,n,r){var i,s=_(t),o=de(s.length),a=ge(r,o);if(e&&n!=n){for(;o>a;)if((i=s[a++])!=i)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===n)return e||a||0;return!e&&-1}},ve={includes:me(!0),indexOf:me(!1)},ye=ve.indexOf,_e=function(e,t){var n,r=_(e),i=0,s=[];for(n in r)!E(K,n)&&E(r,n)&&s.push(n);for(;t.length>i;)E(r,n=t[i++])&&(~ye(s,n)||s.push(n));return s},be=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],we=be.concat("length","prototype"),xe={f:Object.getOwnPropertyNames||function(e){return _e(e,we)}},Ee={f:Object.getOwnPropertySymbols},Ce=ae("Reflect","ownKeys")||function(e){var t=xe.f(O(e)),n=Ee.f;return n?t.concat(n(e)):t},Se=function(e,t){for(var n=Ce(t),r=N.f,i=D.f,s=0;s<n.length;s++){var o=n[s];E(e,o)||r(e,o,i(t,o))}},ke=/#|\.prototype\./,Te=function(e,t){var n=De[Ae(e)];return n==Ie||n!=Oe&&("function"==typeof t?l(t):!!t)},Ae=Te.normalize=function(e){return String(e).replace(ke,".").toLowerCase()},De=Te.data={},Oe=Te.NATIVE="N",Ie=Te.POLYFILL="P",Ne=Te,Pe=D.f,Me=function(e,t){var n,r,i,s,o,l=e.target,c=e.global,u=e.stat;if(n=c?a:u?a[l]||M(l,{}):(a[l]||{}).prototype)for(r in t){if(s=t[r],i=e.noTargetGet?(o=Pe(n,r))&&o.value:n[r],!Ne(c?r:l+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof s==typeof i)continue;Se(s,i)}(e.sham||i&&i.sham)&&P(s,"sham",!0),ie(n,r,s,e)}},Re=function(){var e=O(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Le(e,t){return RegExp(e,t)}var Fe,je,Be={UNSUPPORTED_Y:l(function(){var e=Le("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:l(function(){var e=Le("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},Ve=RegExp.prototype.exec,ze=String.prototype.replace,Ue=Ve,He=(Fe=/a/,je=/b*/g,Ve.call(Fe,"a"),Ve.call(je,"a"),0!==Fe.lastIndex||0!==je.lastIndex),$e=Be.UNSUPPORTED_Y||Be.BROKEN_CARET,qe=void 0!==/()??/.exec("")[1];(He||qe||$e)&&(Ue=function(e){var t,n,r,i,s=this,o=$e&&s.sticky,a=Re.call(s),l=s.source,c=0,u=e;return o&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),u=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",a)),qe&&(n=new RegExp("^"+l+"$(?!\\s)",a)),He&&(t=s.lastIndex),r=Ve.call(o?n:s,u),o?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:He&&r&&(s.lastIndex=s.global?r.index+r[0].length:t),qe&&r&&r.length>1&&ze.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var Ge=Ue;Me({target:"RegExp",proto:!0,forced:/./.exec!==Ge},{exec:Ge});var We,Xe,Ye="process"==g(a.process),Ke=ae("navigator","userAgent")||"",Ze=a.process,Qe=Ze&&Ze.versions,Je=Qe&&Qe.v8;Je?Xe=(We=Je.split("."))[0]+We[1]:Ke&&(!(We=Ke.match(/Edge\/(\d+)/))||We[1]>=74)&&(We=Ke.match(/Chrome\/(\d+)/))&&(Xe=We[1]);var et=Xe&&+Xe,tt=!!Object.getOwnPropertySymbols&&!l(function(){return!Symbol.sham&&(Ye?38===et:et>37&&et<41)}),nt=tt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,rt=$("wks"),it=a.Symbol,st=nt?it:it&&it.withoutSetter||W,ot=function(e){return E(rt,e)&&(tt||"string"==typeof rt[e])||(tt&&E(it,e)?rt[e]=it[e]:rt[e]=st("Symbol."+e)),rt[e]},at=ot("species"),lt=!l(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),ct="$0"==="a".replace(/./,"$0"),ut=ot("replace"),ht=!!/./[ut]&&""===/./[ut]("a","$0"),dt=!l(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),pt=function(e,t,n,r){var i=ot(e),s=!l(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),o=s&&!l(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[at]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t});if(!s||!o||"replace"===e&&(!lt||!ct||ht)||"split"===e&&!dt){var a=/./[i],c=n(i,""[e],function(e,t,n,r,i){return t.exec===Ge?s&&!i?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:ct,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ht}),u=c[0],h=c[1];ie(String.prototype,e,u),ie(RegExp.prototype,i,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)})}r&&P(RegExp.prototype[i],"sham",!0)},ft=function(e){return function(t,n){var r,i,s=String(y(t)),o=ue(n),a=s.length;return o<0||o>=a?e?"":void 0:(r=s.charCodeAt(o))<55296||r>56319||o+1===a||(i=s.charCodeAt(o+1))<56320||i>57343?e?s.charAt(o):r:e?s.slice(o,o+2):i-56320+(r-55296<<10)+65536}},gt=(ft(!1),ft(!0)),mt=function(e,t,n){return t+(n?gt(e,t).length:1)},vt=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==g(e))throw TypeError("RegExp#exec called on incompatible receiver");return Ge.call(e,t)};pt("match",1,function(e,t,n){return[function(t){var n=y(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=O(e),s=String(this);if(!i.global)return vt(i,s);var o=i.unicode;i.lastIndex=0;for(var a,l=[],c=0;null!==(a=vt(i,s));){var u=String(a[0]);l[c]=u,""===u&&(i.lastIndex=mt(s,de(i.lastIndex),o)),c++}return 0===c?null:l}]});var yt=Array.isArray||function(e){return"Array"==g(e)},_t=function(e){return Object(y(e))},bt=function(e,t,n){var r=w(t);r in e?N.f(e,r,p(0,n)):e[r]=n},wt=ot("species"),xt=function(e,t){var n;return yt(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!yt(n.prototype)?b(n)&&null===(n=n[wt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Et=ot("species"),Ct=function(e){return et>=51||!l(function(){var t=[];return(t.constructor={})[Et]=function(){return{foo:1}},1!==t[e](Boolean).foo})},St=ot("isConcatSpreadable"),kt=9007199254740991,Tt="Maximum allowed index exceeded",At=et>=51||!l(function(){var e=[];return e[St]=!1,e.concat()[0]!==e}),Dt=Ct("concat"),Ot=function(e){if(!b(e))return!1;var t=e[St];return void 0!==t?!!t:yt(e)};Me({target:"Array",proto:!0,forced:!At||!Dt},{concat:function(e){var t,n,r,i,s,o=_t(this),a=xt(o,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(s=-1===t?o:arguments[t],Ot(s)){if(l+(i=de(s.length))>kt)throw TypeError(Tt);for(n=0;n<i;n++,l++)n in s&&bt(a,l,s[n])}else{if(l>=kt)throw TypeError(Tt);bt(a,l++,s)}return a.length=l,a}});var It={};It[ot("toStringTag")]="z";var Nt="[object z]"===String(It),Pt=ot("toStringTag"),Mt="Arguments"==g(function(){return arguments}()),Rt=Nt?g:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),Pt))?n:Mt?g(t):"Object"==(r=g(t))&&"function"==typeof t.callee?"Arguments":r},Lt=Nt?{}.toString:function(){return"[object "+Rt(this)+"]"};Nt||ie(Object.prototype,"toString",Lt,{unsafe:!0});var Ft="toString",jt=RegExp.prototype,Bt=jt.toString,Vt=l(function(){return"/a/b"!=Bt.call({source:"a",flags:"b"})}),zt=Bt.name!=Ft;(Vt||zt)&&ie(RegExp.prototype,Ft,function(){var e=O(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in jt)?Re.call(e):n)},{unsafe:!0});var Ut=ot("match"),Ht=function(e){var t;return b(e)&&(void 0!==(t=e[Ut])?!!t:"RegExp"==g(e))},$t=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},qt=ot("species"),Gt=[].push,Wt=Math.min,Xt=4294967295,Yt=!l(function(){return!RegExp(Xt,"y")});function Kt(e,t){if(e instanceof SVGElement){var r=e.getAttribute("class")||"";r.match(t)||e.setAttribute("class","".concat(r," ").concat(t))}else void 0!==e.classList?n(t.split(" "),function(t){e.classList.add(t)}):e.className.match(t)||(e.className+=" ".concat(t))}function Zt(e,t){var n="";return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function Qt(e){var t=e.element;if(this._options.scrollToElement){var n=function(e){var t=window.getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(var i=e;i=i.parentElement;)if(t=window.getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.body}(t);n!==document.body&&(n.scrollTop=t.offsetTop-n.offsetTop)}}function Jt(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function en(e,t,n){var r,i=t.element;if("off"!==e&&this._options.scrollToElement&&(r="tooltip"===e?n.getBoundingClientRect():i.getBoundingClientRect(),!function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom+80<=window.innerHeight&&t.right<=window.innerWidth}(i))){var s=Jt().height;r.bottom-(r.bottom-r.top)<0||i.clientHeight>s?window.scrollBy(0,r.top-(s/2-r.height/2)-this._options.scrollPadding):window.scrollBy(0,r.top-(s/2-r.height/2)+this._options.scrollPadding)}}function tn(e){e.setAttribute("role","button"),e.tabIndex=0}pt("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(y(this)),i=void 0===n?Xt:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!Ht(e))return t.call(r,e,i);for(var s,o,a,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,h=new RegExp(e.source,c+"g");(s=Ge.call(h,r))&&!((o=h.lastIndex)>u&&(l.push(r.slice(u,s.index)),s.length>1&&s.index<r.length&&Gt.apply(l,s.slice(1)),a=s[0].length,u=o,l.length>=i));)h.lastIndex===s.index&&h.lastIndex++;return u===r.length?!a&&h.test("")||l.push(""):l.push(r.slice(u)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=y(this),s=null==t?void 0:t[e];return void 0!==s?s.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var o=O(e),a=String(this),l=function(e,t){var n,r=O(e).constructor;return void 0===r||null==(n=O(r)[qt])?t:$t(n)}(o,RegExp),c=o.unicode,u=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Yt?"y":"g"),h=new l(Yt?o:"^(?:"+o.source+")",u),d=void 0===i?Xt:i>>>0;if(0===d)return[];if(0===a.length)return null===vt(h,a)?[a]:[];for(var p=0,f=0,g=[];f<a.length;){h.lastIndex=Yt?f:0;var m,v=vt(h,Yt?a:a.slice(f));if(null===v||(m=Wt(de(h.lastIndex+(Yt?0:f)),a.length))===p)f=mt(a,f,c);else{if(g.push(a.slice(p,f)),g.length===d)return g;for(var y=1;y<=v.length-1;y++)if(g.push(v[y]),g.length===d)return g;f=p=m}}return g.push(a.slice(p)),g}]},!Yt);var nn=Object.keys||function(e){return _e(e,be)},rn=Object.assign,sn=Object.defineProperty,on=!rn||l(function(){if(c&&1!==rn({b:1},rn(sn({},"a",{enumerable:!0,get:function(){sn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=rn({},e)[n]||nn(rn({},t)).join("")!=r})?function(e,t){for(var n=_t(e),r=arguments.length,i=1,s=Ee.f,o=d.f;r>i;)for(var a,l=v(arguments[i++]),u=s?nn(l).concat(s(l)):nn(l),h=u.length,p=0;h>p;)a=u[p++],c&&!o.call(l,a)||(n[a]=l[a]);return n}:rn;function an(e,t){var n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,s=window.pageXOffset||r.scrollLeft||n.scrollLeft;t=t||n;var o=e.getBoundingClientRect(),a=t.getBoundingClientRect(),l=Zt(t,"position"),c={width:o.width,height:o.height};return"body"!==t.tagName.toLowerCase()&&"relative"===l||"sticky"===l?Object.assign(c,{top:o.top-a.top,left:o.left-a.left}):Object.assign(c,{top:o.top+i,left:o.left+s})}function ln(e){var t=e.parentNode;return!(!t||"HTML"===t.nodeName)&&("fixed"===Zt(e,"position")||ln(t))}Me({target:"Object",stat:!0,forced:Object.assign!==on},{assign:on});var cn=Math.floor,un="".replace,hn=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,dn=/\$([$&'`]|\d{1,2})/g,pn=function(e,t,n,r,i,s){var o=n+e.length,a=r.length,l=dn;return void 0!==i&&(i=_t(i),l=hn),un.call(s,l,function(s,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(o);case"<":c=i[l.slice(1,-1)];break;default:var u=+l;if(0===u)return s;if(u>a){var h=cn(u/10);return 0===h?s:h<=a?void 0===r[h-1]?l.charAt(1):r[h-1]+l.charAt(1):s}c=r[u-1]}return void 0===c?"":c})},fn=Math.max,gn=Math.min;function mn(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(t,"").replace(/^\s+|\s+$/g,""))}else e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,"")}function vn(e,t){var n="";if(e.style.cssText&&(n+=e.style.cssText),"string"==typeof t)n+=t;else for(var r in t)n+="".concat(r,":").concat(t[r],";");e.style.cssText=n}function yn(e){if(e){if(!this._introItems[this._currentStep])return;var t=this._introItems[this._currentStep],n=an(t.element,this._targetElement),r=this._options.helperElementPadding;ln(t.element)?Kt(e,"introjs-fixedTooltip"):mn(e,"introjs-fixedTooltip"),"floating"===t.position&&(r=0),vn(e,{width:"".concat(n.width+r,"px"),height:"".concat(n.height+r,"px"),top:"".concat(n.top-r/2,"px"),left:"".concat(n.left-r/2,"px")})}}pt("replace",2,function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,s=r.REPLACE_KEEPS_$0,o=i?"$":"$0";return[function(n,r){var i=y(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&s||"string"==typeof r&&-1===r.indexOf(o)){var a=n(t,e,this,r);if(a.done)return a.value}var l=O(e),c=String(this),u="function"==typeof r;u||(r=String(r));var h=l.global;if(h){var d=l.unicode;l.lastIndex=0}for(var p=[];;){var f=vt(l,c);if(null===f)break;if(p.push(f),!h)break;""===String(f[0])&&(l.lastIndex=mt(c,de(l.lastIndex),d))}for(var g,m="",v=0,y=0;y<p.length;y++){f=p[y];for(var _=String(f[0]),b=fn(gn(ue(f.index),c.length),0),w=[],x=1;x<f.length;x++)w.push(void 0===(g=f[x])?g:String(g));var E=f.groups;if(u){var C=[_].concat(w,b,c);void 0!==E&&C.push(E);var S=String(r.apply(void 0,C))}else S=pn(_,c,b,w,E,r);b>=v&&(m+=c.slice(v,b)+S,v=b+_.length)}return m+c.slice(v)}]});var _n,bn=c?Object.defineProperties:function(e,t){O(e);for(var n,r=nn(t),i=r.length,s=0;i>s;)N.f(e,n=r[s++],t[n]);return e},wn=ae("document","documentElement"),xn=Y("IE_PROTO"),En=function(){},Cn=function(e){return"<script>"+e+"<\/script>"},Sn=function(){try{_n=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var e,t;Sn=_n?function(e){e.write(Cn("")),e.close();var t=e.parentWindow.Object;return e=null,t}(_n):((t=k("iframe")).style.display="none",wn.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Cn("document.F=Object")),e.close(),e.F);for(var n=be.length;n--;)delete Sn.prototype[be[n]];return Sn()};K[xn]=!0;var kn=Object.create||function(e,t){var n;return null!==e?(En.prototype=O(e),n=new En,En.prototype=null,n[xn]=e):n=Sn(),void 0===t?n:bn(n,t)},Tn=ot("unscopables"),An=Array.prototype;null==An[Tn]&&N.f(An,Tn,{configurable:!0,value:kn(null)});var Dn,On=ve.includes;Me({target:"Array",proto:!0},{includes:function(e){return On(this,e,arguments.length>1?arguments[1]:void 0)}}),Dn="includes",An[Tn][Dn]=!0;var In=Ct("slice"),Nn=ot("species"),Pn=[].slice,Mn=Math.max;Me({target:"Array",proto:!0,forced:!In},{slice:function(e,t){var n,r,i,s=_(this),o=de(s.length),a=ge(e,o),l=ge(void 0===t?o:t,o);if(yt(s)&&("function"!=typeof(n=s.constructor)||n!==Array&&!yt(n.prototype)?b(n)&&null===(n=n[Nn])&&(n=void 0):n=void 0,n===Array||void 0===n))return Pn.call(s,a,l);for(r=new(void 0===n?Array:n)(Mn(l-a,0)),i=0;a<l;a++,i++)a in s&&bt(r,i,s[a]);return r.length=i,r}});var Rn=function(e){if(Ht(e))throw TypeError("The method doesn't accept regular expressions");return e},Ln=ot("match");Me({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Ln]=!1,"/./"[e](t)}catch(r){}}return!1}("includes")},{includes:function(e){return!!~String(y(this)).indexOf(Rn(e),arguments.length>1?arguments[1]:void 0)}});var Fn,jn,Bn=[].join,Vn=v!=Object,zn=(Fn=",",!!(jn=[].join)&&l(function(){jn.call(null,Fn||function(){throw 1},1)}));Me({target:"Array",proto:!0,forced:Vn||!zn},{join:function(e){return Bn.call(_(this),void 0===e?",":e)}});var Un=[].push,Hn=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,s=6==e,o=7==e,a=5==e||s;return function(l,c,u,h){for(var d,p,f=_t(l),g=v(f),m=function(e,t,n){if($t(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}(c,u,3),y=de(g.length),_=0,b=h||xt,w=t?b(l,y):n||o?b(l,0):void 0;y>_;_++)if((a||_ in g)&&(p=m(d=g[_],_,f),e))if(t)w[_]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return _;case 2:Un.call(w,d)}else switch(e){case 4:return!1;case 7:Un.call(w,d)}return s?-1:r||i?i:w}},$n=[Hn(0),Hn(1),Hn(2),Hn(3),Hn(4),Hn(5),Hn(6),Hn(7)][2];function qn(e,t,n,r,i){return e.left+t+n.width>r.width?(i.style.left="".concat(r.width-n.width-e.left,"px"),!1):(i.style.left="".concat(t,"px"),!0)}function Gn(e,t,n,r){return e.left+e.width-t-n.width<0?(r.style.left="".concat(-e.left,"px"),!1):(r.style.right="".concat(t,"px"),!0)}Me({target:"Array",proto:!0,forced:!Ct("filter")},{filter:function(e){return $n(this,e,arguments.length>1?arguments[1]:void 0)}});var Wn=Ct("splice"),Xn=Math.max,Yn=Math.min,Kn=9007199254740991,Zn="Maximum allowed length exceeded";function Qn(e,t){e.includes(t)&&e.splice(e.indexOf(t),1)}function Jn(e,t,n){var r=this._options.positionPrecedence.slice(),i=Jt(),s=an(t).height+10,o=an(t).width+20,a=e.getBoundingClientRect(),l="floating";a.bottom+s>i.height&&Qn(r,"bottom"),a.top-s<0&&Qn(r,"top"),a.right+o>i.width&&Qn(r,"right"),a.left-o<0&&Qn(r,"left");var c,u,h=-1!==(u=(c=n||"").indexOf("-"))?c.substr(u):"";return n&&(n=n.split("-")[0]),r.length&&(l=r.includes(n)?n:r[0]),["top","bottom"].includes(l)&&(l+=function(e,t,n,r){var i=n.width,s=t/2,o=Math.min(i,window.screen.width),a=["-left-aligned","-middle-aligned","-right-aligned"];return o-e<t&&Qn(a,"-left-aligned"),(e<s||o-e<s)&&Qn(a,"-middle-aligned"),e<t&&Qn(a,"-right-aligned"),a.length?a.includes(r)?r:a[0]:"-middle-aligned"}(a.left,o,i,h)),l}function er(e,t,n,r){var i,s,o,a,l,c="";if(r=r||!1,t.style.top=null,t.style.right=null,t.style.bottom=null,t.style.left=null,t.style.marginLeft=null,t.style.marginTop=null,n.style.display="inherit",this._introItems[this._currentStep])switch(c="string"==typeof(i=this._introItems[this._currentStep]).tooltipClass?i.tooltipClass:this._options.tooltipClass,t.className=["introjs-tooltip",c].filter(Boolean).join(" "),t.setAttribute("role","dialog"),"floating"!==(l=this._introItems[this._currentStep].position)&&this._options.autoPosition&&(l=Jn.call(this,e,t,l)),o=an(e),s=an(t),a=Jt(),Kt(t,"introjs-".concat(l)),l){case"top-right-aligned":n.className="introjs-arrow bottom-right";var u=0;Gn(o,u,s,t),t.style.bottom="".concat(o.height+20,"px");break;case"top-middle-aligned":n.className="introjs-arrow bottom-middle";var h=o.width/2-s.width/2;r&&(h+=5),Gn(o,h,s,t)&&(t.style.right=null,qn(o,h,s,a,t)),t.style.bottom="".concat(o.height+20,"px");break;case"top-left-aligned":case"top":n.className="introjs-arrow bottom",qn(o,r?0:15,s,a,t),t.style.bottom="".concat(o.height+20,"px");break;case"right":t.style.left="".concat(o.width+20,"px"),o.top+s.height>a.height?(n.className="introjs-arrow left-bottom",t.style.top="-".concat(s.height-o.height-20,"px")):n.className="introjs-arrow left";break;case"left":r||!0!==this._options.showStepNumbers||(t.style.top="15px"),o.top+s.height>a.height?(t.style.top="-".concat(s.height-o.height-20,"px"),n.className="introjs-arrow right-bottom"):n.className="introjs-arrow right",t.style.right="".concat(o.width+20,"px");break;case"floating":n.style.display="none",t.style.left="50%",t.style.top="50%",t.style.marginLeft="-".concat(s.width/2,"px"),t.style.marginTop="-".concat(s.height/2,"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",Gn(o,u=0,s,t),t.style.top="".concat(o.height+20,"px");break;case"bottom-middle-aligned":n.className="introjs-arrow top-middle",h=o.width/2-s.width/2,r&&(h+=5),Gn(o,h,s,t)&&(t.style.right=null,qn(o,h,s,a,t)),t.style.top="".concat(o.height+20,"px");break;default:n.className="introjs-arrow top",qn(o,0,s,a,t),t.style.top="".concat(o.height+20,"px")}}function tr(){n(document.querySelectorAll(".introjs-showElement"),function(e){mn(e,/introjs-[a-zA-Z]+/g)})}function nr(e,t){var n=document.createElement(e);t=t||{};var r=/^(?:role|data-|aria-)/;for(var i in t){var s=t[i];"style"===i?vn(n,s):i.match(r)?n.setAttribute(i,s):n[i]=s}return n}function rr(e,t,n){if(n){var r=t.style.opacity||"1";vn(t,{opacity:"0"}),window.setTimeout(function(){vn(t,{opacity:r})},10)}e.appendChild(t)}function ir(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}function sr(){var e=document.querySelector(".introjs-disableInteraction");null===e&&(e=nr("div",{className:"introjs-disableInteraction"}),this._targetElement.appendChild(e)),yn.call(this,e)}function or(e){var t=this;void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,e.element);var r,i,s,o=this,a=document.querySelector(".introjs-helperLayer"),l=document.querySelector(".introjs-tooltipReferenceLayer"),c="introjs-helperLayer";if("string"==typeof e.highlightClass&&(c+=" ".concat(e.highlightClass)),"string"==typeof this._options.highlightClass&&(c+=" ".concat(this._options.highlightClass)),null!==a){var u=l.querySelector(".introjs-helperNumberLayer"),h=l.querySelector(".introjs-tooltiptext"),d=l.querySelector(".introjs-tooltip-title"),p=l.querySelector(".introjs-arrow"),f=l.querySelector(".introjs-tooltip");s=l.querySelector(".introjs-skipbutton"),i=l.querySelector(".introjs-prevbutton"),r=l.querySelector(".introjs-nextbutton"),a.className=c,f.style.opacity=0,f.style.display="none",Qt.call(o,e),yn.call(o,a),yn.call(o,l),tr(),o._lastShowElementTimer&&window.clearTimeout(o._lastShowElementTimer),o._lastShowElementTimer=window.setTimeout(function(){null!==u&&(u.innerHTML="".concat(e.step," of ").concat(t._introItems.length)),h.innerHTML=e.intro,d.innerHTML=e.title,f.style.display="block",er.call(o,e.element,f,p),o._options.showBullets&&(l.querySelector(".introjs-bullets li > a.active").className="",l.querySelector('.introjs-bullets li > a[data-stepnumber="'.concat(e.step,'"]')).className="active"),l.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:".concat(ir.call(o),"%;"),l.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",ir.call(o)),f.style.opacity=1,(null!=r&&/introjs-donebutton/gi.test(r.className)||null!=r)&&r.focus(),en.call(o,e.scrollTo,e,h)},350)}else{var g=nr("div",{className:c}),m=nr("div",{className:"introjs-tooltipReferenceLayer"}),v=nr("div",{className:"introjs-arrow"}),y=nr("div",{className:"introjs-tooltip"}),_=nr("div",{className:"introjs-tooltiptext"}),b=nr("div",{className:"introjs-tooltip-header"}),w=nr("h1",{className:"introjs-tooltip-title"}),x=nr("div",{className:"introjs-bullets"}),E=nr("div"),C=nr("div");vn(g,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(o._options.overlayOpacity.toString(),") 0 0 0 5000px")}),Qt.call(o,e),yn.call(o,g),yn.call(o,m),rr(this._targetElement,g,!0),rr(this._targetElement,m),_.innerHTML=e.intro,w.innerHTML=e.title,!1===this._options.showBullets&&(x.style.display="none");var S=nr("ul");S.setAttribute("role","tablist");var k=function(){o.goToStep(this.getAttribute("data-stepnumber"))};n(this._introItems,function(t,n){var r=t.step,i=nr("li"),s=nr("a");i.setAttribute("role","presentation"),s.setAttribute("role","tab"),s.onclick=k,n===e.step-1&&(s.className="active"),tn(s),s.innerHTML="&nbsp;",s.setAttribute("data-stepnumber",r),i.appendChild(s),S.appendChild(i)}),x.appendChild(S),E.className="introjs-progress",!1===this._options.showProgress&&(E.style.display="none");var T=nr("div",{className:"introjs-progressbar"});this._options.progressBarAdditionalClass&&(T.className+=" "+this._options.progressBarAdditionalClass),T.setAttribute("role","progress"),T.setAttribute("aria-valuemin",0),T.setAttribute("aria-valuemax",100),T.setAttribute("aria-valuenow",ir.call(this)),T.style.cssText="width:".concat(ir.call(this),"%;"),E.appendChild(T),C.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(C.style.display="none"),b.appendChild(w),y.appendChild(b),y.appendChild(_),y.appendChild(x),y.appendChild(E);var A=nr("div");!0===this._options.showStepNumbers&&(A.className="introjs-helperNumberLayer",A.innerHTML="".concat(e.step," of ").concat(this._introItems.length),y.appendChild(A)),y.appendChild(v),m.appendChild(y),(r=nr("a")).onclick=function(){o._introItems.length-1!==o._currentStep?cr.call(o):/introjs-donebutton/gi.test(r.className)&&("function"==typeof o._introCompleteCallback&&o._introCompleteCallback.call(o),Or.call(o,o._targetElement))},tn(r),r.innerHTML=this._options.nextLabel,(i=nr("a")).onclick=function(){0!==o._currentStep&&ur.call(o)},tn(i),i.innerHTML=this._options.prevLabel,tn(s=nr("a",{className:"introjs-skipbutton"})),s.innerHTML=this._options.skipLabel,s.onclick=function(){o._introItems.length-1===o._currentStep&&"function"==typeof o._introCompleteCallback&&o._introCompleteCallback.call(o),"function"==typeof o._introSkipCallback&&o._introSkipCallback.call(o),Or.call(o,o._targetElement)},b.appendChild(s),this._introItems.length>1&&C.appendChild(i),C.appendChild(r),y.appendChild(C),er.call(o,e.element,y,v),en.call(this,e.scrollTo,e,y)}var D=o._targetElement.querySelector(".introjs-disableInteraction");D&&D.parentNode.removeChild(D),e.disableInteraction&&sr.call(o),0===this._currentStep&&this._introItems.length>1?(null!=r&&(r.className="".concat(this._options.buttonClass," introjs-nextbutton"),r.innerHTML=this._options.nextLabel),!0===this._options.hidePrev?(null!=i&&(i.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=r&&Kt(r,"introjs-fullbutton")):null!=i&&(i.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-disabled"))):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=i&&(i.className="".concat(this._options.buttonClass," introjs-prevbutton")),!0===this._options.hideNext?(null!=r&&(r.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=i&&Kt(i,"introjs-fullbutton")):null!=r&&(!0===this._options.nextToDone?(r.innerHTML=this._options.doneLabel,Kt(r,"".concat(this._options.buttonClass," introjs-nextbutton introjs-donebutton"))):r.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=i&&(i.className="".concat(this._options.buttonClass," introjs-prevbutton")),null!=r&&(r.className="".concat(this._options.buttonClass," introjs-nextbutton"),r.innerHTML=this._options.nextLabel)),null!=i&&i.setAttribute("role","button"),null!=r&&r.setAttribute("role","button"),null!=s&&s.setAttribute("role","button"),null!=r&&r.focus(),function(e){var t=e.element;Kt(t,"introjs-showElement");var n=Zt(t,"position");"absolute"!==n&&"relative"!==n&&"sticky"!==n&&"fixed"!==n&&Kt(t,"introjs-relativePosition")}(e),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,e.element)}function ar(e){this._currentStep=e-2,void 0!==this._introItems&&cr.call(this)}function lr(e){this._currentStepNumber=e,void 0!==this._introItems&&cr.call(this)}function cr(){var e=this;this._direction="forward",void 0!==this._currentStepNumber&&n(this._introItems,function(t,n){t.step===e._currentStepNumber&&(e._currentStep=n-1,e._currentStepNumber=void 0)}),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var t=this._introItems[this._currentStep],r=!0;return void 0!==this._introBeforeChangeCallback&&(r=this._introBeforeChangeCallback.call(this,t&&t.element)),!1===r?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void Or.call(this,this._targetElement)):void or.call(this,t)}function ur(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var e=this._introItems[this._currentStep],t=!0;if(void 0!==this._introBeforeChangeCallback&&(t=this._introBeforeChangeCallback.call(this,e&&e.element)),!1===t)return++this._currentStep,!1;or.call(this,e)}function hr(){return this._currentStep}function dr(e){var t=void 0===e.code?e.which:e.code;if(null===t&&(t=null===e.charCode?e.keyCode:e.charCode),"Escape"!==t&&27!==t||!0!==this._options.exitOnEsc){if("ArrowLeft"===t||37===t)ur.call(this);else if("ArrowRight"===t||39===t)cr.call(this);else if("Enter"===t||"NumpadEnter"===t||13===t){var n=e.target||e.srcElement;n&&n.className.match("introjs-prevbutton")?ur.call(this):n&&n.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),Or.call(this,this._targetElement)):n&&n.getAttribute("data-stepnumber")?n.click():cr.call(this),e.preventDefault?e.preventDefault():e.returnValue=!1}}else Or.call(this,this._targetElement)}function pr(t){if(null===t||"object"!==e(t)||void 0!==t.nodeType)return t;var n={};for(var r in t)void 0!==window.jQuery&&t[r]instanceof window.jQuery?n[r]=t[r]:n[r]=pr(t[r]);return n}function fr(e){var t=document.querySelector(".introjs-hints");return t?t.querySelectorAll(e):[]}function gr(e){var t=fr('.introjs-hint[data-step="'.concat(e,'"]'))[0];Cr.call(this),t&&Kt(t,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,e)}function mr(){var e=this;n(fr(".introjs-hint"),function(t){gr.call(e,t.getAttribute("data-step"))})}function vr(){var e=this,t=fr(".introjs-hint");t&&t.length?n(t,function(t){yr.call(e,t.getAttribute("data-step"))}):Sr.call(this,this._targetElement)}function yr(e){var t=fr('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&mn(t,/introjs-hidehint/g)}function _r(){var e=this;n(fr(".introjs-hint"),function(t){br.call(e,t.getAttribute("data-step"))})}function br(e){var t=fr('.introjs-hint[data-step="'.concat(e,'"]'))[0];t&&t.parentNode.removeChild(t)}function wr(){var e=this,t=this,r=document.querySelector(".introjs-hints");null===r&&(r=nr("div",{className:"introjs-hints"})),n(this._introItems,function(n,i){if(!document.querySelector('.introjs-hint[data-step="'.concat(i,'"]'))){var s=nr("a",{className:"introjs-hint"});tn(s),s.onclick=function(e){return function(n){var r=n||window.event;r.stopPropagation&&r.stopPropagation(),null!==r.cancelBubble&&(r.cancelBubble=!0),Er.call(t,e)}}(i),n.hintAnimation||Kt(s,"introjs-hint-no-anim"),ln(n.element)&&Kt(s,"introjs-fixedhint");var o=nr("div",{className:"introjs-hint-dot"}),a=nr("div",{className:"introjs-hint-pulse"});s.appendChild(o),s.appendChild(a),s.setAttribute("data-step",i),n.targetElement=n.element,n.element=s,xr.call(e,n.hintPosition,s,n.targetElement),r.appendChild(s)}}),document.body.appendChild(r),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function xr(e,t,n){var r=t.style,i=an.call(this,n),s=20,o=20;switch(e){default:case"top-left":r.left="".concat(i.left,"px"),r.top="".concat(i.top,"px");break;case"top-right":r.left="".concat(i.left+i.width-s,"px"),r.top="".concat(i.top,"px");break;case"bottom-left":r.left="".concat(i.left,"px"),r.top="".concat(i.top+i.height-o,"px");break;case"bottom-right":r.left="".concat(i.left+i.width-s,"px"),r.top="".concat(i.top+i.height-o,"px");break;case"middle-left":r.left="".concat(i.left,"px"),r.top="".concat(i.top+(i.height-o)/2,"px");break;case"middle-right":r.left="".concat(i.left+i.width-s,"px"),r.top="".concat(i.top+(i.height-o)/2,"px");break;case"middle-middle":r.left="".concat(i.left+(i.width-s)/2,"px"),r.top="".concat(i.top+(i.height-o)/2,"px");break;case"bottom-middle":r.left="".concat(i.left+(i.width-s)/2,"px"),r.top="".concat(i.top+i.height-o,"px");break;case"top-middle":r.left="".concat(i.left+(i.width-s)/2,"px"),r.top="".concat(i.top,"px")}}function Er(e){var t=document.querySelector('.introjs-hint[data-step="'.concat(e,'"]')),n=this._introItems[e];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,t,n,e);var r=Cr.call(this);if(parseInt(r,10)!==e){var i=nr("div",{className:"introjs-tooltip"}),s=nr("div"),o=nr("div"),a=nr("div");i.onclick=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},s.className="introjs-tooltiptext";var l=nr("p");l.innerHTML=n.hint;var c=nr("a");c.className=this._options.buttonClass,c.setAttribute("role","button"),c.innerHTML=this._options.hintButtonLabel,c.onclick=gr.bind(this,e),s.appendChild(l),s.appendChild(c),o.className="introjs-arrow",i.appendChild(o),i.appendChild(s),this._currentStep=t.getAttribute("data-step"),a.className="introjs-tooltipReferenceLayer introjs-hintReference",a.setAttribute("data-step",t.getAttribute("data-step")),yn.call(this,a),a.appendChild(i),document.body.appendChild(a),er.call(this,t,i,o,!0)}}function Cr(){var e=document.querySelector(".introjs-hintReference");if(e){var t=e.getAttribute("data-step");return e.parentNode.removeChild(e),t}}function Sr(e){var t=this;if(this._introItems=[],this._options.hints)n(this._options.hints,function(e){var n=pr(e);"string"==typeof n.element&&(n.element=document.querySelector(n.element)),n.hintPosition=n.hintPosition||t._options.hintPosition,n.hintAnimation=n.hintAnimation||t._options.hintAnimation,null!==n.element&&t._introItems.push(n)});else{var i=e.querySelectorAll("*[data-hint]");if(!i||!i.length)return!1;n(i,function(e){var n=e.getAttribute("data-hintanimation");n=n?"true"===n:t._options.hintAnimation,t._introItems.push({element:e,hint:e.getAttribute("data-hint"),hintPosition:e.getAttribute("data-hintposition")||t._options.hintPosition,hintAnimation:n,tooltipClass:e.getAttribute("data-tooltipclass"),position:e.getAttribute("data-position")||t._options.tooltipPosition})})}wr.call(this),r.on(document,"click",Cr,this,!1),r.on(window,"resize",kr,this,!0)}function kr(){var e=this;n(this._introItems,function(t){var n=t.targetElement,r=t.hintPosition,i=t.element;void 0!==n&&xr.call(e,r,i,n)})}function Tr(){if(yn.call(this,document.querySelector(".introjs-helperLayer")),yn.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),yn.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var e=document.querySelector(".introjs-arrow"),t=document.querySelector(".introjs-tooltip");er.call(this,this._introItems[this._currentStep].element,t,e)}return kr.call(this),this}function Ar(){Tr.call(this)}function Dr(e,t){if(e&&e.parentElement){var n=e.parentElement;t?(vn(e,{opacity:"0"}),window.setTimeout(function(){n.removeChild(e)},500)):n.removeChild(e)}}function Or(e,t){var i=!0;if(void 0!==this._introBeforeExitCallback&&(i=this._introBeforeExitCallback.call(this)),t||!1!==i){var s=e.querySelectorAll(".introjs-overlay");s&&s.length&&n(s,function(e){return Dr(e)}),Dr(e.querySelector(".introjs-helperLayer"),!0),Dr(e.querySelector(".introjs-tooltipReferenceLayer")),Dr(e.querySelector(".introjs-disableInteraction")),Dr(document.querySelector(".introjsFloatingElement")),tr(),r.off(window,"keydown",dr,this,!0),r.off(window,"resize",Ar,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function Ir(e){var t=this,n=nr("div",{className:"introjs-overlay"});return vn(n,{top:0,bottom:0,left:0,right:0,position:"fixed"}),e.appendChild(n),!0===this._options.exitOnOverlayClick&&(vn(n,{cursor:"pointer"}),n.onclick=function(){Or.call(t,e)}),!0}function Nr(e,t){var i=this,s=e.querySelectorAll("*[data-intro]"),o=[];if(this._options.steps)n(this._options.steps,function(e){var t=pr(e);if(t.step=o.length+1,t.title=t.title||"","string"==typeof t.element&&(t.element=document.querySelector(t.element)),void 0===t.element||null===t.element){var n=document.querySelector(".introjsFloatingElement");null===n&&(n=nr("div",{className:"introjsFloatingElement"}),document.body.appendChild(n)),t.element=n,t.position="floating"}t.scrollTo=t.scrollTo||i._options.scrollTo,void 0===t.disableInteraction&&(t.disableInteraction=i._options.disableInteraction),null!==t.element&&o.push(t)});else{var a;if(s.length<1)return!1;n(s,function(e){if((!t||e.getAttribute("data-intro-group")===t)&&"none"!==e.style.display){var n=parseInt(e.getAttribute("data-step"),10);a=e.hasAttribute("data-disable-interaction")?!!e.getAttribute("data-disable-interaction"):i._options.disableInteraction,n>0&&(o[n-1]={element:e,title:e.getAttribute("data-title")||"",intro:e.getAttribute("data-intro"),step:parseInt(e.getAttribute("data-step"),10),tooltipClass:e.getAttribute("data-tooltipclass"),highlightClass:e.getAttribute("data-highlightclass"),position:e.getAttribute("data-position")||i._options.tooltipPosition,scrollTo:e.getAttribute("data-scrollto")||i._options.scrollTo,disableInteraction:a})}});var l=0;n(s,function(e){if((!t||e.getAttribute("data-intro-group")===t)&&null===e.getAttribute("data-step")){for(;void 0!==o[l];)l++;a=e.hasAttribute("data-disable-interaction")?!!e.getAttribute("data-disable-interaction"):i._options.disableInteraction,o[l]={element:e,title:e.getAttribute("data-title")||"",intro:e.getAttribute("data-intro"),step:l+1,tooltipClass:e.getAttribute("data-tooltipclass"),highlightClass:e.getAttribute("data-highlightclass"),position:e.getAttribute("data-position")||i._options.tooltipPosition,scrollTo:e.getAttribute("data-scrollto")||i._options.scrollTo,disableInteraction:a}}})}for(var c=[],u=0;u<o.length;u++)o[u]&&c.push(o[u]);return(o=c).sort(function(e,t){return e.step-t.step}),this._introItems=o,Ir.call(this,e)&&(cr.call(this),this._options.keyboardNavigation&&r.on(window,"keydown",dr,this,!0),r.on(window,"resize",Ar,this,!0)),!1}function Pr(e){this._targetElement=e,this._introItems=[],this._options={nextLabel:"Next",prevLabel:"Back",skipLabel:"\xd7",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}Me({target:"Array",proto:!0,forced:!Wn},{splice:function(e,t){var n,r,i,s,o,a,l=_t(this),c=de(l.length),u=ge(e,c),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=c-u):(n=h-2,r=Yn(Xn(ue(t),0),c-u)),c+n-r>Kn)throw TypeError(Zn);for(i=xt(l,r),s=0;s<r;s++)(o=u+s)in l&&bt(i,s,l[o]);if(i.length=r,n<r){for(s=u;s<c-r;s++)a=s+n,(o=s+r)in l?l[a]=l[o]:delete l[a];for(s=c;s>c-r+n;s--)delete l[s-1]}else if(n>r)for(s=c-r;s>u;s--)a=s+n-1,(o=s+r-1)in l?l[a]=l[o]:delete l[a];for(s=0;s<n;s++)l[s+u]=arguments[s+2];return l.length=c-r+n,i}});var Mr=function n(r){var i;if("object"===e(r))i=new Pr(r);else if("string"==typeof r){var s=document.querySelector(r);if(!s)throw new Error("There is no element with given selector.");i=new Pr(s)}else i=new Pr(document.body);return n.instances[t(i,"introjs-instance")]=i,i};return Mr.version="3.4.0",Mr.instances={},Mr.fn=Pr.prototype={clone:function(){return new Pr(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){return this._options=function(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}(this._options,e),this},start:function(e){return Nr.call(this,this._targetElement,e),this},goToStep:function(e){return ar.call(this,e),this},addStep:function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},addSteps:function(e){if(e.length){for(var t=0;t<e.length;t++)this.addStep(e[t]);return this}},goToStepNumber:function(e){return lr.call(this,e),this},nextStep:function(){return cr.call(this),this},previousStep:function(){return ur.call(this),this},currentStep:function(){return hr.call(this)},exit:function(e){return Or.call(this,this._targetElement,e),this},refresh:function(){return Tr.call(this),this},onbeforechange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},onchange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},onafterchange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},oncomplete:function(e){if("function"!=typeof e)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},onhintsadded:function(e){if("function"!=typeof e)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},onhintclick:function(e){if("function"!=typeof e)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},onhintclose:function(e){if("function"!=typeof e)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},onexit:function(e){if("function"!=typeof e)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},onskip:function(e){if("function"!=typeof e)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},onbeforeexit:function(e){if("function"!=typeof e)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},addHints:function(){return Sr.call(this,this._targetElement),this},hideHint:function(e){return gr.call(this,e),this},hideHints:function(){return mr.call(this),this},showHint:function(e){return yr.call(this,e),this},showHints:function(){return vr.call(this),this},removeHints:function(){return _r.call(this),this},removeHint:function(e){return br().call(this,e),this},showHintDialog:function(e){return Er.call(this,e),this}},Mr},e.exports=r()},R5Y4:function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,i,s){for(var o=-1,a=r(n((t-e)/(i||1)),0),l=Array(a);a--;)l[s?a:++o]=e,e+=i;return l}},RBan:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},ROFb:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(n("9/5/")),s=r(n("F1pL"));function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d="undefined"==typeof window?null:window,p=d?d.navigator:null,f=(d&&d.document,o("")),g=o({}),m=o(function(){}),v="undefined"==typeof HTMLElement?"undefined":o(HTMLElement),y=function(e){return e&&e.instanceString&&b(e.instanceString)?e.instanceString():null},_=function(e){return null!=e&&o(e)==f},b=function(e){return null!=e&&o(e)===m},w=function(e){return!S(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},x=function(e){return null!=e&&o(e)===g&&!w(e)&&e.constructor===Object},E=function(e){return null!=e&&o(e)===o(1)&&!isNaN(e)},C=function(e){return"undefined"===v?void 0:null!=e&&e instanceof HTMLElement},S=function(e){return k(e)||T(e)},k=function(e){return"collection"===y(e)&&e._private.single},T=function(e){return"collection"===y(e)&&!e._private.single},A=function(e){return"core"===y(e)},D=function(e){return"stylesheet"===y(e)},O=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},I=function(e){return function(e){return null!=e&&o(e)===g}(e)&&b(e.then)},N=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var r,i=this,s=arguments,o=t.apply(i,s),a=n.cache;return(r=a[o])||(r=a[o]=e.apply(i,s)),r};return n.cache={},n},P=N(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),M=N(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),R=N(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),L=function(e){return O(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},F="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",j=function(e,t){return e<t?-1:e>t?1:0},B=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),s=0;s<i.length;s++){var o=i[s];e[o]=r[o]}}return e},V=function(e){return(w(e)?e:null)||function(e){return z[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,i=16;return 4===e.length?(t=parseInt(e[1]+e[1],i),n=parseInt(e[2]+e[2],i),r=parseInt(e[3]+e[3],i)):(t=parseInt(e[1]+e[2],i),n=parseInt(e[3]+e[4],i),r=parseInt(e[5]+e[6],i)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var s=n[i];if("%"===s[s.length-1]&&(r[i]=!0),s=parseFloat(s),r[i]&&(s=s/100*255),s<0||s>255)return;t.push(Math.floor(s))}var o=r[1]||r[2]||r[3],a=r[1]&&r[2]&&r[3];if(o&&!a)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t}(e)||function(e){var t,n,r,i,s,o,a,l;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var u=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(u){if((n=parseInt(u[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(u[2]))<0||r>100)return;if(r/=100,(i=parseFloat(u[3]))<0||i>100)return;if(i/=100,void 0!==(s=u[4])&&((s=parseFloat(s))<0||s>1))return;if(0===r)o=a=l=Math.round(255*i);else{var h=i<.5?i*(1+r):i+r-i*r,d=2*i-h;o=Math.round(255*c(d,h,n+1/3)),a=Math.round(255*c(d,h,n)),l=Math.round(255*c(d,h,n-1/3))}t=[o,a,l,s]}return t}(e)},z={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},U=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var s=n[i];if(x(s))throw Error("Tried to set map with object key");i<n.length-1?(null==t[s]&&(t[s]={}),t=t[s]):t[s]=e.value}},H=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var s=n[i];if(x(s))throw Error("Tried to get map with object key");if(null==(t=t[s]))return t}return t},$=d?d.performance:null,q=$&&$.now?function(){return $.now()}:function(){return Date.now()},G=function(){if(d){if(d.requestAnimationFrame)return function(e){d.requestAnimationFrame(e)};if(d.mozRequestAnimationFrame)return function(e){d.mozRequestAnimationFrame(e)};if(d.webkitRequestAnimationFrame)return function(e){d.webkitRequestAnimationFrame(e)};if(d.msRequestAnimationFrame)return function(e){d.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(q())},1e3/60)}}(),W=function(e){return G(e)},X=q,Y=9261,K=65599,Z=5381,Q=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,r=n;!(t=e.next()).done;)r=r*K+t.value|0;return r},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y;return t*K+e|0},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;return(t<<5)+t+e|0},te=function(e){return 2097152*e[0]+e[1]},ne=function(e,t){return[J(e[0],t[0]),ee(e[1],t[1])]},re=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return Q({next:function(){return r<i?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},ie=function(){return se(arguments)},se=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?re(r):re(r,t)}return t},oe=!0,ae=null!=console.warn,le=null!=console.trace,ce=Number.MAX_SAFE_INTEGER||9007199254740991,ue=function(){return!0},he=function(){return!1},de=function(){return 0},pe=function(){},fe=function(e){throw new Error(e)},ge=function(e){if(void 0===e)return oe;oe=!!e},me=function(e){ge()&&(ae?console.warn(e):(console.log(e),le&&console.trace()))},ve=function(e){return null==e?e:w(e)?e.slice():x(e)?function(e){return B({},e)}(e):e},ye=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},_e={},be=function(){return _e},we=function(e){var t=Object.keys(e);return function(n){for(var r={},i=0;i<t.length;i++){var s=t[i],o=null==n?void 0:n[s];r[s]=void 0===o?e[s]:o}return r}},xe=function(e,t,n){for(var r=e.length-1;r>=0&&(e[r]!==t||(e.splice(r,1),!n));r--);},Ee=function(e){e.splice(0,e.length)},Ce=function(e,t,n){return n&&(t=R(n,t)),e[t]},Se=function(e,t,n,r){n&&(t=R(n,t)),e[t]=r},ke="undefined"!=typeof Map?Map:function(){function e(){a(this,e),this._obj={}}return c(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),Te=function(){function e(t){if(a(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}}return c(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Ae="undefined"!==("undefined"==typeof Set?"undefined":o(Set))?Set:Te,De=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&A(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new Ae,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),t.renderedPosition){var s=t.renderedPosition,o=e.pan(),a=e.zoom();i.position={x:(s.x-o.x)/a,y:(s.y-o.y)/a}}var l=[];w(t.classes)?l=t.classes:_(t.classes)&&(l=t.classes.split(/\s+/));for(var c=0,u=l.length;c<u;c++){var h=l[c];h&&""!==h&&i.classes.add(h)}this.createEmitter();var d=t.style||t.css;d&&(me("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(void 0===n||n)&&this.restore()}else fe("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else fe("An element must have a core reference and parameters set")},Oe=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var i;x(t)&&!S(t)&&(t=(i=t).roots||i.root,n=i.visit,r=i.directed),r=2!==arguments.length||b(n)?r:n,n=b(n)?n:function(){};for(var s,o=this._private.cy,a=t=_(t)?this.filter(t):t,l=[],c=[],u={},h={},d={},p=0,f=this.byGroup(),g=f.nodes,m=f.edges,v=0;v<a.length;v++){var y=a[v],w=y.id();y.isNode()&&(l.unshift(y),e.bfs&&(d[w]=!0,c.push(y)),h[w]=0)}var E=function(){var t=e.bfs?l.shift():l.pop(),i=t.id();if(e.dfs){if(d[i])return"continue";d[i]=!0,c.push(t)}var o,a=h[i],f=u[i],v=null!=f?f.source():null,y=null!=f?f.target():null,_=null==f?void 0:t.same(v)?y[0]:v[0];if(!0===(o=n(t,f,_,p++,a)))return s=t,"break";if(!1===o)return"break";for(var b=t.connectedEdges().filter(function(e){return(!r||e.source().same(t))&&m.has(e)}),w=0;w<b.length;w++){var x=b[w],E=x.connectedNodes().filter(function(e){return!e.same(t)&&g.has(e)}),C=E.id();0===E.length||d[C]||(E=E[0],l.push(E),e.bfs&&(d[C]=!0,c.push(E)),u[C]=x,h[C]=h[i]+1)}};e:for(;0!==l.length;){var C=E();switch(C){case"continue":continue;case"break":break e}}for(var k=o.collection(),T=0;T<c.length;T++){var A=c[T],D=u[A.id()];null!=D&&k.push(D),k.push(A)}return{path:o.collection(k),found:o.collection(s)}}},Ie={breadthFirstSearch:Oe({bfs:!0}),depthFirstSearch:Oe({dfs:!0})};Ie.bfs=Ie.breadthFirstSearch,Ie.dfs=Ie.depthFirstSearch;var Ne=we({root:null,weight:function(e){return 1},directed:!1}),Pe={dijkstra:function(e){if(!x(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=Ne(e),r=n.root,i=n.weight,o=n.directed,a=this,l=i,c=_(r)?this.filter(r)[0]:r[0],u={},h={},d={},p=this.byGroup(),f=p.nodes,g=p.edges;g.unmergeBy(function(e){return e.isLoop()});for(var m=function(e){return u[e.id()]},v=function(e,t){u[e.id()]=t,y.updateItem(e)},y=new s(function(e,t){return m(e)-m(t)}),b=0;b<f.length;b++){var w=f[b];u[w.id()]=w.same(c)?0:1/0,y.push(w)}for(var E=function(e,t){for(var n,r=(o?e.edgesTo(t):e.edgesWith(t)).intersect(g),i=1/0,s=0;s<r.length;s++){var a=r[s],c=l(a);(c<i||!n)&&(i=c,n=a)}return{edge:n,dist:i}};y.size()>0;){var C=y.pop(),S=m(C),k=C.id();if(d[k]=S,S!==1/0)for(var T=C.neighborhood().intersect(f),A=0;A<T.length;A++){var D=T[A],O=D.id(),I=E(C,D),N=S+I.dist;N<m(D)&&(v(D,N),h[O]={node:C,edge:I.edge})}}return{distanceTo:function(e){var t=_(e)?f.filter(e)[0]:e[0];return d[t.id()]},pathTo:function(e){var t=_(e)?f.filter(e)[0]:e[0],n=[],r=t,i=r.id();if(t.length>0)for(n.unshift(t);h[i];){var s=h[i];n.unshift(s.edge),n.unshift(s.node),i=(r=s.node).id()}return a.spawn(n)}}}},Me={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,i=n.length,s=new Array(i),o=n,a=function(e){for(var t=0;t<s.length;t++){if(s[t].has(e))return t}},l=0;l<i;l++)s[l]=this.spawn(n[l]);for(var c=r.sort(function(t,n){return e(t)-e(n)}),u=0;u<c.length;u++){var h=c[u],d=h.source()[0],p=h.target()[0],f=a(d),g=a(p),m=s[f],v=s[g];f!==g&&(o.merge(h),m.merge(v),s.splice(g,1))}return o}},Re=we({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Le={aStar:function(e){var t=this.cy(),n=Re(e),r=n.root,i=n.goal,o=n.heuristic,a=n.directed,l=n.weight;r=t.collection(r)[0],i=t.collection(i)[0];var c,u,h=r.id(),d=i.id(),p={},f={},g={},m=new s(function(e,t){return f[e.id()]-f[t.id()]}),v=new Ae,y={},_={},b=function(e,t){m.push(e),v.add(t)};b(r,h),p[h]=0,f[h]=o(r);for(var w,x=0;m.size()>0;){if(c=m.pop(),u=c.id(),v.delete(u),x++,u===d){for(var E=[],C=i,S=d,k=_[S];E.unshift(C),null!=k&&E.unshift(k),null!=(C=y[S]);)k=_[S=C.id()];return{found:!0,distance:p[u],path:this.spawn(E),steps:x}}g[u]=!0;for(var T=c._private.edges,A=0;A<T.length;A++){var D=T[A];if(this.hasElementWithId(D.id())&&(!a||D.data("source")===u)){var O=D.source(),I=D.target(),N=O.id()!==u?O:I,P=N.id();if(this.hasElementWithId(P)&&!g[P]){var M=p[u]+l(D);w=P,v.has(w)?M<p[P]&&(p[P]=M,f[P]=M+o(N),y[P]=c,_[P]=D):(p[P]=M,f[P]=M+o(N),b(N,P),y[P]=c,_[P]=D)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},Fe=we({weight:function(e){return 1},directed:!1}),je={floydWarshall:function(e){for(var t=this.cy(),n=Fe(e),r=n.weight,i=n.directed,s=r,o=this.byGroup(),a=o.nodes,l=o.edges,c=a.length,u=c*c,h=function(e){return a.indexOf(e)},d=function(e){return a[e]},p=new Array(u),f=0;f<u;f++){var g=f%c,m=(f-g)/c;p[f]=m===g?0:1/0}for(var v=new Array(u),y=new Array(u),b=0;b<l.length;b++){var w=l[b],x=w.source()[0],E=w.target()[0];if(x!==E){var C=h(x),S=h(E),k=C*c+S,T=s(w);if(p[k]>T&&(p[k]=T,v[k]=S,y[k]=w),!i){var A=S*c+C;!i&&p[A]>T&&(p[A]=T,v[A]=C,y[A]=w)}}}for(var D=0;D<c;D++)for(var O=0;O<c;O++)for(var I=O*c+D,N=0;N<c;N++){var P=O*c+N,M=D*c+N;p[I]+p[M]<p[P]&&(p[P]=p[I]+p[M],v[P]=v[I])}var R=function(e){return h(function(e){return(_(e)?t.filter(e):e)[0]}(e))};return{distance:function(e,t){var n=R(e),r=R(t);return p[n*c+r]},path:function(e,n){var r=R(e),i=R(n),s=d(r);if(r===i)return s.collection();if(null==v[r*c+i])return t.collection();var o,a=t.collection(),l=r;for(a.merge(s);r!==i;)l=r,r=v[r*c+i],o=y[l*c+r],a.merge(o),a.merge(d(r));return a}}}},Be=we({weight:function(e){return 1},directed:!1,root:null}),Ve={bellmanFord:function(e){var t=this,n=Be(e),r=n.weight,i=n.directed,s=n.root,o=r,a=this,l=this.cy(),c=this.byGroup(),u=c.edges,h=c.nodes,d=h.length,p=new ke,f=!1;s=l.collection(s)[0],u.unmergeBy(function(e){return e.isLoop()});for(var g=u.length,m=function(e){var t=p.get(e.id());return t||(t={},p.set(e.id(),t)),t},v=function(e){return(_(e)?l.$(e):e)[0]},y=0;y<d;y++){var b=h[y],w=m(b);b.same(s)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var x=!1,E=function(e,t,n,r,i,s){var o=r.dist+s;o<i.dist&&!n.same(r.edge)&&(i.dist=o,i.pred=e,i.edge=n,x=!0)},C=1;C<d;C++){x=!1;for(var S=0;S<g;S++){var k=u[S],T=k.source(),A=k.target(),D=o(k),O=m(T),I=m(A);E(T,0,k,O,I,D),i||E(A,0,k,I,O,D)}if(!x)break}if(x)for(var N=0;N<g;N++){var P=u[N],M=P.source(),R=P.target(),L=o(P),F=m(M).dist,j=m(R).dist;if(F+L<j||!i&&j+L<F){me("Graph contains a negative weight cycle for Bellman-Ford"),f=!0;break}}return{distanceTo:function(e){return m(v(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=v(e),i=[],o=r;;){if(null==o)return t.spawn();var l=m(o),c=l.edge,u=l.pred;if(i.unshift(o[0]),o.same(n)&&i.length>0)break;null!=c&&i.unshift(c),o=u}return a.spawn(i)},hasNegativeWeightCycle:f,negativeWeightCycles:[]}}},ze=Math.sqrt(2),Ue=function(e,t,n){0===n.length&&fe("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],i=r[1],s=r[2],o=t[i],a=t[s],l=n,c=l.length-1;c>=0;c--){var u=l[c],h=u[1],d=u[2];(t[h]===o&&t[d]===a||t[h]===a&&t[d]===o)&&l.splice(c,1)}for(var p=0;p<l.length;p++){var f=l[p];f[1]===a?(l[p]=f.slice(),l[p][1]=o):f[2]===a&&(l[p]=f.slice(),l[p][2]=o)}for(var g=0;g<t.length;g++)t[g]===a&&(t[g]=o);return l},He=function(e,t,n,r){for(;n>r;){var i=Math.floor(Math.random()*t.length);t=Ue(i,e,t),n--}return t},$e={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy(function(e){return e.isLoop()});var i=n.length,s=r.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),a=Math.floor(i/ze);if(!(i<2)){for(var l=[],c=0;c<s;c++){var u=r[c];l.push([c,n.indexOf(u.source()),n.indexOf(u.target())])}for(var h=1/0,d=[],p=new Array(i),f=new Array(i),g=new Array(i),m=function(e,t){for(var n=0;n<i;n++)t[n]=e[n]},v=0;v<=o;v++){for(var y=0;y<i;y++)f[y]=y;var _=He(f,l.slice(),i,a),b=_.slice();m(f,g);var w=He(f,_,a,2),x=He(g,b,a,2);w.length<=x.length&&w.length<h?(h=w.length,d=w,m(f,p)):x.length<=w.length&&x.length<h&&(h=x.length,d=x,m(g,p))}for(var E=this.spawn(d.map(function(e){return r[e[0]]})),C=this.spawn(),S=this.spawn(),k=p[0],T=0;T<p.length;T++){var A=p[T],D=n[T];A===k?C.merge(D):S.merge(D)}var O=function(t){var n=e.spawn();return t.forEach(function(t){n.merge(t),t.connectedEdges().forEach(function(t){e.contains(t)&&!E.contains(t)&&n.merge(t)})}),n},I=[O(C),O(S)];return{cut:E,components:I,partition1:C,partition2:S}}fe("At least 2 nodes are required for Karger-Stein algorithm")}},qe=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},Ge=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},We=function(e){return{x:e[0],y:e[1]}},Xe=function(e,t){return Math.atan2(t,e)-Math.PI/2},Ye=Math.log2||function(e){return Math.log(e)/Math.log(2)},Ke=function(e){return e>0?1:e<0?-1:0},Ze=function(e,t){return Math.sqrt(Qe(e,t))},Qe=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},Je=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var i=0;i<t;i++)e[i]=e[i]/n;return e},et=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},tt=function(e,t,n,r){return{x:et(e.x,t.x,n.x,r),y:et(e.y,t.y,n.y,r)}},nt=function(e,t,n){return Math.max(e,Math.min(n,t))},rt=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},it=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ot=function(e){var t,n,r,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)t=n=r=i=s[0];else if(2===s.length)t=r=s[0],i=n=s[1];else if(4===s.length){var o=h(s,4);t=o[0],n=o[1],r=o[2],i=o[3]}return e.x1-=i,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},at=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},lt=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},ct=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},ut=function(e,t){return ct(e,t.x1,t.y1)&&ct(e,t.x2,t.y2)},ht=function(e,t,n,r,i,s,o){var a,l=Dt(i,s),c=i/2,u=s/2,h=r-u-o;if((a=Et(e,t,n,r,n-c+l-o,h,n+c-l+o,h,!1)).length>0)return a;var d=n+c+o;if((a=Et(e,t,n,r,d,r-u+l-o,d,r+u-l+o,!1)).length>0)return a;var p=r+u+o;if((a=Et(e,t,n,r,n-c+l-o,p,n+c-l+o,p,!1)).length>0)return a;var f,g=n-c-o;if((a=Et(e,t,n,r,g,r-u+l-o,g,r+u-l+o,!1)).length>0)return a;var m=n-c+l,v=r-u+l;if((f=wt(e,t,n,r,m,v,l+o)).length>0&&f[0]<=m&&f[1]<=v)return[f[0],f[1]];var y=n+c-l,_=r-u+l;if((f=wt(e,t,n,r,y,_,l+o)).length>0&&f[0]>=y&&f[1]<=_)return[f[0],f[1]];var b=n+c-l,w=r+u-l;if((f=wt(e,t,n,r,b,w,l+o)).length>0&&f[0]>=b&&f[1]>=w)return[f[0],f[1]];var x=n-c+l,E=r+u-l;return(f=wt(e,t,n,r,x,E,l+o)).length>0&&f[0]<=x&&f[1]>=E?[f[0],f[1]]:[]},dt=function(e,t,n,r,i,s,o){var a=o,l=Math.min(n,i),c=Math.max(n,i),u=Math.min(r,s),h=Math.max(r,s);return l-a<=e&&e<=c+a&&u-a<=t&&t<=h+a},pt=function(e,t,n,r,i,s,o,a,l){var c=Math.min(n,o,i)-l,u=Math.max(n,o,i)+l,h=Math.min(r,a,s)-l,d=Math.max(r,a,s)+l;return!(e<c||e>u||t<h||t>d)},ft=function(e,t,n,r,i,s,o,a){var l=[];!function(e,t,n,r,i){var s,o,a,l,c,u,h,d;0===e&&(e=1e-5),a=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),s=(o=(3*n-t*t)/9)*o*o+(a/=54)*a,i[1]=0,h=t/3,s>0?(c=(c=a+Math.sqrt(s))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),u=(u=a-Math.sqrt(s))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-h+c+u,h+=(c+u)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-u+c)/2,i[3]=h,i[5]=-h):(i[5]=i[3]=0,0===s?(d=a<0?-Math.pow(-a,1/3):Math.pow(a,1/3),i[0]=2*d-h,i[4]=i[2]=-(d+h)):(l=(o=-o)*o*o,l=Math.acos(a/Math.sqrt(l)),d=2*Math.sqrt(o),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),i[4]=-h+d*Math.cos((l+4*Math.PI)/3)))}(1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+r*r-4*r*s+2*r*a+4*s*s-4*s*a+a*a,9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*r*s-3*r*r-3*r*a-6*s*s+3*s*a,3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*r*r-6*r*s+r*a-r*t+2*s*s+2*s*t-a*t,1*n*i-n*n+n*e-i*e+r*s-r*r+r*t-s*t,l);for(var c=[],u=0;u<6;u+=2)Math.abs(l[u+1])<1e-7&&l[u]>=0&&l[u]<=1&&c.push(l[u]);c.push(1),c.push(0);for(var h,d,p,f=-1,g=0;g<c.length;g++)h=Math.pow(1-c[g],2)*n+2*(1-c[g])*c[g]*i+c[g]*c[g]*o,d=Math.pow(1-c[g],2)*r+2*(1-c[g])*c[g]*s+c[g]*c[g]*a,p=Math.pow(h-e,2)+Math.pow(d-t,2),f>=0?p<f&&(f=p):f=p;return f},gt=function(e,t,n,r,i,s){var o=[e-n,t-r],a=[i-n,s-r],l=a[0]*a[0]+a[1]*a[1],c=o[0]*o[0]+o[1]*o[1],u=o[0]*a[0]+o[1]*a[1],h=u*u/l;return u<0?c:h>l?(e-i)*(e-i)+(t-s)*(t-s):c-h},mt=function(e,t,n){for(var r,i,s,o,a=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(s=n[2*(l+1)],o=n[2*(l+1)+1]):(s=n[2*(l+1-n.length/2)],o=n[2*(l+1-n.length/2)+1]),r==e&&s==e);else{if(!(r>=e&&e>=s||r<=e&&e<=s))continue;(e-r)/(s-r)*(o-i)+i>t&&a++}return a%2!=0},vt=function(e,t,n,r,i,s,o,a,l){var c,u=new Array(n.length);null!=a[0]?(c=Math.atan(a[1]/a[0]),a[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=a;for(var h,d=Math.cos(-c),p=Math.sin(-c),f=0;f<u.length/2;f++)u[2*f]=s/2*(n[2*f]*d-n[2*f+1]*p),u[2*f+1]=o/2*(n[2*f+1]*d+n[2*f]*p),u[2*f]+=r,u[2*f+1]+=i;if(l>0){var g=_t(u,-l);h=yt(g)}else h=u;return mt(e,t,h)},yt=function(e){for(var t,n,r,i,s,o,a,l,c=new Array(e.length/2),u=0;u<e.length/4;u++){t=e[4*u],n=e[4*u+1],r=e[4*u+2],i=e[4*u+3],u<e.length/4-1?(s=e[4*(u+1)],o=e[4*(u+1)+1],a=e[4*(u+1)+2],l=e[4*(u+1)+3]):(s=e[0],o=e[1],a=e[2],l=e[3]);var h=Et(t,n,r,i,s,o,a,l,!0);c[2*u]=h[0],c[2*u+1]=h[1]}return c},_t=function(e,t){for(var n,r,i,s,o=new Array(2*e.length),a=0;a<e.length/2;a++){n=e[2*a],r=e[2*a+1],a<e.length/2-1?(i=e[2*(a+1)],s=e[2*(a+1)+1]):(i=e[0],s=e[1]);var l=s-r,c=-(i-n),u=Math.sqrt(l*l+c*c),h=l/u,d=c/u;o[4*a]=n+h*t,o[4*a+1]=r+d*t,o[4*a+2]=i+h*t,o[4*a+3]=s+d*t}return o},bt=function(e,t,n,r,i,s,o){return e-=i,t-=s,(e/=n/2+o)*e+(t/=r/2+o)*t<=1},wt=function(e,t,n,r,i,s,o){var a=[n-e,r-t],l=[e-i,t-s],c=a[0]*a[0]+a[1]*a[1],u=2*(l[0]*a[0]+l[1]*a[1]),h=u*u-4*c*(l[0]*l[0]+l[1]*l[1]-o*o);if(h<0)return[];var d=(-u+Math.sqrt(h))/(2*c),p=(-u-Math.sqrt(h))/(2*c),f=Math.min(d,p),g=Math.max(d,p),m=[];if(f>=0&&f<=1&&m.push(f),g>=0&&g<=1&&m.push(g),0===m.length)return[];var v=m[0]*a[0]+e,y=m[0]*a[1]+t;return m.length>1?m[0]==m[1]?[v,y]:[v,y,m[1]*a[0]+e,m[1]*a[1]+t]:[v,y]},xt=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Et=function(e,t,n,r,i,s,o,a,l){var c=e-i,u=n-e,h=o-i,d=t-s,p=r-t,f=a-s,g=h*d-f*c,m=u*d-p*c,v=f*u-h*p;if(0!==v){var y=g/v,_=m/v,b=-.001;return b<=y&&y<=1.001&&b<=_&&_<=1.001||l?[e+y*u,t+y*p]:[]}return 0===g||0===m?xt(e,n,o)===o?[o,a]:xt(e,n,i)===i?[i,s]:xt(i,o,n)===n?[n,r]:[]:[]},Ct=function(e,t,n,r,i,s,o,a){var l,c,u,h,d,p,f=[],g=new Array(n.length),m=!0;if(null==s&&(m=!1),m){for(var v=0;v<g.length/2;v++)g[2*v]=n[2*v]*s+r,g[2*v+1]=n[2*v+1]*o+i;if(a>0){var y=_t(g,-a);c=yt(y)}else c=g}else c=n;for(var _=0;_<c.length/2;_++)u=c[2*_],h=c[2*_+1],_<c.length/2-1?(d=c[2*(_+1)],p=c[2*(_+1)+1]):(d=c[0],p=c[1]),0!==(l=Et(e,t,r,i,u,h,d,p)).length&&f.push(l[0],l[1]);return f},St=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),s=(i-n)/i;return s<0&&(s=1e-5),[t[0]+s*r[0],t[1]+s*r[1]]},kt=function(e,t){var n=At(e,t);return n=Tt(n)},Tt=function(e){for(var t,n,r=e.length/2,i=1/0,s=1/0,o=-1/0,a=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),o=Math.max(o,t),s=Math.min(s,n),a=Math.max(a,n);for(var c=2/(o-i),u=2/(a-s),h=0;h<r;h++)t=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*u,i=Math.min(i,t),o=Math.max(o,t),s=Math.min(s,n),a=Math.max(a,n);if(s<-1)for(var d=0;d<r;d++)n=e[2*d+1]=e[2*d+1]+(-1-s);return e},At=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,s=new Array(2*e),o=0;o<e;o++)i=o*n+r,s[2*o]=Math.cos(i),s[2*o+1]=Math.sin(-i);return s},Dt=function(e,t){return Math.min(e/4,t/4,8)},Ot=function(e,t){return Math.min(e/10,t/10,8)},It=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Nt=we({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Pt={pageRank:function(e){for(var t=Nt(e),n=t.dampingFactor,r=t.precision,i=t.iterations,s=t.weight,o=this._private.cy,a=this.byGroup(),l=a.nodes,c=a.edges,u=l.length,h=u*u,d=c.length,p=new Array(h),f=new Array(u),g=(1-n)/u,m=0;m<u;m++){for(var v=0;v<u;v++){p[m*u+v]=0}f[m]=0}for(var y=0;y<d;y++){var _=c[y],b=_.data("source"),w=_.data("target");if(b!==w){var x=l.indexOfId(b),E=l.indexOfId(w),C=s(_);p[E*u+x]+=C,f[x]+=C}}for(var S=1/u+g,k=0;k<u;k++)if(0===f[k])for(var T=0;T<u;T++){p[T*u+k]=S}else for(var A=0;A<u;A++){var D=A*u+k;p[D]=p[D]/f[k]+g}for(var O,I=new Array(u),N=new Array(u),P=0;P<u;P++)I[P]=1;for(var M=0;M<i;M++){for(var R=0;R<u;R++)N[R]=0;for(var L=0;L<u;L++)for(var F=0;F<u;F++){var j=L*u+F;N[L]+=p[j]*I[F]}Je(N),O=I,I=N,N=O;for(var B=0,V=0;V<u;V++){var z=O[V]-I[V];B+=z*z}if(B<r)break}return{rank:function(e){return e=o.collection(e)[0],I[l.indexOf(e)]}}}},Mt=we({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Rt={degreeCentralityNormalized:function(e){e=Mt(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var i={},s={},o=0,a=0,l=0;l<r;l++){var c=n[l],u=c.id();e.root=c;var h=this.degreeCentrality(e);o<h.indegree&&(o=h.indegree),a<h.outdegree&&(a=h.outdegree),i[u]=h.indegree,s[u]=h.outdegree}return{indegree:function(e){return 0==o?0:(_(e)&&(e=t.filter(e)),i[e.id()]/o)},outdegree:function(e){return 0===a?0:(_(e)&&(e=t.filter(e)),s[e.id()]/a)}}}for(var d={},p=0,f=0;f<r;f++){var g=n[f];e.root=g;var m=this.degreeCentrality(e);p<m.degree&&(p=m.degree),d[g.id()]=m.degree}return{degree:function(e){return 0===p?0:(_(e)&&(e=t.filter(e)),d[e.id()]/p)}}},degreeCentrality:function(e){e=Mt(e);var t=this.cy(),n=this,r=e,i=r.root,s=r.weight,o=r.directed,a=r.alpha;if(i=t.collection(i)[0],o){for(var l=i.connectedEdges(),c=l.filter(function(e){return e.target().same(i)&&n.has(e)}),u=l.filter(function(e){return e.source().same(i)&&n.has(e)}),h=c.length,d=u.length,p=0,f=0,g=0;g<c.length;g++)p+=s(c[g]);for(var m=0;m<u.length;m++)f+=s(u[m]);return{indegree:Math.pow(h,1-a)*Math.pow(p,a),outdegree:Math.pow(d,1-a)*Math.pow(f,a)}}for(var v=i.connectedEdges().intersection(n),y=v.length,_=0,b=0;b<v.length;b++)_+=s(v[b]);return{degree:Math.pow(y,1-a)*Math.pow(_,a)}}};Rt.dc=Rt.degreeCentrality,Rt.dcn=Rt.degreeCentralityNormalised=Rt.degreeCentralityNormalized;var Lt=we({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ft={closenessCentralityNormalized:function(e){for(var t=Lt(e),n=t.harmonic,r=t.weight,i=t.directed,s=this.cy(),o={},a=0,l=this.nodes(),c=this.floydWarshall({weight:r,directed:i}),u=0;u<l.length;u++){for(var h=0,d=l[u],p=0;p<l.length;p++)if(u!==p){var f=c.distance(d,l[p]);h+=n?1/f:f}n||(h=1/h),a<h&&(a=h),o[d.id()]=h}return{closeness:function(e){return 0==a?0:(e=_(e)?s.filter(e)[0].id():e.id(),o[e]/a)}}},closenessCentrality:function(e){var t=Lt(e),n=t.root,r=t.weight,i=t.directed,s=t.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:r,directed:i}),a=0,l=this.nodes(),c=0;c<l.length;c++){var u=l[c];if(!u.same(n)){var h=o.distanceTo(u);a+=s?1/h:h}}return s?a:1/a}};Ft.cc=Ft.closenessCentrality,Ft.ccn=Ft.closenessCentralityNormalised=Ft.closenessCentralityNormalized;var jt=we({weight:null,directed:!1}),Bt={betweennessCentrality:function(e){for(var t=jt(e),n=t.directed,r=t.weight,i=null!=r,o=this.cy(),a=this.nodes(),l={},c={},u=0,h=function(e,t){c[e]=t,t>u&&(u=t)},d=function(e){return c[e]},p=0;p<a.length;p++){var f=a[p],g=f.id();l[g]=n?f.outgoers().nodes():f.openNeighborhood().nodes(),h(g,0)}for(var m=function(e){for(var t=a[e].id(),n=[],c={},u={},p={},f=new s(function(e,t){return p[e]-p[t]}),g=0;g<a.length;g++){var m=a[g].id();c[m]=[],u[m]=0,p[m]=1/0}for(u[t]=1,p[t]=0,f.push(t);!f.empty();){var v=f.pop();if(n.push(v),i)for(var y=0;y<l[v].length;y++){var _=l[v][y],b=o.getElementById(v),w=void 0;w=b.edgesTo(_).length>0?b.edgesTo(_)[0]:_.edgesTo(b)[0];var x=r(w);_=_.id(),p[_]>p[v]+x&&(p[_]=p[v]+x,f.nodes.indexOf(_)<0?f.push(_):f.updateItem(_),u[_]=0,c[_]=[]),p[_]==p[v]+x&&(u[_]=u[_]+u[v],c[_].push(v))}else for(var E=0;E<l[v].length;E++){var C=l[v][E].id();p[C]==1/0&&(f.push(C),p[C]=p[v]+1),p[C]==p[v]+1&&(u[C]=u[C]+u[v],c[C].push(v))}}for(var S={},k=0;k<a.length;k++)S[a[k].id()]=0;for(;n.length>0;){for(var T=n.pop(),A=0;A<c[T].length;A++){var D=c[T][A];S[D]=S[D]+u[D]/u[T]*(1+S[T])}T!=a[e].id()&&h(T,d(T)+S[T])}},v=0;v<a.length;v++)m(v);var y={betweenness:function(e){var t=o.collection(e).id();return d(t)},betweennessNormalized:function(e){if(0==u)return 0;var t=o.collection(e).id();return d(t)/u}};return y.betweennessNormalised=y.betweennessNormalized,y}};Bt.bc=Bt.betweennessCentrality;var Vt=we({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),zt=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},Ut=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var i=0;i<t;i++)n+=e[i*t+r];for(var s=0;s<t;s++)e[s*t+r]=e[s*t+r]/n}},Ht=function(e,t,n){for(var r=new Array(n*n),i=0;i<n;i++){for(var s=0;s<n;s++)r[i*n+s]=0;for(var o=0;o<n;o++)for(var a=0;a<n;a++)r[i*n+a]+=e[i*n+o]*t[o*n+a]}return r},$t=function(e,t,n){for(var r=e.slice(0),i=1;i<n;i++)e=Ht(e,r,t);return e},qt=function(e,t,n){for(var r=new Array(t*t),i=0;i<t*t;i++)r[i]=Math.pow(e[i],n);return Ut(r,t),r},Gt=function(e,t,n,r){for(var i=0;i<n;i++){if(Math.round(e[i]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[i]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},Wt=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},Xt=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),i=function(e){return Vt(e)}(e),s={},o=0;o<t.length;o++)s[t[o].id()]=o;for(var a,l=t.length,c=l*l,u=new Array(c),h=0;h<c;h++)u[h]=0;for(var d=0;d<n.length;d++){var p=n[d],f=s[p.source().id()],g=s[p.target().id()],m=zt(p,i.attributes);u[f*l+g]+=m,u[g*l+f]+=m}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(u,l,i.multFactor),Ut(u,l);for(var v=!0,y=0;v&&y<i.maxIterations;)v=!1,a=$t(u,l,i.expandFactor),u=qt(a,l,i.inflateFactor),Gt(u,a,c,4)||(v=!0),y++;var _=function(e,t,n,r){for(var i=[],s=0;s<t;s++){for(var o=[],a=0;a<t;a++)Math.round(1e3*e[s*t+a])/1e3>0&&o.push(n[a]);0!==o.length&&i.push(r.collection(o))}return i}(u,l,t,r);return _=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&Wt(e[t],e[n])&&e.splice(n,1);return e}(_)},Yt={markovClustering:Xt,mcl:Xt},Kt=function(e){return e},Zt=function(e,t){return Math.abs(t-e)},Qt=function(e,t,n){return e+Zt(t,n)},Jt=function(e,t,n){return e+Math.pow(n-t,2)},en=function(e){return Math.sqrt(e)},tn=function(e,t,n){return Math.max(e,Zt(t,n))},nn=function(e,t,n,r,i){for(var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kt,o=r,a=0;a<e;a++)o=i(o,t(a),n(a));return s(o)},rn={euclidean:function(e,t,n){return e>=2?nn(e,t,n,0,Jt,en):nn(e,t,n,0,Qt)},squaredEuclidean:function(e,t,n){return nn(e,t,n,0,Jt)},manhattan:function(e,t,n){return nn(e,t,n,0,Qt)},max:function(e,t,n){return nn(e,t,n,-1/0,tn)}};function sn(e,t,n,r,i,s){var o;return o=b(e)?e:rn[e]||rn.euclidean,0===t&&b(e)?o(i,s):o(t,n,r,i,s)}rn["squared-euclidean"]=rn.squaredEuclidean,rn.squaredeuclidean=rn.squaredEuclidean;var on=we({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),an=function(e){return on(e)},ln=function(e,t,n,r,i){var s="kMedoids"!==i?function(e){return n[e]}:function(e){return r[e](n)},o=n,a=t;return sn(e,r.length,s,function(e){return r[e](t)},o,a)},cn=function(e,t,n){for(var r=n.length,i=new Array(r),s=new Array(r),o=new Array(t),a=null,l=0;l<r;l++)i[l]=e.min(n[l]).value,s[l]=e.max(n[l]).value;for(var c=0;c<t;c++){a=[];for(var u=0;u<r;u++)a[u]=Math.random()*(s[u]-i[u])+i[u];o[c]=a}return o},un=function(e,t,n,r,i){for(var s=1/0,o=0,a=0;a<t.length;a++){var l=ln(n,e,t[a],r,i);l<s&&(s=l,o=a)}return o},hn=function(e,t,n){for(var r=[],i=null,s=0;s<t.length;s++)n[(i=t[s]).id()]===e&&r.push(i);return r},dn=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){if(Math.abs(e[r][i]-t[r][i])>n)return!1}return!0},pn=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},fn=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var i=e[Math.floor(Math.random()*e.length)];pn(i,n,r);)i=e[Math.floor(Math.random()*e.length)];n[r]=i}else for(var s=0;s<t;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},gn=function(e,t,n){for(var r=0,i=0;i<t.length;i++)r+=ln("manhattan",t[i],e,n,"kMedoids");return r},mn=function(e,t,n,r,i){for(var s,o,a=0;a<t.length;a++)for(var l=0;l<e.length;l++)r[a][l]=Math.pow(n[a][l],i.m);for(var c=0;c<e.length;c++)for(var u=0;u<i.attributes.length;u++){s=0,o=0;for(var h=0;h<t.length;h++)s+=r[h][c]*i.attributes[u](t[h]),o+=r[h][c];e[c][u]=s/o}},vn=function(e,t,n,r,i){for(var s=0;s<e.length;s++)t[s]=e[s].slice();for(var o,a,l,c=2/(i.m-1),u=0;u<n.length;u++)for(var h=0;h<r.length;h++){o=0;for(var d=0;d<n.length;d++)a=ln(i.distance,r[h],n[u],i.attributes,"cmeans"),l=ln(i.distance,r[h],n[d],i.attributes,"cmeans"),o+=Math.pow(a/l,c);e[h][u]=1/o}},yn=function(e){var t,n,r,i,s=this.cy(),o=this.nodes(),a=an(e);r=new Array(o.length);for(var l=0;l<o.length;l++)r[l]=new Array(a.k);n=new Array(o.length);for(var c=0;c<o.length;c++)n[c]=new Array(a.k);for(var u=0;u<o.length;u++){for(var h=0,d=0;d<a.k;d++)n[u][d]=Math.random(),h+=n[u][d];for(var p=0;p<a.k;p++)n[u][p]=n[u][p]/h}t=new Array(a.k);for(var f=0;f<a.k;f++)t[f]=new Array(a.attributes.length);i=new Array(o.length);for(var g=0;g<o.length;g++)i[g]=new Array(a.k);for(var m=!0,v=0;m&&v<a.maxIterations;)m=!1,mn(t,o,n,i,a),vn(n,r,t,o,a),dn(n,r,a.sensitivityThreshold)||(m=!0),v++;return{clusters:function(e,t,n,r){for(var i,s,o=new Array(n.k),a=0;a<o.length;a++)o[a]=[];for(var l=0;l<t.length;l++){i=-1/0,s=-1;for(var c=0;c<t[0].length;c++)t[l][c]>i&&(i=t[l][c],s=c);o[s].push(e[l])}for(var u=0;u<o.length;u++)o[u]=r.collection(o[u]);return o}(o,n,a,s),degreeOfMembership:n}},_n={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),i=null,s=an(e),a=new Array(s.k),l={};t=s.testMode?"number"==typeof s.testCentroids?cn(r,s.k,s.attributes):"object"===o(s.testCentroids)?s.testCentroids:cn(r,s.k,s.attributes):cn(r,s.k,s.attributes);for(var c,u,h,d=!0,p=0;d&&p<s.maxIterations;){for(var f=0;f<r.length;f++)l[(i=r[f]).id()]=un(i,t,s.distance,s.attributes,"kMeans");d=!1;for(var g=0;g<s.k;g++){var m=hn(g,r,l);if(0!==m.length){for(var v=s.attributes.length,y=t[g],_=new Array(v),b=new Array(v),w=0;w<v;w++){b[w]=0;for(var x=0;x<m.length;x++)i=m[x],b[w]+=s.attributes[w](i);_[w]=b[w]/m.length,c=_[w],u=y[w],h=s.sensitivityThreshold,Math.abs(u-c)<=h||(d=!0)}t[g]=_,a[g]=n.collection(m)}}p++}return a},kMedoids:function(e){var t,n,r=this.cy(),i=this.nodes(),s=null,a=an(e),l=new Array(a.k),c={},u=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(t="object"===o(a.testCentroids)?a.testCentroids:fn(i,a.k)):t=fn(i,a.k);for(var h=!0,d=0;h&&d<a.maxIterations;){for(var p=0;p<i.length;p++)c[(s=i[p]).id()]=un(s,t,a.distance,a.attributes,"kMedoids");h=!1;for(var f=0;f<t.length;f++){var g=hn(f,i,c);if(0!==g.length){u[f]=gn(t[f],g,a.attributes);for(var m=0;m<g.length;m++)(n=gn(g[m],g,a.attributes))<u[f]&&(u[f]=n,t[f]=g[m],h=!0);l[f]=r.collection(g)}}d++}return l},fuzzyCMeans:yn,fcm:yn},bn=we({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),wn={single:"min",complete:"max"},xn=function(e,t,n,r,i){for(var s,o=0,a=1/0,l=i.attributes,c=function(e,t){return sn(i.distance,l.length,function(t){return l[t](e)},function(e){return l[e](t)},e,t)},u=0;u<e.length;u++){var h=e[u].key,d=n[h][r[h]];d<a&&(o=h,a=d)}if("threshold"===i.mode&&a>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var p,f=t[o],g=t[r[o]];p="dendrogram"===i.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},e[f.index]=p,e.splice(g.index,1),t[f.key]=p;for(var m=0;m<e.length;m++){var v=e[m];f.key===v.key?s=1/0:"min"===i.linkage?(s=n[f.key][v.key],n[f.key][v.key]>n[g.key][v.key]&&(s=n[g.key][v.key])):"max"===i.linkage?(s=n[f.key][v.key],n[f.key][v.key]<n[g.key][v.key]&&(s=n[g.key][v.key])):s="mean"===i.linkage?(n[f.key][v.key]*f.size+n[g.key][v.key]*g.size)/(f.size+g.size):"dendrogram"===i.mode?c(v.value,f.value):c(v.value[0],f.value[0]),n[f.key][v.key]=n[v.key][f.key]=s}for(var y=0;y<e.length;y++){var _=e[y].key;if(r[_]===f.key||r[_]===g.key){for(var b=_,w=0;w<e.length;w++){var x=e[w].key;n[_][x]<n[_][b]&&(b=x)}r[_]=b}e[y].index=y}return f.key=g.key=f.index=g.index=null,!0},En=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},Cn=function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),i=e(t.right,n),s=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:s.id()}}),n.add({group:"edges",data:{source:i,target:s.id()}}),s.id()}return t.value?t.value.id():void 0},Sn=function e(t,n,r){if(!t)return[];var i=[],s=[],o=[];return 0===n?(t.left&&En(t.left,i),t.right&&En(t.right,s),o=i.concat(s),[r.collection(o)]):1===n?t.value?[r.collection(t.value)]:(t.left&&En(t.left,i),t.right&&En(t.right,s),[r.collection(i),r.collection(s)]):t.value?[r.collection(t.value)]:(t.left&&(i=e(t.left,n-1,r)),t.right&&(s=e(t.right,n-1,r)),i.concat(s))},kn=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=bn(e),n=wn[t.linkage];return null!=n&&(t.linkage=n),t}(e),i=r.attributes,s=function(e,t){return sn(r.distance,i.length,function(t){return i[t](e)},function(e){return i[e](t)},e,t)},o=[],a=[],l=[],c=[],u=0;u<n.length;u++){var h={value:"dendrogram"===r.mode?n[u]:[n[u]],key:u,index:u};o[u]=h,c[u]=h,a[u]=[],l[u]=0}for(var d=0;d<o.length;d++)for(var p=0;p<=d;p++){var f=void 0;f="dendrogram"===r.mode?d===p?1/0:s(o[d].value,o[p].value):d===p?1/0:s(o[d].value[0],o[p].value[0]),a[d][p]=f,a[p][d]=f,f<a[d][l[d]]&&(l[d]=p)}for(var g,m=xn(o,c,a,l,r);m;)m=xn(o,c,a,l,r);return"dendrogram"===r.mode?(g=Sn(o[0],r.dendrogramDepth,t),r.addDendrogram&&Cn(o[0],t)):(g=new Array(o.length),o.forEach(function(e,n){e.key=e.index=null,g[n]=t.collection(e.value)})),g},Tn={hierarchicalClustering:kn,hca:kn},An=we({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Dn=function(e,t,n,r){var i=function(e,t){return r[t](e)};return-sn(e,r.length,function(e){return i(t,e)},function(e){return i(n,e)},t,n)},On=function(e,t){return"median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];r?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var o=0,a=e.length-1;a>=0;a--){var l=e[a];s?isFinite(l)||(e[a]=-1/0,o++):e.splice(a,1)}i&&e.sort(function(e,t){return e-t});var c=e.length,u=Math.floor(c/2);return c%2!=0?e[u+1+o]:(e[u-1+o]+e[u+o])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0,s=t;s<n;s++){var o=e[s];isFinite(o)&&(r+=o,i++)}return r/i}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,i=t;i<n;i++){var s=e[i];isFinite(s)&&(r=Math.min(s,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,i=t;i<n;i++){var s=e[i];isFinite(s)&&(r=Math.max(s,r))}return r}(e):t},In=function(e,t,n){for(var r=[],i=0;i<e;i++){for(var s=-1,o=-1/0,a=0;a<n.length;a++){var l=n[a];t[i*e+l]>o&&(s=l,o=t[i*e+l])}s>0&&r.push(s)}for(var c=0;c<n.length;c++)r[n[c]]=n[c];return r},Nn=function(e){for(var t,n,r,i,s,o,a=this.cy(),l=this.nodes(),c=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||fe("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some(function(e){return e===n})||E(n)||fe("Preference must be one of [".concat(r.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(n)),An(e)}(e),u={},h=0;h<l.length;h++)u[l[h].id()]=h;n=(t=l.length)*t,r=new Array(n);for(var d=0;d<n;d++)r[d]=-1/0;for(var p=0;p<t;p++)for(var f=0;f<t;f++)p!==f&&(r[p*t+f]=Dn(c.distance,l[p],l[f],c.attributes));i=On(r,c.preference);for(var g=0;g<t;g++)r[g*t+g]=i;s=new Array(n);for(var m=0;m<n;m++)s[m]=0;o=new Array(n);for(var v=0;v<n;v++)o[v]=0;for(var y=new Array(t),_=new Array(t),b=new Array(t),w=0;w<t;w++)y[w]=0,_[w]=0,b[w]=0;for(var x,C=new Array(t*c.minIterations),S=0;S<C.length;S++)C[S]=0;for(x=0;x<c.maxIterations;x++){for(var k=0;k<t;k++){for(var T=-1/0,A=-1/0,D=-1,O=0,I=0;I<t;I++)y[I]=s[k*t+I],(O=o[k*t+I]+r[k*t+I])>=T?(A=T,T=O,D=I):O>A&&(A=O);for(var N=0;N<t;N++)s[k*t+N]=(1-c.damping)*(r[k*t+N]-T)+c.damping*y[N];s[k*t+D]=(1-c.damping)*(r[k*t+D]-A)+c.damping*y[D]}for(var P=0;P<t;P++){for(var M=0,R=0;R<t;R++)y[R]=o[R*t+P],_[R]=Math.max(0,s[R*t+P]),M+=_[R];M-=_[P],_[P]=s[P*t+P],M+=_[P];for(var L=0;L<t;L++)o[L*t+P]=(1-c.damping)*Math.min(0,M-_[L])+c.damping*y[L];o[P*t+P]=(1-c.damping)*(M-_[P])+c.damping*y[P]}for(var F=0,j=0;j<t;j++){var B=o[j*t+j]+s[j*t+j]>0?1:0;C[x%c.minIterations*t+j]=B,F+=B}if(F>0&&(x>=c.minIterations-1||x==c.maxIterations-1)){for(var V=0,z=0;z<t;z++){b[z]=0;for(var U=0;U<c.minIterations;U++)b[z]+=C[U*t+z];0!==b[z]&&b[z]!==c.minIterations||V++}if(V===t)break}}for(var H=function(e,t,n){for(var r=[],i=0;i<e;i++)t[i*e+i]+n[i*e+i]>0&&r.push(i);return r}(t,s,o),$=function(e,t,n){for(var r=In(e,t,n),i=0;i<n.length;i++){for(var s=[],o=0;o<r.length;o++)r[o]===n[i]&&s.push(o);for(var a=-1,l=-1/0,c=0;c<s.length;c++){for(var u=0,h=0;h<s.length;h++)u+=t[s[h]*e+s[c]];u>l&&(a=c,l=u)}n[i]=s[a]}return In(e,t,n)}(t,r,H),q={},G=0;G<H.length;G++)q[H[G]]=[];for(var W=0;W<l.length;W++){var X=$[u[l[W].id()]];null!=X&&q[X].push(l[W])}for(var Y=new Array(H.length),K=0;K<H.length;K++)Y[K]=a.collection(q[H[K]]);return Y},Pn={affinityPropagation:Nn,ap:Nn},Mn=we({root:void 0,directed:!1}),Rn=function(){var e=this,t={},n=0,r=0,i=[],s=[],o={},a=function a(l,c,u){l===u&&(r+=1),t[c]={id:n,low:n++,cutVertex:!1};var h,d,p,f,g=e.getElementById(c).connectedEdges().intersection(e);0===g.size()?i.push(e.spawn(e.getElementById(c))):g.forEach(function(n){h=n.source().id(),d=n.target().id(),(p=h===c?d:h)!==u&&(f=n.id(),o[f]||(o[f]=!0,s.push({x:c,y:p,edge:n})),p in t?t[c].low=Math.min(t[c].low,t[p].id):(a(l,p,c),t[c].low=Math.min(t[c].low,t[p].low),t[c].id<=t[p].low&&(t[c].cutVertex=!0,function(n,r){for(var o=s.length-1,a=[],l=e.spawn();s[o].x!=n||s[o].y!=r;)a.push(s.pop().edge),o--;a.push(s.pop().edge),a.forEach(function(n){var r=n.connectedNodes().intersection(e);l.merge(n),r.forEach(function(n){var r=n.id(),i=n.connectedEdges().intersection(e);l.merge(n),t[r].cutVertex?l.merge(i.filter(function(e){return e.isLoop()})):l.merge(i)})}),i.push(l)}(c,p))))})};e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||(r=0,a(n,n),t[n].cutVertex=r>1)}});var l=Object.keys(t).filter(function(e){return t[e].cutVertex}).map(function(t){return e.getElementById(t)});return{cut:e.spawn(l),components:i}},Ln=function(){var e=this,t={},n=0,r=[],i=[],s=e.spawn(e),o=function o(a){if(i.push(a),t[a]={index:n,low:n++,explored:!1},e.getElementById(a).connectedEdges().intersection(e).forEach(function(e){var n=e.target().id();n!==a&&(n in t||o(n),t[n].explored||(t[a].low=Math.min(t[a].low,t[n].low)))}),t[a].index===t[a].low){for(var l=e.spawn();;){var c=i.pop();if(l.merge(e.getElementById(c)),t[c].low=t[a].index,t[c].explored=!0,c===a)break}var u=l.edgesWith(l),h=l.merge(u);r.push(h),s=s.difference(h)}};return e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||o(n)}}),{cut:s,components:r}},Fn={};[Ie,Pe,Me,Le,je,Ve,$e,Pt,Rt,Ft,Bt,Yt,_n,Tn,Pn,{hierholzer:function(e){if(!x(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,i,s=Mn(e),o=s.root,a=s.directed,l=this,c=!1;o&&(i=_(o)?this.filter(o)[0].id():o[0].id());var u={},h={};a?l.forEach(function(e){var t=e.id();if(e.isNode()){var i=e.indegree(!0),s=e.outdegree(!0),o=i-s,a=s-i;1==o?n?c=!0:n=t:1==a?r?c=!0:r=t:(a>1||o>1)&&(c=!0),u[t]=[],e.outgoers().forEach(function(e){e.isEdge()&&u[t].push(e.id())})}else h[t]=[void 0,e.target().id()]}):l.forEach(function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?c=!0:r=t:n=t),u[t]=[],e.connectedEdges().forEach(function(e){return u[t].push(e.id())})):h[t]=[e.source().id(),e.target().id()]});var d={found:!1,trail:void 0};if(c)return d;if(r&&n)if(a){if(i&&r!=i)return d;i=r}else{if(i&&r!=i&&n!=i)return d;i||(i=r)}else i||(i=l[0].id());var p=function(e){for(var t,n,r,i=e,s=[e];u[i].length;)t=u[i].shift(),n=h[t][0],i!=(r=h[t][1])?(u[r]=u[r].filter(function(e){return e!=t}),i=r):a||i==n||(u[n]=u[n].filter(function(e){return e!=t}),i=n),s.unshift(t),s.unshift(i);return s},f=[],g=[];for(g=p(i);1!=g.length;)0==u[g[0]].length?(f.unshift(l.getElementById(g.shift())),f.unshift(l.getElementById(g.shift()))):g=p(g.shift()).concat(g);for(var m in f.unshift(l.getElementById(g.shift())),u)if(u[m].length)return d;return d.found=!0,d.trail=this.spawn(f,!0),d}},{hopcroftTarjanBiconnected:Rn,htbc:Rn,htb:Rn,hopcroftTarjanBiconnectedComponents:Rn},{tarjanStronglyConnected:Ln,tsc:Ln,tscc:Ln,tarjanStronglyConnectedComponents:Ln}].forEach(function(e){B(Fn,e)});var jn=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};jn.prototype={fulfill:function(e){return Bn(this,1,"fulfillValue",e)},reject:function(e){return Bn(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new jn;return n.onFulfilled.push(Un(e,r,"fulfill")),n.onRejected.push(Un(t,r,"reject")),Vn(n),r.proxy}};var Bn=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,Vn(e)),e},Vn=function(e){1===e.state?zn(e,"onFulfilled",e.fulfillValue):2===e.state&&zn(e,"onRejected",e.rejectReason)},zn=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},Un=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(s){return void t.reject(s)}Hn(t,i)}}},Hn=function e(t,n){if(t!==n&&t.proxy!==n){var r;if("object"===o(n)&&null!==n||"function"==typeof n)try{r=n.then}catch(s){return void t.reject(s)}if("function"!=typeof r)t.fulfill(n);else{var i=!1;try{r.call(n,function(r){i||(i=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))},function(e){i||(i=!0,t.reject(e))})}catch(s){i||t.reject(s)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};jn.all=function(e){return new jn(function(t,n){for(var r=new Array(e.length),i=0,s=function(n,s){r[n]=s,++i===e.length&&t(r)},o=0;o<e.length;o++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){s(t,e)},function(e){n(e)}):s(t,r)}(o)})},jn.resolve=function(e){return new jn(function(t,n){t(e)})},jn.reject=function(e){return new jn(function(t,n){n(e)})};var $n="undefined"!=typeof Promise?Promise:jn,qn=function(e,t,n){var r=A(e),i=!r,s=this._private=B({duration:1e3},t,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&b(s.complete)&&s.completes.push(s.complete),i){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(r){var a=e.pan();s.startPan={x:a.x,y:a.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Gn=qn.prototype;B(Gn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),S(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var i=e.style[r],s=i.name,o=e.startStyle[s];e.startStyle[s]=i,e.style[r]=o}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new $n(function(e,n){t.push(function(){e()})})}}),Gn.complete=Gn.completed,Gn.run=Gn.play,Gn.running=Gn.playing;var Wn={};[{animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++){t[n]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],s=this._private.cy||this,o=!r,a=!o;if(!s.styleEnabled())return this;var l=s.style();if(e=B({},e,t),0===Object.keys(e).length)return new qn(i[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(a&&(e.style=l.getPropsList(e.style||e.css),e.css=void 0),a&&null!=e.renderedPosition){var c=e.renderedPosition,u=s.pan(),h=s.zoom();e.position=Ge(c,h,u)}if(o&&null!=e.panBy){var d=e.panBy,p=s.pan();e.pan={x:p.x+d.x,y:p.y+d.y}}var f=e.center||e.centre;if(o&&null!=f){var g=s.getCenterPan(f.eles,e.zoom);null!=g&&(e.pan=g)}if(o&&null!=e.fit){var m=e.fit,v=s.getFitViewport(m.eles||m.boundingBox,m.padding);null!=v&&(e.pan=v.pan,e.zoom=v.zoom)}if(o&&x(e.zoom)){var y=s.getZoomedViewport(e.zoom);null!=y?(y.zoomed&&(e.zoom=y.zoom),y.panned&&(e.pan=y.pan)):e.zoom=null}return new qn(i[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=B({},e,t));for(var i=0;i<r.length;i++){var s=r[i],o=s.animated()&&(void 0===e.queue||e.queue);s.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var s=0;s<r.length;s++){for(var o=r[s]._private,a=o.animation.current,l=0;l<a.length;l++){var c=a[l]._private;t&&(c.duration=0)}e&&(o.animation.queue=[]),t||(o.animation.current=[])}return i.notify("draw"),this}}},{data:function(e){return e=B({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,i=this,s=void 0!==i.length,o=s?i:[i],a=s?i[0]:i;if(_(t)){var l;if(r.allowGetting&&void 0===n)return a&&(r.beforeGet(a),l=a._private[r.field][t]),l;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var c=u({},t,n);r.beforeSet(i,c);for(var h=0,d=o.length;h<d;h++){var p=o[h];r.canSet(p)&&(p._private[r.field][t]=n)}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&x(t)){var f,g,m=t,v=Object.keys(m);r.beforeSet(i,m);for(var y=0;y<v.length;y++){if(g=m[f=v[y]],!r.immutableKeys[f])for(var w=0;w<o.length;w++){var E=o[w];r.canSet(E)&&(E._private[r.field][f]=g)}}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&b(t)){var C=t;i.on(r.bindingEvent,C)}else if(r.allowGetting&&void 0===t){var S;return a&&(r.beforeGet(a),S=a._private[r.field]),S}return i}},removeData:function(e){return e=B({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,i=void 0!==r.length?r:[r];if(_(t)){for(var s=t.split(/\s+/),o=s.length,a=0;a<o;a++){var l=s[a];if(!O(l))if(!n.immutableKeys[l])for(var c=0,u=i.length;c<u;c++)i[c]._private[n.field][l]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var h=0,d=i.length;h<d;h++)for(var p=i[h]._private[n.field],f=Object.keys(p),g=0;g<f.length;g++){var m=f[g];!n.immutableKeys[m]&&(p[m]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},{eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new $n(function(e,t){var i=r.concat([function(t){n.off.apply(n,s),e(t)}]),s=i.concat([]);n.on.apply(n,i)})}}}].forEach(function(e){B(Wn,e)});var Xn={animate:Wn.animate(),animation:Wn.animation(),animated:Wn.animated(),clearQueue:Wn.clearQueue(),delay:Wn.delay(),delayAnimation:Wn.delayAnimation(),stop:Wn.stop()},Yn={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach(function(e){return n.push(e)}),n}w(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],i=new Ae(e),s=0;s<t.length;s++){for(var o=t[s],a=o._private,l=a.classes,c=!1,u=0;u<e.length;u++){var h=e[u];if(!l.has(h)){c=!0;break}}c||(c=l.size!==e.length),c&&(a.classes=i,r.push(o))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){w(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,i=[],s=0,o=n.length;s<o;s++)for(var a=n[s],l=a._private.classes,c=!1,u=0;u<e.length;u++){var h=e[u],d=l.has(h),p=!1;t||r&&!d?(l.add(h),p=!0):(!t||r&&d)&&(l.delete(h),p=!0),!c&&p&&(i.push(a),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};Yn.className=Yn.classNames=Yn.classes;var Kn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:F,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Kn.variable="(?:[\\w-]|(?:\\\\"+Kn.metaChar+"))+",Kn.value=Kn.string+"|"+Kn.number,Kn.className=Kn.variable,Kn.id=Kn.variable,function(){var e,t,n;for(e=Kn.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],Kn.comparatorOp+="|@"+t;for(e=Kn.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(Kn.comparatorOp+="|\\!"+t)}();var Zn=0,Qn=1,Jn=2,er=3,tr=4,nr=5,rr=6,ir=7,sr=8,or=9,ar=10,lr=11,cr=12,ur=13,hr=14,dr=15,pr=16,fr=17,gr=18,mr=19,vr=20,yr=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return function(e,t){return-1*j(e,t)}(e.selector,t.selector)}),_r=function(){for(var e,t={},n=0;n<yr.length;n++)t[(e=yr[n]).selector]=e.matches;return t}(),br="("+yr.map(function(e){return e.selector}).join("|")+")",wr=function(e){return e.replace(new RegExp("\\\\("+Kn.metaChar+")","g"),function(e,t){return t})},xr=function(e,t,n){e[e.length-1]=n},Er=[{name:"group",query:!0,regex:"("+Kn.group+")",populate:function(e,t,n){var r=h(n,1)[0];t.checks.push({type:Zn,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:br,populate:function(e,t,n){var r=h(n,1)[0];t.checks.push({type:ir,value:r})}},{name:"id",query:!0,regex:"\\#("+Kn.id+")",populate:function(e,t,n){var r=h(n,1)[0];t.checks.push({type:sr,value:wr(r)})}},{name:"className",query:!0,regex:"\\.("+Kn.className+")",populate:function(e,t,n){var r=h(n,1)[0];t.checks.push({type:or,value:wr(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Kn.variable+")\\s*\\]",populate:function(e,t,n){var r=h(n,1)[0];t.checks.push({type:tr,field:wr(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Kn.variable+")\\s*("+Kn.comparatorOp+")\\s*("+Kn.value+")\\s*\\]",populate:function(e,t,n){var r=h(n,3),i=r[0],s=r[1],o=r[2];o=null!=new RegExp("^"+Kn.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),t.checks.push({type:er,field:wr(i),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Kn.boolOp+")\\s*("+Kn.variable+")\\s*\\]",populate:function(e,t,n){var r=h(n,2),i=r[0],s=r[1];t.checks.push({type:nr,field:wr(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Kn.meta+")\\s*("+Kn.comparatorOp+")\\s*("+Kn.number+")\\s*\\]\\]",populate:function(e,t,n){var r=h(n,3),i=r[0],s=r[1],o=r[2];t.checks.push({type:rr,field:wr(i),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Kn.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,i=e.compoundCount,s=e[e.length-1];return null!=n&&(s.subject=n,e.currentSubject=null),s.edgeCount=r,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Kn.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:lr,source:r,target:i}),xr(e,0,n),e.edgeCount++,i}var s={checks:[]},o=t,a={checks:[]};return s.checks.push({type:cr,source:o,target:a}),xr(e,0,s),e.edgeCount++,a}},{name:"undirectedEdge",separator:!0,regex:Kn.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:ar,nodes:[r,i]}),xr(e,0,n),e.edgeCount++,i}var s={checks:[]},o=t,a={checks:[]};return s.checks.push({type:hr,node:o,neighbor:a}),xr(e,0,s),a}},{name:"child",separator:!0,regex:Kn.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:dr,parent:i,child:r}),xr(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var s={checks:[]},o=e[e.length-1],a={checks:[]},l={checks:[]},c={checks:[]},u={checks:[]};return s.checks.push({type:mr,left:o,right:a,subject:l}),l.checks=t.checks,t.checks=[{type:vr}],u.checks.push({type:vr}),a.checks.push({type:fr,parent:u,child:c}),xr(e,0,s),e.currentSubject=l,e.compoundCount++,c}var h={checks:[]},d={checks:[]},p=[{type:fr,parent:h,child:d}];return h.checks=t.checks,t.checks=p,e.compoundCount++,d}},{name:"descendant",separator:!0,regex:Kn.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:pr,ancestor:i,descendant:r}),xr(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var s={checks:[]},o=e[e.length-1],a={checks:[]},l={checks:[]},c={checks:[]},u={checks:[]};return s.checks.push({type:mr,left:o,right:a,subject:l}),l.checks=t.checks,t.checks=[{type:vr}],u.checks.push({type:vr}),a.checks.push({type:gr,ancestor:u,descendant:c}),xr(e,0,s),e.currentSubject=l,e.compoundCount++,c}var h={checks:[]},d={checks:[]},p=[{type:gr,ancestor:h,descendant:d}];return h.checks=t.checks,t.checks=p,e.compoundCount++,d}},{name:"subject",modifier:!0,regex:Kn.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return me("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===lr?n.type=ur:r===ar&&(n.type=hr,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Er.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var Cr=function(e){for(var t,n,r,i=0;i<Er.length;i++){var s=Er[i],o=s.name,a=e.match(s.regexObj);if(null!=a){n=a,t=s,r=o;var l=a[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:r,remaining:e}},Sr={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var i=Cr(n);if(null==i.expr)return me("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),o=i.expr.populate(t,r,s);if(!1===o)return!1;if(null!=o&&(r=o),(n=i.remaining).match(/^\s*$/))break}var a=t[t.length-1];null!=t.currentSubject&&(a.subject=t.currentSubject),a.edgeCount=t.edgeCount,a.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var c=t[l];if(c.compoundCount>0&&c.edgeCount>0)return me("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return me("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===c.edgeCount&&me("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return _(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,s){var o=r.type,a=r.value;switch(o){case Zn:var l=e(a);return l.substring(0,l.length-1);case er:var c=r.field,u=r.operator;return"["+c+n(e(u))+t(a)+"]";case nr:var h=r.operator,d=r.field;return"["+e(h)+d+"]";case tr:return"["+r.field+"]";case rr:var p=r.operator;return"[["+r.field+n(e(p))+t(a)+"]]";case ir:return a;case sr:return"#"+a;case or:return"."+a;case fr:case dr:return i(r.parent,s)+n(">")+i(r.child,s);case gr:case pr:return i(r.ancestor,s)+" "+i(r.descendant,s);case mr:var f=i(r.left,s),g=i(r.subject,s),m=i(r.right,s);return f+(f.length>0?" ":"")+g+m;case vr:return""}},i=function(e,t){return e.checks.reduce(function(n,i,s){return n+(t===e&&0===s?"$":"")+r(i,t)},"")},s="",o=0;o<this.length;o++){var a=this[o];s+=i(a,a.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s}},kr=function(e,t,n){var r,i,s,o=_(e),a=E(e),l=_(n),c=!1,u=!1,h=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),u=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(o||l||c)&&(i=o||a?""+e:"",s=""+n),c&&(e=i=i.toLowerCase(),n=s=s.toLowerCase()),t){case"*=":r=i.indexOf(s)>=0;break;case"$=":r=i.indexOf(s,i.length-s.length)>=0;break;case"^=":r=0===i.indexOf(s);break;case"=":r=e===n;break;case">":h=!0,r=e>n;break;case">=":h=!0,r=e>=n;break;case"<":h=!0,r=e<n;break;case"<=":h=!0,r=e<=n;break;default:r=!1}return!u||null==e&&h||(r=!r),r},Tr=function(e,t){return e.data(t)},Ar=[],Dr=function(e,t){return e.checks.every(function(e){return Ar[e.type](e,t)})};Ar[Zn]=function(e,t){var n=e.value;return"*"===n||n===t.group()},Ar[ir]=function(e,t){return function(e,t){return _r[e](t)}(e.value,t)},Ar[sr]=function(e,t){var n=e.value;return t.id()===n},Ar[or]=function(e,t){var n=e.value;return t.hasClass(n)},Ar[rr]=function(e,t){var n=e.field,r=e.operator,i=e.value;return kr(function(e,t){return e[t]()}(t,n),r,i)},Ar[er]=function(e,t){var n=e.field,r=e.operator,i=e.value;return kr(Tr(t,n),r,i)},Ar[nr]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(Tr(t,n),r)},Ar[tr]=function(e,t){var n=e.field;e.operator;return void 0!==Tr(t,n)},Ar[ar]=function(e,t){var n=e.nodes[0],r=e.nodes[1],i=t.source(),s=t.target();return Dr(n,i)&&Dr(r,s)||Dr(r,i)&&Dr(n,s)},Ar[hr]=function(e,t){return Dr(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&Dr(e.neighbor,t)})},Ar[lr]=function(e,t){return Dr(e.source,t.source())&&Dr(e.target,t.target())},Ar[cr]=function(e,t){return Dr(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&Dr(e.target,t)})},Ar[ur]=function(e,t){return Dr(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&Dr(e.source,t)})},Ar[dr]=function(e,t){return Dr(e.child,t)&&Dr(e.parent,t.parent())},Ar[fr]=function(e,t){return Dr(e.parent,t)&&t.children().some(function(t){return Dr(e.child,t)})},Ar[pr]=function(e,t){return Dr(e.descendant,t)&&t.ancestors().some(function(t){return Dr(e.ancestor,t)})},Ar[gr]=function(e,t){return Dr(e.ancestor,t)&&t.descendants().some(function(t){return Dr(e.descendant,t)})},Ar[mr]=function(e,t){return Dr(e.subject,t)&&Dr(e.left,t)&&Dr(e.right,t)},Ar[vr]=function(){return!0},Ar[Qn]=function(e,t){return e.value.has(t)},Ar[Jn]=function(e,t){return(0,e.value)(t)};var Or={matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(Dr(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===sr)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(Dr(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}},Ir=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||_(e)&&e.match(/^\s*$/)||(S(e)?this.addQuery({checks:[{type:Qn,value:e.collection()}]}):b(e)?this.addQuery({checks:[{type:Jn,value:e}]}):_(e)?this.parse(e)||(this.invalid=!0):fe("A selector must be created from a string; found "))},Nr=Ir.prototype;[Sr,Or].forEach(function(e){return B(Nr,e)}),Nr.text=function(){return this.inputText},Nr.size=function(){return this.length},Nr.eq=function(e){return this[e]},Nr.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Nr.addQuery=function(e){this[this.length++]=e},Nr.selector=Nr.toString;var Pr={allAre:function(e){var t=new Ir(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new Ir(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};Pr.allAreNeighbours=Pr.allAreNeighbors,Pr.has=Pr.contains,Pr.equal=Pr.equals=Pr.same;var Mr,Rr,Lr=function(e,t){return function(n,r,i,s){var o,a=n,l=this;if(null==a?o="":S(a)&&1===a.length&&(o=a.id()),1===l.length&&o){var c=l[0]._private,u=c.traversalCache=c.traversalCache||{},h=u[t]=u[t]||[],d=re(o),p=h[d];return p||(h[d]=e.call(l,n,r,i,s))}return e.call(l,n,r,i,s)}},Fr={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&t.push(i)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:Lr(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,i=0;i<r.length;i++)t.push(r[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var i=n[r];t.push(i),i.children().nonempty()&&e(i.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function jr(e,t,n,r){for(var i=[],s=new Ae,o=e.cy().hasCompoundNodes(),a=0;a<e.length;a++){var l=e[a];n?i.push(l):o&&r(i,s,l)}for(;i.length>0;){var c=i.shift();t(c),s.add(c.id()),o&&r(i,s,c)}return e}function Br(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var s=r[i];t.has(s.id())||e.push(s)}}function Vr(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function zr(e,t,n){Vr(e,t,n),Br(e,t,n)}Fr.forEachDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jr(this,e,t,Br)},Fr.forEachUp=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jr(this,e,t,Vr)},Fr.forEachUpAndDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jr(this,e,t,zr)},Fr.ancestors=Fr.parents,(Mr=Rr={data:Wn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Wn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Wn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Wn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Wn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Wn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=Mr.data,Mr.removeAttr=Mr.removeData;var Ur,Hr,$r=Rr,qr={};function Gr(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],s=i._private.edges,o=0;o<s.length;o++){var a=s[o];!t&&a.isLoop()||(r+=e(i,a))}return r}}}function Wr(e,t){return function(n){for(var r,i=this.nodes(),s=0;s<i.length;s++){var o=i[s][e](n);void 0===o||void 0!==r&&!t(o,r)||(r=o)}return r}}B(qr,{degree:Gr(function(e,t){return t.source().same(t.target())?2:1}),indegree:Gr(function(e,t){return t.target().same(e)?1:0}),outdegree:Gr(function(e,t){return t.source().same(e)?1:0})}),B(qr,{minDegree:Wr("degree",function(e,t){return e<t}),maxDegree:Wr("degree",function(e,t){return e>t}),minIndegree:Wr("indegree",function(e,t){return e<t}),maxIndegree:Wr("indegree",function(e,t){return e>t}),minOutdegree:Wr("outdegree",function(e,t){return e<t}),maxOutdegree:Wr("outdegree",function(e,t){return e>t})}),B(qr,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var Xr=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(!i.locked()){var s=i._private.position,o={x:null!=t.x?t.x-s.x:0,y:null!=t.y?t.y-s.y:0};!i.isParent()||0===o.x&&0===o.y||i.children().shift(o,n),i.dirtyBoundingBoxCache()}}},Yr={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Xr(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};(Ur=Hr={position:Wn.data(Yr),silentPosition:Wn.data(B({},Yr,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Xr(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(x(e))t?this.silentPosition(e):this.position(e);else if(b(e)){var n=e,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var s,o=this[i];(s=n(o,i))&&(t?o.silentPosition(s):o.position(s))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(x(e)?(r={x:E(e.x)?e.x:0,y:E(e.y)?e.y:0},n=t):_(e)&&E(t)&&((r={x:0,y:0})[e]=t),null!=r){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var o=this[s],a=o.position(),l={x:a.x+r.x,y:a.y+r.y};n?o.silentPosition(l):o.position(l)}i.endBatch()}return this},silentShift:function(e,t){return x(e)?this.shift(e,!0):_(e)&&E(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),s=r.pan(),o=x(e)?e:void 0,a=void 0!==o||void 0!==t&&_(e);if(n&&n.isNode()){if(!a){var l=n.position();return o=qe(l,i,s),void 0===e?o:o[e]}for(var c=0;c<this.length;c++){var u=this[c];void 0!==t?u.position(e,(t-s[e])/i):void 0!==o&&u.position(Ge(o,i,s))}}else if(!a)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=x(e)?e:void 0,s=void 0!==i||void 0!==t&&_(e),o=r.hasCompoundNodes();if(n&&n.isNode()){if(!s){var a=n.position(),l=o?n.parent():null,c=l&&l.length>0,u=c;c&&(l=l[0]);var h=u?l.position():{x:0,y:0};return i={x:a.x-h.x,y:a.y-h.y},void 0===e?i:i[e]}for(var d=0;d<this.length;d++){var p=this[d],f=o?p.parent():null,g=f&&f.length>0,m=g;g&&(f=f[0]);var v=m?f.position():{x:0,y:0};void 0!==t?p.position(e,t+v[e]):void 0!==i&&p.position({x:i.x+v.x,y:i.y+v.y})}}else if(!s)return;return this}}).modelPosition=Ur.point=Ur.position,Ur.modelPositions=Ur.points=Ur.positions,Ur.renderedPoint=Ur.renderedPosition,Ur.relativePoint=Ur.relativePosition;var Kr,Zr,Qr=Hr;Kr=Zr={},Zr.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),s=t.x1*r+i.x,o=t.x2*r+i.x,a=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:s,x2:o,y1:a,y2:l,w:o-s,h:l-a}},Zr.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}}),this):this},Zr.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},s=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),o=t.position;0!==s.w&&0!==s.h||((s={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-s.w/2,s.x2=o.x+s.w/2,s.y1=o.y-s.h/2,s.y2=o.y+s.h/2);var a=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(a=100*a/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var c=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(c=100*c/i.height.val);var u=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(u=100*u/i.height.val);var h=v(i.width.val-s.w,a,l),d=h.biasDiff,p=h.biasComplementDiff,f=v(i.height.val-s.h,c,u),g=f.biasDiff,m=f.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(s.w,s.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(s.w,i.width.val),o.x=(-d+s.x1+s.x2+p)/2,t.autoHeight=Math.max(s.h,i.height.val),o.y=(-g+s.y1+s.y2+m)/2}function v(e,t,n){var r=0,i=0,s=t+n;return e>0&&s>0&&(r=t/s*e,i=n/s*e),{biasDiff:r,biasComplementDiff:i}}}for(var r=0;r<this.length;r++){var i=this[r],s=i._private;s.compoundBoundsClean&&!e||(n(i),t.batching()||(s.compoundBoundsClean=!0))}return this};var Jr=function(e){return e===1/0||e===-1/0?0:e},ei=function(e,t,n,r,i){r-t!=0&&i-n!=0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ti=function(e,t){return null==t?e:ei(e,t.x1,t.y1,t.x2,t.y2)},ni=function(e,t,n){return Ce(e,t,n)},ri=function(e,t,n){if(!t.cy().headless()){var r,i,s=t._private,o=s.rstyle,a=o.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=o.srcX,i=o.srcY):"target"===n?(r=o.tgtX,i=o.tgtY):(r=o.midX,i=o.midY);var l=s.arrowBounds=s.arrowBounds||{},c=l[n]=l[n]||{};c.x1=r-a,c.y1=i-a,c.x2=r+a,c.y2=i+a,c.w=c.x2-c.x1,c.h=c.y2-c.y1,st(c,1),ei(e,c.x1,c.y1,c.x2,c.y2)}}},ii=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var i=t._private,s=i.rstyle;if(t.pstyle(r+"label").strValue){var o,a,l,c,u=t.pstyle("text-halign"),h=t.pstyle("text-valign"),d=ni(s,"labelWidth",n),p=ni(s,"labelHeight",n),f=ni(s,"labelX",n),g=ni(s,"labelY",n),m=t.pstyle(r+"text-margin-x").pfValue,v=t.pstyle(r+"text-margin-y").pfValue,y=t.isEdge(),_=t.pstyle(r+"text-rotation"),b=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,x=t.pstyle("text-background-padding").pfValue,E=p,C=d,S=C/2,k=E/2;if(y)o=f-S,a=f+S,l=g-k,c=g+k;else{switch(u.value){case"left":o=f-C,a=f;break;case"center":o=f-S,a=f+S;break;case"right":o=f,a=f+C}switch(h.value){case"top":l=g-E,c=g;break;case"center":l=g-k,c=g+k;break;case"bottom":l=g,c=g+E}}o+=m-Math.max(b,w)-x-2,a+=m+Math.max(b,w)+x+2,l+=v-Math.max(b,w)-x-2,c+=v+Math.max(b,w)+x+2;var T=n||"main",A=i.labelBounds,D=A[T]=A[T]||{};D.x1=o,D.y1=l,D.x2=a,D.y2=c,D.w=a-o,D.h=c-l;var O=y&&"autorotate"===_.strValue,I=null!=_.pfValue&&0!==_.pfValue;if(O||I){var N=O?ni(i.rstyle,"labelAngle",n):_.pfValue,P=Math.cos(N),M=Math.sin(N),R=(o+a)/2,L=(l+c)/2;if(!y){switch(u.value){case"left":R=a;break;case"right":R=o}switch(h.value){case"top":L=c;break;case"bottom":L=l}}var F=function(e,t){return{x:(e-=R)*P-(t-=L)*M+R,y:e*M+t*P+L}},j=F(o,l),B=F(o,c),V=F(a,l),z=F(a,c);o=Math.min(j.x,B.x,V.x,z.x),a=Math.max(j.x,B.x,V.x,z.x),l=Math.min(j.y,B.y,V.y,z.y),c=Math.max(j.y,B.y,V.y,z.y)}var U=T+"Rot",H=A[U]=A[U]||{};H.x1=o,H.y1=l,H.x2=a,H.y2=c,H.w=a-o,H.h=c-l,ei(e,o,l,a,c),ei(i.labelBounds.all,o,l,a,c)}return e}},si=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),r+=n(e.includeTargetLabels),r+=n(e.includeOverlays)},oi=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),r=function(e){return Math.round(e)};return function(e,t){var n={value:0,done:!1},r=0,i=e.length;return Q({next:function(){return r<i?n.value=e[r++]:n.done=!0,n}},t)}([r(t.x),r(t.y),r(n.x),r(n.y)])}return 0},ai=function(e,t){var n,r=e._private,i=e.isEdge(),s=(null==t?ci:si(t))===ci,o=oi(e),a=r.bbCachePosKey===o,l=t.useCache&&a,c=function(e){return null==e._private.bbCache||e._private.styleDirty};if(!l||c(e)||i&&c(e.source())||c(e.target())?(a||e.recalculateRenderedStyle(l),n=function(e,t){var n,r,i,s,o,a,l,c=e._private.cy,u=c.styleEnabled(),h=c.headless(),d=rt(),p=e._private,f=e.isNode(),g=e.isEdge(),m=p.rstyle,v=f&&u?e.pstyle("bounds-expansion").pfValue:[0],y=function(e){return"none"!==e.pstyle("display").value},_=!u||y(e)&&(!g||y(e.source())&&y(e.target()));if(_){var b=0;u&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(b=e.pstyle("overlay-padding").value);var w=0;if(u&&(w=e.pstyle("width").pfValue/2),f&&t.includeNodes){var x=e.position();o=x.x,a=x.y;var E=e.outerWidth()/2,C=e.outerHeight()/2;ei(d,n=o-E,i=a-C,r=o+E,s=a+C)}else if(g&&t.includeEdges)if(u&&!h){var S=e.pstyle("curve-style").strValue;if(n=Math.min(m.srcX,m.midX,m.tgtX),r=Math.max(m.srcX,m.midX,m.tgtX),i=Math.min(m.srcY,m.midY,m.tgtY),s=Math.max(m.srcY,m.midY,m.tgtY),ei(d,n-=w,i-=w,r+=w,s+=w),"haystack"===S){var k=m.haystackPts;if(k&&2===k.length){if(n=k[0].x,i=k[0].y,n>(r=k[1].x)){var T=n;n=r,r=T}if(i>(s=k[1].y)){var A=i;i=s,s=A}ei(d,n-w,i-w,r+w,s+w)}}else if("bezier"===S||"unbundled-bezier"===S||"segments"===S||"taxi"===S){var D;switch(S){case"bezier":case"unbundled-bezier":D=m.bezierPts;break;case"segments":case"taxi":D=m.linePts}if(null!=D)for(var O=0;O<D.length;O++){var I=D[O];n=I.x-w,r=I.x+w,i=I.y-w,s=I.y+w,ei(d,n,i,r,s)}}}else{var N=e.source().position(),P=e.target().position();if((n=N.x)>(r=P.x)){var M=n;n=r,r=M}if((i=N.y)>(s=P.y)){var R=i;i=s,s=R}ei(d,n-=w,i-=w,r+=w,s+=w)}if(u&&t.includeEdges&&g&&(ri(d,e,"mid-source"),ri(d,e,"mid-target"),ri(d,e,"source"),ri(d,e,"target")),u&&"yes"===e.pstyle("ghost").value){var L=e.pstyle("ghost-offset-x").pfValue,F=e.pstyle("ghost-offset-y").pfValue;ei(d,d.x1+L,d.y1+F,d.x2+L,d.y2+F)}var j=p.bodyBounds=p.bodyBounds||{};at(j,d),ot(j,v),st(j,1),u&&(n=d.x1,r=d.x2,i=d.y1,s=d.y2,ei(d,n-b,i-b,r+b,s+b));var B=p.overlayBounds=p.overlayBounds||{};at(B,d),ot(B,v),st(B,1);var V=p.labelBounds=p.labelBounds||{};null!=V.all?((l=V.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):V.all=rt(),u&&t.includeLabels&&(t.includeMainLabels&&ii(d,e,null),g&&(t.includeSourceLabels&&ii(d,e,"source"),t.includeTargetLabels&&ii(d,e,"target")))}return d.x1=Jr(d.x1),d.y1=Jr(d.y1),d.x2=Jr(d.x2),d.y2=Jr(d.y2),d.w=Jr(d.x2-d.x1),d.h=Jr(d.y2-d.y1),d.w>0&&d.h>0&&_&&(ot(d,v),st(d,1)),d}(e,li),r.bbCache=n,r.bbCachePosKey=o):n=r.bbCache,!s){var u=e.isNode();n=rt(),(t.includeNodes&&u||t.includeEdges&&!u)&&(t.includeOverlays?ti(n,r.overlayBounds):ti(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?ti(n,r.labelBounds.all):(t.includeMainLabels&&ti(n,r.labelBounds.mainRot),t.includeSourceLabels&&ti(n,r.labelBounds.sourceRot),t.includeTargetLabels&&ti(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},li={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},ci=si(li),ui=we(li);Zr.boundingBox=function(e){var t;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==e&&void 0!==e.useCache&&!0!==e.useCache){t=rt();var n=ui(e=e||li),r=this;if(r.cy().styleEnabled())for(var i=0;i<r.length;i++){var s=r[i],o=s._private,a=oi(s),l=o.bbCachePosKey===a,c=n.useCache&&l&&!o.styleDirty;s.recalculateRenderedStyle(c)}this.updateCompoundBounds(!e.useCache);for(var u=0;u<r.length;u++){var h=r[u];ti(t,ai(h,n))}}else e=void 0===e?li:ui(e),t=ai(this[0],e);return t.x1=Jr(t.x1),t.y1=Jr(t.y1),t.x2=Jr(t.x2),t.y2=Jr(t.y2),t.w=Jr(t.x2-t.x1),t.h=Jr(t.y2-t.y1),t},Zr.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Zr.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=t.filter(function(e){return e.isParent()}),t=t.not(i)),x(e)){var s=e;e=function(){return s}}n.startBatch(),t.forEach(function(t,n){return t._private.bbAtOldPos=e(t,n)}).silentPositions(e),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions(function(e){return e._private.bbAtOldPos}),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),o},Kr.boundingbox=Kr.bb=Kr.boundingBox,Kr.renderedBoundingbox=Kr.renderedBoundingBox;var hi,di,pi=Zr;hi=di={};var fi=function(e){e.uppercaseName=L(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=L(e.outerName),hi[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(!r)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var i=t.pstyle(e.name);switch(i.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return i.pfValue}}},hi["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t)return n?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},hi["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},hi["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};fi({name:"width"}),fi({name:"height"}),di.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},di.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},di.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var gi=di,mi={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},vi=Object.keys(mi).reduce(function(e,t){var n=mi[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy(),r=n.pan(),i=n.zoom();return t(e).map(function(e){return qe(e,i,r)})}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy();return qe(t(e),n.zoom(),n.pan())}}(this,n.get)},e},{}),yi=B({},Qr,pi,gi,vi),_i=function(e,t){this.recycle(e,t)};function bi(){return!1}function wi(){return!0}_i.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=bi,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?wi:bi):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=wi;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=wi;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=wi,this.stopPropagation()},isDefaultPrevented:bi,isPropagationStopped:bi,isImmediatePropagationStopped:bi};var xi=/^([^.]+)(\.(?:[^.]+))?$/,Ei={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Ci=Object.keys(Ei),Si={};function ki(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Si,t=arguments.length>1?arguments[1]:void 0,n=0;n<Ci.length;n++){var r=Ci[n];this[r]=e[r]||Ei[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Ti=ki.prototype,Ai=function(e,t,n,r,i,s,o){b(r)&&(i=r,r=null),o&&(s=null==s?o:B({},s,o));for(var a=w(n)?n:n.split(/\s+/),l=0;l<a.length;l++){var c=a[l];if(!O(c)){var u=c.match(xi);if(u)if(!1===t(e,c,u[1],u[2]?u[2]:null,r,i,s))break}}},Di=function(e,t){return e.addEventFields(e.context,t),new _i(t.type,t)},Oi=function(e,t,n){if("event"!==y(n))if(x(n))t(e,Di(e,n));else for(var r=w(n)?n:n.split(/\s+/),i=0;i<r.length;i++){var s=r[i];if(!O(s)){var o=s.match(xi);if(o){var a=o[1],l=o[2]?o[2]:null;t(e,Di(e,{type:a,namespace:l,target:e.context}))}}}else t(e,n)};Ti.on=Ti.addListener=function(e,t,n,r,i){return Ai(this,function(e,t,n,r,i,s,o){b(s)&&e.listeners.push({event:t,callback:s,type:n,namespace:r,qualifier:i,conf:o})},e,t,n,r,i),this},Ti.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},Ti.removeListener=Ti.off=function(e,t,n,r){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var s=this.listeners,o=function(o){var a=s[o];Ai(i,function(t,n,r,i,l,c){if((a.type===r||"*"===e)&&(!i&&".*"!==a.namespace||a.namespace===i)&&(!l||t.qualifierCompare(a.qualifier,l))&&(!c||a.callback===c))return s.splice(o,1),!1},e,t,n,r)},a=s.length-1;a>=0;a--)o(a);return this},Ti.removeAllListeners=function(){return this.removeListener("*")},Ti.emit=Ti.trigger=function(e,t,n){var r=this.listeners,i=r.length;return this.emitting++,w(t)||(t=[t]),Oi(this,function(e,s){null!=n&&(r=[{event:s.event,type:s.type,namespace:s.namespace,callback:n}],i=r.length);for(var o=function(n){var i=r[n];if(i.type===s.type&&(!i.namespace||i.namespace===s.namespace||".*"===i.namespace)&&e.eventMatches(e.context,i,s)){var o=[s];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(o,t),e.beforeEmit(e.context,i,s),i.conf&&i.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==i}));var a=e.callbackContext(e.context,i,s),l=i.callback.apply(a,o);e.afterEmit(e.context,i,s),!1===l&&(s.stopPropagation(),s.preventDefault())}},a=0;a<i;a++)o(a);e.bubble(e.context)&&!s.isPropagationStopped()&&e.parent(e.context).emit(s,t)},e),this.emitting--,this};var Ii={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&k(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Ni=function(e){return _(e)?new Ir(e):e},Pi={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new ki(Ii,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=Ni(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n)}return this},removeListener:function(e,t,n){for(var r=Ni(t),i=0;i<this.length;i++){this[i].emitter().removeListener(e,r,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){this[e].emitter().removeAllListeners()}return this},one:function(e,t,n){for(var r=Ni(t),i=0;i<this.length;i++){this[i].emitter().one(e,r,n)}return this},once:function(e,t,n){for(var r=Ni(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};Wn.eventAliasesOn(Pi);var Mi={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(_(e)||S(e))return new Ir(e).filter(this);if(b(e)){for(var n=this.spawn(),r=this,i=0;i<r.length;i++){var s=r[i];(t?e.apply(t,[s,i,r]):e(s,i,r))&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){_(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(_(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,i=this.length<e.length,s=i?this:r,o=i?r:this,a=0;a<s.length;a++){var l=s[a];o.has(l)&&n.push(l)}return n},xor:function(e){var t=this._private.cy;_(e)&&(e=t.$(e));var n=this.spawn(),r=e,i=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],s=i._private.data.id;t.hasElementWithId(s)||n.push(i)}};return i(this,r),i(r,this),n},diff:function(e){var t=this._private.cy;_(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),i=this.spawn(),s=e,o=function(e,t,n){for(var r=0;r<e.length;r++){var s=e[r],o=s._private.data.id;t.hasElementWithId(o)?i.merge(s):n.push(s)}};return o(this,s,n),o(s,this,r),{left:n,right:r,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if(_(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],o=!this.has(s);o&&r.push(s)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&_(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=t.map,s=0;s<e.length;s++){var o=e[s],a=o._private.data.id;if(!i.has(a)){var l=this.length++;this[l]=o,i.set(a,{ele:o,index:l})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var i=this.length-1,s=this[i],o=s._private.data.id;this[i]=void 0,this[e]=s,n.set(o,{ele:s,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var i=r.index;return this.unmergeAt(i),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&_(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var s=r[i],o=t?e.apply(t,[s,i,r]):e(s,i,r);n.push(o)}return n},reduce:function(e,t){for(var n=t,r=this,i=0;i<r.length;i++)n=e(n,r[i],i,r);return n},max:function(e,t){for(var n,r=-1/0,i=this,s=0;s<i.length;s++){var o=i[s],a=t?e.apply(t,[o,s,i]):e(o,s,i);a>r&&(r=a,n=o)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=this,s=0;s<i.length;s++){var o=i[s],a=t?e.apply(t,[o,s,i]):e(o,s,i);a<r&&(r=a,n=o)}return{value:r,ele:n}}},Ri=Mi;Ri.u=Ri["|"]=Ri["+"]=Ri.union=Ri.or=Ri.add,Ri["\\"]=Ri["!"]=Ri["-"]=Ri.difference=Ri.relativeComplement=Ri.subtract=Ri.not,Ri.n=Ri["&"]=Ri["."]=Ri.and=Ri.intersection=Ri.intersect,Ri["^"]=Ri["(+)"]=Ri["(-)"]=Ri.symmetricDifference=Ri.symdiff=Ri.xor,Ri.fnFilter=Ri.filterFn=Ri.stdFilter=Ri.filter,Ri.complement=Ri.abscomp=Ri.absoluteComplement;var Li=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?ce:0}var i=r(e)-r(t);if(0!==i)return i;function s(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=s(e)-s(t);if(0!==o)return o;var a=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==a?a:e.poolIndex()-t.poolIndex()},Fi={forEach:function(e,t){if(b(e))for(var n=this.length,r=0;r<n;r++){var i=this[r];if(!1===(t?e.apply(t,[i,r,this]):e(i,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!b(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Li)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:ce-1}var r=t.source,i=t.target,s=r.zDepth(),o=i.zDepth();return Math.max(s,o,0)}}};Fi.each=Fi.forEach;var ji;ji="undefined",("undefined"==typeof Symbol?"undefined":o(Symbol))!=ji&&o(Symbol.iterator)!=ji&&(Fi[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return u({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,function(){return this})});var Bi=we({nodeDimensionsIncludeLabels:!1}),Vi={layoutDimensions:function(e){var t;if(e=Bi(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter(function(e){return!e.isParent()}),i=this.cy(),s=t.eles,o=function(e){return e.id()},a=N(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,c=function(){if(!l)return null;for(var e=rt(),t=0;t<r.length;t++){var n=r[t],i=a(n,t);it(e,i.x,i.y)}return e}(),u=N(function(e,n){var r=a(e,n);l&&(r=function(e,t,n){var r=t.x1+t.w/2,i=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:i+(n.y-i)*e}}(Math.abs(t.spacingFactor),c,r));return null!=t.transform&&(r=t.transform(e,r)),r},o);if(t.animate){for(var h=0;h<r.length;h++){var d=r[h],p=u(d,h);if(null==t.animateFilter||t.animateFilter(d,h)){var f=d.animation({position:p,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f)}else d.position(p)}if(t.fit){var g=i.animation({fit:{boundingBox:s.boundingBoxAt(u),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var m=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}e.animations.forEach(function(e){return e.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),$n.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else r.positions(u),t.fit&&i.fit(t.eles,t.padding),null!=t.zoom&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(B({},e,{eles:this}))}};function zi(e,t,n){var r,i=n._private,s=i.styleCache=i.styleCache||[];return null!=(r=s[e])?r:r=s[e]=t(n)}function Ui(e,t){return e=re(e),function(n){return zi(e,t,n)}}function Hi(e,t){e=re(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return zi(e,n,t)}}Vi.createLayout=Vi.makeLayout=Vi.layout;var $i={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach(function(e){n(e),e.connectedEdges().forEach(n)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach(function(e){return e._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return null!=i?i:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(x(e)){var i=e;r.applyBypass(this,i,false),this.emitAndNotify("style")}else if(_(e)){if(void 0===t){var s=this[0];return s?r.getStylePropertyValue(s,e):void 0}r.applyBypass(this,e,t,false),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style(),r=this;if(void 0===e)for(var i=0;i<r.length;i++){var s=r[i];n.removeAllBypasses(s,false)}else{e=e.split(/\s+/);for(var o=0;o<r.length;o++){var a=r[o];n.removeBypasses(a,e,false)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var s=r.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){i*=s[o].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function qi(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function Gi(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],s=e.hasCompoundNodes();if(i){var o=i._private;if(!t(i))return!1;if(i.isNode())return!s||qi(i,r);var a=o.source,l=o.target;return n(a)&&(!s||qi(a,n))&&(a===l||n(l)&&(!s||qi(l,n)))}}}var Wi=Ui("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});$i.takesUpSpace=Hi("takesUpSpace",Gi({ok:Wi}));var Xi=Ui("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&Wi(e)}),Yi=Ui("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&Wi(e)});$i.interactive=Hi("interactive",Gi({ok:Xi,parentOk:Yi,edgeOkViaNode:Wi})),$i.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Ki=Ui("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&Wi(e)}),Zi=Wi;$i.visible=Hi("visible",Gi({ok:Ki,edgeOkViaNode:Zi})),$i.hidden=function(){var e=this[0];if(e)return!e.visible()},$i.isBundledBezier=Hi("isBundledBezier",function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())}),$i.bypass=$i.css=$i.style,$i.renderedCss=$i.renderedStyle,$i.removeBypass=$i.removeCss=$i.removeStyle,$i.pstyle=$i.parsedStyle;var Qi={};function Ji(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length&&b(t[0])){var s=t[0];this.on(e.event,s)}else if(0===t.length||1===t.length&&w(t[0])){for(var o=1===t.length?t[0]:null,a=0;a<this.length;a++){var l=this[a],c=!e.ableField||l._private[e.ableField],u=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(void 0!==h&&(c=h,!h))return this}c&&(l._private[e.field]=e.value,u&&n.push(l))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event),o&&d.emit(o)}return this}}function es(e){Qi[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},Qi[e.on]=Ji({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Qi[e.off]=Ji({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}es({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),es({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),es({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),es({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Qi.deselect=Qi.unselect,Qi.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},es({field:"active",on:"activate",off:"unactivate"}),es({field:"pannable",on:"panify",off:"unpanify"}),Qi.inactive=function(){var e=this[0];if(e)return!e._private.active};var ts={},ns=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var s=!1,o=i.connectedEdges(),a=0;a<o.length;a++){var l=o[a],c=l.source(),u=l.target();if(e.noIncomingEdges&&u===i&&c!==i||e.noOutgoingEdges&&c===i&&u!==i){s=!0;break}}s||n.push(i)}}return this.spawn(n,!0).filter(t)}},rs=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var s=i.connectedEdges(),o=0;o<s.length;o++){var a=s[o],l=a.source(),c=a.target();e.outgoing&&l===i?(n.push(a),n.push(c)):e.incoming&&c===i&&(n.push(a),n.push(l))}}return this.spawn(n,!0).filter(t)}},is=function(e){return function(t){for(var n=this,r=[],i={};;){var s=e.outgoing?n.outgoers():n.incomers();if(0===s.length)break;for(var o=!1,a=0;a<s.length;a++){var l=s[a],c=l.id();i[c]||(i[c]=!0,r.push(l),o=!0)}if(!o)break;n=s}return this.spawn(r,!0).filter(t)}};function ss(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[e.attr];i&&n.push(i)}return this.spawn(n,!0).filter(t)}}function os(e){return function(t){var n=[],r=this._private.cy,i=e||{};_(t)&&(t=r.$(t));for(var s=0;s<t.length;s++)for(var o=t[s]._private.edges,a=0;a<o.length;a++){var l=o[a],c=l._private.data,u=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),h=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(u||h){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!u)continue;if(i.thisIsTgt&&!h)continue}n.push(l)}}return this.spawn(n,!0)}}function as(e){return e=B({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),i=e,s=0;s<r.length;s++)for(var o=r[s]._private,a=o.source,l=a._private.data.id,c=o.data.target,u=a._private.edges,h=0;h<u.length;h++){var d=u[h],p=d._private.data,f=p.target,g=p.source,m=f===c&&g===l,v=l===f&&c===g;(i.codirected&&m||!i.codirected&&(m||v))&&n.push(d)}return this.spawn(n,!0).filter(t)}}ts.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},B(ts,{roots:ns({noIncomingEdges:!0}),leaves:ns({noOutgoingEdges:!0}),outgoers:Lr(rs({outgoing:!0}),"outgoers"),successors:is({outgoing:!0}),incomers:Lr(rs({incoming:!0}),"incomers"),predecessors:is({incoming:!0})}),B(ts,{neighborhood:Lr(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],s=i.connectedEdges(),o=0;o<s.length;o++){var a=s[o],l=a.source(),c=a.target(),u=i===l?c:l;u.length>0&&t.push(u[0]),t.push(a[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),ts.neighbourhood=ts.neighborhood,ts.closedNeighbourhood=ts.closedNeighborhood,ts.openNeighbourhood=ts.openNeighborhood,B(ts,{source:Lr(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:Lr(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:ss({attr:"source"}),targets:ss({attr:"target"})}),B(ts,{edgesWith:Lr(os(),"edgesWith"),edgesTo:Lr(os({thisIsSrc:!0}),"edgesTo")}),B(ts,{connectedEdges:Lr(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,s=0;s<i.length;s++){var o=i[s];t.push(o)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Lr(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Lr(as(),"parallelEdges"),codirectedEdges:Lr(as({codirected:!0}),"codirectedEdges")}),B(ts,{components:function(e){var t=this,n=t.cy(),r=n.collection(),i=null==e?t.nodes():e.nodes(),s=[];null!=e&&i.empty()&&(i=e.sources());var o=function(e,t){r.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();var a=function(){var e=n.collection();s.push(e);var r=i[0];o(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return o(t,e)}}),e.forEach(function(n){n.connectedEdges().forEach(function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)})})};do{a()}while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),ts.componentsOf=ts.components;var ls=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==e){var r=new ke,i=!1;if(t){if(t.length>0&&x(t[0])&&!k(t[0])){i=!0;for(var s=[],o=new Ae,a=0,l=t.length;a<l;a++){var c=t[a];null==c.data&&(c.data={});var u=c.data;if(null==u.id)u.id=ye();else if(e.hasElementWithId(u.id)||o.has(u.id))continue;var h=new De(e,c,!1);s.push(h),o.add(u.id)}t=s}}else t=[];this.length=0;for(var d=0,p=t.length;d<p;d++){var f=t[d][0];if(null!=f){var g=f._private.data.id;n&&r.has(g)||(n&&r.set(g,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new ke,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=r),i&&this.restore()}else fe("A collection must have a reference to the core")},cs=De.prototype=ls.prototype=Object.create(Array.prototype);cs.instanceString=function(){return"collection"},cs.spawn=function(e,t){return new ls(this.cy(),e,t)},cs.spawnSelf=function(){return this.spawn(this)},cs.cy=function(){return this._private.cy},cs.renderer=function(){return this._private.cy.renderer()},cs.element=function(){return this[0]},cs.collection=function(){return T(this)?this:new ls(this._private.cy,[this])},cs.unique=function(){return new ls(this._private.cy,this,!0)},cs.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},cs.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new ls(t)},cs.$id=cs.getElementById,cs.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},cs.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},cs.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},cs.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(x(e)){if(n.startBatch(),e.data){t.data(e.data);var i=r.data;if(t.isEdge()){var s=!1,o={},a=e.data.source,l=e.data.target;null!=a&&a!=i.source&&(o.source=""+a,s=!0),null!=l&&l!=i.target&&(o.target=""+l,s=!0),s&&(t=t.move(o))}else{var c="parent"in e.data,u=e.data.parent;!c||null==u&&null==i.parent||u==i.parent||(void 0===u&&(u=null),null!=u&&(u=""+u),t=t.move({parent:u}))}}e.position&&t.position(e.position);var h=function(n,i,s){var o=e[n];null!=o&&o!==r[n]&&(o?t[i]():t[s]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var d={data:ve(r.data),position:ve(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};d.classes="";var p=0;return r.classes.forEach(function(e){return d.classes+=0==p++?e:" "+e}),d}}},cs.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},cs.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),i=new De(e,r,!1);t.push(i)}return new ls(e,t)},cs.copy=cs.clone,cs.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,s=i.cy(),o=s._private,a=[],l=[],c=0,u=i.length;c<u;c++){var h=i[c];r&&!h.removed()||(h.isNode()?a.push(h):l.push(h))}e=a.concat(l);var d=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var p=e[t],f=p._private,g=f.data;if(p.clearTraversalCache(),r||f.removed)if(void 0===g.id)g.id=ye();else if(E(g.id))g.id=""+g.id;else{if(O(g.id)||!_(g.id)){fe("Can not create element with invalid string ID `"+g.id+"`"),d();continue}if(s.hasElementWithId(g.id)){fe("Can not create second element with ID `"+g.id+"`"),d();continue}}else;var m=g.id;if(p.isNode()){var v=f.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(p.isEdge()){for(var y=p,b=["source","target"],w=b.length,x=!1,C=0;C<w;C++){var S=b[C],k=g[S];E(k)&&(k=g[S]=""+g[S]),null==k||""===k?(fe("Can not create edge `"+m+"` with unspecified "+S),x=!0):s.hasElementWithId(k)||(fe("Can not create edge `"+m+"` with nonexistant "+S+" `"+k+"`"),x=!0)}if(x){d();continue}var T=s.getElementById(g.source),A=s.getElementById(g.target);T.same(A)?T._private.edges.push(y):(T._private.edges.push(y),A._private.edges.push(y)),y._private.source=T,y._private.target=A}f.map=new ke,f.map.set(m,{ele:p,index:0}),f.removed=!1,r&&s.addToPool(p)}for(var D=0;D<a.length;D++){var I=a[D],N=I._private.data;E(N.parent)&&(N.parent=""+N.parent);var P=N.parent,M=null!=P;if(M){var R=s.getElementById(P);if(R.empty())N.parent=void 0;else{for(var L=!1,F=R;!F.empty();){if(I.same(F)){L=!0,N.parent=void 0;break}F=F.parent()}L||(R[0]._private.children.push(I),I._private.parent=R[0],o.hasCompoundNodes=!0)}}}if(e.length>0){for(var j=e.length===i.length?i:new ls(s,e),B=0;B<j.length;B++){var V=j[B];V.isNode()||(V.parallelEdges().clearTraversalCache(),V.source().clearTraversalCache(),V.target().clearTraversalCache())}(o.hasCompoundNodes?s.collection().merge(j).merge(j.connectedNodes()).merge(j.parent()):j).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?j.emitAndNotify("add"):r&&j.emit("add")}return i},cs.removed=function(){var e=this[0];return e&&e._private.removed},cs.inside=function(){var e=this[0];return e&&!e._private.removed},cs.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],i={},s=n._private.cy;function o(e){for(var t=e._private.edges,n=0;n<t.length;n++)l(t[n])}function a(e){for(var t=e._private.children,n=0;n<t.length;n++)l(t[n])}function l(e){var n=i[e.id()];t&&e.removed()||n||(i[e.id()]=!0,e.isNode()?(r.push(e),o(e),a(e)):r.unshift(e))}for(var c=0,u=n.length;c<u;c++){var h=n[c];l(h)}function d(e,t){var n=e._private.edges;xe(n,t),e.clearTraversalCache()}function p(e){e.clearTraversalCache()}var f=[];function g(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();xe(n,t),t._private.parent=null,f.ids[r]||(f.ids[r]=!0,f.push(e))}f.ids={},n.dirtyCompoundBoundsCache(),t&&s.removeFromPool(r);for(var m=0;m<r.length;m++){var v=r[m];if(v.isEdge()){var y=v.source()[0],_=v.target()[0];d(y,v),d(_,v);for(var b=v.parallelEdges(),w=0;w<b.length;w++){var x=b[w];p(x),x.isBundledBezier()&&x.dirtyBoundingBoxCache()}}else{var E=v.parent();0!==E.length&&g(E,v)}t&&(v._private.removed=!0)}var C=s._private.elements;s._private.hasCompoundNodes=!1;for(var S=0;S<C.length;S++){var k=C[S];if(k.isParent()){s._private.hasCompoundNodes=!0;break}}var T=new ls(this.cy(),r);T.size()>0&&(e?T.emitAndNotify("remove"):t&&T.emit("remove"));for(var A=0;A<f.length;A++){var D=f[A];t&&D.removed()||D.updateStyle()}return T},cs.move=function(e){var t=this._private.cy,n=this,r=!1,i=!1,s=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var o=s(e.source),a=s(e.target),l=null!=o&&t.hasElementWithId(o),c=null!=a&&t.hasElementWithId(a);(l||c)&&(t.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],s=t._private.data;t.isEdge()&&(l&&(s.source=o),c&&(s.target=a))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(void 0!==e.parent){var u=s(e.parent);if(null===u||t.hasElementWithId(u)){var h=null===u?void 0:u;t.batch(function(){var e=n.remove(r,i);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var s=n[t],o=s._private.data;s.isNode()&&(o.parent=h)}e.restore(r,i)}),n.emitAndNotify("move")}}return this},[Fn,Xn,Yn,Pr,Fr,$r,qr,yi,Pi,Mi,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Fi,Vi,$i,Qi,ts].forEach(function(e){B(cs,e)});var us={add:function(e){var t,n=this;if(S(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var i=[],s=0;s<r.length;s++){var o=r[s];i.push(o.json())}t=new ls(n,i)}}else if(w(e)){t=new ls(n,e)}else if(x(e)&&(w(e.nodes)||w(e.edges))){for(var a=e,l=[],c=["nodes","edges"],u=0,h=c.length;u<h;u++){var d=c[u],p=a[d];if(w(p))for(var f=0,g=p.length;f<g;f++){var m=B({group:d},p[f]);l.push(m)}}t=new ls(n,l)}else{t=new De(n,e).collection()}return t},remove:function(e){if(S(e));else if(_(e)){var t=e;e=this.$(t)}return e.remove()}};var hs=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},s=t(n,.5*r,i),o=t(n,.5*r,s),a=t(n,r,o),l=1/6*(i.dx+2*(s.dx+o.dx)+a.dx),c=1/6*(i.dv+2*(s.dv+o.dv)+a.dv);return n.x=n.x+l*r,n.v=n.v+c*r,n}return function e(t,r,i){var s,o,a,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,h=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,l.tension=t,l.friction=r,o=(s=null!==i)?(u=e(t,r))/i*.016:.016;a=n(a||l,o),c.push(1+a.x),u+=16,Math.abs(a.x)>h&&Math.abs(a.v)>h;);return s?function(e){return c[e*(c.length-1)|0]}:u}}(),ds=function(e,t,n,r){var i=function(e,t,n,r){var i=4,s=.001,o=1e-7,a=10,l=11,c=1/(l-1),u="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var h=0;h<4;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var d=u?new Float32Array(l):new Array(l);function p(e,t){return 1-3*t+3*e}function f(e,t){return 3*t-6*e}function g(e){return 3*e}function m(e,t,n){return((p(t,n)*e+f(t,n))*e+g(t))*e}function v(e,t,n){return 3*p(t,n)*e*e+2*f(t,n)*e+g(t)}function y(t,r){for(var s=0;s<i;++s){var o=v(r,e,n);if(0===o)return r;r-=(m(r,e,n)-t)/o}return r}function _(){for(var t=0;t<l;++t)d[t]=m(t*c,e,n)}function b(t,r,i){var s,l,c=0;do{(s=m(l=r+(i-r)/2,e,n)-t)>0?i=l:r=l}while(Math.abs(s)>o&&++c<a);return l}function w(t){for(var r=0,i=1,o=l-1;i!==o&&d[i]<=t;++i)r+=c;--i;var a=r+(t-d[i])/(d[i+1]-d[i])*c,u=v(a,e,n);return u>=s?y(t,a):0===u?a:b(t,r,r+c)}var x=!1;function E(){x=!0,e===t&&n===r||_()}var C=function(i){return x||E(),e===t&&n===r?i:0===i?0:1===i?1:m(w(i),t,r)};C.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var S="generateBezier("+[e,t,n,r]+")";return C.toString=function(){return S},C}(e,t,n,r);return function(e,t,n){return e+(t-e)*i(n)}},ps={linear:function(e,t,n){return e+(t-e)*n},ease:ds(.25,.1,.25,1),"ease-in":ds(.42,0,1,1),"ease-out":ds(0,0,.58,1),"ease-in-out":ds(.42,0,.58,1),"ease-in-sine":ds(.47,0,.745,.715),"ease-out-sine":ds(.39,.575,.565,1),"ease-in-out-sine":ds(.445,.05,.55,.95),"ease-in-quad":ds(.55,.085,.68,.53),"ease-out-quad":ds(.25,.46,.45,.94),"ease-in-out-quad":ds(.455,.03,.515,.955),"ease-in-cubic":ds(.55,.055,.675,.19),"ease-out-cubic":ds(.215,.61,.355,1),"ease-in-out-cubic":ds(.645,.045,.355,1),"ease-in-quart":ds(.895,.03,.685,.22),"ease-out-quart":ds(.165,.84,.44,1),"ease-in-out-quart":ds(.77,0,.175,1),"ease-in-quint":ds(.755,.05,.855,.06),"ease-out-quint":ds(.23,1,.32,1),"ease-in-out-quint":ds(.86,0,.07,1),"ease-in-expo":ds(.95,.05,.795,.035),"ease-out-expo":ds(.19,1,.22,1),"ease-in-out-expo":ds(1,0,0,1),"ease-in-circ":ds(.6,.04,.98,.335),"ease-out-circ":ds(.075,.82,.165,1),"ease-in-out-circ":ds(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return ps.linear;var r=hs(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":ds};function fs(e,t,n,r,i){if(1===r)return n;if(t===n)return n;var s=i(t,n,r);return null==e||((e.roundValue||e.color)&&(s=Math.round(s)),void 0!==e.min&&(s=Math.max(s,e.min)),void 0!==e.max&&(s=Math.min(s,e.max))),s}function gs(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function ms(e,t,n,r,i){var s=null!=i?i.type:null;n<0?n=0:n>1&&(n=1);var o=gs(e,i),a=gs(t,i);if(E(o)&&E(a))return fs(s,o,a,n,r);if(w(o)&&w(a)){for(var l=[],c=0;c<a.length;c++){var u=o[c],h=a[c];if(null!=u&&null!=h){var d=fs(s,u,h,n,r);l.push(d)}else l.push(h)}return l}}function vs(e,t,n,r){var i=!r,s=e._private,o=t._private,a=o.easing,l=o.startTime,c=(r?e:e.cy()).style();if(!o.easingImpl)if(null==a)o.easingImpl=ps.linear;else{var u,h,d;if(_(a))u=c.parse("transition-timing-function",a).value;else u=a;_(u)?(h=u,d=[]):(h=u[1],d=u.slice(2).map(function(e){return+e})),d.length>0?("spring"===h&&d.push(o.duration),o.easingImpl=ps[h].apply(null,d)):o.easingImpl=ps[h]}var p,f=o.easingImpl;if(p=0===o.duration?1:(n-l)/o.duration,o.applying&&(p=o.progress),p<0?p=0:p>1&&(p=1),null==o.delay){var g=o.startPosition,m=o.position;if(m&&i&&!e.locked()){var v={};ys(g.x,m.x)&&(v.x=ms(g.x,m.x,p,f)),ys(g.y,m.y)&&(v.y=ms(g.y,m.y,p,f)),e.position(v)}var y=o.startPan,b=o.pan,w=s.pan,x=null!=b&&r;x&&(ys(y.x,b.x)&&(w.x=ms(y.x,b.x,p,f)),ys(y.y,b.y)&&(w.y=ms(y.y,b.y,p,f)),e.emit("pan"));var E=o.startZoom,C=o.zoom,S=null!=C&&r;S&&(ys(E,C)&&(s.zoom=nt(s.minZoom,ms(E,C,p,f),s.maxZoom)),e.emit("zoom")),(x||S)&&e.emit("viewport");var k=o.style;if(k&&k.length>0&&i){for(var T=0;T<k.length;T++){var A=k[T],D=A.name,O=A,I=o.startStyle[D],N=ms(I,O,p,f,c.properties[I.name]);c.overrideBypass(e,D,N)}e.emit("style")}}return o.progress=p,p}function ys(e,t){return null!=e&&null!=t&&(!(!E(e)||!E(t))||!(!e||!t))}function _s(e,t,n,r){var i=t._private;i.started=!0,i.startTime=n-i.progress*i.duration}function bs(e,t){var n=t._private.aniEles,r=[];function i(t,n){var i=t._private,s=i.animation.current,o=i.animation.queue,a=!1;if(0===s.length){var l=o.shift();l&&s.push(l)}for(var c=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},u=s.length-1;u>=0;u--){var h=s[u],d=h._private;d.stopped?(s.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,c(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||_s(0,h,e),vs(t,h,e,n),d.applying&&(d.applying=!1),c(d.frames),null!=d.step&&d.step(e),h.completed()&&(s.splice(u,1),d.hooked=!1,d.playing=!1,d.started=!1,c(d.completes)),a=!0)}return n||0!==s.length||0!==o.length||r.push(t),a}for(var s=!1,o=0;o<n.length;o++){var a=i(n[o]);s=s||a}var l=i(t,!0);(s||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var ws={animate:Wn.animate(),animation:Wn.animation(),animated:Wn.animated(),clearQueue:Wn.clearQueue(),delay:Wn.delay(),delayAnimation:Wn.delayAnimation(),stop:Wn.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(t,n){bs(n,e)},t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&W(function(n){bs(n,e),t()})}()}}},xs={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&k(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},Es=function(e){return _(e)?new Ir(e):e},Cs={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ki(xs,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,Es(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,Es(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,Es(t),n),this},once:function(e,t,n){return this.emitter().one(e,Es(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};Wn.eventAliasesOn(Cs);var Ss={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};Ss.jpeg=Ss.jpg;var ks={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n=e.name,r=t.extension("layout",n);if(null!=r){var i;i=_(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var s=new r(B({},e,{cy:t,eles:i}));return s}fe("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else fe("A `name` must be specified to make a layout");else fe("Layout options must be specified to make a layout")}};ks.createLayout=ks.makeLayout=ks.layout;var Ts={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],s=e[i];t.getElementById(i).data(s)}})}},As=we({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Ds={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&me("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=As(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else fe("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Ds.invalidateDimensions=Ds.resize;var Os={collection:function(e,t){return _(e)?this.$(e):S(e)?e.collection():w(e)?new ls(this,e,t):new ls(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Os.elements=Os.filter=Os.$;var Is={},Ns="t";Is.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var i=e[r],s=t.getContextMeta(i);if(!s.empty){var o=t.getContextStyle(s),a=t.applyContextStyle(s,o,i);i._private.appliedInitStyle?t.updateTransitions(i,a.diffProps):i._private.appliedInitStyle=!0,t.updateStyleHints(i)&&n.push(i)}}return n},Is.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,s=r[i];if(s)return s;for(var o=[],a={},l=0;l<n.length;l++){var c=n[l],u=e[l]===Ns,h=t[l]===Ns,d=u!==h,p=c.mappedProperties.length>0;if(d||h&&p){var f=void 0;d&&p||d?f=c.properties:p&&(f=c.mappedProperties);for(var g=0;g<f.length;g++){for(var m=f[g],v=m.name,y=!1,_=l+1;_<n.length;_++){var b=n[_];if(t[_]===Ns&&(y=null!=b.properties[m.name]))break}a[v]||y||(a[v]=!0,o.push(v))}}}return r[i]=o,o},Is.getContextMeta=function(e){for(var t,n=this,r="",i=e._private.styleCxtKey||"",s=0;s<n.length;s++){var o=n[s];r+=o.selector&&o.selector.matches(e)?Ns:"f"}return t=n.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},Is.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},i=0;i<this.length;i++){var s=this[i];if(t[i]===Ns)for(var o=0;o<s.properties.length;o++){var a=s.properties[o];r[a.name]=a}}return n[t]=r,r},Is.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,i={},s=this.types,o=0;o<r.length;o++){var a=r[o],l=t[a],c=n.pstyle(a);if(!l){if(!c)continue;l=c.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(c!==l){if(l.mapped===s.fn&&null!=c&&null!=c.mapping&&c.mapping.value===l.value){var u=c.mapping;if((u.fnValue=l.value(n))===u.prevFnValue)continue}var h=i[a]={prev:c};this.applyParsedProperty(n,l),h.next=n.pstyle(a),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}},Is.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,s=function(e,t,r){return n.getPropertiesHash(e,t,r)},o=t.styleKey;if(e.removed())return!1;var a="nodes"===t.group,l=e._private.style;r=Object.keys(l);for(var c=0;c<i.length;c++){var u=i[c];t.styleKeys[u]=[Y,Z]}for(var h,d=function(e,n){return t.styleKeys[n][0]=J(e,t.styleKeys[n][0])},p=function(e,n){return t.styleKeys[n][1]=ee(e,t.styleKeys[n][1])},f=function(e,t){d(e,t),p(e,t)},g=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);d(r,t),p(r,t)}},m=0;m<r.length;m++){var v=r[m],y=l[v];if(null!=y){var _=this.properties[v],b=_.type,w=_.groupKey,x=void 0;null!=_.hashOverride?x=_.hashOverride(e,y):null!=y.pfValue&&(x=y.pfValue);var E=null==_.enums?y.value:null,C=null!=x,S=C||null!=E,k=y.units;if(b.number&&S&&!b.multiple)f(-128<(h=C?x:E)&&h<128&&Math.floor(h)!==h?2e9-(1024*h|0):h,w),C||null==k||g(k,w);else g(y.strValue,w)}}for(var T,A,D=[Y,Z],O=0;O<i.length;O++){var I=i[O],N=t.styleKeys[I];D[0]=J(N[0],D[0]),D[1]=ee(N[1],D[1])}t.styleKey=(T=D[0],A=D[1],2097152*T+A);var P=t.styleKeys;t.labelDimsKey=te(P.labelDimensions);var M=s(e,["label"],P.labelDimensions);if(t.labelKey=te(M),t.labelStyleKey=te(ne(P.commonLabel,M)),!a){var R=s(e,["source-label"],P.labelDimensions);t.sourceLabelKey=te(R),t.sourceLabelStyleKey=te(ne(P.commonLabel,R));var L=s(e,["target-label"],P.labelDimensions);t.targetLabelKey=te(L),t.targetLabelStyleKey=te(ne(P.commonLabel,L))}if(a){var F=t.styleKeys,j=F.nodeBody,B=F.nodeBorder,V=F.backgroundImage,z=F.compound,U=F.pie,H=[j,B,V,z,U].filter(function(e){return null!=e}).reduce(ne,[Y,Z]);t.nodeKey=te(H),t.hasPie=null!=U&&U[0]!==Y&&U[1]!==Z}return o!==t.styleKey},Is.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},Is.applyParsedProperty=function(e,t){var n,r=this,i=t,s=e._private.style,o=r.types,a=r.properties[i.name].type,l=i.bypass,c=s[i.name],u=c&&c.bypass,h=e._private,d="mapping",p=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},f=function(){var t=p(c),n=p(i);r.checkTriggers(e,i.name,t,n)};if(i&&"pie"===i.name.substr(0,3)&&me("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",l)),i.delete)return s[i.name]=void 0,f(),!0;if(i.deleteBypassed)return c?!!c.bypass&&(c.bypassed=void 0,f(),!0):(f(),!0);if(i.deleteBypass)return c?!!c.bypass&&(s[i.name]=c.bypassed,f(),!0):(f(),!0);var g=function(){me("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case o.mapData:for(var m,v=i.field.split("."),y=h.data,_=0;_<v.length&&y;_++){y=y[v[_]]}if(null==y)return g(),!1;if(!E(y))return me("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+y+"` for `"+e.id()+"` is non-numeric)"),!1;var b=i.fieldMax-i.fieldMin;if((m=0===b?0:(y-i.fieldMin)/b)<0?m=0:m>1&&(m=1),a.color){var w=i.valueMin[0],x=i.valueMax[0],C=i.valueMin[1],S=i.valueMax[1],k=i.valueMin[2],T=i.valueMax[2],A=null==i.valueMin[3]?1:i.valueMin[3],D=null==i.valueMax[3]?1:i.valueMax[3],O=[Math.round(w+(x-w)*m),Math.round(C+(S-C)*m),Math.round(k+(T-k)*m),Math.round(A+(D-A)*m)];n={bypass:i.bypass,name:i.name,value:O,strValue:"rgb("+O[0]+", "+O[1]+", "+O[2]+")"}}else{if(!a.number)return!1;var I=i.valueMin+(i.valueMax-i.valueMin)*m;n=this.parse(i.name,I,i.bypass,d)}if(!n)return g(),!1;n.mapping=i,i=n;break;case o.data:for(var N=i.field.split("."),P=h.data,M=0;M<N.length&&P;M++){P=P[N[M]]}if(null!=P&&(n=this.parse(i.name,P,i.bypass,d)),!n)return g(),!1;n.mapping=i,i=n;break;case o.fn:var R=i.value,L=null!=i.fnValue?i.fnValue:R(e);if(i.prevFnValue=L,null==L)return me("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(i.name,L,i.bypass,d)))return me("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=ve(i),i=n;break;case void 0:break;default:return!1}return l?(i.bypassed=u?c.bypassed:c,s[i.name]=i):u?c.bypassed=i:s[i.name]=i,f(),!0},Is.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var i=r._private.style,s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=i[a];null!=l&&(l.bypass?l.bypassed=null:i[a]=null)}else r._private.style={}}},Is.update=function(){this._private.cy.mutableElements().updateStyle()},Is.updateTransitions=function(e,t){var n=this,r=e._private,i=e.pstyle("transition-property").value,s=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(i.length>0&&s>0){for(var a={},l=!1,c=0;c<i.length;c++){var u=i[c],h=e.pstyle(u),d=t[u];if(d){var p=d.prev,f=null!=d.next?d.next:h,g=!1,m=void 0,v=1e-6;p&&(E(p.pfValue)&&E(f.pfValue)?(g=f.pfValue-p.pfValue,m=p.pfValue+v*g):E(p.value)&&E(f.value)?(g=f.value-p.value,m=p.value+v*g):w(p.value)&&w(f.value)&&(g=p.value[0]!==f.value[0]||p.value[1]!==f.value[1]||p.value[2]!==f.value[2],m=p.strValue),g&&(a[u]=f.strValue,this.applyBypass(e,u,m),l=!0))}}if(!l)return;r.transitioning=!0,new $n(function(t){o>0?e.delayAnimation(o).play().promise().then(t):t()}).then(function(){return e.animation({style:a,duration:s,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1)},Is.checkTrigger=function(e,t,n,r,i,s){var o=this.properties[t],a=i(o);null!=a&&a(n,r)&&s(o)},Is.checkZOrderTrigger=function(e,t,n,r){var i=this;this.checkTrigger(e,t,n,r,function(e){return e.triggersZOrder},function(){i._private.cy.notify("zorder",e)})},Is.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),"curve-style"!==t||"bezier"!==n&&"bezier"!==r||!i.triggersBoundsOfParallelBeziers||e.parallelEdges().forEach(function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()})})},Is.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var Ps={applyBypass:function(e,t,n,r){var i=[];if("*"===t||"**"===t){if(void 0!==n)for(var s=0;s<this.properties.length;s++){var o=this.properties[s].name,a=this.parse(o,n,!0);a&&i.push(a)}}else if(_(t)){var l=this.parse(t,n,!0);l&&i.push(l)}else{if(!x(t))return!1;var c=t;r=n;for(var u=Object.keys(c),h=0;h<u.length;h++){var d=u[h],p=c[d];if(void 0===p&&(p=c[M(d)]),void 0!==p){var f=this.parse(d,p,!0);f&&i.push(f)}}}if(0===i.length)return!1;for(var g=!1,m=0;m<e.length;m++){for(var v=e[m],y={},b=void 0,w=0;w<i.length;w++){var E=i[w];if(r){var C=v.pstyle(E.name);b=y[E.name]={prev:C}}g=this.applyParsedProperty(v,ve(E))||g,r&&(b.next=v.pstyle(E.name))}g&&this.updateStyleHints(v),r&&this.updateTransitions(v,y,true)}return g},overrideBypass:function(e,t,n){t=P(t);for(var r=0;r<e.length;r++){var i=e[r],s=i._private.style[t],o=this.properties[t].type,a=o.color,l=o.mutiple,c=s?null!=s.pfValue?s.pfValue:s.value:null;s&&s.bypass?(s.value=n,null!=s.pfValue&&(s.pfValue=n),s.strValue=a?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(i)):this.applyBypass(i,t,n),this.checkTriggers(i,t,c,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],s={},o=0;o<t.length;o++){var a=t[o],l=this.properties[a],c=i.pstyle(l.name);if(c&&c.bypass){var u=this.parse(a,"",!0),h=s[l.name]={prev:c};this.applyParsedProperty(i,u),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,s,true)}}},Ms={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(d&&t&&d.getComputedStyle)return d.getComputedStyle(t).getPropertyValue(e)}},Rs={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},i=0;i<n.properties.length;i++){var s=n.properties[i],o=n.getStylePropertyValue(e,s.name,t);null!=o&&(r[s.name]=o,r[M(s.name)]=o)}return r}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var i=r.type,s=e.pstyle(r.name);if(s){var o=s.value,a=s.units,l=s.strValue;if(n&&i.number&&null!=o&&E(o)){var c=e.cy().zoom(),u=function(e){return e*c},h=function(e,t){return u(e)+t},d=w(o);return(d?a.every(function(e){return null!=e}):null!=a)?d?o.map(function(e,t){return h(e,a[t])}).join(" "):h(o,a):d?o.map(function(e){return _(e)?e:""+u(e)}).join(" "):""+u(o)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r].name,s=e.pstyle(i);void 0!==s&&(s=x(s)?this.parse(i,s.strValue):this.parse(i,s)),s&&(n[i]=s)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s],a=n[o],l=r[o]||r[P(o)],c=this.parse(l.name,a);c&&t.push(c)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,i,s,o,a,l,c=n.slice();for(a=0;a<t.length;a++)if(r=t[a],null!=(i=e.pstyle(r,!1)))if(null!=i.pfValue)c[0]=J(o,c[0]),c[1]=ee(o,c[1]);else for(s=i.strValue,l=0;l<s.length;l++)o=s.charCodeAt(l),c[0]=J(o,c[0]),c[1]=ee(o,c[1]);return c}};Rs.getPropertiesHash=Rs.getNonDefaultPropertiesHash;var Ls={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,s=r.style||r.css,o=Object.keys(s);t.selector(i);for(var a=0;a<o.length;a++){var l=o[a],c=s[l];t.css(l,c)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,s={},o=0;o<i.length;o++){var a=i[o];s[a.name]=a.strValue}e.push({selector:r?r.toString():"core",style:s})}return e}},Fs={appendFromString:function(e){var t,n,r,i=this,s=""+e;function o(){s=s.length>t.length?s.substr(t.length):""}function a(){n=n.length>r.length?n.substr(r.length):""}for(s=s.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(s.match(/^\s*$/))break;var l=s.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){me("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+s);break}t=l[0];var c=l[1];if("core"!==c)if(new Ir(c).invalid){me("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),o();continue}var u=l[2],h=!1;n=u;for(var d=[];;){if(n.match(/^\s*$/))break;var p=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!p){me("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),h=!0;break}r=p[0];var f=p[1],g=p[2];if(this.properties[f])i.parse(f,g)?(d.push({name:f,val:g}),a()):(me("Skipping property: Invalid property definition in: "+r),a());else me("Skipping property: Invalid property name in: "+r),a()}if(h){o();break}i.selector(c);for(var m=0;m<d.length;m++){var v=d[m];i.css(v.name,v.val)}o()}return i},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},js={};!function(){var e=F,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},r=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];js.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:r,singleRegexMatchValue:!0},urls:{regexes:r,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return _(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var i={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=O(e),r=O(t);return n&&!r||!n&&r}},s=js.types,o=[{name:"label",type:s.text,triggersBounds:i.any,triggersZOrder:i.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:i.any}],a=[{name:"source-label",type:s.text,triggersBounds:i.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:s.size,triggersBounds:i.any}],l=[{name:"target-label",type:s.text,triggersBounds:i.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:s.size,triggersBounds:i.any}],c=[{name:"font-family",type:s.fontFamily,triggersBounds:i.any},{name:"font-style",type:s.fontStyle,triggersBounds:i.any},{name:"font-weight",type:s.fontWeight,triggersBounds:i.any},{name:"font-size",type:s.size,triggersBounds:i.any},{name:"text-transform",type:s.textTransform,triggersBounds:i.any},{name:"text-wrap",type:s.textWrap,triggersBounds:i.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:i.any},{name:"text-max-width",type:s.size,triggersBounds:i.any},{name:"text-outline-width",type:s.size,triggersBounds:i.any},{name:"line-height",type:s.positiveNumber,triggersBounds:i.any}],u=[{name:"text-valign",type:s.valign,triggersBounds:i.any},{name:"text-halign",type:s.halign,triggersBounds:i.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:i.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:i.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:i.any},{name:"text-justification",type:s.justification}],h=[{name:"events",type:s.bool},{name:"text-events",type:s.bool}],d=[{name:"display",type:s.display,triggersZOrder:i.any,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:s.visibility,triggersZOrder:i.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:s.nonNegativeInt,triggersZOrder:i.any}],p=[{name:"overlay-padding",type:s.size,triggersBounds:i.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:i.zeroNonZero}],f=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],g=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},m=[{name:"height",type:s.nodeSize,triggersBounds:i.any,hashOverride:g},{name:"width",type:s.nodeSize,triggersBounds:i.any,hashOverride:g},{name:"shape",type:s.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:i.any},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:i.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:i.any}],v=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:i.any},{name:"border-style",type:s.borderStyle}],y=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],b=[{name:"position",type:s.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:s.size,triggersBounds:i.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:s.size,triggersBounds:i.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:i.any}],w=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:s.size,triggersBounds:i.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:s.numbers,triggersBounds:i.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:s.numbers,triggersBounds:i.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:i.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:i.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:i.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:s.angle,triggersBounds:i.any},{name:"loop-sweep",type:s.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:s.size,triggersBounds:i.any},{name:"target-distance-from-node",type:s.size,triggersBounds:i.any}],x=[{name:"ghost",type:s.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:s.zeroOneNumber}],E=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],C=[];js.pieBackgroundN=16,C.push({name:"pie-size",type:s.sizeMaybePercent});for(var S=1;S<=js.pieBackgroundN;S++)C.push({name:"pie-"+S+"-background-color",type:s.color}),C.push({name:"pie-"+S+"-background-size",type:s.percent}),C.push({name:"pie-"+S+"-background-opacity",type:s.zeroOneNumber});var k=[],T=js.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:i.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill}].forEach(function(e){T.forEach(function(t){var n=t+"-"+e.name,r=e.type,i=e.triggersBounds;k.push({name:n,type:r,triggersBounds:i})})},{});var A=js.properties=[].concat(h,f,d,p,x,u,c,o,a,l,m,v,y,C,b,w,k,E),D=js.propertyGroups={behavior:h,transition:f,visibility:d,overlay:p,ghost:x,commonLabel:u,labelDimensions:c,mainLabel:o,sourceLabel:a,targetLabel:l,nodeBody:m,nodeBorder:v,backgroundImage:y,pie:C,compound:b,edgeLine:w,edgeArrow:k,core:E},I=js.propertyGroupNames={};(js.propertyGroupKeys=Object.keys(D)).forEach(function(e){I[e]=D[e].map(function(e){return e.name}),D[e].forEach(function(t){return t.groupKey=e})});var N=js.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];js.propertyNames=A.map(function(e){return e.name});for(var P=0;P<A.length;P++){var M=A[P];A[M.name]=M}for(var R=0;R<N.length;R++){var L=N[R],j=A[L.pointsTo],B={name:L.name,alias:!0,pointsTo:j};A.push(B),A[L.name]=B}}(),js.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},js.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=B({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=js.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){return js.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,i=t.value;e[r]=i}),e},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var s=i.name,o=t[s],a=this.parse(s,o);n[s]=a}}return e.defaultProperties=n,e.defaultProperties},js.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Bs={parse:function(e,t,n,r){var i=this;if(b(t))return i.parseImplWarn(e,t,n,r);var s,o=ie(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),a=i.propCache=i.propCache||[];return(s=a[o])||(s=a[o]=i.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(s=ve(s))&&(s.value=ve(s.value)),s},parseImplWarn:function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return i||null==t||me("The style property `".concat(e,": ").concat(t,"` is invalid")),!i||"width"!==i.name&&"height"!==i.name||"label"!==t||me("The style value of `label` is deprecated for `"+i.name+"`"),i}};Bs.parseImpl=function(e,t,n,r){var i=this;e=P(e);var s=i.properties[e],o=t,a=i.types;if(!s)return null;if(void 0===t)return null;s.alias&&(s=s.pointsTo,e=s.name);var l=_(t);l&&(t=t.trim());var c,u,h=s.type;if(!h)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(b(t))return{name:e,value:t,strValue:"fn",mapped:a.fn,bypass:n};if(!l||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(c=new RegExp(a.data.regex).exec(t))){if(n)return!1;var d=a.data;return{name:e,value:c,strValue:""+t,mapped:d,field:c[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(u=new RegExp(a.mapData.regex).exec(t))){if(n)return!1;if(h.multiple)return!1;var p=a.mapData;if(!h.color&&!h.number)return!1;var f=this.parse(e,u[4]);if(!f||f.mapped)return!1;var g=this.parse(e,u[5]);if(!g||g.mapped)return!1;if(f.pfValue===g.pfValue||f.strValue===g.strValue)return me("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+f.strValue+"`"),this.parse(e,f.strValue);if(h.color){var m=f.value,v=g.value;if(!(m[0]!==v[0]||m[1]!==v[1]||m[2]!==v[2]||m[3]!==v[3]&&(null!=m[3]&&1!==m[3]||null!=v[3]&&1!==v[3])))return!1}return{name:e,value:u,strValue:""+t,mapped:p,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:g.value,bypass:n}}}if(h.multiple&&"multiple"!==r){var y;if(y=l?t.split(/\s+/):w(t)?t:[t],h.evenMultiple&&y.length%2!=0)return null;for(var x=[],C=[],S=[],k="",T=!1,A=0;A<y.length;A++){var D=i.parse(e,y[A],n,"multiple");T=T||_(D.value),x.push(D.value),S.push(null!=D.pfValue?D.pfValue:D.value),C.push(D.units),k+=(A>0?" ":"")+D.strValue}return h.validate&&!h.validate(x,C)?null:h.singleEnum&&T?1===x.length&&_(x[0])?{name:e,value:x[0],strValue:x[0],bypass:n}:null:{name:e,value:x,pfValue:S,strValue:k,bypass:n,units:C}}var O,I,N=function(){for(var r=0;r<h.enums.length;r++){if(h.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(h.number){var M,R="px";if(h.units&&(M=h.units),h.implicitUnits&&(R=h.implicitUnits),!h.unitless)if(l){var L="px|em"+(h.allowPercent?"|\\%":"");M&&(L=M);var j=t.match("^("+F+")("+L+")?$");j&&(t=j[1],M=j[2]||R)}else M&&!h.implicitUnits||(M=R);if(t=parseFloat(t),isNaN(t)&&void 0===h.enums)return null;if(isNaN(t)&&void 0!==h.enums)return t=o,N();if(h.integer&&(!E(I=t)||Math.floor(I)!==I))return null;if(void 0!==h.min&&(t<h.min||h.strictMin&&t===h.min)||void 0!==h.max&&(t>h.max||h.strictMax&&t===h.max))return null;var B={name:e,value:t,strValue:""+t+(M||""),units:M,bypass:n};return h.unitless||"px"!==M&&"em"!==M?B.pfValue=t:B.pfValue="px"!==M&&M?this.getEmSizeInPixels()*t:t,"ms"!==M&&"s"!==M||(B.pfValue="ms"===M?t:1e3*t),"deg"!==M&&"rad"!==M||(B.pfValue="rad"===M?t:(O=t,Math.PI*O/180)),"%"===M&&(B.pfValue=t/100),B}if(h.propList){var z=[],U=""+t;if("none"===U);else{for(var H=U.split(/\s*,\s*|\s+/),$=0;$<H.length;$++){var q=H[$].trim();i.properties[q]?z.push(q):me("`"+q+"` is not a valid property name")}if(0===z.length)return null}return{name:e,value:z,strValue:0===z.length?"none":z.join(" "),bypass:n}}if(h.color){var G=V(t);return G?{name:e,value:G,pfValue:G,strValue:"rgb("+G[0]+","+G[1]+","+G[2]+")",bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var W=N();if(W)return W}for(var X=h.regexes?h.regexes:[h.regex],Y=0;Y<X.length;Y++){var K=new RegExp(X[Y]).exec(t);if(K)return{name:e,value:h.singleRegexMatchValue?K[1]:K,strValue:""+t,bypass:n}}return null}return h.string?{name:e,value:""+t,strValue:""+t,bypass:n}:h.enums?N():null};var Vs=function e(t){if(!(this instanceof e))return new e(t);A(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):fe("A style must have a core reference")},zs=Vs.prototype;zs.instanceString=function(){return"style"},zs.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach(function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1}),this},zs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},zs.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},zs.selector=function(e){var t="core"===e?null:new Ir(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},zs.css=function(){var e=this,t=arguments;if(1===t.length)for(var n=t[0],r=0;r<e.properties.length;r++){var i=e.properties[r],s=n[i.name];void 0===s&&(s=n[M(i.name)]),void 0!==s&&this.cssRule(i.name,s)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},zs.style=zs.css,zs.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},zs.append=function(e){return D(e)?e.appendToStyle(this):w(e)?this.appendFromJson(e):_(e)&&this.appendFromString(e),this},Vs.fromJson=function(e,t){var n=new Vs(e);return n.fromJson(t),n},Vs.fromString=function(e,t){return new Vs(e).fromString(t)},[Is,Ps,Ms,Rs,Ls,Fs,js,Bs].forEach(function(e){B(zs,e)}),Vs.types=zs.types,Vs.properties=zs.properties,Vs.propertyGroups=zs.propertyGroups,Vs.propertyGroupNames=zs.propertyGroupNames,Vs.propertyGroupKeys=zs.propertyGroupKeys;var Us={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return D(e)?t.style=e.generateStyle(this):w(e)?t.style=Vs.fromJson(this,e):_(e)?t.style=Vs.fromString(this,e):t.style=Vs(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},Hs={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,i,s=arguments,o=this._private.pan;switch(s.length){case 0:return o;case 1:if(_(s[0]))return o[e=s[0]];if(x(s[0])){if(!this._private.panningEnabled)return this;r=(n=s[0]).x,i=n.y,E(r)&&(o.x=r),E(i)&&(o.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=s[0],t=s[1],"x"!==e&&"y"!==e||!E(t)||(o[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,i,s,o,a=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:x(e)&&(s=(i=a[0]).x,o=i.y,E(s)&&(l.x+=s),E(o)&&(l.y+=o),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!E(r)||(l[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(E(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(_(e)){var i=e;e=this.$(i)}else if(x(r=e)&&E(r.x1)&&E(r.x2)&&E(r.y1)&&E(r.y2)){var s=e;(n={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else S(e)||(e=this.mutableElements());if(!S(e)||!e.empty()){n=n||e.boundingBox();var o,a=this.width(),l=this.height();if(t=E(t)?t:0,!isNaN(a)&&!isNaN(l)&&a>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:o=(o=(o=Math.min((a-2*t)/n.w,(l-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(a-o*(n.x1+n.x2))/2,y:(l-o*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return E(e)&&E(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):E(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:E(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,i=r.pan,s=r.zoom,o=!1;if(r.zoomingEnabled||(o=!0),E(e)?n=e:x(e)&&(n=e.level,null!=e.position?t=qe(e.position,s,i):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(o=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,o||!E(n)||n===s||null!=t&&(!E(t.x)||!E(t.y)))return null;if(null!=t){var a=i,l=s,c=n;return{zoomed:!0,panned:!0,zoom:c,pan:{x:-c/l*(t.x-a.x)+t.x,y:-c/l*(t.y-a.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:i}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,i=[],s=!1,o=!1;if(!e)return this;if(E(e.zoom)||(n=!1),x(e.pan)||(r=!1),!n&&!r)return this;if(n){var a=e.zoom;a<t.minZoom||a>t.maxZoom||!t.zoomingEnabled?s=!0:(t.zoom=a,i.push("zoom"))}if(r&&(!s||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;E(l.x)&&(t.pan.x=l.x,o=!1),E(l.y)&&(t.pan.y=l.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(_(e)){var n=e;e=this.mutableElements().filter(n)}else S(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),i=this.width(),s=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(s-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,r=n.container;return n.sizeCache=n.sizeCache||(r?(e=d.getComputedStyle(r),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:r.clientWidth-t("padding-left")-t("padding-right"),height:r.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};Hs.centre=Hs.center,Hs.autolockNodes=Hs.autolock,Hs.autoungrabifyNodes=Hs.autoungrabify;var $s={data:Wn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Wn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Wn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Wn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};$s.attr=$s.data,$s.removeAttr=$s.removeData;var qs=function(e){var t=this,n=(e=B({},e)).container;n&&!C(n)&&C(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var s=void 0!==d&&void 0!==n&&!e.headless,o=e;o.layout=B({name:s?"grid":"null"},o.layout),o.renderer=B({name:s?"canvas":"null"},o.renderer);var a=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:n,ready:!1,options:o,elements:new ls(this),listeners:[],aniEles:new ls(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:a(!0,o.zoomingEnabled),userZoomingEnabled:a(!0,o.userZoomingEnabled),panningEnabled:a(!0,o.panningEnabled),userPanningEnabled:a(!0,o.userPanningEnabled),boxSelectionEnabled:a(!0,o.boxSelectionEnabled),autolock:a(!1,o.autolock,o.autolockNodes),autoungrabify:a(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:a(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?s:o.styleEnabled,zoom:E(o.zoom)?o.zoom:1,pan:{x:x(o.pan)&&E(o.pan.x)?o.pan.x:0,y:x(o.pan)&&E(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});l.styleEnabled&&t.setStyle([]);var c=B({},o,o.renderer);t.initRenderer(c);!function(e,t){if(e.some(I))return $n.all(e).then(t);t(e)}([o.style,o.elements],function(e){var n=e[0],s=e[1];l.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var i=t.mutableElements();i.length>0&&i.remove(),null!=e&&(x(e)||w(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var s=B({},t._private.options.layout);s.eles=t.elements(),t.layout(s).run()}(s,function(){t.startAnimationLoop(),l.ready=!0,b(o.ready)&&t.on("ready",o.ready);for(var e=0;e<i.length;e++){var n=i[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")},o.done)})},Gs=qs.prototype;B(Gs,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!C(e)&&C(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(B({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return ve(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(x(e)){if(t.startBatch(),e.elements){var i={},s=function(e,n){for(var r=[],s=[],o=0;o<e.length;o++){var a=e[o];if(a.data.id){var l=""+a.data.id,c=t.getElementById(l);i[l]=!0,0!==c.length?s.push({ele:c,json:a}):n?(a.group=n,r.push(a)):r.push(a)}else me("cy.json() cannot handle elements without an ID attribute")}t.add(r);for(var u=0;u<s.length;u++){var h=s[u],d=h.ele,p=h.json;d.json(p)}};if(w(e.elements))s(e.elements);else for(var o=["nodes","edges"],a=0;a<o.length;a++){var l=o[a],c=e.elements[l];w(c)&&s(c,l)}var u=t.collection();r.filter(function(e){return!i[e.id()]}).forEach(function(e){e.isParent()?u.merge(e):e.remove()}),u.forEach(function(e){return e.children().move({parent:null})}),u.forEach(function(e){return function(e){return t.getElementById(e.id())}(e).remove()})}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],d=0;d<h.length;d++){var p=h[d];null!=e[p]&&t[p](e[p])}return t.endBatch(),this}var f={};!!e?f.elements=this.elements().map(function(e){return e.json()}):(f.elements={},r.forEach(function(e){var t=e.group();f.elements[t]||(f.elements[t]=[]),f.elements[t].push(e.json())})),this._private.styleEnabled&&(f.style=t.style().json()),f.data=ve(t.data());var g=n.options;return f.zoomingEnabled=n.zoomingEnabled,f.userZoomingEnabled=n.userZoomingEnabled,f.zoom=n.zoom,f.minZoom=n.minZoom,f.maxZoom=n.maxZoom,f.panningEnabled=n.panningEnabled,f.userPanningEnabled=n.userPanningEnabled,f.pan=ve(n.pan),f.boxSelectionEnabled=n.boxSelectionEnabled,f.renderer=ve(g.renderer),f.hideEdgesOnViewport=g.hideEdgesOnViewport,f.textureOnViewport=g.textureOnViewport,f.wheelSensitivity=g.wheelSensitivity,f.motionBlur=g.motionBlur,f}}),Gs.$id=Gs.getElementById,[us,ws,Cs,Ss,ks,Ts,Ds,Os,Us,Hs,$s].forEach(function(e){B(Gs,e)});var Ws={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Xs=function(e){return e.scratch("breadthfirst")},Ys=function(e,t){return e.scratch("breadthfirst",t)};function Ks(e){this.options=B({},Ws,e)}Ks.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,i=n.eles,s=i.nodes().filter(function(e){return!e.isParent()}),o=i,a=n.directed,l=n.maximal||n.maximalAdjustments>0,c=rt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(S(n.roots))e=n.roots;else if(w(n.roots)){for(var u=[],h=0;h<n.roots.length;h++){var d=n.roots[h],p=r.getElementById(d);u.push(p)}e=r.collection(u)}else if(_(n.roots))e=r.$(n.roots);else if(a)e=s.roots();else{var f=i.components();e=r.collection();for(var g=function(t){var n=f[t],r=n.maxDegree(!1),i=n.filter(function(e){return e.degree(!1)===r});e=e.add(i)},m=0;m<f.length;m++)g(m)}var v=[],y={},b=function(e,t){null==v[t]&&(v[t]=[]);var n=v[t].length;v[t].push(e),Ys(e,{index:n,depth:t})};o.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,i){var s=e[0],o=s.id();b(s,i),y[o]=!0}});for(var x=[],E=0;E<s.length;E++){var C=s[E];y[C.id()]||x.push(C)}var k=function(e){for(var t=v[e],n=0;n<t.length;n++){var r=t[n];null!=r?Ys(r,{depth:e,index:n}):(t.splice(n,1),n--)}},T=function(){for(var e=0;e<v.length;e++)k(e)},A=function(e,t){for(var n=Xs(e),r=e.incomers().filter(function(e){return e.isNode()&&i.has(e)}),s=-1,o=e.id(),a=0;a<r.length;a++){var l=r[a],c=Xs(l);s=Math.max(s,c.depth)}return n.depth<=s&&(t[o]?null:(function(e,t){var n=Xs(e),r=n.depth,i=n.index;v[r][i]=null,b(e,t)}(e,s+1),t[o]=!0,!0))};if(a&&l){var D=[],O={},I=function(e){return D.push(e)};for(s.forEach(function(e){return D.push(e)});D.length>0;){var N=D.shift(),P=A(N,O);if(P)N.outgoers().filter(function(e){return e.isNode()&&i.has(e)}).forEach(I);else if(null===P){me("Detected double maximal shift for node `"+N.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}T();var M=0;if(n.avoidOverlap)for(var R=0;R<s.length;R++){var L=s[R].layoutDimensions(n),F=L.w,B=L.h;M=Math.max(M,F,B)}for(var V={},z=function(e){if(V[e.id()])return V[e.id()];for(var t=Xs(e).depth,n=e.neighborhood(),r=0,i=0,o=0;o<n.length;o++){var a=n[o];if(!a.isEdge()&&!a.isParent()&&s.has(a)){var l=Xs(a);if(null!=l){var c=l.index,u=l.depth;if(null!=c&&null!=u){var h=v[u].length;u<t&&(r+=c/h,i++)}}}}return r/=i=Math.max(1,i),0===i&&(r=0),V[e.id()]=r,r},U=function(e,t){var n=z(e)-z(t);return 0===n?j(e.id(),t.id()):n},H=0;H<v.length;H++)v[H].sort(U),k(H);for(var $=[],q=0;q<x.length;q++)$.push(x[q]);v.unshift($),T();for(var G=0,W=0;W<v.length;W++)G=Math.max(v[W].length,G);var X=c.x1+c.w/2,Y=c.x1+c.h/2,K=v.reduce(function(e,t){return Math.max(e,t.length)},0);return i.nodes().layoutPositions(this,n,function(e){var t=Xs(e),r=t.depth,i=t.index,s=v[r].length,o=Math.max(c.w/((n.grid?K:s)+1),M),a=Math.max(c.h/(v.length+1),M),l=Math.min(c.w/2/v.length,c.h/2/v.length);if(l=Math.max(l,M),n.circle){var u=l*r+l-(v.length>0&&v[0].length<=3?l/2:0),h=2*Math.PI/v[r].length*i;return 0===r&&1===v[0].length&&(u=1),{x:X+u*Math.cos(h),y:Y+u*Math.sin(h)}}return{x:X+(i+1-(s+1)/2)*o,y:(r+1)*a}}),this};var Zs={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Qs(e){this.options=B({},Zs,e)}Qs.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=r.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var o,a=rt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=a.x1+a.w/2,c=a.y1+a.h/2,u=(void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep)/Math.max(1,s.length-1),h=0,d=0;d<s.length;d++){var p=s[d].layoutDimensions(t),f=p.w,g=p.h;h=Math.max(h,f,g)}if(o=E(t.radius)?t.radius:s.length<=1?0:Math.min(a.h,a.w)/2-h,s.length>1&&t.avoidOverlap){h*=1.75;var m=Math.cos(u)-Math.cos(0),v=Math.sin(u)-Math.sin(0),y=Math.sqrt(h*h/(m*m+v*v));o=Math.max(y,o)}return r.nodes().layoutPositions(this,t,function(e,n){var r=t.startAngle+n*u*(i?1:-1),s=o*Math.cos(r),a=o*Math.sin(r);return{x:l+s,y:c+a}}),this};var Js,eo={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function to(e){this.options=B({},eo,e)}to.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,s=i.nodes().not(":parent"),o=rt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),a=o.x1+o.w/2,l=o.y1+o.h/2,c=[],u=0,h=0;h<s.length;h++){var d,p=s[h];d=t.concentric(p),c.push({value:d,node:p}),p._private.scratch.concentric=d}s.updateStyle();for(var f=0;f<s.length;f++){var g=s[f].layoutDimensions(t);u=Math.max(u,g.w,g.h)}c.sort(function(e,t){return t.value-e.value});for(var m=t.levelWidth(s),v=[[]],y=v[0],_=0;_<c.length;_++){var b=c[_];if(y.length>0)Math.abs(y[0].value-b.value)>=m&&(y=[],v.push(y));y.push(b)}var w=u+t.minNodeSpacing;if(!t.avoidOverlap){var x=v.length>0&&v[0].length>1,E=(Math.min(o.w,o.h)/2-w)/(v.length+x?1:0);w=Math.min(w,E)}for(var C=0,S=0;S<v.length;S++){var k=v[S],T=void 0===t.sweep?2*Math.PI-2*Math.PI/k.length:t.sweep,A=k.dTheta=T/Math.max(1,k.length-1);if(k.length>1&&t.avoidOverlap){var D=Math.cos(A)-Math.cos(0),O=Math.sin(A)-Math.sin(0),I=Math.sqrt(w*w/(D*D+O*O));C=Math.max(I,C)}k.r=C,C+=w}if(t.equidistant){for(var N=0,P=0,M=0;M<v.length;M++){var R=v[M].r-P;N=Math.max(N,R)}P=0;for(var L=0;L<v.length;L++){var F=v[L];0===L&&(P=F.r),F.r=P,P+=N}}for(var j={},B=0;B<v.length;B++)for(var V=v[B],z=V.dTheta,U=V.r,H=0;H<V.length;H++){var $=V[H],q=t.startAngle+(n?1:-1)*z*H,G={x:a+U*Math.cos(q),y:l+U*Math.sin(q)};j[$.node.id()]=G}return i.nodes().layoutPositions(this,t,function(e){var t=e.id();return j[t]}),this};var no={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function ro(e){this.options=B({},no,e),this.options.layout=this}ro.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),Js=!0===e.debug;var r=io(t,n,e);Js&&undefined(r),e.randomize&&ao(r);var i=X(),s=function(){co(r,t,e),!0===e.fit&&t.fit(e.padding)},o=function(t){return!(n.stopped||t>=e.numIter)&&(uo(r,e),r.temperature=r.temperature*e.coolingFactor,!(r.temperature<e.minTemp))},a=function(){if(!0===e.animate||!1===e.animate)s(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),i=lo(r,e,t);t.layoutPositions(n,e,i)}},l=0,c=!0;if(!0===e.animate){!function t(){for(var n=0;c&&n<e.refresh;)c=o(l),l++,n++;c?(X()-i>=e.animationThreshold&&s(),W(t)):(Eo(r,e),a())}()}else{for(;c;)c=o(l),l++;Eo(r,e),a()}return this},ro.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},ro.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var io=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:rt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},o=n.eles.components(),a={},l=0;l<o.length;l++)for(var c=o[l],u=0;u<c.length;u++){a[c[u].id()]=l}for(l=0;l<s.nodeSize;l++){var h=(m=i[l]).layoutDimensions(n);(P={}).isLocked=m.locked(),P.id=m.data("id"),P.parentId=m.data("parent"),P.cmptId=a[m.id()],P.children=[],P.positionX=m.position("x"),P.positionY=m.position("y"),P.offsetX=0,P.offsetY=0,P.height=h.w,P.width=h.h,P.maxX=P.positionX+P.width/2,P.minX=P.positionX-P.width/2,P.maxY=P.positionY+P.height/2,P.minY=P.positionY-P.height/2,P.padLeft=parseFloat(m.style("padding")),P.padRight=parseFloat(m.style("padding")),P.padTop=parseFloat(m.style("padding")),P.padBottom=parseFloat(m.style("padding")),P.nodeRepulsion=b(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,s.layoutNodes.push(P),s.idToIndex[P.id]=l}var d=[],p=0,f=-1,g=[];for(l=0;l<s.nodeSize;l++){var m,v=(m=s.layoutNodes[l]).parentId;null!=v?s.layoutNodes[s.idToIndex[v]].children.push(m.id):(d[++f]=m.id,g.push(m.id))}for(s.graphSet.push(g);p<=f;){var y=d[p++],_=s.idToIndex[y],w=s.layoutNodes[_].children;if(w.length>0){s.graphSet.push(w);for(l=0;l<w.length;l++)d[++f]=w[l]}}for(l=0;l<s.graphSet.length;l++){var x=s.graphSet[l];for(u=0;u<x.length;u++){var E=s.idToIndex[x[u]];s.indexToGraph[E]=l}}for(l=0;l<s.edgeSize;l++){var C=r[l],S={};S.id=C.data("id"),S.sourceId=C.data("source"),S.targetId=C.data("target");var k=b(n.idealEdgeLength)?n.idealEdgeLength(C):n.idealEdgeLength,T=b(n.edgeElasticity)?n.edgeElasticity(C):n.edgeElasticity,A=s.idToIndex[S.sourceId],D=s.idToIndex[S.targetId];if(s.indexToGraph[A]!=s.indexToGraph[D]){for(var O=so(S.sourceId,S.targetId,s),I=s.graphSet[O],N=0,P=s.layoutNodes[A];-1===I.indexOf(P.id);)P=s.layoutNodes[s.idToIndex[P.parentId]],N++;for(P=s.layoutNodes[D];-1===I.indexOf(P.id);)P=s.layoutNodes[s.idToIndex[P.parentId]],N++;k*=N*n.nestingFactor}S.idealLength=k,S.elasticity=T,s.layoutEdges.push(S)}return s},so=function(e,t,n){var r=oo(e,t,0,n);return 2>r.count?0:r.graph},oo=function e(t,n,r,i){var s=i.graphSet[r];if(-1<s.indexOf(t)&&-1<s.indexOf(n))return{count:2,graph:r};for(var o=0,a=0;a<s.length;a++){var l=s[a],c=i.idToIndex[l],u=i.layoutNodes[c].children;if(0!==u.length){var h=e(t,n,i.indexToGraph[i.idToIndex[u[0]]],i);if(0!==h.count){if(1!==h.count)return h;if(2===++o)break}}}return{count:o,graph:r}},ao=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];0!==s.children.length||s.isLocked||(s.positionX=Math.random()*n,s.positionY=Math.random()*r)}},lo=function(e,t,n){var r=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];i.x1=Math.min(i.x1,n.positionX),i.x2=Math.max(i.x2,n.positionX),i.y1=Math.min(i.y1,n.positionY),i.y2=Math.max(i.y2,n.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(n,s){var o=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var a=(o.positionX-i.x1)/i.w,l=(o.positionY-i.y1)/i.h;return{x:r.x1+a*r.w,y:r.y1+l*r.h}}return{x:o.positionX,y:o.positionY}}},co=function(e,t,n){var r=n.layout,i=n.eles.nodes(),s=lo(e,n,i);i.positions(s),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},uo=function(e,t,n){ho(e,t),vo(e),yo(e,t),_o(e),bo(e)},ho=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,s=0;s<i;s++)for(var o=e.layoutNodes[e.idToIndex[r[s]]],a=s+1;a<i;a++){var l=e.layoutNodes[e.idToIndex[r[a]]];fo(o,l,e,t)}},po=function(e){return-e+2*e*Math.random()},fo=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,s=t.positionY-e.positionY;0===i&&0===s&&(i=po(1),s=po(1));var o=go(e,t,i,s);if(o>0)var a=(c=r.nodeOverlap*o)*i/(g=Math.sqrt(i*i+s*s)),l=c*s/g;else{var c,u=mo(e,i,s),h=mo(t,-1*i,-1*s),d=h.x-u.x,p=h.y-u.y,f=d*d+p*p,g=Math.sqrt(f);a=(c=(e.nodeRepulsion+t.nodeRepulsion)/f)*d/g,l=c*p/g}e.isLocked||(e.offsetX-=a,e.offsetY-=l),t.isLocked||(t.offsetX+=a,t.offsetY+=l)}},go=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(r>0)var s=e.maxY-t.minY;else s=t.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},mo=function(e,t,n){var r=e.positionX,i=e.positionY,s=e.height||1,o=e.width||1,a=n/t,l=s/o,c={};return 0===t&&0<n||0===t&&0>n?(c.x=r,c.y=i+s/2,c):0<t&&-1*l<=a&&a<=l?(c.x=r+o/2,c.y=i+o*n/2/t,c):0>t&&-1*l<=a&&a<=l?(c.x=r-o/2,c.y=i-o*n/2/t,c):0<n&&(a<=-1*l||a>=l)?(c.x=r+s*t/2/n,c.y=i+s/2,c):0>n&&(a<=-1*l||a>=l)?(c.x=r-s*t/2/n,c.y=i-s/2,c):c},vo=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],s=e.layoutNodes[i],o=e.idToIndex[r.targetId],a=e.layoutNodes[o],l=a.positionX-s.positionX,c=a.positionY-s.positionY;if(0!==l||0!==c){var u=mo(s,l,c),h=mo(a,-1*l,-1*c),d=h.x-u.x,p=h.y-u.y,f=Math.sqrt(d*d+p*p),g=Math.pow(r.idealLength-f,2)/r.elasticity;if(0!==f)var m=g*d/f,v=g*p/f;else m=0,v=0;s.isLocked||(s.offsetX+=m,s.offsetY+=v),a.isLocked||(a.offsetX-=m,a.offsetY-=v)}}},yo=function(e,t){for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var s=e.clientHeight/2,o=e.clientWidth/2;else{var a=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[a.parentId]];s=l.positionX,o=l.positionY}for(var c=0;c<i;c++){var u=e.layoutNodes[e.idToIndex[r[c]]];if(!u.isLocked){var h=s-u.positionX,d=o-u.positionY,p=Math.sqrt(h*h+d*d);if(p>1){var f=t.gravity*h/p,g=t.gravity*d/p;u.offsetX+=f,u.offsetY+=g}}}}},_o=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var s=n[r++],o=e.idToIndex[s],a=e.layoutNodes[o],l=a.children;if(0<l.length&&!a.isLocked){for(var c=a.offsetX,u=a.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=c,d.offsetY+=u,n[++i]=l[h]}a.offsetX=0,a.offsetY=0}}},bo=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(i=e.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(i=e.layoutNodes[n]).children.length||i.isLocked)){var r=wo(i.offsetX,i.offsetY,e.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,xo(i,e)}}for(n=0;n<e.nodeSize;n++){var i;0<(i=e.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},wo=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},xo=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],s=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,s=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,s=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,s=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,s=!0),s?e(i,n):void 0}},Eo=function(e,t){for(var n=e.layoutNodes,r=[],i=0;i<n.length;i++){var s=n[i],o=s.cmptId;(r[o]=r[o]||[]).push(s)}var a=0;for(i=0;i<r.length;i++){if(g=r[i]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var c=g[l];g.x1=Math.min(g.x1,c.positionX-c.width/2),g.x2=Math.max(g.x2,c.positionX+c.width/2),g.y1=Math.min(g.y1,c.positionY-c.height/2),g.y2=Math.max(g.y2,c.positionY+c.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,a+=g.w*g.h}}r.sort(function(e,t){return t.w*t.h-e.w*e.h});var u=0,h=0,d=0,p=0,f=Math.sqrt(a)*e.clientWidth/e.clientHeight;for(i=0;i<r.length;i++){var g;if(g=r[i]){for(l=0;l<g.length;l++){(c=g[l]).isLocked||(c.positionX+=u-g.x1,c.positionY+=h-g.y1)}u+=g.w+t.componentSpacing,d+=g.w+t.componentSpacing,p=Math.max(p,g.h),d>f&&(h+=p+t.componentSpacing,u=0,d=0,p=0)}}},Co={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function So(e){this.options=B({},Co,e)}So.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var s=rt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===s.h||0===s.w)r.nodes().layoutPositions(this,t,function(e){return{x:s.x1,y:s.y1}});else{var o=i.size(),a=Math.sqrt(o*s.h/s.w),l=Math.round(a),c=Math.round(s.w/s.h*a),u=function(e){if(null==e)return Math.min(l,c);Math.min(l,c)==l?l=e:c=e},h=function(e){if(null==e)return Math.max(l,c);Math.max(l,c)==l?l=e:c=e},d=t.rows,p=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=p)l=d,c=p;else if(null!=d&&null==p)l=d,c=Math.ceil(o/l);else if(null==d&&null!=p)c=p,l=Math.ceil(o/c);else if(c*l>o){var f=u(),g=h();(f-1)*g>=o?u(f-1):(g-1)*f>=o&&h(g-1)}else for(;c*l<o;){var m=u(),v=h();(v+1)*m>=o?h(v+1):u(m+1)}var y=s.w/c,_=s.h/l;if(t.condense&&(y=0,_=0),t.avoidOverlap)for(var b=0;b<i.length;b++){var w=i[b],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var E=w.layoutDimensions(t),C=t.avoidOverlapPadding,S=E.w+C,k=E.h+C;y=Math.max(y,S),_=Math.max(_,k)}for(var T={},A=function(e,t){return!!T["c-"+e+"-"+t]},D=function(e,t){T["c-"+e+"-"+t]=!0},O=0,I=0,N=function(){++I>=c&&(I=0,O++)},P={},M=0;M<i.length;M++){var R=i[M],L=t.position(R);if(L&&(void 0!==L.row||void 0!==L.col)){var F={row:L.row,col:L.col};if(void 0===F.col)for(F.col=0;A(F.row,F.col);)F.col++;else if(void 0===F.row)for(F.row=0;A(F.row,F.col);)F.row++;P[R.id()]=F,D(F.row,F.col)}}i.layoutPositions(this,t,function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var i=P[e.id()];if(i)n=i.col*y+y/2+s.x1,r=i.row*_+_/2+s.y1;else{for(;A(O,I);)N();n=I*y+y/2+s.x1,r=O*_+_/2+s.y1,D(O,I),N()}return{x:n,y:r}})}return this};var ko={ready:function(){},stop:function(){}};function To(e){this.options=B({},ko,e)}To.prototype.run=function(){var e=this.options,t=e.eles,n=this;e.cy;return n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},To.prototype.stop=function(){return this};var Ao={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Do(e){this.options=B({},Ao,e)}Do.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=b(e.positions);return t.layoutPositions(this,e,function(t,r){var i=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=i&&i}),this};var Oo={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Io(e){this.options=B({},Oo,e)}Io.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=rt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this};var No=[{name:"breadthfirst",impl:Ks},{name:"circle",impl:Qs},{name:"concentric",impl:to},{name:"cose",impl:ro},{name:"grid",impl:So},{name:"null",impl:To},{name:"preset",impl:Do},{name:"random",impl:Io}];function Po(e){this.options=e,this.notifications=0}var Mo=function(){},Ro=function(){throw new Error("A headless instance can not render images")};Po.prototype={recalculateRenderedStyle:Mo,notify:function(){this.notifications++},init:Mo,isHeadless:function(){return!0},png:Ro,jpg:Ro};var Lo={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,s,o){var a=i.x-n/2-o,l=i.x+n/2+o,c=i.y-n/2-o,u=i.y+n/2+o;return a<=e&&e<=l&&c<=t&&t<=u},r=function(e,t,n,r,i){var s=e*Math.cos(r)-t*Math.sin(r),o=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:s*n+i.x,y:o+i.y}},i=function(e,t,n,i){for(var s=[],o=0;o<e.length;o+=2){var a=e[o],l=e[o+1];s.push(r(a,l,t,n,i))}return s},s=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},o=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},a=function(r,a){_(a)&&(a=e[a]),e[r]=B({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,o,a){var l=s(i(this.points,n+2*a,r,o));return mt(e,t,l)},roughCollide:n,draw:function(e,n,r,s){var o=i(this.points,n,r,s);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:o},a)};a("none",{collide:he,roughCollide:he,draw:pe,spacing:de,gap:de}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,s,o,a){var l=i(this.points,n,s,o),c=this.controlPoint,u=r(c[0],c[1],n,s,o);t.arrowShapeImpl(this.name)(e,l,u)},gap:function(e){return.8*o(e)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,o,a,l){var c=s(i(this.points,n+2*l,r,o)),u=s(i(this.pointsTee,n+2*l,r,o));return mt(e,t,c)||mt(e,t,u)},draw:function(e,n,r,s,o){var a=i(this.points,n,r,s),l=i(this.pointsTee,n,r,s);t.arrowShapeImpl(this.name)(e,a,l)}}),a("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,o,a,l){var c=o,u=Math.pow(c.x-e,2)+Math.pow(c.y-t,2)<=Math.pow((n+2*l)*this.radius,2),h=s(i(this.points,n+2*l,r,o));return mt(e,t,h)||u},draw:function(e,n,r,s,o){var a=i(this.pointsTr,n,r,s);t.arrowShapeImpl(this.name)(e,a,s.x,s.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,o,a,l){var c=s(i(this.points,n+2*l,r,o)),u=s(i(this.crossLinePts(n,a),n+2*l,r,o));return mt(e,t,c)||mt(e,t,u)},draw:function(e,n,r,s,o){var a=i(this.points,n,r,s),l=i(this.crossLinePts(n,o),n,r,s);t.arrowShapeImpl(this.name)(e,a,l)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*o(e)}}),a("circle",{radius:.15,collide:function(e,t,n,r,i,s,o){var a=i;return Math.pow(a.x-e,2)+Math.pow(a.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(e,n,r,i,s){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Fo={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],s=r[1],o=r[4],a=n.pan(),l=n.zoom();return[((e-i)/o-a.x)/l,((t-s)/o-a.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=d.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},i=r("padding-left"),s=r("padding-right"),o=r("padding-top"),a=r("padding-bottom"),l=r("border-left-width"),c=r("border-right-width"),u=r("border-top-width"),h=(r("border-bottom-width"),e.clientWidth),p=e.clientHeight,f=i+s,g=o+a,m=l+c,v=t.width/(h+m),y=h-f,_=p-g,b=t.left+i+l,w=t.top+o+u;return this.containerBB=[b,w,y,_,v]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var i,s,o=this,a=this,l=a.getCachedZSortedEles(),c=[],u=a.cy.zoom(),h=a.cy.hasCompoundNodes(),d=(r?24:8)/u,p=(r?8:2)/u,f=(r?8:2)/u,g=1/0;function m(e,t){if(e.isNode()){if(s)return;s=e,c.push(e)}if(e.isEdge()&&(null==t||t<g))if(i){if(i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<c.length;n++)if(c[n].isEdge()){c[n]=e,i=e,g=null!=t?t:g;break}}else c.push(e),i=e,g=null!=t?t:g}function v(n){var r=n.outerWidth()+2*p,i=n.outerHeight()+2*p,s=r/2,l=i/2,c=n.position();if(c.x-s<=e&&e<=c.x+s&&c.y-l<=t&&t<=c.y+l&&a.nodeShapes[o.getNodeShape(n)].checkPoint(e,t,0,r,i,c.x,c.y))return m(n,0),!0}function y(n){var r,i=n._private,s=i.rscratch,l=n.pstyle("width").pfValue,u=n.pstyle("arrow-scale").value,p=l/2+d,f=p*p,g=2*p,y=i.source,_=i.target;if("segments"===s.edgeType||"straight"===s.edgeType||"haystack"===s.edgeType){for(var b=s.allpts,w=0;w+3<b.length;w+=2)if(dt(e,t,b[w],b[w+1],b[w+2],b[w+3],g)&&f>(r=gt(e,t,b[w],b[w+1],b[w+2],b[w+3])))return m(n,r),!0}else if("bezier"===s.edgeType||"multibezier"===s.edgeType||"self"===s.edgeType||"compound"===s.edgeType)for(b=s.allpts,w=0;w+5<s.allpts.length;w+=4)if(pt(e,t,b[w],b[w+1],b[w+2],b[w+3],b[w+4],b[w+5],g)&&f>(r=ft(e,t,b[w],b[w+1],b[w+2],b[w+3],b[w+4],b[w+5])))return m(n,r),!0;y=y||i.source,_=_||i.target;var x=o.getArrowWidth(l,u),E=[{name:"source",x:s.arrowStartX,y:s.arrowStartY,angle:s.srcArrowAngle},{name:"target",x:s.arrowEndX,y:s.arrowEndY,angle:s.tgtArrowAngle},{name:"mid-source",x:s.midX,y:s.midY,angle:s.midsrcArrowAngle},{name:"mid-target",x:s.midX,y:s.midY,angle:s.midtgtArrowAngle}];for(w=0;w<E.length;w++){var C=E[w],S=a.arrowShapes[n.pstyle(C.name+"-arrow-shape").value],k=n.pstyle("width").pfValue;if(S.roughCollide(e,t,x,C.angle,{x:C.x,y:C.y},k,d)&&S.collide(e,t,x,C.angle,{x:C.x,y:C.y},k,d))return m(n),!0}h&&c.length>0&&(v(y),v(_))}function _(e,t,n){return Ce(e,t,n)}function b(n,r){var i,s=n._private,o=f;i=r?r+"-":"",n.boundingBox();var a=s.labelBounds[r||"main"],l=n.pstyle(i+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var c=_(s.rscratch,"labelX",r),u=_(s.rscratch,"labelY",r),h=_(s.rscratch,"labelAngle",r),d=n.pstyle(i+"text-margin-x").pfValue,p=n.pstyle(i+"text-margin-y").pfValue,g=a.x1-o-d,v=a.x2+o-d,y=a.y1-o-p,b=a.y2+o-p;if(h){var w=Math.cos(h),x=Math.sin(h),E=function(e,t){return{x:(e-=c)*w-(t-=u)*x+c,y:e*x+t*w+u}},C=E(g,y),S=E(g,b),k=E(v,y),T=E(v,b),A=[C.x+d,C.y+p,k.x+d,k.y+p,T.x+d,T.y+p,S.x+d,S.y+p];if(mt(e,t,A))return m(n),!0}else if(ct(a,e,t))return m(n),!0}}n&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var x=l[w];x.isNode()?v(x)||b(x):y(x)||b(x)||b(x,"source")||b(x,"target")}return c},getAllInBox:function(e,t,n,r){for(var i,s,o=this.getCachedZSortedEles().interactive,a=[],l=Math.min(e,n),c=Math.max(e,n),u=Math.min(t,r),h=Math.max(t,r),d=rt({x1:e=l,y1:t=u,x2:n=c,y2:r=h}),p=0;p<o.length;p++){var f=o[p];if(f.isNode()){var g=f,m=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});lt(d,m)&&!ut(m,d)&&a.push(g)}else{var v=f,y=v._private,_=y.rscratch;if(null!=_.startX&&null!=_.startY&&!ct(d,_.startX,_.startY))continue;if(null!=_.endX&&null!=_.endY&&!ct(d,_.endX,_.endY))continue;if("bezier"===_.edgeType||"multibezier"===_.edgeType||"self"===_.edgeType||"compound"===_.edgeType||"segments"===_.edgeType||"haystack"===_.edgeType){for(var b=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,w=!0,x=0;x<b.length;x++)if(i=d,s=b[x],!ct(i,s.x,s.y)){w=!1;break}w&&a.push(v)}else"haystack"!==_.edgeType&&"straight"!==_.edgeType||a.push(v)}}return a}},jo={calculateArrowAngles:function(e){var t,n,r,i,s,o,a=e._private.rscratch,l="haystack"===a.edgeType,c="bezier"===a.edgeType,u="multibezier"===a.edgeType,h="segments"===a.edgeType,d="compound"===a.edgeType,p="self"===a.edgeType;if(l?(r=a.haystackPts[0],i=a.haystackPts[1],s=a.haystackPts[2],o=a.haystackPts[3]):(r=a.arrowStartX,i=a.arrowStartY,s=a.arrowEndX,o=a.arrowEndY),g=a.midX,m=a.midY,h)t=r-a.segpts[0],n=i-a.segpts[1];else if(u||d||p||c){var f=a.allpts;t=r-et(f[0],f[2],f[4],.1),n=i-et(f[1],f[3],f[5],.1)}else t=r-g,n=i-m;a.srcArrowAngle=Xe(t,n);var g=a.midX,m=a.midY;if(l&&(g=(r+s)/2,m=(i+o)/2),t=s-r,n=o-i,h)if((f=a.allpts).length/2%2==0){var v=(y=f.length/2)-2;t=f[y]-f[v],n=f[y+1]-f[v+1]}else{v=(y=f.length/2-1)-2;var y,_=y+2;t=f[y]-f[v],n=f[y+1]-f[v+1]}else if(u||d||p){var b,w,x,E,f=a.allpts;if(a.ctrlpts.length/2%2==0){var C=(S=(k=f.length/2-1)+2)+2;b=et(f[k],f[S],f[C],0),w=et(f[k+1],f[S+1],f[C+1],0),x=et(f[k],f[S],f[C],1e-4),E=et(f[k+1],f[S+1],f[C+1],1e-4)}else{var S,k;C=(S=f.length/2-1)+2;b=et(f[k=S-2],f[S],f[C],.4999),w=et(f[k+1],f[S+1],f[C+1],.4999),x=et(f[k],f[S],f[C],.5),E=et(f[k+1],f[S+1],f[C+1],.5)}t=x-b,n=E-w}(a.midtgtArrowAngle=Xe(t,n),a.midDispX=t,a.midDispY=n,t*=-1,n*=-1,h)&&((f=a.allpts).length/2%2==0||(t=-(f[_=(y=f.length/2-1)+2]-f[y]),n=-(f[_+1]-f[y+1])));if(a.midsrcArrowAngle=Xe(t,n),h)t=s-a.segpts[a.segpts.length-2],n=o-a.segpts[a.segpts.length-1];else if(u||d||p||c){var T=(f=a.allpts).length;t=s-et(f[T-6],f[T-4],f[T-2],.9),n=o-et(f[T-5],f[T-3],f[T-1],.9)}else t=s-g,n=o-m;a.tgtArrowAngle=Xe(t,n)}};jo.getArrowWidth=jo.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var Bo={};function Vo(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}Bo.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,i=r.rscratch;if(!i.haystack){var s=2*Math.random()*Math.PI;i.source={x:Math.cos(s),y:Math.sin(s)},s=2*Math.random()*Math.PI,i.target={x:Math.cos(s),y:Math.sin(s)}}var o=r.source,a=r.target,l=o.position(),c=a.position(),u=o.width(),h=a.width(),d=o.height(),p=a.height(),f=n.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*u*f+l.x,i.source.y*d*f+l.y,i.target.x*h*f+c.x,i.target.y*p*f+c.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},Bo.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=t.posPts,i=t.intersectionPts,s=t.vectorNormInverse,o=e.pstyle("edge-distances").value,a=e.pstyle("segment-weights"),l=e.pstyle("segment-distances"),c=Math.min(a.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var u=0;u<c;u++){var h=a.pfValue[u],d=l.pfValue[u],p=1-h,f=h,g="node-position"===o?r:i,m={x:g.x1*p+g.x2*f,y:g.y1*p+g.y2*f};n.segpts.push(m.x+s.x*d,m.y+s.y*d)}},Bo.findLoopPoints=function(e,t,n,r){var i=e._private.rscratch,s=t.dirCounts,o=t.srcPos,a=e.pstyle("control-point-distances"),l=a?a.pfValue[0]:void 0,c=e.pstyle("loop-direction").pfValue,u=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=n,p=h;r&&(d=0,p=l);var f=c-Math.PI/2,g=f-u/2,m=f+u/2,v=String(c+"_"+u);d=void 0===s[v]?s[v]=0:++s[v],i.ctrlpts=[o.x+1.4*Math.cos(g)*p*(d/3+1),o.y+1.4*Math.sin(g)*p*(d/3+1),o.x+1.4*Math.cos(m)*p*(d/3+1),o.y+1.4*Math.sin(m)*p*(d/3+1)]},Bo.findCompoundLoopPoints=function(e,t,n,r){var i=e._private.rscratch;i.edgeType="compound";var s=t.srcPos,o=t.tgtPos,a=t.srcW,l=t.srcH,c=t.tgtW,u=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,f=n,g=h;r&&(f=0,g=p);var m={x:s.x-a/2,y:s.y-l/2},v={x:o.x-c/2,y:o.y-u/2},y={x:Math.min(m.x,v.x),y:Math.min(m.y,v.y)},_=Math.max(.5,Math.log(.01*a)),b=Math.max(.5,Math.log(.01*c));i.ctrlpts=[y.x,y.y-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*_,y.x-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*b,y.y]},Bo.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},Bo.findBezierPoints=function(e,t,n,r,i){var s=e._private.rscratch,o=t.vectorNormInverse,a=t.posPts,l=t.intersectionPts,c=e.pstyle("edge-distances").value,u=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),d=e.pstyle("control-point-weights"),p=h&&d?Math.min(h.value.length,d.value.length):1,f=h?h.pfValue[0]:void 0,g=d.value[0],m=r;s.edgeType=m?"multibezier":"bezier",s.ctrlpts=[];for(var v=0;v<p;v++){var y=(.5-t.eles.length/2+n)*u*(i?-1:1),_=void 0,b=Ke(y);m&&(f=h?h.pfValue[v]:u,g=d.value[v]);var w=void 0!==(_=r?f:void 0!==f?b*f:void 0)?_:y,x=1-g,E=g,C="node-position"===c?a:l,S={x:C.x1*x+C.x2*E,y:C.y1*x+C.y2*E};s.ctrlpts.push(S.x+o.x*w,S.y+o.y*w)}},Bo.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",s="leftward",o="rightward",a="downward",l="upward",c=t.posPts,u=t.srcW,h=t.srcH,d=t.tgtW,p=t.tgtH,f="node-position"!==e.pstyle("edge-distances").value,g=e.pstyle("taxi-direction").value,m=g,v=e.pstyle("taxi-turn"),y="%"===v.units,_=v.pfValue,b=_<0,w=e.pstyle("taxi-turn-min-distance").pfValue,x=f?(u+d)/2:0,E=f?(h+p)/2:0,C=c.x2-c.x1,S=c.y2-c.y1,k=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},T=k(C,x),A=k(S,E),D=!1;"auto"===m?g=Math.abs(T)>Math.abs(A)?i:r:m===l||m===a?(g=r,D=!0):m!==s&&m!==o||(g=i,D=!0);var O,I=g===r,N=I?A:T,P=I?S:C,M=Ke(P),R=!1;(D&&(y||b)||!(m===a&&P<0||m===l&&P>0||m===s&&P>0||m===o&&P<0)||(N=(M*=-1)*Math.abs(N),R=!0),y)?O=(_<0?1+_:_)*N:O=(_<0?N:0)+_*M;var L=function(e){return Math.abs(e)<w||Math.abs(e)>=Math.abs(N)},F=L(O),j=L(Math.abs(N)-Math.abs(O));if((F||j)&&!R)if(I){var B=Math.abs(P)<=h/2,V=Math.abs(C)<=d/2;if(B){var z=(c.x1+c.x2)/2,U=c.y1,H=c.y2;n.segpts=[z,U,z,H]}else if(V){var $=(c.y1+c.y2)/2,q=c.x1,G=c.x2;n.segpts=[q,$,G,$]}else n.segpts=[c.x1,c.y2]}else{var W=Math.abs(P)<=u/2,X=Math.abs(S)<=p/2;if(W){var Y=(c.y1+c.y2)/2,K=c.x1,Z=c.x2;n.segpts=[K,Y,Z,Y]}else if(X){var Q=(c.x1+c.x2)/2,J=c.y1,ee=c.y2;n.segpts=[Q,J,Q,ee]}else n.segpts=[c.x2,c.y1]}else if(I){var te=c.y1+O+(f?h/2*M:0),ne=c.x1,re=c.x2;n.segpts=[ne,te,re,te]}else{var ie=c.x1+O+(f?u/2*M:0),se=c.y1,oe=c.y2;n.segpts=[ie,se,ie,oe]}},Bo.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,i=t.tgtPos,s=t.srcW,o=t.srcH,a=t.tgtW,l=t.tgtH,c=t.srcShape,u=t.tgtShape,h=!E(n.startX)||!E(n.startY),d=!E(n.arrowStartX)||!E(n.arrowStartY),p=!E(n.endX)||!E(n.endY),f=!E(n.arrowEndX)||!E(n.arrowEndY),g=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),m=Ze({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),v=m<g,y=Ze({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),_=y<g,b=!1;if(h||d||v){b=!0;var w={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},x=Math.sqrt(w.x*w.x+w.y*w.y),C={x:w.x/x,y:w.y/x},S=Math.max(s,o),k={x:n.ctrlpts[0]+2*C.x*S,y:n.ctrlpts[1]+2*C.y*S},T=c.intersectLine(r.x,r.y,s,o,k.x,k.y,0);v?(n.ctrlpts[0]=n.ctrlpts[0]+C.x*(g-m),n.ctrlpts[1]=n.ctrlpts[1]+C.y*(g-m)):(n.ctrlpts[0]=T[0]+C.x*g,n.ctrlpts[1]=T[1]+C.y*g)}if(p||f||_){b=!0;var A={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},D=Math.sqrt(A.x*A.x+A.y*A.y),O={x:A.x/D,y:A.y/D},I=Math.max(s,o),N={x:n.ctrlpts[0]+2*O.x*I,y:n.ctrlpts[1]+2*O.y*I},P=u.intersectLine(i.x,i.y,a,l,N.x,N.y,0);_?(n.ctrlpts[0]=n.ctrlpts[0]+O.x*(g-y),n.ctrlpts[1]=n.ctrlpts[1]+O.y*(g-y)):(n.ctrlpts[0]=P[0]+O.x*g,n.ctrlpts[1]=P[1]+O.y*g)}b&&this.findEndpoints(e)}},Bo.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,.5,t.midX=et(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=et(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var i=t.segpts.length/2,s=i-2;t.midX=(t.segpts[s]+t.segpts[i])/2,t.midY=(t.segpts[s+1]+t.segpts[i+1])/2}else{var o=t.segpts.length/2-1;t.midX=t.segpts[o],t.midY=t.segpts[o+1]}},Bo.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||E(t.startX)&&E(t.startY)&&E(t.endX)&&E(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,me("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Bo.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),i={map:new ke,get:function(e){var t=this.map.get(e[0]);return null!=t?t.get(e[1]):null},set:function(e,t){var n=this.map.get(e[0]);null==n&&(n=new ke,this.map.set(e[0],n)),n.set(e[1],t)}},s=[],o=[],a=0;a<e.length;a++){var l=e[a],c=l._private,u=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==u){var h="unbundled-bezier"===u||"segments"===u||"straight"===u||"taxi"===u,d="unbundled-bezier"===u||"bezier"===u,p=c.source,f=c.target,g=[p.poolIndex(),f.poolIndex()].sort(),m=i.get(g);null==m&&(m={eles:[]},i.set(g,m),s.push(g)),m.eles.push(l),h&&(m.hasUnbundled=!0),d&&(m.hasBezier=!0)}else o.push(l)}for(var v=function(e){var o=s[e],a=i.get(o),l=void 0;if(!a.hasUnbundled){var c=a.eles[0].parallelEdges().filter(function(e){return e.isBundledBezier()});Ee(a.eles),c.forEach(function(e){return a.eles.push(e)}),a.eles.sort(function(e,t){return e.poolIndex()-t.poolIndex()})}var u=a.eles[0],h=u.source(),d=u.target();if(h.poolIndex()>d.poolIndex()){var p=h;h=d,d=p}var f=a.srcPos=h.position(),g=a.tgtPos=d.position(),m=a.srcW=h.outerWidth(),v=a.srcH=h.outerHeight(),y=a.tgtW=d.outerWidth(),_=a.tgtH=d.outerHeight(),b=a.srcShape=n.nodeShapes[t.getNodeShape(h)],w=a.tgtShape=n.nodeShapes[t.getNodeShape(d)];a.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var x=0;x<a.eles.length;x++){var C=a.eles[x],S=C[0]._private.rscratch,k=C.pstyle("curve-style").value,T="unbundled-bezier"===k||"segments"===k||"taxi"===k,A=!h.same(C.source());if(!a.calculatedIntersection&&h!==d&&(a.hasBezier||a.hasUnbundled)){a.calculatedIntersection=!0;var D=b.intersectLine(f.x,f.y,m,v,g.x,g.y,0),O=a.srcIntn=D,I=w.intersectLine(g.x,g.y,y,_,f.x,f.y,0),N=a.tgtIntn=I,P=a.intersectionPts={x1:D[0],x2:I[0],y1:D[1],y2:I[1]},M=a.posPts={x1:f.x,x2:g.x,y1:f.y,y2:g.y},R=I[1]-D[1],L=I[0]-D[0],F=Math.sqrt(L*L+R*R),j=a.vector={x:L,y:R},B=a.vectorNorm={x:j.x/F,y:j.y/F},V={x:-B.y,y:B.x};a.nodesOverlap=!E(F)||w.checkPoint(D[0],D[1],0,y,_,g.x,g.y)||b.checkPoint(I[0],I[1],0,m,v,f.x,f.y),a.vectorNormInverse=V,l={nodesOverlap:a.nodesOverlap,dirCounts:a.dirCounts,calculatedIntersection:!0,hasBezier:a.hasBezier,hasUnbundled:a.hasUnbundled,eles:a.eles,srcPos:g,tgtPos:f,srcW:y,srcH:_,tgtW:m,tgtH:v,srcIntn:N,tgtIntn:O,srcShape:w,tgtShape:b,posPts:{x1:M.x2,y1:M.y2,x2:M.x1,y2:M.y1},intersectionPts:{x1:P.x2,y1:P.y2,x2:P.x1,y2:P.y1},vector:{x:-j.x,y:-j.y},vectorNorm:{x:-B.x,y:-B.y},vectorNormInverse:{x:-V.x,y:-V.y}}}var z=A?l:a;S.nodesOverlap=z.nodesOverlap,S.srcIntn=z.srcIntn,S.tgtIntn=z.tgtIntn,r&&(h.isParent()||h.isChild()||d.isParent()||d.isChild())&&(h.parents().anySame(d)||d.parents().anySame(h)||h.same(d)&&h.isParent())?t.findCompoundLoopPoints(C,z,x,T):h===d?t.findLoopPoints(C,z,x,T):"segments"===k?t.findSegmentsPoints(C,z):"taxi"===k?t.findTaxiPoints(C,z):"straight"===k||!T&&a.eles.length%2==1&&x===Math.floor(a.eles.length/2)?t.findStraightEdgePoints(C):t.findBezierPoints(C,z,x,T,A),t.findEndpoints(C),t.tryToCorrectInvalidPoints(C,z),t.checkForInvalidEdgeWarning(C),t.storeAllpts(C),t.storeEdgeProjections(C),t.calculateArrowAngles(C),t.recalculateEdgeLabelProjections(C),t.calculateLabelAngles(C)}},y=0;y<s.length;y++)v(y);this.findHaystackPoints(o)}},Bo.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),Vo(t.segpts)},Bo.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),Vo(t.ctrlpts)},Bo.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var zo={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),i=e.outerHeight();if(2===t.value.length){var s=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(s[0]=s[0]*r),"%"===t.units[1]&&(s[1]=s[1]*i),s[0]+=n.x,s[1]+=n.y,s}var o=t.pfValue[0];o=-Math.PI/2+o;var a=2*Math.max(r,i),l=[n.x+Math.cos(o)*a,n.y+Math.sin(o)*a];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(e){var t,n,r,i,s,o=this,a=e.source()[0],l=e.target()[0],c=a.position(),u=l.position(),h=e.pstyle("target-arrow-shape").value,d=e.pstyle("source-arrow-shape").value,p=e.pstyle("target-distance-from-node").pfValue,f=e.pstyle("source-distance-from-node").pfValue,g=e.pstyle("curve-style").value,m=e._private.rscratch,v=m.edgeType,y="self"===v||"compound"===v,_="bezier"===v||"multibezier"===v||y,b="bezier"!==v,w="straight"===v||"segments"===v,x="segments"===v,C=_||b||w,S=y||"taxi"===g,k=e.pstyle("source-endpoint"),T=S?"outside-to-node":k.value,A=e.pstyle("target-endpoint"),D=S?"outside-to-node":A.value;if(m.srcManEndpt=k,m.tgtManEndpt=A,_){var O=[m.ctrlpts[0],m.ctrlpts[1]];n=b?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:O,r=O}else if(w){var I=x?m.segpts.slice(0,2):[u.x,u.y];n=x?m.segpts.slice(m.segpts.length-2):[c.x,c.y],r=I}if("inside-to-node"===D)t=[u.x,u.y];else if(A.units)t=this.manualEndptToPx(l,A);else if("outside-to-line"===D)t=m.tgtIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?i=n:"outside-to-line"!==D&&"outside-to-line-or-label"!==D||(i=[c.x,c.y]),t=o.nodeShapes[this.getNodeShape(l)].intersectLine(u.x,u.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var N=l._private.rscratch,P=N.labelWidth,M=N.labelHeight,R=N.labelX,L=N.labelY,F=P/2,j=M/2,B=l.pstyle("text-valign").value;"top"===B?L-=j:"bottom"===B&&(L+=j);var V=l.pstyle("text-halign").value;"left"===V?R-=F:"right"===V&&(R+=F);var z=Ct(i[0],i[1],[R-F,L-j,R+F,L-j,R+F,L+j,R-F,L+j],u.x,u.y);if(z.length>0){var U=c,H=Qe(U,We(t)),$=Qe(U,We(z)),q=H;if($<H&&(t=z,q=$),z.length>2)Qe(U,{x:z[2],y:z[3]})<q&&(t=[z[2],z[3]])}}var G=St(t,n,o.arrowShapes[h].spacing(e)+p),W=St(t,n,o.arrowShapes[h].gap(e)+p);if(m.endX=W[0],m.endY=W[1],m.arrowEndX=G[0],m.arrowEndY=G[1],"inside-to-node"===T)t=[c.x,c.y];else if(k.units)t=this.manualEndptToPx(a,k);else if("outside-to-line"===T)t=m.srcIntn;else if("outside-to-node"===T||"outside-to-node-or-label"===T?s=r:"outside-to-line"!==T&&"outside-to-line-or-label"!==T||(s=[u.x,u.y]),t=o.nodeShapes[this.getNodeShape(a)].intersectLine(c.x,c.y,a.outerWidth(),a.outerHeight(),s[0],s[1],0),"outside-to-node-or-label"===T||"outside-to-line-or-label"===T){var X=a._private.rscratch,Y=X.labelWidth,K=X.labelHeight,Z=X.labelX,Q=X.labelY,J=Y/2,ee=K/2,te=a.pstyle("text-valign").value;"top"===te?Q-=ee:"bottom"===te&&(Q+=ee);var ne=a.pstyle("text-halign").value;"left"===ne?Z-=J:"right"===ne&&(Z+=J);var re=Ct(s[0],s[1],[Z-J,Q-ee,Z+J,Q-ee,Z+J,Q+ee,Z-J,Q+ee],c.x,c.y);if(re.length>0){var ie=u,se=Qe(ie,We(t)),oe=Qe(ie,We(re)),ae=se;if(oe<se&&(t=[re[0],re[1]],ae=oe),re.length>2)Qe(ie,{x:re[2],y:re[3]})<ae&&(t=[re[2],re[3]])}}var le=St(t,r,o.arrowShapes[d].spacing(e)+f),ce=St(t,r,o.arrowShapes[d].gap(e)+f);m.startX=ce[0],m.startY=ce[1],m.arrowStartX=le[0],m.arrowStartY=le[1],C&&(E(m.startX)&&E(m.startY)&&E(m.endX)&&E(m.endY)?m.badLine=!1:m.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}},Uo={};function Ho(e,t,n){for(var r=function(e,t,n,r){return et(e,t,n,r)},i=t._private.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var o=e.bezierProjPcts[s];i.push({x:r(n[0],n[2],n[4],o),y:r(n[1],n[3],n[5],o)})}}Uo.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)Ho(this,e,n.allpts.slice(i,i+6))}else if("segments"===r){var s=t.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)s.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var o=n.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},Uo.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var $o={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!O(t)){var n,r,i=e._private,s=e.width(),o=e.height(),a=e.padding(),l=e.position(),c=e.pstyle("text-halign").strValue,u=e.pstyle("text-valign").strValue,h=i.rscratch,d=i.rstyle;switch(c){case"left":n=l.x-s/2-a;break;case"right":n=l.x+s/2+a;break;default:n=l.x}switch(u){case"top":r=l.y-o/2-a;break;case"bottom":r=l.y+o/2+a;break;default:r=l.y}h.labelX=n,h.labelY=r,d.labelX=n,d.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},qo=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},Go=function(e,t){var n=t.x-e.x,r=t.y-e.y;return qo(n,r)};$o.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,i=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:r.midX,y:r.midY};var o=function(e,t,r){Se(n.rscratch,e,t,r),Se(n.rstyle,e,t,r)};o("labelX",null,t.x),o("labelY",null,t.y);var a=qo(r.midDispX,r.midDispY);o("labelAutoAngle",null,a);var l=function e(){if(e.cache)return e.cache;for(var t=[],s=0;s+5<r.allpts.length;s+=4){var o={x:r.allpts[s],y:r.allpts[s+1]},a={x:r.allpts[s+2],y:r.allpts[s+3]},l={x:r.allpts[s+4],y:r.allpts[s+5]};t.push({p0:o,p1:a,p2:l,startDist:0,length:0,segments:[]})}var c=n.rstyle.bezierPts,u=i.bezierProjPcts.length;function h(e,t,n,r,i){var s=Ze(t,n),o=e.segments[e.segments.length-1],a={p0:t,p1:n,t0:r,t1:i,startDist:o?o.startDist+o.length:0,length:s};e.segments.push(a),e.length+=s}for(var d=0;d<t.length;d++){var p=t[d],f=t[d-1];f&&(p.startDist=f.startDist+f.length),h(p,p.p0,c[d*u],0,i.bezierProjPcts[0]);for(var g=0;g<u-1;g++)h(p,c[d*u+g],c[d*u+g+1],i.bezierProjPcts[g],i.bezierProjPcts[g+1]);h(p,c[d*u+u-1],p.p2,i.bezierProjPcts[u-1],1)}return e.cache=t},c=function(n){var i,a="source"===n;if(s[n]){var c=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,h=l(),d=0,p=0,f=0;f<h.length;f++){for(var g=h[a?f:h.length-1-f],m=0;m<g.segments.length;m++){var v=g.segments[a?m:g.segments.length-1-m],y=f===h.length-1&&m===g.segments.length-1;if(d=p,(p+=v.length)>=c||y){u={cp:g,segment:v};break}}if(u)break}var _=u.cp,b=u.segment,w=(c-d)/b.length,x=b.t1-b.t0,E=a?b.t0+x*w:b.t1-x*w;E=nt(0,E,1),t=tt(_.p0,_.p1,_.p2,E),i=function(e,t,n,r){var i=nt(0,r-.001,1),s=nt(0,r+.001,1),o=tt(e,t,n,i),a=tt(e,t,n,s);return Go(o,a)}(_.p0,_.p1,_.p2,E);break;case"straight":case"segments":case"haystack":for(var C,S,k,T,A=0,D=r.allpts.length,O=0;O+3<D&&(a?(k={x:r.allpts[O],y:r.allpts[O+1]},T={x:r.allpts[O+2],y:r.allpts[O+3]}):(k={x:r.allpts[D-2-O],y:r.allpts[D-1-O]},T={x:r.allpts[D-4-O],y:r.allpts[D-3-O]}),S=A,!((A+=C=Ze(k,T))>=c));O+=2);var I=(c-S)/C;I=nt(0,I,1),t=function(e,t,n,r){var i=t.x-e.x,s=t.y-e.y,o=Ze(e,t),a=i/o,l=s/o;return n=null==n?0:n,r=null!=r?r:n*o,{x:e.x+a*r,y:e.y+l*r}}(k,T,I),i=Go(k,T)}o("labelX",n,t.x),o("labelY",n,t.y),o("labelAutoAngle",n,i)}};c("source"),c("target"),this.applyLabelDimensions(e)}},$o.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},$o.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r),s=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,a=Ce(n.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==o?1:Math.max(a.length,1),c=i.height/l,u=c*s,h=i.width,d=i.height+(l-1)*(s-1)*c;Se(n.rstyle,"labelWidth",t,h),Se(n.rscratch,"labelWidth",t,h),Se(n.rstyle,"labelHeight",t,d),Se(n.rscratch,"labelHeight",t,d),Se(n.rscratch,"labelLineHeight",t,u)},$o.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,s=e.pstyle("text-transform").value,o=function(e,r){return r?(Se(n.rscratch,e,t,r),r):Ce(n.rscratch,e,t)};if(!i)return"";"none"==s||("uppercase"==s?i=i.toUpperCase():"lowercase"==s&&(i=i.toLowerCase()));var a=e.pstyle("text-wrap").value;if("wrap"===a){var l=o("labelKey");if(null!=l&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var c=i.split("\n"),u=e.pstyle("text-max-width").pfValue,h="anywhere"===e.pstyle("text-overflow-wrap").value,d=[],p=/[\s\u200b]+/,f=h?"":" ",g=0;g<c.length;g++){var m=c[g],v=this.calculateLabelDimensions(e,m).width;if(h){var y=m.split("").join("\u200b");m=y}if(v>u){for(var _=m.split(p),b="",w=0;w<_.length;w++){var x=_[w],E=0===b.length?x:b+f+x;this.calculateLabelDimensions(e,E).width<=u?b+=x+f:(b&&d.push(b),b=x+f)}b.match(/^[\s\u200b]+$/)||d.push(b)}else d.push(m)}o("labelWrapCachedLines",d),i=o("labelWrapCachedText",d.join("\n")),o("labelWrapKey",l)}else if("ellipsis"===a){var C=e.pstyle("text-max-width").pfValue,S="",k=!1;if(this.calculateLabelDimensions(e,i).width<C)return i;for(var T=0;T<i.length;T++){if(this.calculateLabelDimensions(e,S+i[T]+"\u2026").width>C)break;S+=i[T],T===i.length-1&&(k=!0)}return k||(S+="\u2026"),S}return i},$o.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},$o.calculateLabelDimensions=function(e,t){var n=re(t,e._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),i=r[n];if(null!=i)return i;var s=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,a=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,c=this.labelCalcCanvas,u=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=document.createElement("canvas"),u=this.labelCalcCanvasContext=c.getContext("2d");var h=c.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}u.font="".concat(s," ").concat(l," ").concat(o,"px ").concat(a);for(var d=0,p=0,f=t.split("\n"),g=0;g<f.length;g++){var m=f[g],v=u.measureText(m),y=Math.ceil(v.width),_=o;d=Math.max(y,d),p+=_}return d+=0,p+=0,r[n]={width:d,height:p}},$o.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),i=t?t+"-":"",s=e.pstyle(i+"text-rotation"),o=s.strValue;return"none"===o?0:r&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:s.pfValue},$o.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Wo={},Xo=!1;Wo.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return Xo||(me("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Xo=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var Yo={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var i=e[r],s=i._private,o=s.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(e){var t=e.target;r(t)}).on("style.* background.*",function(e){var t=e.target;r(t,!1)});var i=function(i){if(i){var s=n.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var a=t[o],l=a._private.rstyle;a.isNode()&&!l.cleanConnected&&(r(a.connectedEdges()),l.cleanConnected=!0)}if(s)for(var c=0;c<s.length;c++){(0,s[c])(i,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){void 0===t&&(t=!0);for(var s=0;s<e.length;s++){var o=e[s],a=o._private,l=a.rstyle;!o.isEdge()||n(o.source())&&n(o.target())||(l.clean=!1),t&&l.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===a.group?i.push(o):r.push(o),l.clean=!0)}for(var c=0;c<i.length;c++){var u=i[c],h=u._private.rstyle,d=u.position();this.recalculateNodeLabelProjection(u),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=u.pstyle("width").pfValue,h.nodeH=u.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var p=0;p<r.length;p++){var f=r[p]._private,g=f.rstyle,m=f.rscratch;g.srcX=m.arrowStartX,g.srcY=m.arrowStartY,g.tgtX=m.arrowEndX,g.tgtY=m.arrowEndY,g.midX=m.midX,g.midY=m.midY,g.labelAngle=m.labelAngle,g.sourceLabelAngle=m.sourceLabelAngle,g.targetLabelAngle=m.targetLabelAngle}}}},Ko={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(i=e[n])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):r.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(n=0;n<t.length;n++){var i=t[n];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Li),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},Zo={};[Fo,jo,Bo,zo,Uo,$o,Wo,Yo,Ko].forEach(function(e){B(Zo,e)});var Qo={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},i=r[e];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var s=(i=r[e]=r[e]||{}).image=new Image;s.addEventListener("load",n),s.addEventListener("error",function(){s.error=!0});var o="data:";return e.substring(0,o.length).toLowerCase()===o||(s.crossOrigin=t),s.src=e,s}},Jo={registerBinding:function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),s=this.binder(e);return s.on.apply(s,i)}};Jo.binder=function(e){var t,n=this,r=e===window||e===document||e===document.body||(t=e,"undefined"!=typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,s)}catch(a){}n.supportsPassiveEvents=i}var o=function(t,i,s){var o=Array.prototype.slice.call(arguments);return r&&n.supportsPassiveEvents&&(o[2]={capture:null!=s&&s,passive:!1,once:!1}),n.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:o,addEventListener:o,addListener:o,bind:o}},Jo.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},Jo.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},Jo.load=function(){var e=this,t=function(e){return e.selected()},n=function(t,n,r,i){null==t&&(t=e.cy);for(var s=0;s<n.length;s++){var o=n[s];t.emit({originalEvent:r,type:o,position:i})}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},s=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable())for(var i=0;n&&i<n.length;i++){if((t=n[i]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},o=function(e){e[0]._private.rscratch.inDragLayer=!0},a=function(e){e[0]._private.rscratch.isGrabTarget=!0},l=function(e,t){var n=t.addToList;n.has(e)||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},c=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(o),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(o)),n.addToList&&t.forEach(function(e){l(e,n)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(o),n.connectedEdges().forEach(o)),t.addToList&&t.addToList.unmerge(n)}}(t,n),d(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},u=c,h=function(t){t&&(e.getCachedZSortedEles().forEach(function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},d=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(o),r.forEach(o)),t.addToList&&r.forEach(function(e){l(e,t)})}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,g="undefined"!=typeof ResizeObserver;f?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var i=0;i<r.length;i++){if(r[i]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var m=i(function(){e.cy.resize()},100);f&&(e.styleObserver=new MutationObserver(m),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",m),g&&(e.resizeObserver=new ResizeObserver(m),e.resizeObserver.observe(e.container));var v=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",v),e.registerBinding(t,"animationend",v),e.registerBinding(t,"scroll",v)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var y=function(t){for(var n=e.findContainerClientCoords(),r=n[0],i=n[1],s=n[2],o=n[3],a=t.touches?t.touches:[t],l=!1,c=0;c<a.length;c++){var u=a[c];if(r<=u.clientX&&u.clientX<=r+s&&i<=u.clientY&&u.clientY<=i+o){l=!0;break}}if(!l)return!1;for(var h=e.container,d=t.target.parentNode,p=!1;d;){if(d===h){p=!0;break}d=d.parentNode}return!!p};e.registerBinding(e.container,"mousedown",function(t){if(y(t)){t.preventDefault(),p(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,i=[t.clientX,t.clientY],s=e.projectIntoViewport(i[0],i[1]),o=e.selection,l=e.findNearestElements(s[0],s[1],!0,!1),h=l[0],d=e.dragData.possibleDragElements;e.hoverData.mdownPos=s,e.hoverData.mdownGPos=i;if(3==t.which){e.hoverData.cxtStarted=!0;var f={originalEvent:t,type:"cxttapstart",position:{x:s[0],y:s[1]}};h?(h.activate(),h.emit(f),e.hoverData.down=h):r.emit(f),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(h&&h.activate(),null!=h&&e.nodeIsGrabbable(h)){var g=function(e){return{originalEvent:t,type:e,position:{x:s[0],y:s[1]}}};if(a(h),h.selected()){d=e.dragData.possibleDragElements=r.collection();var m=r.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});c(m,{addToList:d}),h.emit(g("grabon")),m.forEach(function(e){e.emit(g("grab"))})}else d=e.dragData.possibleDragElements=r.collection(),u(h,{addToList:d}),h.emit(g("grabon")).emit(g("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=h,e.hoverData.downs=l,e.hoverData.downTime=(new Date).getTime(),n(h,["mousedown","tapstart","vmousedown"],t,{x:s[0],y:s[1]}),null==h?(o[4]=1,e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()):h.pannable()&&(o[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:s[0],y:s[1]}}):r.emit({originalEvent:t,type:"taphold",position:{x:s[0],y:s[1]}})}},e.tapholdDuration)}o[0]=o[2]=s[0],o[1]=o[3]=s[1]}},!1),e.registerBinding(window,"mousemove",function(t){if(e.hoverData.capture||y(t)){var i=!1,o=e.cy,a=o.zoom(),l=[t.clientX,t.clientY],u=e.projectIntoViewport(l[0],l[1]),d=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,f=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(u[0],u[1],!0,!1));var m,v=e.hoverData.last,_=e.hoverData.down,b=[u[0]-f[2],u[1]-f[3]],w=e.dragData.possibleDragElements;if(p){var x=l[0]-p[0],C=x*x,S=l[1]-p[1],k=C+S*S;e.hoverData.isOverThresholdDrag=m=k>=e.desktopTapThreshold2}var T=r(t);m&&(e.hoverData.tapholdCancelled=!0);i=!0,n(g,["mousemove","vmousemove","tapdrag"],t,{x:u[0],y:u[1]});var A=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:u[0],y:u[1]}}),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(m){var D={originalEvent:t,type:"cxtdrag",position:{x:u[0],y:u[1]}};_?_.emit(D):o.emit(D),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:u[0],y:u[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:t,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}}else if(e.hoverData.dragging){if(i=!0,o.panningEnabled()&&o.userPanningEnabled()){var O;if(e.hoverData.justStartedPan){var I=e.hoverData.mdownPos;O={x:(u[0]-I[0])*a,y:(u[1]-I[1])*a},e.hoverData.justStartedPan=!1}else O={x:b[0]*a,y:b[1]*a};o.panBy(O),o.emit("dragpan"),e.hoverData.dragged=!0}u=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=f[4]||null!=_&&!_.pannable()){if(_&&_.pannable()&&_.active()&&_.unactivate(),_&&_.grabbed()||g==v||(v&&n(v,["mouseout","tapdragout"],t,{x:u[0],y:u[1]}),g&&n(g,["mouseover","tapdragover"],t,{x:u[0],y:u[1]}),e.hoverData.last=g),_)if(m){if(o.boxSelectionEnabled()&&T)_&&_.grabbed()&&(h(w),_.emit("freeon"),w.emit("free"),e.dragData.didDrag&&(_.emit("dragfreeon"),w.emit("dragfree"))),A();else if(_&&_.grabbed()&&e.nodeIsDraggable(_)){var N=!e.dragData.didDrag;N&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var P=o.collection();e.hoverData.draggingEles||c(w,{inDragLayer:!0});var M={x:0,y:0};if(E(b[0])&&E(b[1])&&(M.x+=b[0],M.y+=b[1],N)){var R=e.hoverData.dragDelta;R&&E(R[0])&&E(R[1])&&(M.x+=R[0],M.y+=R[1])}for(var L=0;L<w.length;L++){var F=w[L];e.nodeIsDraggable(F)&&F.grabbed()&&P.push(F)}e.hoverData.draggingEles=!0,P.silentShift(M).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(b[0]),t.push(b[1])):(t[0]+=b[0],t[1]+=b[1])}();i=!0}else if(m){if(e.hoverData.dragging||!o.boxSelectionEnabled()||!T&&o.panningEnabled()&&o.userPanningEnabled()){if(!e.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()){s(_,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=We(d),e.redrawHint("select",!0),e.redraw())}}else A();_&&_.pannable()&&_.active()&&_.unactivate()}return f[2]=u[0],f[3]=u[1],i?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}},!1),e.registerBinding(window,"mouseup",function(i){if(e.hoverData.capture){e.hoverData.capture=!1;var s=e.cy,o=e.projectIntoViewport(i.clientX,i.clientY),a=e.selection,l=e.findNearestElement(o[0],o[1],!0,!1),c=e.dragData.possibleDragElements,u=e.hoverData.down,d=r(i);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate(),3===e.hoverData.which){var p={originalEvent:i,type:"cxttapend",position:{x:o[0],y:o[1]}};if(u?u.emit(p):s.emit(p),!e.hoverData.cxtDragged){var f={originalEvent:i,type:"cxttap",position:{x:o[0],y:o[1]}};u?u.emit(f):s.emit(f)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],i,{x:o[0],y:o[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||n(u,["click","tap","vclick"],i,{x:o[0],y:o[1]}),null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(i)||(s.$(t).unselect(["tapunselect"]),c.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=c=s.collection()),l!=u||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===s.selectionType()||d?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):d||(s.$(t).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=s.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),s.emit({type:"boxend",originalEvent:i,position:{x:o[0],y:o[1]}});var m=function(e){return e.selectable()&&!e.selected()};"additive"===s.selectionType()||d||s.$(t).unmerge(g).unselect(),g.emit("box").stdFilter(m).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!a[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var v=u&&u.grabbed();h(c),v&&(u.emit("freeon"),c.emit("free"),e.dragData.didDrag&&(u.emit("dragfreeon"),c.emit("dragfree")))}}a[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1);var _,b,w,x,C,S,k,T,A,D,O,I,N,P=function(t){if(!e.scrollingPage){var n=e.cy,r=n.zoom(),i=n.pan(),s=e.projectIntoViewport(t.clientX,t.clientY),o=[s[0]*r+i.x,s[1]*r+i.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var a;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),a=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,a*=e.wheelSensitivity,1===t.deltaMode&&(a*=33);var l=n.zoom()*Math.pow(10,a);"gesturechange"===t.type&&(l=e.gestureStartZoom*t.scale),n.zoom({level:l,renderedPosition:{x:o[0],y:o[1]}}),n.emit("gesturechange"===t.type?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",P,!0),e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(t){e.hasTouchStarted||P(t)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var M,R,L,F,j=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},B=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",M=function(t){if(e.hasTouchStarted=!0,y(t)){p(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,s=e.touchData.earlier;if(t.touches[0]){var o=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);i[0]=o[0],i[1]=o[1]}if(t.touches[1]){o=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);i[2]=o[0],i[3]=o[1]}if(t.touches[2]){o=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);i[4]=o[0],i[5]=o[1]}if(t.touches[1]){e.touchData.singleTouchMoved=!0,h(e.dragData.touchDragEles);var l=e.findContainerClientCoords();A=l[0],D=l[1],O=l[2],I=l[3],_=t.touches[0].clientX-A,b=t.touches[0].clientY-D,w=t.touches[1].clientX-A,x=t.touches[1].clientY-D,N=0<=_&&_<=O&&0<=w&&w<=O&&0<=b&&b<=I&&0<=x&&x<=I;var d=r.pan(),f=r.zoom();C=j(_,b,w,x),S=B(_,b,w,x),T=[((k=[(_+w)/2,(b+x)/2])[0]-d.x)/f,(k[1]-d.y)/f];if(S<4e4&&!t.touches[2]){var g=e.findNearestElement(i[0],i[1],!0,!0),m=e.findNearestElement(i[2],i[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=g):m&&m.isNode()?(m.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=m):r.emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])r.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var v=e.findNearestElements(i[0],i[1],!0,!0),E=v[0];if(null!=E&&(E.activate(),e.touchData.start=E,e.touchData.starts=v,e.nodeIsGrabbable(E))){var P=e.dragData.touchDragEles=r.collection(),M=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),E.selected()?(M=r.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),c(M,{addToList:P})):u(E,{addToList:P}),a(E);var R=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};E.emit(R("grabon")),M?M.forEach(function(e){e.emit(R("grab"))}):E.emit(R("grab"))}n(E,["touchstart","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==E&&(e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:i[0],y:i[1]})},e.tapholdDuration)}if(t.touches.length>=1){for(var L=e.touchData.startPosition=[],F=0;F<i.length;F++)L[F]=s[F]=i[F];var V=t.touches[0];e.touchData.startGPosition=[V.clientX,V.clientY]}}},!1),e.registerBinding(window,"touchmove",R=function(t){var r=e.touchData.capture;if(r||y(t)){var i=e.selection,o=e.cy,a=e.touchData.now,l=e.touchData.earlier,u=o.zoom();if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=d[0],a[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);a[2]=d[0],a[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);a[4]=d[0],a[5]=d[1]}var p,f=e.touchData.startGPosition;if(r&&t.touches[0]&&f){for(var g=[],m=0;m<a.length;m++)g[m]=a[m]-l[m];var v=t.touches[0].clientX-f[0],k=v*v,O=t.touches[0].clientY-f[1];p=k+O*O>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var I=t.touches[0].clientX-A,P=t.touches[0].clientY-D,M=t.touches[1].clientX-A,R=t.touches[1].clientY-D,L=B(I,P,M,R);if(L/S>=2.25||L>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var F={originalEvent:t,type:"cxttapend",position:{x:a[0],y:a[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(F),e.touchData.start=null):o.emit(F)}}if(r&&e.touchData.cxt){F={originalEvent:t,type:"cxtdrag",position:{x:a[0],y:a[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(F):o.emit(F),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var V=e.findNearestElement(a[0],a[1],!0,!0);e.touchData.cxtOver&&V===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:a[0],y:a[1]}}),e.touchData.cxtOver=V,V&&V.emit({originalEvent:t,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(r&&t.touches[2]&&o.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:a[0],y:a[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,i[4]=1,i&&0!==i.length&&void 0!==i[0]?(i[2]=(a[0]+a[2]+a[4])/3,i[3]=(a[1]+a[3]+a[5])/3):(i[0]=(a[0]+a[2]+a[4])/3,i[1]=(a[1]+a[3]+a[5])/3,i[2]=(a[0]+a[2]+a[4])/3+1,i[3]=(a[1]+a[3]+a[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(r&&t.touches[1]&&!e.touchData.didSelect&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var z=0;z<ee.length;z++){var U=ee[z]._private;U.grabbed=!1,U.rscratch.inDragLayer=!1}}var H=e.touchData.start,$=(I=t.touches[0].clientX-A,P=t.touches[0].clientY-D,M=t.touches[1].clientX-A,R=t.touches[1].clientY-D,j(I,P,M,R)),q=$/C;if(N){var G=(I-_+(M-w))/2,W=(P-b+(R-x))/2,X=o.zoom(),Y=X*q,K=o.pan(),Z=T[0]*X+K.x,Q=T[1]*X+K.y,J={x:-Y/X*(Z-K.x-G)+Z,y:-Y/X*(Q-K.y-W)+Q};if(H&&H.active()){var ee=e.dragData.touchDragEles;h(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),H.unactivate().emit("freeon"),ee.emit("free"),e.dragData.didDrag&&(H.emit("dragfreeon"),ee.emit("dragfree"))}o.viewport({zoom:Y,pan:J,cancelOnFailedZoom:!0}),o.emit("pinchzoom"),C=$,_=I,b=P,w=M,x=R,e.pinching=!0}if(t.touches[0]){d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=d[0],a[1]=d[1]}if(t.touches[1]){d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);a[2]=d[0],a[3]=d[1]}if(t.touches[2]){d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);a[4]=d[0],a[5]=d[1]}}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(V=e.findNearestElement(a[0],a[1],!0,!0)),r&&null!=te&&t.preventDefault(),r&&null!=te&&e.nodeIsDraggable(te))if(p){ee=e.dragData.touchDragEles;var re=!e.dragData.didDrag;re&&c(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};if(E(g[0])&&E(g[1]))if(ie.x+=g[0],ie.y+=g[1],re)e.redrawHint("eles",!0),(se=e.touchData.dragDelta)&&E(se[0])&&E(se[1])&&(ie.x+=se[0],ie.y+=se[1]);e.hoverData.draggingEles=!0,ee.silentShift(ie).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==l[0]&&e.touchData.startPosition[1]==l[1]&&e.redrawHint("eles",!0),e.redraw()}else{var se;0===(se=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(se.push(g[0]),se.push(g[1])):(se[0]+=g[0],se[1]+=g[1])}if(n(te||V,["touchmove","tapdrag","vmousemove"],t,{x:a[0],y:a[1]}),te&&te.grabbed()||V==ne||(ne&&ne.emit({originalEvent:t,type:"tapdragout",position:{x:a[0],y:a[1]}}),V&&V.emit({originalEvent:t,type:"tapdragover",position:{x:a[0],y:a[1]}})),e.touchData.last=V,r)for(z=0;z<a.length;z++)a[z]&&e.touchData.startPosition[z]&&p&&(e.touchData.singleTouchMoved=!0);if(r&&(null==te||te.pannable())&&o.panningEnabled()&&o.userPanningEnabled()){s(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=We(e.touchData.startPosition)),e.swipePanning?(o.panBy({x:g[0]*u,y:g[1]*u}),o.emit("dragpan")):p&&(e.swipePanning=!0,o.panBy({x:v*u,y:O*u}),o.emit("dragpan"),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=d[0],a[1]=d[1]}}for(m=0;m<a.length;m++)l[m]=a[m];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",L=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",F=function(r){var i=e.touchData.start;if(e.touchData.capture){0===r.touches.length&&(e.touchData.capture=!1),r.preventDefault();var s=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o,a=e.cy,l=a.zoom(),c=e.touchData.now,u=e.touchData.earlier;if(r.touches[0]){var d=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=d[0],c[1]=d[1]}if(r.touches[1]){d=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);c[2]=d[0],c[3]=d[1]}if(r.touches[2]){d=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);c[4]=d[0],c[5]=d[1]}if(i&&i.unactivate(),e.touchData.cxt){if(o={originalEvent:r,type:"cxttapend",position:{x:c[0],y:c[1]}},i?i.emit(o):a.emit(o),!e.touchData.cxtDragged){var p={originalEvent:r,type:"cxttap",position:{x:c[0],y:c[1]}};i?i.emit(p):a.emit(p)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&a.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var f=a.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,e.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:r,position:{x:c[0],y:c[1]}});f.emit("box").stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit("boxselect"),f.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=i&&i.unactivate(),r.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=i){var m=i._private.grabbed;h(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),m&&(i.emit("freeon"),g.emit("free"),e.dragData.didDrag&&(i.emit("dragfreeon"),g.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],r,{x:c[0],y:c[1]}),i.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(c[0],c[1],!0,!0);n(v,["touchend","tapend","vmouseup","tapdragout"],r,{x:c[0],y:c[1]})}var y=e.touchData.startPosition[0]-c[0],_=y*y,b=e.touchData.startPosition[1]-c[1],w=(_+b*b)*l*l;e.touchData.singleTouchMoved||(i||a.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],r,{x:c[0],y:c[1]})),null!=i&&!e.dragData.didDrag&&i._private.selectable&&w<e.touchTapThreshold2&&!e.pinching&&("single"===a.selectionType()?(a.$(t).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var x=0;x<c.length;x++)u[x]=c[x];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),r.touches.length<2&&(1===r.touches.length&&(e.touchData.startGPosition=[r.touches[0].clientX,r.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var V=[],z=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},U=function(e){V.push(function(e){return{event:e,touch:z(e)}}(e))},H=function(e){for(var t=0;t<V.length;t++){if(V[t].event.pointerId===e.pointerId)return void V.splice(t,1)}},$=function(e){e.touches=V.map(function(e){return e.touch})},q=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){q(e)||(e.preventDefault(),U(e),$(e),M(e))}),e.registerBinding(e.container,"pointerup",function(e){q(e)||(H(e),$(e),F(e))}),e.registerBinding(e.container,"pointercancel",function(e){q(e)||(H(e),$(e),L())}),e.registerBinding(e.container,"pointermove",function(e){q(e)||(e.preventDefault(),function(e){var t=V.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=z(e)}(e),$(e),R(e))})}};var ea={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,s,o){return Ct(i,s,this.points,e,t,n/2,r/2,o)},checkPoint:function(e,t,n,r,i,s,o){return vt(e,t,this.points,s,o,r,i,[0,-1],n)}}}};ea.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,s,o){return function(e,t,n,r,i,s){var o=n-e,a=r-t;o/=i,a/=s;var l=Math.sqrt(o*o+a*a),c=l-1;if(c<0)return[];var u=c/l;return[(n-e)*u+e,(r-t)*u+t]}(i,s,e,t,n/2+o,r/2+o)},checkPoint:function(e,t,n,r,i,s,o){return bt(e,t,r,i,s,o,n)}}},ea.generateRoundPolygon=function(e,t){for(var n=new Array(2*t.length),r=0;r<t.length/2;r++){var i=2*r,s=void 0;s=r<t.length/2-1?2*(r+1):0,n[4*r]=t[i],n[4*r+1]=t[i+1];var o=t[s]-t[i],a=t[s+1]-t[i+1],l=Math.sqrt(o*o+a*a);n[4*r+2]=o/l,n[4*r+3]=a/l}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,s,o){return function(e,t,n,r,i,s,o,a){for(var l,c=[],u=new Array(n.length),h=s/2,d=o/2,p=Ot(s,o),f=0;f<n.length/4;f++){var g,m=void 0;m=0===f?n.length-2:4*f-2,g=4*f+2;var v=r+h*n[4*f],y=i+d*n[4*f+1],_=-n[m]*n[g]-n[m+1]*n[g+1],b=p/Math.tan(Math.acos(_)/2),w=v-b*n[m],x=y-b*n[m+1],E=v+b*n[g],C=y+b*n[g+1];0===f?(u[n.length-2]=w,u[n.length-1]=x):(u[4*f-2]=w,u[4*f-1]=x),u[4*f]=E,u[4*f+1]=C;var S=n[m+1],k=-n[m];S*n[g]+k*n[g+1]<0&&(S*=-1,k*=-1),0!==(l=wt(e,t,r,i,w+S*p,x+k*p,p)).length&&c.push(l[0],l[1])}for(var T=0;T<u.length/4;T++)0!==(l=Et(e,t,r,i,u[4*T],u[4*T+1],u[4*T+2],u[4*T+3],!1)).length&&c.push(l[0],l[1]);if(c.length>2){for(var A=[c[0],c[1]],D=Math.pow(A[0]-e,2)+Math.pow(A[1]-t,2),O=1;O<c.length/2;O++){var I=Math.pow(c[2*O]-e,2)+Math.pow(c[2*O+1]-t,2);I<=D&&(A[0]=c[2*O],A[1]=c[2*O+1],D=I)}return A}return c}(i,s,this.points,e,t,n,r)},checkPoint:function(e,t,n,r,i,s,o){return function(e,t,n,r,i,s,o){for(var a=new Array(n.length),l=s/2,c=o/2,u=Ot(s,o),h=u*u,d=0;d<n.length/4;d++){var p,f=void 0;f=0===d?n.length-2:4*d-2,p=4*d+2;var g=r+l*n[4*d],m=i+c*n[4*d+1],v=-n[f]*n[p]-n[f+1]*n[p+1],y=u/Math.tan(Math.acos(v)/2),_=g-y*n[f],b=m-y*n[f+1],w=g+y*n[p],x=m+y*n[p+1];a[4*d]=_,a[4*d+1]=b,a[4*d+2]=w,a[4*d+3]=x;var E=n[f+1],C=-n[f];E*n[p]+C*n[p+1]<0&&(E*=-1,C*=-1);var S=_+E*u,k=b+C*u;if(Math.pow(S-e,2)+Math.pow(k-t,2)<=h)return!0}return mt(e,t,a)}(e,t,this.points,s,o,r,i)}}},ea.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:kt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,s,o){return ht(i,s,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,s,o){var a=Dt(r,i),l=2*a;return!!vt(e,t,this.points,s,o,r,i-l,[0,-1],n)||(!!vt(e,t,this.points,s,o,r-l,i,[0,-1],n)||(!!bt(e,t,l,l,s-r/2+a,o-i/2+a,n)||(!!bt(e,t,l,l,s+r/2-a,o-i/2+a,n)||(!!bt(e,t,l,l,s+r/2-a,o+i/2-a,n)||!!bt(e,t,l,l,s-r/2+a,o+i/2-a,n)))))}}},ea.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:kt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function(e,t,n,r){var i=this.cornerLength,s=t/2,o=e/2,a=n-o,l=n+o,c=r-s,u=r+s;return{topLeft:[a,c+i,a+i,c,a+i,c+i],topRight:[l-i,c,l,c+i,l-i,c+i],bottomRight:[l,u-i,l-i,u,l-i,u-i],bottomLeft:[a+i,u,a,u-i,a+i,u-i]}},intersectLine:function(e,t,n,r,i,s,o){var a=this.generateCutTrianglePts(n+2*o,r+2*o,e,t),l=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return Ct(i,s,l,e,t)},checkPoint:function(e,t,n,r,i,s,o){if(vt(e,t,this.points,s,o,r,i-2*this.cornerLength,[0,-1],n))return!0;if(vt(e,t,this.points,s,o,r-2*this.cornerLength,i,[0,-1],n))return!0;var a=this.generateCutTrianglePts(r,i,s,o);return mt(e,t,a.topLeft)||mt(e,t,a.topRight)||mt(e,t,a.bottomRight)||mt(e,t,a.bottomLeft)}}},ea.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:kt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,s,o){var a=this.generateBarrelBezierPts(n+2*o,r+2*o,e,t),l=function(e){var t=tt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=tt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=tt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},c=[].concat(l(a.topLeft),l(a.topRight),l(a.bottomRight),l(a.bottomLeft));return Ct(i,s,c,e,t)},generateBarrelBezierPts:function(e,t,n,r){var i=t/2,s=e/2,o=n-s,a=n+s,l=r-i,c=r+i,u=It(e,t),h=u.heightOffset,d=u.widthOffset,p=u.ctrlPtOffsetPct*e,f={topLeft:[o,l+h,o+p,l,o+d,l],topRight:[a-d,l,a-p,l,a,l+h],bottomRight:[a,c-h,a-p,c,a-d,c],bottomLeft:[o+d,c,o+p,c,o,c-h]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(e,t,n,r,i,s,o){var a=It(r,i),l=a.heightOffset,c=a.widthOffset;if(vt(e,t,this.points,s,o,r,i-2*l,[0,-1],n))return!0;if(vt(e,t,this.points,s,o,r-2*c,i,[0,-1],n))return!0;for(var u=this.generateBarrelBezierPts(r,i,s,o),h=function(e,t,n){var r,i,s=n[4],o=n[2],a=n[0],l=n[5],c=n[1],u=Math.min(s,a),h=Math.max(s,a),d=Math.min(l,c),p=Math.max(l,c);if(u<=e&&e<=h&&d<=t&&t<=p){var f=[(r=s)-2*(i=o)+a,2*(i-r),r],g=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var s=Math.sqrt(i),o=2*e;return[(-t+s)/o,(-t-s)/o]}(f[0],f[1],f[2],e).filter(function(e){return 0<=e&&e<=1});if(g.length>0)return g[0]}return null},d=Object.keys(u),p=0;p<d.length;p++){var f=u[d[p]],g=h(e,t,f);if(null!=g){var m=f[5],v=f[3],y=f[1],_=et(m,v,y,g);if(f.isTop&&_<=t)return!0;if(f.isBottom&&t<=_)return!0}}return!1}}},ea.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:kt(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,s,o){var a=t-(r/2+o),l=Et(i,s,e,t,e-(n/2+o),a,e+(n/2+o),a,!1);return l.length>0?l:ht(i,s,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,s,o){var a=Dt(r,i),l=2*a;if(vt(e,t,this.points,s,o,r,i-l,[0,-1],n))return!0;if(vt(e,t,this.points,s,o,r-l,i,[0,-1],n))return!0;var c=r/2+2*n,u=i/2+2*n;return!!mt(e,t,[s-c,o-u,s-c,o,s+c,o,s+c,o-u])||(!!bt(e,t,l,l,s+r/2-a,o+i/2-a,n)||!!bt(e,t,l,l,s-r/2+a,o+i/2-a,n))}}},ea.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",kt(3,0)),this.generateRoundPolygon("round-triangle",kt(3,0)),this.generatePolygon("rectangle",kt(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",kt(5,0)),this.generateRoundPolygon("round-pentagon",kt(5,0)),this.generatePolygon("hexagon",kt(6,0)),this.generateRoundPolygon("round-hexagon",kt(6,0)),this.generatePolygon("heptagon",kt(7,0)),this.generateRoundPolygon("round-heptagon",kt(7,0)),this.generatePolygon("octagon",kt(8,0)),this.generateRoundPolygon("round-octagon",kt(8,0));var r=new Array(20),i=At(5,0),s=At(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var a=0;a<s.length/2;a++)s[2*a]*=o,s[2*a+1]*=o;for(a=0;a<5;a++)r[4*a]=i[2*a],r[4*a+1]=i[2*a+1],r[4*a+2]=s[2*a],r[4*a+3]=s[2*a+1];r=Tt(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}};var ta={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||be();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&fe("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},na=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};ta.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;W(function n(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){na(e,!0,r);var i=X();e.render(e.renderOptions);var s=e.lastDrawTime=X();void 0===e.averageRedrawTime&&(e.averageRedrawTime=s-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=s-i;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else na(e,!1,r);e.skipFrame=!1,W(n)}})}};var ra=function(e){this.init(e)},ia=ra.prototype;ia.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],ia.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(d){var r=d.document,i=r.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",a=null!=r.getElementById(s);if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!a){var l=r.createElement("style");l.id=s,l.innerHTML="."+o+" { position: relative; }",i.insertBefore(l,i.children[0])}"static"===d.getComputedStyle(n).getPropertyValue("position")&&me("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=E(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},ia.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},ia.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(i){}},ia.isHeadless=function(){return!1},[Lo,Zo,Qo,Jo,ea,ta].forEach(function(e){B(ia,e)});var sa=1e3/60,oa=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=i(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),s=e.priority||pe;n.beforeRender(function(i,s){var o=X(),a=n.averageRedrawTime,l=n.lastRedrawTime,c=[],u=n.cy.extent(),h=n.getPixelRatio();for(i||n.flushRenderedStyleQueue();;){var d=X(),p=d-o,f=d-s;if(l<sa){var g=sa-(i?a:0);if(f>=e.deqFastCost*g)break}else if(i){if(p>=e.deqCost*l||p>=e.deqAvgCost*a)break}else if(f>=e.deqNoDrawCost*sa)break;var m=e.deq(t,h,u);if(!(m.length>0))break;for(var v=0;v<m.length;v++)c.push(m[v])}c.length>0&&(e.onDeqd(t,c),!i&&e.shouldRedraw(t,c,h,u)&&r())},s(t))}}},aa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he;a(this,e),this.idsByKey=new ke,this.keyForId=new ke,this.cachesByLvl=new ke,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return c(e,[{key:"getIdsFor",value:function(e){null==e&&fe("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Ae,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new ke,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach(function(n){return t.deleteCache(e,n)})}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),e}(),la={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},ca=we({getKey:null,doesEleInvalidateKey:he,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ue,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ua=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=ca(t);B(n,r),n.lookup=new aa(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},ha=ua.prototype;ha.reasons=la,ha.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},ha.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},ha.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new s(function(e,t){return t.reqs-e.reqs})},ha.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},ha.getElement=function(e,t,n,r,i){var s=this,o=this.renderer,a=o.cy.zoom(),l=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!s.allowEdgeTxrCaching&&e.isEdge()||!s.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(Ye(a*n))),r<-4)r=-4;else if(a>=7.99||r>3)return null;var c=Math.pow(2,r),u=t.h*c,h=t.w*c,d=o.eleTextBiggerThanMin(e,c);if(!this.isVisible(e,d))return null;var p,f=l.get(e,r);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=u<=25?25:u<=50?50:50*Math.ceil(u/50),u>1024||h>1024)return null;var g=s.getTextureQueue(p),m=g[g.length-2],v=function(){return s.recycleTexture(p,h)||s.addTexture(p,h)};m||(m=g[g.length-1]),m||(m=v()),m.width-m.usedWidth<h&&(m=v());for(var y,_=function(e){return e&&e.scaledLabelShown===d},b=i&&i===la.dequeue,w=i&&i===la.highQuality,x=i&&i===la.downscale,E=r+1;E<=3;E++){var C=l.get(e,E);if(C){y=C;break}}var S=y&&y.level===r+1?y:null,k=function(){m.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,m.usedWidth,0,h,u)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,h,p),_(S))k();else if(_(y)){if(!w)return s.queueElement(e,y.level-1),y;for(var T=y.level;T>r;T--)S=s.getElement(e,t,n,T,la.downscale);k()}else{var A;if(!b&&!w&&!x)for(var D=r-1;D>=-4;D--){var O=l.get(e,D);if(O){A=O;break}}if(_(A))return s.queueElement(e,r),A;m.context.translate(m.usedWidth,0),m.context.scale(c,c),this.drawElement(m.context,e,t,d,!1),m.context.scale(1/c,1/c),m.context.translate(-m.usedWidth,0)}return f={x:m.usedWidth,texture:m,level:r,scale:c,width:h,height:u,scaledLabelShown:d},m.usedWidth+=Math.ceil(h+8),m.eleCaches.push(f),l.set(e,r,f),s.checkTextureFullness(m),f},ha.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},ha.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var i=-4;i<=3;i++){var s=n.getForCachedKey(e,i);s&&r.push(s)}if(n.invalidate(e))for(var o=0;o<r.length;o++){var a=r[o],l=a.texture;l.invalidatedWidth+=a.width,a.invalidated=!0,t.checkTextureUtility(l)}t.removeFromQueue(e)}},ha.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},ha.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?xe(t,e):e.fullnessChecks++},ha.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;xe(n,e),e.retired=!0;for(var i=e.eleCaches,s=0;s<i.length;s++){var o=i[s];r.deleteCache(o.key,o.level)}Ee(i),this.getRetiredTextureQueue(t).push(e)},ha.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},ha.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),i=0;i<r.length;i++){var s=r[i];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Ee(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),xe(r,s),n.push(s),s}},ha.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),i=this.getKey(e),s=r[i];if(s)s.level=Math.max(s.level,t),s.eles.merge(e),s.reqs++,n.updateItem(s);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(o),r[i]=o}},ha.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),i=[],s=t.lookup,o=0;o<1&&n.size()>0;o++){var a=n.pop(),l=a.key,c=a.eles[0],u=s.hasCache(c,a.level);if(r[l]=null,!u){i.push(a);var h=t.getBoundingBox(c);t.getElement(c,h,e,a.level,la.dequeue)}}return i},ha.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),i=n[r];null!=i&&(1===i.eles.length?(i.reqs=ce,t.updateItem(i),t.pop(),n[r]=null):i.eles.unmerge(e))},ha.onDequeue=function(e){this.onDequeues.push(e)},ha.offDequeue=function(e){xe(this.onDequeues,e)},ha.setupDequeueing=oa({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var i=0;i<t.length;i++)for(var s=t[i].eles,o=0;o<s.length;o++){var a=s[o].boundingBox();if(lt(a,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var da=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=X()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=i(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),n.beforeRender(function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new s(function(e,t){return t.reqs-e.reqs}),t.setupDequeueing()},pa=da.prototype,fa=0,ga=Math.pow(2,53)-1;pa.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),s=this.renderer.makeOffscreenCanvas(r,i),o={id:fa=++fa%ga,bb:e,level:t,width:r,height:i,canvas:s,context:s.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=o.context,l=-o.bb.x1,c=-o.bb.y1;return a.scale(n,n),a.translate(l,c),o},pa.getLayers=function(e,t,n){var r=this,i=r.renderer.cy.zoom(),s=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(Ye(i*t)))<-4)n=-4;else if(i>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var o,a,l=r.layersByLevel,c=Math.pow(2,n),u=l[n]=l[n]||[];if(r.levelIsComplete(n,e))return u;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return a=l[t],!0},i=function(e){if(!a)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};i(1),i(-1);for(var s=u.length-1;s>=0;s--){var o=u[s];o.invalid&&xe(u,o)}}();var h=function(t){var i=(t=t||{}).after;if(function(){if(!o){o=rt();for(var t=0;t<e.length;t++)n=o,r=e[t].boundingBox(),n.x1=Math.min(n.x1,r.x1),n.x2=Math.max(n.x2,r.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,r.y1),n.y2=Math.max(n.y2,r.y2),n.h=n.y2-n.y1}var n,r}(),o.w*c*(o.h*c)>16e6)return null;var s=r.makeLayer(o,n);if(null!=i){var a=u.indexOf(i)+1;u.splice(a,0,s)}else(void 0===t.insert||t.insert)&&u.unshift(s);return s};if(r.skipping&&!s)return null;for(var d=null,p=e.length/1,f=!s,g=0;g<e.length;g++){var m=e[g],v=m._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},_=y[n];if(_)d=_;else{if((!d||d.eles.length>=p||!ut(d.bb,m.boundingBox()))&&!(d=h({insert:!0,after:d})))return null;a||f?r.queueLayer(d,m):r.drawEleInLayer(d,m,n,t),d.eles.push(m),y[n]=d}}return a||(f?null:u)},pa.getEleLevelForLayerLevel=function(e,t){return e},pa.drawEleInLayer=function(e,t,n,r){var i=this.renderer,s=e.context,o=t.boundingBox();0!==o.w&&0!==o.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),i.setImgSmoothing(s,!1),i.drawCachedElement(s,t,null,null,n,true),i.setImgSmoothing(s,!0))},pa.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var s=n[i];if(s.reqs>0)return!1;if(s.invalid)return!1;r+=s.eles.length}return r===t.length},pa.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],s=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){s=o;break}if(s<0)this.invalidateLayer(i);else{var a=s;for(o=0;o<i.eles.length;o++)if(i.eles[o]!==t[a+o]){this.invalidateLayer(i);break}}}},pa.updateElementsInLayers=function(e,t){for(var n=k(e[0]),r=0;r<e.length;r++)for(var i=n?null:e[r],s=n?e[r]:e[r].ele,o=s._private.rscratch,a=o.imgLayerCaches=o.imgLayerCaches||{},l=-4;l<=2;l++){var c=a[l];c&&(i&&this.getEleLevelForLayerLevel(c.level)!==i.level||t(c,s,i))}},pa.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},pa.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=X(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)}))},pa.invalidateLayer=function(e){if(this.lastInvalidationTime=X(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];xe(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var s=n[i]._private.rscratch.imgLayerCaches;s&&(s[t]=null)}}},pa.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var s=0;s<i.eles.length;s++)t.queueLayer(i,i.eles[s])})},pa.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},pa.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,i=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;r.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},pa.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<1&&0!==n.size();){var s=n.peek();if(s.replacement)n.pop();else if(s.replaces&&s!==s.replaces.replacement)n.pop();else if(s.invalid)n.pop();else{var o=s.elesQueue.shift();o&&(t.drawEleInLayer(s,o,s.level,e),i++),0===r.length&&r.push(!0),0===s.elesQueue.length&&(n.pop(),s.reqs=0,s.replaces&&t.applyLayerReplacement(s),t.requestRedraw())}}return r},pa.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var i=0;i<e.eles.length;i++){var s=e.eles[i]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},pa.requestRedraw=i(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),pa.setupDequeueing=oa({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:pe,shouldRedraw:ue,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var ma,va={};function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function _a(e,t,n){for(var r,i=0;i<t.length;i++){var s=t[i];0===i&&(r=s),e.lineTo(s.x,s.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function ba(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var s=r[i];e.lineTo(s.x,s.y)}var o=n,a=n[0];e.moveTo(a.x,a.y);for(i=1;i<o.length;i++){s=o[i];e.lineTo(s.x,s.y)}e.closePath&&e.closePath()}function wa(e,t,n,r,i){e.beginPath&&e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1);var s=t,o=s[0];e.moveTo(o.x,o.y);for(var a=0;a<s.length;a++){var l=s[a];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function xa(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}va.arrowShapeImpl=function(e){return(ma||(ma={polygon:ya,"triangle-backcurve":_a,"triangle-tee":ba,"circle-triangle":wa,"triangle-cross":ba,circle:xa}))[e]};var Ea={drawElement:function(e,t,n,r,i,s){t.isNode()?this.drawNode(e,t,n,r,i,s):this.drawEdge(e,t,n,r,i,s)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawCachedElementPortion:function(e,t,n,r,i,s,o,a){var l=this,c=n.getBoundingBox(t);if(0!==c.w&&0!==c.h){var u=n.getElement(t,c,r,i,s);if(null!=u){var h=a(l,t);if(0===h)return;var d,p,f,g,m,v,y=o(l,t),_=c.x1,b=c.y1,w=c.w,x=c.h;if(0!==y){var E=n.getRotationPoint(t);f=E.x,g=E.y,e.translate(f,g),e.rotate(y),(m=l.getImgSmoothing(e))||l.setImgSmoothing(e,!0);var C=n.getRotationOffset(t);d=C.x,p=C.y}else d=_,p=b;1!==h&&(v=e.globalAlpha,e.globalAlpha=v*h),e.drawImage(u.texture.canvas,u.x,0,u.width,u.height,d,p,w,x),1!==h&&(e.globalAlpha=v),0!==y&&(e.rotate(-y),e.translate(-f,-g),m||l.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},Ca=function(){return 0},Sa=function(e,t){return e.getTextAngle(t,null)},ka=function(e,t){return e.getTextAngle(t,"source")},Ta=function(e,t){return e.getTextAngle(t,"target")},Aa=function(e,t){return t.effectiveOpacity()},Da=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};Ea.drawCachedElement=function(e,t,n,r,i,s){var o=this,a=o.data,l=a.eleTxrCache,c=a.lblTxrCache,u=a.slbTxrCache,h=a.tlbTxrCache,d=t.boundingBox(),p=!0===s?l.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&t.visible()&&(!r||lt(d,r))){var f=t.isEdge(),g=t.element()._private.rscratch.badLine;o.drawCachedElementPortion(e,t,l,n,i,p,Ca,Aa),f&&g||o.drawCachedElementPortion(e,t,c,n,i,p,Sa,Da),f&&!g&&(o.drawCachedElementPortion(e,t,u,n,i,p,ka,Da),o.drawCachedElementPortion(e,t,h,n,i,p,Ta,Da)),o.drawElementOverlay(e,t)}},Ea.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},Ea.drawCachedElements=function(e,t,n,r){for(var i=0;i<t.length;i++){var s=t[i];this.drawCachedElement(e,s,n,r)}},Ea.drawCachedNodes=function(e,t,n,r){for(var i=0;i<t.length;i++){var s=t[i];s.isNode()&&this.drawCachedElement(e,s,n,r)}},Ea.drawLayeredElements=function(e,t,n,r){var i=this.data.lyrTxrCache.getLayers(t,n);if(i)for(var s=0;s<i.length;s++){var o=i[s],a=o.bb;0!==a.w&&0!==a.h&&e.drawImage(o.canvas,a.x1,a.y1,a.w,a.h)}else this.drawCachedElements(e,t,n,r)};var Oa={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,a=t._private.rscratch;if((!s||t.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var l;n&&(l=n,e.translate(-l.x1,-l.y1));var c=s?t.pstyle("opacity").value:1,u=s?t.pstyle("line-opacity").value:1,h=t.pstyle("line-style").value,d=t.pstyle("width").pfValue,p=t.pstyle("line-cap").value,f=c*u,g=c*u,m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;e.lineWidth=d,e.lineCap=p,o.eleStrokeStyle(e,t,n),o.drawEdgePath(t,e,a.allpts,h),e.lineCap="butt"},v=function(){i&&o.drawEdgeOverlay(e,t)},y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;o.drawArrowheads(e,t,n)},_=function(){o.drawElementText(e,t,null,r)};e.lineJoin="round";var b="yes"===t.pstyle("ghost").value;if(b){var w=t.pstyle("ghost-offset-x").pfValue,x=t.pstyle("ghost-offset-y").pfValue,E=t.pstyle("ghost-opacity").value,C=f*E;e.translate(w,x),m(C),y(C),e.translate(-w,-x)}m(),y(),v(),_(),n&&e.translate(l.x1,l.y1)}},drawEdgeOverlay:function(e,t){if(t.visible()){var n=t.pstyle("overlay-opacity").value;if(0!==n){var r=this,i=r.usePaths(),s=t._private.rscratch,o=2*t.pstyle("overlay-padding").pfValue,a=t.pstyle("overlay-color").value;e.lineWidth=o,"self"!==s.edgeType||i?e.lineCap="round":e.lineCap="butt",r.colorStrokeStyle(e,a[0],a[1],a[2],n),r.drawEdgePath(t,e,s.allpts,"solid")}}},drawEdgePath:function(e,t,n,r){var i,s=e._private.rscratch,o=t,a=!1,l=this.usePaths(),c=e.pstyle("line-dash-pattern").pfValue,u=e.pstyle("line-dash-offset").pfValue;if(l){var h=n.join("$");s.pathCacheKey&&s.pathCacheKey===h?(i=t=s.pathCache,a=!0):(i=t=new Path2D,s.pathCacheKey=h,s.pathCache=i)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(c),o.lineDashOffset=u;break;case"solid":o.setLineDash([])}if(!a&&!s.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),s.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)t.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<n.length;p+=2)t.lineTo(n[p],n[p+1])}t=o,l?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,r,i,s,o){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(s)||null==s)){var a=this,l=t.pstyle(n+"-arrow-shape").value;if("none"!==l){var c="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,h=t.pstyle("width").pfValue,d=t.pstyle("opacity").value;void 0===o&&(o=d);var p=e.globalCompositeOperation;1===o&&"hollow"!==u||(e.globalCompositeOperation="destination-out",a.colorFillStyle(e,255,255,255,1),a.colorStrokeStyle(e,255,255,255,1),a.drawArrowShape(t,e,c,h,l,r,i,s),e.globalCompositeOperation=p);var f=t.pstyle(n+"-arrow-color").value;a.colorFillStyle(e,f[0],f[1],f[2],o),a.colorStrokeStyle(e,f[0],f[1],f[2],o),a.drawArrowShape(t,e,u,h,l,r,i,s)}}},drawArrowShape:function(e,t,n,r,i,s,o,a){var l,c=this,u=this.usePaths()&&"triangle-cross"!==i,h=!1,d=t,p={x:s,y:o},f=e.pstyle("arrow-scale").value,g=this.getArrowWidth(r,f),m=c.arrowShapes[i];if(u){var v=c.arrowPathCache=c.arrowPathCache||[],y=re(i),_=v[y];null!=_?(l=t=_,h=!0):(l=t=new Path2D,v[y]=l)}h||(t.beginPath&&t.beginPath(),u?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,g,a,p,r),t.closePath&&t.closePath()),t=d,u&&(t.translate(s,o),t.rotate(a),t.scale(g,g)),"filled"!==n&&"both"!==n||(u?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(m.matchEdgeWidth?r:1)/(u?g:1),t.lineJoin="miter",u?t.stroke(l):t.stroke()),u&&(t.scale(1/g,1/g),t.rotate(-a),t.translate(-s,-o))}},Ia={safeDrawImage:function(e,t,n,r,i,s,o,a,l,c){i<=0||s<=0||l<=0||c<=0||e.drawImage(t,n,r,i,s,o,a,l,c)},drawInscribedImage:function(e,t,n,r,i){var s=this,o=n.position(),a=o.x,l=o.y,c=n.cy().style(),u=c.getIndexedStyle.bind(c),h=u(n,"background-fit","value",r),d=u(n,"background-repeat","value",r),p=n.width(),f=n.height(),g=2*n.padding(),m=p+("inner"===u(n,"background-width-relative-to","value",r)?0:g),v=f+("inner"===u(n,"background-height-relative-to","value",r)?0:g),y=n._private.rscratch,_="node"===u(n,"background-clip","value",r),b=u(n,"background-image-opacity","value",r)*i,w=u(n,"background-image-smoothing","value",r),x=t.width||t.cachedW,E=t.height||t.cachedH;null!=x&&null!=E||(document.body.appendChild(t),x=t.cachedW=t.width||t.offsetWidth,E=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var C=x,S=E;if("auto"!==u(n,"background-width","value",r)&&(C="%"===u(n,"background-width","units",r)?u(n,"background-width","pfValue",r)*m:u(n,"background-width","pfValue",r)),"auto"!==u(n,"background-height","value",r)&&(S="%"===u(n,"background-height","units",r)?u(n,"background-height","pfValue",r)*v:u(n,"background-height","pfValue",r)),0!==C&&0!==S){if("contain"===h)C*=k=Math.min(m/C,v/S),S*=k;else if("cover"===h){var k;C*=k=Math.max(m/C,v/S),S*=k}var T=a-m/2,A=u(n,"background-position-x","units",r),D=u(n,"background-position-x","pfValue",r);T+="%"===A?(m-C)*D:D;var O=u(n,"background-offset-x","units",r),I=u(n,"background-offset-x","pfValue",r);T+="%"===O?(m-C)*I:I;var N=l-v/2,P=u(n,"background-position-y","units",r),M=u(n,"background-position-y","pfValue",r);N+="%"===P?(v-S)*M:M;var R=u(n,"background-offset-y","units",r),L=u(n,"background-offset-y","pfValue",r);N+="%"===R?(v-S)*L:L,y.pathCache&&(T-=a,N-=l,a=0,l=0);var F=e.globalAlpha;e.globalAlpha=b;var j=s.getImgSmoothing(e),B=!1;if("no"===w&&j?(s.setImgSmoothing(e,!1),B=!0):"yes"!==w||j||(s.setImgSmoothing(e,!0),B=!0),"no-repeat"===d)_&&(e.save(),y.pathCache?e.clip(y.pathCache):(s.nodeShapes[s.getNodeShape(n)].draw(e,a,l,m,v),e.clip())),s.safeDrawImage(e,t,0,0,x,E,T,N,C,S),_&&e.restore();else{var V=e.createPattern(t,d);e.fillStyle=V,s.nodeShapes[s.getNodeShape(n)].draw(e,a,l,m,v),e.translate(T,N),e.fill(),e.translate(-T,-N)}e.globalAlpha=F,B&&s.setImgSmoothing(e,j)}}},Na={};function Pa(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath(),e.fill()}Na.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(Ye(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Na.drawElementText=function(e,t,n,r,i){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==r){if(s&&!o.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var a=t.pstyle("label");if(!a||!a.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,u=t.pstyle("label"),h=t.pstyle("source-label"),d=t.pstyle("target-label");if(c||(!u||!u.value)&&(!h||!h.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var p,f=!n;n&&(p=n,e.translate(-p.x1,-p.y1)),null==i?(o.drawText(e,t,null,f,s),t.isEdge()&&(o.drawText(e,t,"source",f,s),o.drawText(e,t,"target",f,s))):o.drawText(e,t,i,f,s),n&&e.translate(p.x1,p.y1)},Na.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Na.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",s=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,a=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*a,c=t.pstyle("color").value,u=t.pstyle("text-outline-color").value;e.font=r+" "+o+" "+i+" "+s,e.lineJoin="round",this.colorFillStyle(e,c[0],c[1],c[2],a),this.colorStrokeStyle(e,u[0],u[1],u[2],l)},Na.getTextAngle=function(e,t){var n=e._private.rscratch,r=t?t+"-":"",i=e.pstyle(r+"text-rotation"),s=Ce(n,"labelAngle",t);return"autorotate"===i.strValue?e.isEdge()?s:0:"none"===i.strValue?0:i.pfValue},Na.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=t._private,o=s.rscratch,a=i?t.effectiveOpacity():1;if(!i||0!==a&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var l,c,u=Ce(o,"labelX",n),h=Ce(o,"labelY",n),d=this.getLabelText(t,n);if(null!=d&&""!==d&&!isNaN(u)&&!isNaN(h)){this.setupTextStyle(e,t,i);var p,f=n?n+"-":"",g=Ce(o,"labelWidth",n),m=Ce(o,"labelHeight",n),v=t.pstyle(f+"text-margin-x").pfValue,y=t.pstyle(f+"text-margin-y").pfValue,_=t.isEdge(),b=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;switch(_&&(b="center",w="center"),u+=v,h+=y,0!==(p=r?this.getTextAngle(t,n):0)&&(l=u,c=h,e.translate(l,c),e.rotate(p),u=0,h=0),w){case"top":break;case"center":h+=m/2;break;case"bottom":h+=m}var x=t.pstyle("text-background-opacity").value,E=t.pstyle("text-border-opacity").value,C=t.pstyle("text-border-width").pfValue,S=t.pstyle("text-background-padding").pfValue;if(x>0||C>0&&E>0){var k=u-S;switch(b){case"left":k-=g;break;case"center":k-=g/2}var T=h-m-S,A=g+2*S,D=m+2*S;if(x>0){var O=e.fillStyle,I=t.pstyle("text-background-color").value;e.fillStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+x*a+")";var N=t.pstyle("text-background-shape").strValue;0===N.indexOf("round")?Pa(e,k,T,A,D,2):e.fillRect(k,T,A,D),e.fillStyle=O}if(C>0&&E>0){var P=e.strokeStyle,M=e.lineWidth,R=t.pstyle("text-border-color").value,L=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+R[0]+","+R[1]+","+R[2]+","+E*a+")",e.lineWidth=C,e.setLineDash)switch(L){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=C/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(k,T,A,D),"double"===L){var F=C/2;e.strokeRect(k+F,T+F,A-2*F,D-2*F)}e.setLineDash&&e.setLineDash([]),e.lineWidth=M,e.strokeStyle=P}}var j=2*t.pstyle("text-outline-width").pfValue;if(j>0&&(e.lineWidth=j),"wrap"===t.pstyle("text-wrap").value){var B=Ce(o,"labelWrapCachedLines",n),V=Ce(o,"labelLineHeight",n),z=g/2,U=this.getLabelJustification(t);switch("auto"===U||("left"===b?"left"===U?u+=-g:"center"===U&&(u+=-z):"center"===b?"left"===U?u+=-z:"right"===U&&(u+=z):"right"===b&&("center"===U?u+=z:"right"===U&&(u+=g))),w){case"top":h-=(B.length-1)*V;break;case"center":case"bottom":h-=(B.length-1)*V}for(var H=0;H<B.length;H++)j>0&&e.strokeText(B[H],u,h),e.fillText(B[H],u,h),h+=V}else j>0&&e.strokeText(d,u,h),e.fillText(d,u,h);0!==p&&(e.rotate(-p),e.translate(-l,-c))}}};var Ma={drawNode:function(e,t,n){var r,i,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,c=t._private,u=c.rscratch,h=t.position();if(E(h.x)&&E(h.y)&&(!a||t.visible())){var d,p,f=a?t.effectiveOpacity():1,g=l.usePaths(),m=!1,v=t.padding();r=t.width()+2*v,i=t.height()+2*v,n&&(p=n,e.translate(-p.x1,-p.y1));for(var y=t.pstyle("background-image"),_=y.value,b=new Array(_.length),w=new Array(_.length),x=0,C=0;C<_.length;C++){var S=_[C],k=b[C]=null!=S&&"none"!==S;if(k){var T=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",C);x++,w[C]=l.getCachedImage(S,T,function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var A=t.pstyle("background-blacken").value,D=t.pstyle("border-width").pfValue,O=t.pstyle("background-opacity").value*f,I=t.pstyle("border-color").value,N=t.pstyle("border-style").value,P=t.pstyle("border-opacity").value*f;e.lineJoin="miter";var M=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;l.eleFillStyle(e,t,n)},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.colorStrokeStyle(e,I[0],I[1],I[2],t)},L=t.pstyle("shape").strValue,F=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(h.x,h.y);var j=l.nodePathCache=l.nodePathCache||[],B=ie("polygon"===L?L+","+F.join(","):L,""+i,""+r),V=j[B];null!=V?(d=V,m=!0,u.pathCache=d):(d=new Path2D,j[B]=u.pathCache=d)}var z=function(){if(!m){var n=h;g&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(d||e,n.x,n.y,r,i)}g?e.fill(d):e.fill()},U=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=c.backgrounding,s=0,o=0;o<w.length;o++){var a=t.cy().style().getIndexedStyle(t,"background-image-containment","value",o);r&&"over"===a||!r&&"inside"===a?s++:b[o]&&w[o].complete&&!w[o].error&&(s++,l.drawInscribedImage(e,w[o],t,o,n))}c.backgrounding=!(s===x),i!==c.backgrounding&&t.updateStyle(!1)},H=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(t)&&(l.drawPie(e,t,s),n&&(g||l.nodeShapes[l.getNodeShape(t)].draw(e,h.x,h.y,r,i)))},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=(A>0?A:-A)*t,r=A>0?0:255;0!==A&&(l.colorFillStyle(e,r,r,r,n),g?e.fill(d):e.fill())},q=function(){if(D>0){if(e.lineWidth=D,e.lineCap="butt",e.setLineDash)switch(N){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(g?e.stroke(d):e.stroke(),"double"===N){e.lineWidth=D/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(d):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}},G=function(){o&&l.drawNodeOverlay(e,t,h,r,i)},W=function(){l.drawElementText(e,t,null,s)},X="yes"===t.pstyle("ghost").value;if(X){var Y=t.pstyle("ghost-offset-x").pfValue,K=t.pstyle("ghost-offset-y").pfValue,Z=t.pstyle("ghost-opacity").value,Q=Z*f;e.translate(Y,K),M(Z*O),z(),U(Q,!0),R(Z*P),q(),H(0!==A||0!==D),U(Q,!1),$(Q),e.translate(-Y,-K)}M(),z(),U(f,!0),R(),q(),H(0!==A||0!==D),U(f,!1),$(),g&&e.translate(-h.x,-h.y),W(),G(),n&&e.translate(p.x1,p.y1)}},drawNodeOverlay:function(e,t,n,r,i){if(t.visible()){var s=t.pstyle("overlay-padding").pfValue,o=t.pstyle("overlay-opacity").value,a=t.pstyle("overlay-color").value;if(o>0){if(n=n||t.position(),null==r||null==i){var l=t.padding();r=t.width()+2*l,i=t.height()+2*l}this.colorFillStyle(e,a[0],a[1],a[2],o),this.nodeShapes.roundrectangle.draw(e,n.x,n.y,r+2*s,i+2*s),e.fill()}}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),s=t.pstyle("pie-size"),o=r.x,a=r.y,l=t.width(),c=t.height(),u=Math.min(l,c)/2,h=0;this.usePaths()&&(o=0,a=0),"%"===s.units?u*=s.pfValue:void 0!==s.pfValue&&(u=s.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var p=t.pstyle("pie-"+d+"-background-size").value,f=t.pstyle("pie-"+d+"-background-color").value,g=t.pstyle("pie-"+d+"-background-opacity").value*n,m=p/100;m+h>1&&(m=1-h);var v=1.5*Math.PI+2*Math.PI*h,y=v+2*Math.PI*m;0===p||h>=1||h+m>1||(e.beginPath(),e.moveTo(o,a),e.arc(o,a,u,v,y),e.closePath(),this.colorFillStyle(e,f[0],f[1],f[2],g),e.fill(),h+=m)}}},Ra={};Ra.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},Ra.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},Ra.createGradientStyleFor=function(e,t,n,r,i){var s,o=this.usePaths(),a=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var c=n.sourceEndpoint(),u=n.targetEndpoint(),h=n.midpoint(),d=Ze(c,h),p=Ze(u,h);s=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,p))}else{var f=o?{x:0,y:0}:n.position(),g=n.paddedWidth(),m=n.paddedHeight();s=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,m))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();s=e.createLinearGradient(v.x,v.y,y.x,y.y)}else{var _=o?{x:0,y:0}:n.position(),b=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":s=e.createLinearGradient(_.x,_.y-w,_.x,_.y+w);break;case"to-top":s=e.createLinearGradient(_.x,_.y+w,_.x,_.y-w);break;case"to-left":s=e.createLinearGradient(_.x+b,_.y,_.x-b,_.y);break;case"to-right":s=e.createLinearGradient(_.x-b,_.y,_.x+b,_.y);break;case"to-bottom-right":case"to-right-bottom":s=e.createLinearGradient(_.x-b,_.y-w,_.x+b,_.y+w);break;case"to-top-right":case"to-right-top":s=e.createLinearGradient(_.x-b,_.y+w,_.x+b,_.y-w);break;case"to-bottom-left":case"to-left-bottom":s=e.createLinearGradient(_.x+b,_.y-w,_.x-b,_.y+w);break;case"to-top-left":case"to-left-top":s=e.createLinearGradient(_.x+b,_.y+w,_.x-b,_.y-w)}}if(!s)return null;for(var x=l.length===a.length,E=a.length,C=0;C<E;C++)s.addColorStop(x?l[C]:C/(E-1),"rgba("+a[C][0]+","+a[C][1]+","+a[C][2]+","+i+")");return s},Ra.gradientFillStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"background",t,n,r);if(!i)return null;e.fillStyle=i},Ra.colorFillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},Ra.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],n)}},Ra.gradientStrokeStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"line",t,n,r);if(!i)return null;e.strokeStyle=i},Ra.colorStrokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},Ra.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],n)}},Ra.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],s=r[3],o=t.getPixelRatio(),a=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=a);var l,c=i*o,u=s*o;if(c!==t.canvasWidth||u!==t.canvasHeight){t.fontCaches=null;var h=n.canvasContainer;h.style.width=i+"px",h.style.height=s+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(l=n.canvases[d]).width=c,l.height=u,l.style.width=i+"px",l.style.height=s+"px";for(d=0;d<t.BUFFER_COUNT;d++)(l=n.bufferCanvases[d]).width=c,l.height=u,l.style.width=i+"px",l.style.height=s+"px";t.textureMult=1,o<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=c*t.textureMult,l.height=u*t.textureMult),t.canvasWidth=c,t.canvasHeight=u}},Ra.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},Ra.render=function(e){var t=(e=e||be()).forcedContext,n=e.drawAllLayers,r=e.drawOnlyNodeLayer,i=e.forcedZoom,s=e.forcedPan,o=this,a=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=o.cy,c=o.data,u=c.canvasNeedsRedraw,h=o.textureOnViewport&&!t&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:o.motionBlur,p=o.motionBlurPxRatio,f=l.hasCompoundNodes(),g=o.hoverData.draggingEles,m=!(!o.hoverData.selecting&&!o.touchData.selecting),v=d=d&&!t&&o.motionBlurEnabled&&!m;t||(o.prevPxRatio!==a&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=a),!t&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),d&&(null==o.mbFrames&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(v=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!h&&(u[o.NODE]=!0,u[o.SELECT_BOX]=!0);var y=l.style(),_=l.zoom(),b=void 0!==i?i:_,w=l.pan(),x={x:w.x,y:w.y},E={zoom:_,pan:{x:w.x,y:w.y}},C=o.prevViewport;void 0===C||E.zoom!==C.zoom||E.pan.x!==C.pan.x||E.pan.y!==C.pan.y||g&&!f||(o.motionBlurPxRatio=1),s&&(x=s),b*=a,x.x*=a,x.y*=a;var S=o.getCachedZSortedEles();function k(e,t,n,r,i){var s=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,o.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=s}function T(e,r){var a,l,u,h;o.clearingMotionBlur||e!==c.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]&&e!==c.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]?(a=x,l=b,u=o.canvasWidth,h=o.canvasHeight):(a={x:w.x*p,y:w.y*p},l=_*p,u=o.canvasWidth*p,h=o.canvasHeight*p),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?k(e,0,0,u,h):t||void 0!==r&&!r||e.clearRect(0,0,u,h),n||(e.translate(a.x,a.y),e.scale(l,l)),s&&e.translate(s.x,s.y),i&&e.scale(i,i)}if(h||(o.textureDrawLastFrame=!1),h){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var A=o.data.bufferContexts[o.TEXTURE_BUFFER];A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:A,drawOnlyNodeLayer:!0,forcedPxRatio:a*o.textureMult}),(E=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight}).mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}u[o.DRAG]=!1,u[o.NODE]=!1;var D=c.contexts[o.NODE],O=o.textureCache.texture;E=o.textureCache.viewport;D.setTransform(1,0,0,1,0,0),d?k(D,0,0,E.width,E.height):D.clearRect(0,0,E.width,E.height);var I=y.core("outside-texture-bg-color").value,N=y.core("outside-texture-bg-opacity").value;o.colorFillStyle(D,I[0],I[1],I[2],N),D.fillRect(0,0,E.width,E.height);_=l.zoom();T(D,!1),D.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/a,E.height/E.zoom/a),D.drawImage(O,E.mpan.x,E.mpan.y,E.width/E.zoom/a,E.height/E.zoom/a)}else o.textureOnViewport&&!t&&(o.textureCache=null);var P=l.extent(),M=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),R=o.hideEdgesOnViewport&&M,L=[];if(L[o.NODE]=!u[o.NODE]&&d&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,L[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),L[o.DRAG]=!u[o.DRAG]&&d&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,L[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),u[o.NODE]||n||r||L[o.NODE]){var F=d&&!L[o.NODE]&&1!==p;T(D=t||(F?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:c.contexts[o.NODE]),d&&!F?"motionBlur":void 0),R?o.drawCachedNodes(D,S.nondrag,a,P):o.drawLayeredElements(D,S.nondrag,a,P),o.debug&&o.drawDebugPoints(D,S.nondrag),n||d||(u[o.NODE]=!1)}if(!r&&(u[o.DRAG]||n||L[o.DRAG])){F=d&&!L[o.DRAG]&&1!==p;T(D=t||(F?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:c.contexts[o.DRAG]),d&&!F?"motionBlur":void 0),R?o.drawCachedNodes(D,S.drag,a,P):o.drawCachedElements(D,S.drag,a,P),o.debug&&o.drawDebugPoints(D,S.drag),n||d||(u[o.DRAG]=!1)}if(o.showFps||!r&&u[o.SELECT_BOX]&&!n){if(T(D=t||c.contexts[o.SELECT_BOX]),1==o.selection[4]&&(o.hoverData.selecting||o.touchData.selecting)){_=o.cy.zoom();var j=y.core("selection-box-border-width").value/_;D.lineWidth=j,D.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",D.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),j>0&&(D.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",D.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(c.bgActivePosistion&&!o.hoverData.selecting){_=o.cy.zoom();var B=c.bgActivePosistion;D.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",D.beginPath(),D.arc(B.x,B.y,y.core("active-bg-size").pfValue/_,0,2*Math.PI),D.fill()}var V=o.lastRedrawTime;if(o.showFps&&V){V=Math.round(V);var z=Math.round(1e3/V);D.setTransform(1,0,0,1,0,0),D.fillStyle="rgba(255, 0, 0, 0.75)",D.strokeStyle="rgba(255, 0, 0, 0.75)",D.lineWidth=1,D.fillText("1 frame = "+V+" ms = "+z+" fps",0,20);D.strokeRect(0,30,250,20),D.fillRect(0,30,250*Math.min(z/60,1),20)}n||(u[o.SELECT_BOX]=!1)}if(d&&1!==p){var U=c.contexts[o.NODE],H=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],$=c.contexts[o.DRAG],q=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],G=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!v?e.clearRect(0,0,o.canvasWidth,o.canvasHeight):k(e,0,0,o.canvasWidth,o.canvasHeight);var r=p;e.drawImage(t,0,0,o.canvasWidth*r,o.canvasHeight*r,0,0,o.canvasWidth,o.canvasHeight)};(u[o.NODE]||L[o.NODE])&&(G(U,H,L[o.NODE]),u[o.NODE]=!1),(u[o.DRAG]||L[o.DRAG])&&(G($,q,L[o.DRAG]),u[o.DRAG]=!1)}o.prevViewport=E,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),d&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!h,o.mbFrames=0,u[o.NODE]=!0,u[o.DRAG]=!0,o.redraw()},100)),t||l.emit("render")};for(var La={drawPolygonPath:function(e,t,n,r,i,s){var o=r/2,a=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*s[0],n+a*s[1]);for(var l=1;l<s.length/2;l++)e.lineTo(t+o*s[2*l],n+a*s[2*l+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,i,s){var o=r/2,a=i/2,l=Ot(r,i);e.beginPath&&e.beginPath();for(var c=0;c<s.length/4;c++){var u,h=void 0;h=0===c?s.length-2:4*c-2,u=4*c+2;var d=t+o*s[4*c],p=n+a*s[4*c+1],f=-s[h]*s[u]-s[h+1]*s[u+1],g=l/Math.tan(Math.acos(f)/2),m=d-g*s[h],v=p-g*s[h+1],y=d+g*s[u],_=p+g*s[u+1];0===c?e.moveTo(m,v):e.lineTo(m,v),e.arcTo(d,p,y,_,l)}e.closePath()},drawRoundRectanglePath:function(e,t,n,r,i){var s=r/2,o=i/2,a=Dt(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.arcTo(t+s,n-o,t+s,n,a),e.arcTo(t+s,n+o,t,n+o,a),e.arcTo(t-s,n+o,t-s,n,a),e.arcTo(t-s,n-o,t,n-o,a),e.lineTo(t,n-o),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,i){var s=r/2,o=i/2,a=Dt(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.lineTo(t+s,n-o),e.lineTo(t+s,n),e.arcTo(t+s,n+o,t,n+o,a),e.arcTo(t-s,n+o,t-s,n,a),e.lineTo(t-s,n-o),e.lineTo(t,n-o),e.closePath()},drawCutRectanglePath:function(e,t,n,r,i){var s=r/2,o=i/2;e.beginPath&&e.beginPath(),e.moveTo(t-s+8,n-o),e.lineTo(t+s-8,n-o),e.lineTo(t+s,n-o+8),e.lineTo(t+s,n+o-8),e.lineTo(t+s-8,n+o),e.lineTo(t-s+8,n+o),e.lineTo(t-s,n+o-8),e.lineTo(t-s,n-o+8),e.closePath()},drawBarrelPath:function(e,t,n,r,i){var s=r/2,o=i/2,a=t-s,l=t+s,c=n-o,u=n+o,h=It(r,i),d=h.widthOffset,p=h.heightOffset,f=h.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(a,c+p),e.lineTo(a,u-p),e.quadraticCurveTo(a+f,u,a+d,u),e.lineTo(l-d,u),e.quadraticCurveTo(l-f,u,l,u-p),e.lineTo(l,c+p),e.quadraticCurveTo(l-f,c,l-d,c),e.lineTo(a+d,c),e.quadraticCurveTo(a+f,c,a,c+p),e.closePath()}},Fa=Math.sin(0),ja=Math.cos(0),Ba={},Va={},za=Math.PI/40,Ua=0*Math.PI;Ua<2*Math.PI;Ua+=za)Ba[Ua]=Math.sin(Ua),Va[Ua]=Math.cos(Ua);La.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var s,o,a=r/2,l=i/2,c=0*Math.PI;c<2*Math.PI;c+=za)s=t-a*Ba[c]*Fa+a*Va[c]*ja,o=n+l*Va[c]*Fa+l*Ba[c]*ja,0===c?e.moveTo(s,o):e.lineTo(s,o);e.closePath()};var Ha={};function $a(e){var t=e.indexOf(",");return e.substr(t+1)}function qa(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new $n(function(r,i){try{t.toBlob(function(e){null!=e?r(e):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(s){i(s)}});case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return new Blob([r],{type:t})}($a(r()),n);case"base64":return $a(r());case"base64uri":default:return r()}}Ha.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Ha.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):r[2],s=e.full?Math.ceil(n.h):r[3],o=E(e.maxWidth)||E(e.maxHeight),a=this.getPixelRatio(),l=1;if(void 0!==e.scale)i*=e.scale,s*=e.scale,l=e.scale;else if(o){var c=1/0,u=1/0;E(e.maxWidth)&&(c=l*e.maxWidth/i),E(e.maxHeight)&&(u=l*e.maxHeight/s),i*=l=Math.min(c,u),s*=l}o||(i*=a,s*=a,l*=a);var h=document.createElement("canvas");h.width=i,h.height=s,h.style.width=i+"px",h.style.height=s+"px";var d=h.getContext("2d");if(i>0&&s>0){d.clearRect(0,0,i,s),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var f=t.pan(),g={x:f.x*l,y:f.y*l};l*=t.zoom(),d.translate(g.x,g.y),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(-g.x,-g.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,i,s),d.fill())}return h},Ha.png=function(e){return qa(e,this.bufferCanvasImage(e),"image/png")},Ha.jpg=function(e){return qa(e,this.bufferCanvasImage(e),"image/jpeg")};var Ga={nodeShapeImpl:function(e,t,n,r,i,s,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,s);case"polygon":return this.drawPolygonPath(t,n,r,i,s,o);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,i,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,i,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,i,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,s);case"barrel":return this.drawBarrelPath(t,n,r,i,s)}}},Wa=Ya,Xa=Ya.prototype;function Ya(e){var t=this;t.data={canvases:new Array(Xa.CANVAS_LAYERS),contexts:new Array(Xa.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Xa.CANVAS_LAYERS),bufferCanvases:new Array(Xa.BUFFER_COUNT),bufferContexts:new Array(Xa.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",r="rgba(0,0,0,0)";t.data.canvasContainer=document.createElement("div");var i=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=r,i.position="relative",i.zIndex="0",i.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[n]=r;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};p&&p.userAgent.match(/msie|trident|edge/i)&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var a=0;a<Xa.CANVAS_LAYERS;a++){var l=t.data.canvases[a]=document.createElement("canvas");t.data.contexts[a]=l.getContext("2d"),Object.keys(o).forEach(function(e){l.style[e]=o[e]}),l.style.position="absolute",l.setAttribute("data-id","layer"+a),l.style.zIndex=String(Xa.CANVAS_LAYERS-a),t.data.canvasContainer.appendChild(l),t.data.canvasNeedsRedraw[a]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Xa.NODE].setAttribute("data-id","layer"+Xa.NODE+"-node"),t.data.canvases[Xa.SELECT_BOX].setAttribute("data-id","layer"+Xa.SELECT_BOX+"-selectbox"),t.data.canvases[Xa.DRAG].setAttribute("data-id","layer"+Xa.DRAG+"-drag");for(a=0;a<Xa.BUFFER_COUNT;a++)t.data.bufferCanvases[a]=document.createElement("canvas"),t.data.bufferContexts[a]=t.data.bufferCanvases[a].getContext("2d"),t.data.bufferCanvases[a].style.position="absolute",t.data.bufferCanvases[a].setAttribute("data-id","buffer"+a),t.data.bufferCanvases[a].style.zIndex=String(-a-1),t.data.bufferCanvases[a].style.visibility="hidden";t.pathsEnabled=!0;var c=rt(),u=function(e){return{x:-e.w/2,y:-e.h/2}},h=function(e){return e.boundingBox(),e[0]._private.bodyBounds},d=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||c},f=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||c},g=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||c},m=function(e,t){return t},v=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},y=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},_=t.data.eleTxrCache=new ua(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,r,i,s){return t.drawElement(e,n,r,!1,!1,s)},getBoundingBox:h,getRotationPoint:function(e){return{x:((t=h(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return u(h(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),b=t.data.lblTxrCache=new ua(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,r,i,s){return t.drawElementText(e,n,r,i,"main",s)},getBoundingBox:d,getRotationPoint:function(e){return v("",y(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=d(e),n=u(d(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:m}),w=t.data.slbTxrCache=new ua(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,r,i,s){return t.drawElementText(e,n,r,i,"source",s)},getBoundingBox:f,getRotationPoint:function(e){return v("source",y(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return u(f(e))},isVisible:m}),x=t.data.tlbTxrCache=new ua(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,r,i,s){return t.drawElementText(e,n,r,i,"target",s)},getBoundingBox:g,getRotationPoint:function(e){return v("target",y(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return u(g(e))},isVisible:m}),E=t.data.lyrTxrCache=new da(t);t.onUpdateEleCalcs(function(e,t){_.invalidateElements(t),b.invalidateElements(t),w.invalidateElements(t),x.invalidateElements(t),E.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var C=function(e){for(var t=0;t<e.length;t++)E.enqueueElementRefinement(e[t].ele)};_.onDequeue(C),b.onDequeue(C),w.onDequeue(C),x.onDequeue(C)}Xa.CANVAS_LAYERS=3,Xa.SELECT_BOX=0,Xa.DRAG=1,Xa.NODE=2,Xa.BUFFER_COUNT=3,Xa.TEXTURE_BUFFER=0,Xa.MOTIONBLUR_BUFFER_NODE=1,Xa.MOTIONBLUR_BUFFER_DRAG=2,Xa.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[Xa.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[Xa.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[Xa.SELECT_BOX]=t}};var Ka="undefined"!=typeof Path2D;Xa.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},Xa.usePaths=function(){return Ka&&this.pathsEnabled},Xa.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},Xa.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},Xa.makeOffscreenCanvas=function(e,t){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":o(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t),n},[va,Ea,Oa,Ia,Na,Ma,Ra,La,Ha,Ga].forEach(function(e){B(Xa,e)});var Za=[{type:"layout",extensions:No},{type:"renderer",extensions:[{name:"null",impl:Po},{name:"base",impl:ra},{name:"canvas",impl:Wa}]}],Qa={},Ja={};function el(e,t,n){var r=n,i=function(n){fe("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(qs.prototype[t])return i(t);qs.prototype[t]=n}else if("collection"===e){if(ls.prototype[t])return i(t);ls.prototype[t]=n}else if("layout"===e){for(var s=function(e){this.options=e,n.call(this,e),x(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=s.prototype=Object.create(n.prototype),a=[],l=0;l<a.length;l++){var c=a[l];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var u=n.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return u?u.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(e){return e._private.cy},d={addEventFields:function(e,t){t.layout=e,t.cy=h(e),t.target=e},bubble:function(){return!0},parent:function(e){return h(e)}};B(o,{createEmitter:function(){return this._private.emitter=new ki(d,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),Wn.eventAliasesOn(o),r=s}else if("renderer"===e&&"null"!==t&&"base"!==t){var p=tl("renderer","base"),f=p.prototype,g=n,m=n.prototype,v=function(){p.apply(this,arguments),g.apply(this,arguments)},y=v.prototype;for(var _ in f){var b=f[_];if(null!=m[_])return i(_);y[_]=b}for(var w in m)y[w]=m[w];f.clientFunctions.forEach(function(e){y[e]=y[e]||function(){fe("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=v}return U({map:Qa,keys:[e,t],value:r})}function tl(e,t){return H({map:Qa,keys:[e,t]})}function nl(e,t,n,r,i){return U({map:Ja,keys:[e,t,n,r],value:i})}function rl(e,t,n,r){return H({map:Ja,keys:[e,t,n,r]})}var il=function(){return 2===arguments.length?tl.apply(null,arguments):3===arguments.length?el.apply(null,arguments):4===arguments.length?rl.apply(null,arguments):5===arguments.length?nl.apply(null,arguments):void fe("Invalid extension access syntax")};qs.prototype.extension=il,Za.forEach(function(e){e.extensions.forEach(function(t){el(e.type,t.name,t.impl)})});var sl=function e(){if(!(this instanceof e))return new e;this.length=0},ol=sl.prototype;ol.instanceString=function(){return"stylesheet"},ol.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},ol.css=function(e,t){var n=this.length-1;if(_(e))this[n].properties.push({name:e,value:t});else if(x(e))for(var r=e,i=Object.keys(r),s=0;s<i.length;s++){var o=i[s],a=r[o];if(null!=a){var l=Vs.properties[o]||Vs.properties[M(o)];if(null!=l){var c=l.name,u=a;this[n].properties.push({name:c,value:u})}}}return this},ol.style=ol.css,ol.generateStyle=function(e){var t=new Vs(e);return this.appendToStyle(t)},ol.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var s=0;s<i.length;s++){var o=i[s];e.css(o.name,o.value)}}return e};var al=function(e){return void 0===e&&(e={}),x(e)?new qs(e):_(e)?il.apply(il,arguments):void 0};al.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(al),e.apply(null,t),this},al.warnings=function(e){return ge(e)},al.version="3.19.0",al.stylesheet=al.Stylesheet=sl,e.exports=al},RYnF:function(e,t){function n(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=n,n.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},n.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},n.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}},Re5C:function(e,t,n){"use strict";var r=n("b5wT"),i=n("tQ6r");e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){!function(e,t){var n,r,s,o=t.v,a=e.node(o).rank,l=t.w,c=e.node(l).rank,u=t.name,h=e.edge(t),d=h.labelRank;if(c===a+1)return;for(e.removeEdge(t),s=0,++a;a<c;++s,++a)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:t,rank:a},n=i.addDummyNode(e,"edge",r,"_d"),a===d&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),e.setEdge(o,n,{weight:h.weight},u),0===s&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,l,{weight:h.weight},u)}(e,t)})},undo:function(e){r.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}}},SKAX:function(e,t,n){var r=n("JC6p"),i=n("lQqw")(r);e.exports=i},SeVD:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("ngJS"),i=n("NJ4a");var s=n("Lhse");var o=n("kJWO");var a=n("I55L"),l=n("c2HN"),c=n("XoHu");const u=e=>{if(e&&"function"==typeof e[o.a])return u=e,e=>{const t=u[o.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(r.a)(e);if(Object(l.a)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.a),e);if(e&&"function"==typeof e[s.a])return t=e,e=>{const n=t[s.a]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=Object(c.a)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},SfRM:function(e,t,n){var r=n("YESw");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",function(){return r})},Sxd8:function(e,t,n){var r=n("ZCgT");e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},T1AV:function(e,t,n){var r=n("t2Dn"),i=n("5Tg0"),s=n("yP5f"),o=n("Q1l4"),a=n("+iFO"),l=n("03A+"),c=n("Z0cm"),u=n("3L66"),h=n("DSRE"),d=n("lSCD"),p=n("GoyQ"),f=n("YO3V"),g=n("c6wG"),m=n("itsj"),v=n("jeLo");e.exports=function(e,t,n,y,_,b,w){var x=m(e,n),E=m(t,n),C=w.get(E);if(C)r(e,n,C);else{var S=b?b(x,E,n+"",e,t,w):void 0,k=void 0===S;if(k){var T=c(E),A=!T&&h(E),D=!T&&!A&&g(E);S=E,T||A||D?c(x)?S=x:u(x)?S=o(x):A?(k=!1,S=i(E,!0)):D?(k=!1,S=s(E,!0)):S=[]:f(E)||l(E)?(S=x,l(x)?S=v(x):p(x)&&!d(x)||(S=a(E))):k=!1}k&&(w.set(E,S),_(S,E,y,b,w),w.delete(E)),r(e,n,S)}}},TO8r:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},TP7S:function(e,t){e.exports=function(e){return void 0===e}},TYy9:function(e,t,n){var r=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},Txda:function(e,t,n){var r=n("3y7U");e.exports=function(e,t){return r(e,t,"post")}},UMpK:function(e,t,n){var r=n("gFfm"),i=n("dTAl"),s=n("JC6p"),o=n("ut/Y"),a=n("LcsW"),l=n("Z0cm"),c=n("DSRE"),u=n("lSCD"),h=n("GoyQ"),d=n("c6wG");e.exports=function(e,t,n){var p=l(e),f=p||c(e)||d(e);if(t=o(t,4),null==n){var g=e&&e.constructor;n=f?p?new g:[]:h(e)&&u(g)?i(a(e)):{}}return(f?r:s)(e,function(e,r,i){return t(n,e,r,i)}),n}},"UNi/":function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},UfWW:function(e,t,n){var r=n("KwMD"),i=n("ut/Y"),s=n("Sxd8"),o=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:s(n);return l<0&&(l=o(a+l,0)),r(e,i(t,3),l)}},V1JX:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).FDLayoutConstants;function i(){}for(var s in r)i[s]=r[s];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,i.ENFORCE_CONSTRAINTS=!0,i.APPLY_LAYOUT=!0,i.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,i.TREE_REDUCTION_ON_INCREMENTAL=!1,e.exports=i},function(e,t,n){"use strict";var r=n(0).FDLayoutEdge;function i(e,t,n){r.call(this,e,t,n)}for(var s in i.prototype=Object.create(r.prototype),r)i[s]=r[s];e.exports=i},function(e,t,n){"use strict";var r=n(0).LGraph;function i(e,t,n){r.call(this,e,t,n)}for(var s in i.prototype=Object.create(r.prototype),r)i[s]=r[s];e.exports=i},function(e,t,n){"use strict";var r=n(0).LGraphManager;function i(e){r.call(this,e)}for(var s in i.prototype=Object.create(r.prototype),r)i[s]=r[s];e.exports=i},function(e,t,n){"use strict";var r=n(0).FDLayoutNode,i=n(0).IMath;function s(e,t,n,i){r.call(this,e,t,n,i)}for(var o in s.prototype=Object.create(r.prototype),r)s[o]=r[o];s.prototype.calculateDisplacement=function(){var e=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},s.prototype.propogateDisplacementToChildren=function(e,t){for(var n,r=this.getChild().getNodes(),i=0;i<r.length;i++)null==(n=r[i]).getChild()?(n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},s.prototype.move=function(){var e=this.graphManager.getLayout();null!=this.child&&0!=this.child.getNodes().length||(this.moveBy(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},s.prototype.setPred1=function(e){this.pred1=e},s.prototype.getPred1=function(){return pred1},s.prototype.getPred2=function(){return pred2},s.prototype.setNext=function(e){this.next=e},s.prototype.getNext=function(){return next},s.prototype.setProcessed=function(e){this.processed=e},s.prototype.isProcessed=function(){return processed},e.exports=s},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(1),s=n(0).LinkedList,o=n(0).Matrix,a=n(0).SVD;function l(){}l.handleConstraints=function(e){var t={};t.fixedNodeConstraint=e.constraints.fixedNodeConstraint,t.alignmentConstraint=e.constraints.alignmentConstraint,t.relativePlacementConstraint=e.constraints.relativePlacementConstraint;for(var n=new Map,l=new Map,c=[],u=[],h=e.getAllNodes(),d=0,p=0;p<h.length;p++){var f=h[p];null==f.getChild()&&(l.set(f.id,d++),c.push(f.getCenterX()),u.push(f.getCenterY()),n.set(f.id,f))}t.relativePlacementConstraint&&t.relativePlacementConstraint.forEach(function(e){e.gap||0==e.gap||(e.left?e.gap=i.DEFAULT_EDGE_LENGTH+n.get(e.left).getWidth()/2+n.get(e.right).getWidth()/2:e.gap=i.DEFAULT_EDGE_LENGTH+n.get(e.top).getHeight()/2+n.get(e.bottom).getHeight()/2)});var g=function(e){var t=0,n=0;return e.forEach(function(e){t+=c[l.get(e)],n+=u[l.get(e)]}),{x:t/e.size,y:n/e.size}},m=function(e,t,n,i,o){var a=new Map;e.forEach(function(e,t){a.set(t,0)}),e.forEach(function(e,t){e.forEach(function(e){a.set(e.id,a.get(e.id)+1)})});var h=new Map,d=new Map,p=new s;a.forEach(function(e,r){0==e?(p.push(r),n||("horizontal"==t?h.set(r,l.has(r)?c[l.get(r)]:i.get(r)):h.set(r,l.has(r)?u[l.get(r)]:i.get(r)))):h.set(r,Number.NEGATIVE_INFINITY),n&&d.set(r,new Set([r]))}),n&&o.forEach(function(e){var r=[];if(e.forEach(function(e){n.has(e)&&r.push(e)}),r.length>0){var s=0;r.forEach(function(e){"horizontal"==t?(h.set(e,l.has(e)?c[l.get(e)]:i.get(e)),s+=h.get(e)):(h.set(e,l.has(e)?u[l.get(e)]:i.get(e)),s+=h.get(e))}),s/=r.length,e.forEach(function(e){n.has(e)||h.set(e,s)})}else{var o=0;e.forEach(function(e){o+="horizontal"==t?l.has(e)?c[l.get(e)]:i.get(e):l.has(e)?u[l.get(e)]:i.get(e)}),o/=e.length,e.forEach(function(e){h.set(e,o)})}});for(var f=function(){var r=p.shift();e.get(r).forEach(function(e){if(h.get(e.id)<h.get(r)+e.gap)if(n&&n.has(e.id)){var s=void 0;if(s="horizontal"==t?l.has(e.id)?c[l.get(e.id)]:i.get(e.id):l.has(e.id)?u[l.get(e.id)]:i.get(e.id),h.set(e.id,s),s<h.get(r)+e.gap){var o=h.get(r)+e.gap-s;d.get(r).forEach(function(e){h.set(e,h.get(e)-o)})}}else h.set(e.id,h.get(r)+e.gap);a.set(e.id,a.get(e.id)-1),0==a.get(e.id)&&p.push(e.id),n&&d.set(e.id,function(e,t){var n=new Set(e),r=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;n.add(l)}}catch(c){i=!0,s=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}return n}(d.get(r),d.get(e.id)))})};0!=p.length;)f();if(n){var g=new Set;e.forEach(function(e,t){0==e.length&&g.add(t)});var m=[];d.forEach(function(e,t){if(g.has(t)){var i=!1,s=!0,o=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var u=l.value;n.has(u)&&(i=!0)}}catch(p){o=!0,a=p}finally{try{!s&&c.return&&c.return()}finally{if(o)throw a}}if(!i){var h=!1,d=void 0;m.forEach(function(t,n){t.has([].concat(r(e))[0])&&(h=!0,d=n)}),h?e.forEach(function(e){m[d].add(e)}):m.push(new Set(e))}}}),m.forEach(function(e,n){var r=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,d=!0,p=!1,f=void 0;try{for(var g,m=e[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var v=g.value,y=void 0;y="horizontal"==t?l.has(v)?c[l.get(v)]:i.get(v):l.has(v)?u[l.get(v)]:i.get(v);var _=h.get(v);y<r&&(r=y),y>o&&(o=y),_<s&&(s=_),_>a&&(a=_)}}catch(T){p=!0,f=T}finally{try{!d&&m.return&&m.return()}finally{if(p)throw f}}var b=(r+o)/2-(s+a)/2,w=!0,x=!1,E=void 0;try{for(var C,S=e[Symbol.iterator]();!(w=(C=S.next()).done);w=!0){var k=C.value;h.set(k,h.get(k)+b)}}catch(T){x=!0,E=T}finally{try{!w&&S.return&&S.return()}finally{if(x)throw E}}})}return h},v=function(e){var t=0,n=0,r=0,i=0;if(e.forEach(function(e){e.left?c[l.get(e.left)]-c[l.get(e.right)]>=0?t++:n++:u[l.get(e.top)]-u[l.get(e.bottom)]>=0?r++:i++}),t>n&&r>i)for(var s=0;s<l.size;s++)c[s]=-1*c[s],u[s]=-1*u[s];else if(t>n)for(var o=0;o<l.size;o++)c[o]=-1*c[o];else if(r>i)for(var a=0;a<l.size;a++)u[a]=-1*u[a]},y=function(e){var t=[],n=new s,r=new Set,i=0;return e.forEach(function(s,o){if(!r.has(o)){t[i]=[];var a=o;for(n.push(a),r.add(a),t[i].push(a);0!=n.length;)a=n.shift(),e.get(a).forEach(function(e){r.has(e.id)||(n.push(e.id),r.add(e.id),t[i].push(e.id))});i++}}),t},_=function(e){var t=new Map;return e.forEach(function(e,n){t.set(n,[])}),e.forEach(function(e,n){e.forEach(function(e){t.get(n).push(e),t.get(e.id).push({id:n,gap:e.gap,direction:e.direction})})}),t},b=function(e){var t=new Map;return e.forEach(function(e,n){t.set(n,[])}),e.forEach(function(e,n){e.forEach(function(e){t.get(e.id).push({id:n,gap:e.gap,direction:e.direction})})}),t},w=[],x=[],E=!1,C=!1,S=new Set,k=new Map,T=new Map,A=[];if(t.fixedNodeConstraint&&t.fixedNodeConstraint.forEach(function(e){S.add(e.nodeId)}),t.relativePlacementConstraint&&(t.relativePlacementConstraint.forEach(function(e){e.left?(k.has(e.left)?k.get(e.left).push({id:e.right,gap:e.gap,direction:"horizontal"}):k.set(e.left,[{id:e.right,gap:e.gap,direction:"horizontal"}]),k.has(e.right)||k.set(e.right,[])):(k.has(e.top)?k.get(e.top).push({id:e.bottom,gap:e.gap,direction:"vertical"}):k.set(e.top,[{id:e.bottom,gap:e.gap,direction:"vertical"}]),k.has(e.bottom)||k.set(e.bottom,[]))}),T=_(k),A=y(T)),i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>1)t.fixedNodeConstraint.forEach(function(e,t){w[t]=[e.position.x,e.position.y],x[t]=[c[l.get(e.nodeId)],u[l.get(e.nodeId)]]}),E=!0;else if(t.alignmentConstraint)!function(){var e=0;if(t.alignmentConstraint.vertical){for(var n=t.alignmentConstraint.vertical,i=function(t){var i=new Set;n[t].forEach(function(e){i.add(e)});var s=new Set([].concat(r(i)).filter(function(e){return S.has(e)})),o=void 0;o=s.size>0?c[l.get(s.values().next().value)]:g(i).x,n[t].forEach(function(t){w[e]=[o,u[l.get(t)]],x[e]=[c[l.get(t)],u[l.get(t)]],e++})},s=0;s<n.length;s++)i(s);E=!0}if(t.alignmentConstraint.horizontal){for(var o=t.alignmentConstraint.horizontal,a=function(t){var n=new Set;o[t].forEach(function(e){n.add(e)});var i=new Set([].concat(r(n)).filter(function(e){return S.has(e)})),s=void 0;s=i.size>0?c[l.get(i.values().next().value)]:g(n).y,o[t].forEach(function(t){w[e]=[c[l.get(t)],s],x[e]=[c[l.get(t)],u[l.get(t)]],e++})},h=0;h<o.length;h++)a(h);E=!0}t.relativePlacementConstraint&&(C=!0)}();else if(t.relativePlacementConstraint){for(var D=0,O=0,I=0;I<A.length;I++)A[I].length>D&&(D=A[I].length,O=I);if(D<T.size/2)v(t.relativePlacementConstraint),E=!1,C=!1;else{var N=new Map,P=new Map,M=[];A[O].forEach(function(e){k.get(e).forEach(function(t){"horizontal"==t.direction?(N.has(e)?N.get(e).push(t):N.set(e,[t]),N.has(t.id)||N.set(t.id,[]),M.push({left:e,right:t.id})):(P.has(e)?P.get(e).push(t):P.set(e,[t]),P.has(t.id)||P.set(t.id,[]),M.push({top:e,bottom:t.id}))})}),v(M),C=!1;var R=m(N,"horizontal"),L=m(P,"vertical");A[O].forEach(function(e,t){x[t]=[c[l.get(e)],u[l.get(e)]],w[t]=[],R.has(e)?w[t][0]=R.get(e):w[t][0]=c[l.get(e)],L.has(e)?w[t][1]=L.get(e):w[t][1]=u[l.get(e)]}),E=!0}}if(E){for(var F,j=o.transpose(w),B=o.transpose(x),V=0;V<j.length;V++)j[V]=o.multGamma(j[V]),B[V]=o.multGamma(B[V]);var z=o.multMat(j,o.transpose(B)),U=a.svd(z);F=o.multMat(U.V,o.transpose(U.U));for(var H=0;H<l.size;H++){var $=[c[H],u[H]],q=[F[0][0],F[1][0]],G=[F[0][1],F[1][1]];c[H]=o.dotProduct($,q),u[H]=o.dotProduct($,G)}C&&v(t.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>0){var W={x:0,y:0};t.fixedNodeConstraint.forEach(function(e,t){var n,r,i={x:c[l.get(e.nodeId)],y:u[l.get(e.nodeId)]},s=e.position,o=(r=i,{x:(n=s).x-r.x,y:n.y-r.y});W.x+=o.x,W.y+=o.y}),W.x/=t.fixedNodeConstraint.length,W.y/=t.fixedNodeConstraint.length,c.forEach(function(e,t){c[t]+=W.x}),u.forEach(function(e,t){u[t]+=W.y}),t.fixedNodeConstraint.forEach(function(e){c[l.get(e.nodeId)]=e.position.x,u[l.get(e.nodeId)]=e.position.y})}if(t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var X=t.alignmentConstraint.vertical,Y=function(e){var t=new Set;X[e].forEach(function(e){t.add(e)});var n=new Set([].concat(r(t)).filter(function(e){return S.has(e)})),i=void 0;i=n.size>0?c[l.get(n.values().next().value)]:g(t).x,t.forEach(function(e){S.has(e)||(c[l.get(e)]=i)})},K=0;K<X.length;K++)Y(K);if(t.alignmentConstraint.horizontal)for(var Z=t.alignmentConstraint.horizontal,Q=function(e){var t=new Set;Z[e].forEach(function(e){t.add(e)});var n=new Set([].concat(r(t)).filter(function(e){return S.has(e)})),i=void 0;i=n.size>0?u[l.get(n.values().next().value)]:g(t).y,t.forEach(function(e){S.has(e)||(u[l.get(e)]=i)})},J=0;J<Z.length;J++)Q(J)}t.relativePlacementConstraint&&function(){var e=new Map,n=new Map,r=new Map,i=new Map,s=new Map,o=new Map,a=new Set,h=new Set;if(S.forEach(function(e){a.add(e),h.add(e)}),t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var d=t.alignmentConstraint.vertical,p=function(t){r.set("dummy"+t,[]),d[t].forEach(function(n){e.set(n,"dummy"+t),r.get("dummy"+t).push(n),S.has(n)&&a.add("dummy"+t)}),s.set("dummy"+t,c[l.get(d[t][0])])},f=0;f<d.length;f++)p(f);if(t.alignmentConstraint.horizontal)for(var g=t.alignmentConstraint.horizontal,v=function(e){i.set("dummy"+e,[]),g[e].forEach(function(t){n.set(t,"dummy"+e),i.get("dummy"+e).push(t),S.has(t)&&h.add("dummy"+e)}),o.set("dummy"+e,u[l.get(g[e][0])])},w=0;w<g.length;w++)v(w)}var x=new Map,E=new Map,C=function(t){k.get(t).forEach(function(r){var i=void 0,s=void 0;"horizontal"==r.direction?(i=e.get(t)?e.get(t):t,s=e.get(r.id)?{id:e.get(r.id),gap:r.gap,direction:r.direction}:r,x.has(i)?x.get(i).push(s):x.set(i,[s]),x.has(s.id)||x.set(s.id,[])):(i=n.get(t)?n.get(t):t,s=n.get(r.id)?{id:n.get(r.id),gap:r.gap,direction:r.direction}:r,E.has(i)?E.get(i).push(s):E.set(i,[s]),E.has(s.id)||E.set(s.id,[]))})},T=!0,A=!1,D=void 0;try{for(var O,I=k.keys()[Symbol.iterator]();!(T=(O=I.next()).done);T=!0)C(O.value)}catch(ee){A=!0,D=ee}finally{try{!T&&I.return&&I.return()}finally{if(A)throw D}}var N=_(x),P=_(E),M=y(N),R=y(P),L=b(x),F=b(E),j=[],B=[];M.forEach(function(e,t){j[t]=[],e.forEach(function(e){0==L.get(e).length&&j[t].push(e)})}),R.forEach(function(e,t){B[t]=[],e.forEach(function(e){0==F.get(e).length&&B[t].push(e)})});var V=m(x,"horizontal",a,s,j),z=m(E,"vertical",h,o,B),U=function(e){r.get(e)?r.get(e).forEach(function(t){c[l.get(t)]=V.get(e)}):c[l.get(e)]=V.get(e)},H=!0,$=!1,q=void 0;try{for(var G,W=V.keys()[Symbol.iterator]();!(H=(G=W.next()).done);H=!0)U(G.value)}catch(ee){$=!0,q=ee}finally{try{!H&&W.return&&W.return()}finally{if($)throw q}}var X=function(e){i.get(e)?i.get(e).forEach(function(t){u[l.get(t)]=z.get(e)}):u[l.get(e)]=z.get(e)},Y=!0,K=!1,Z=void 0;try{for(var Q,J=z.keys()[Symbol.iterator]();!(Y=(Q=J.next()).done);Y=!0)X(Q.value)}catch(ee){K=!0,Z=ee}finally{try{!Y&&J.return&&J.return()}finally{if(K)throw Z}}}()}for(var ee=0;ee<h.length;ee++){var te=h[ee];null==te.getChild()&&te.setCenter(c[l.get(te.id)],u[l.get(te.id)])}},e.exports=l},function(e,t,n){"use strict";var r=n(0).FDLayout,i=n(4),s=n(3),o=n(5),a=n(2),l=n(1),c=n(6),u=n(0).FDLayoutConstants,h=n(0).LayoutConstants,d=n(0).Point,p=n(0).PointD,f=n(0).Layout,g=n(0).Integer,m=n(0).IGeometry,v=n(0).LGraph,y=n(0).Transform,_=n(0).LinkedList;function b(){r.call(this),this.toBeTiled={},this.constraints={}}for(var w in b.prototype=Object.create(r.prototype),r)b[w]=r[w];b.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},b.prototype.newGraph=function(e){return new s(null,this.graphManager,e)},b.prototype.newNode=function(e){return new o(this.graphManager,e)},b.prototype.newEdge=function(e){return new a(null,null,e)},b.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.isSubLayout||(l.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/u.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=u.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},b.prototype.layout=function(){return h.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},b.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)l.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)}),this.graphManager.setAllNodesToApplyGravitation(n));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(n),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(c.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),l.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},b.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%u.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var n=!this.isTreeGrowing&&!this.isGrowthFinished,r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(n,r),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},b.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},n=0;n<e.length;n++){var r=e[n].rect,i=e[n].id;t[i]={id:i,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t},b.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===u.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},b.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),t=0;t<e.length;t++)e[t].move()},b.prototype.initConstraintVariables=function(){var e=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var t=this.graphManager.getAllNodes(),n=0;n<t.length;n++){var r=t[n];this.idToNodeMap.set(r.id,r)}var i=function t(n){for(var r,i=n.getChild().getNodes(),s=0,o=0;o<i.length;o++)null==(r=i[o]).getChild()?e.fixedNodeSet.has(r.id)&&(s+=100):s+=t(r);return s};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach(function(t){e.fixedNodeSet.add(t.nodeId)}),t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)if(null!=(r=t[n]).getChild()){var s=i(r);s>0&&(r.fixedNodeWeight=s)}if(this.constraints.relativePlacementConstraint){var o=new Map,a=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(t){e.fixedNodesOnHorizontal.add(t),e.fixedNodesOnVertical.add(t)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var c=this.constraints.alignmentConstraint.vertical;for(n=0;n<c.length;n++)this.dummyToNodeForVerticalAlignment.set("dummy"+n,[]),c[n].forEach(function(t){o.set(t,"dummy"+n),e.dummyToNodeForVerticalAlignment.get("dummy"+n).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnHorizontal.add("dummy"+n)})}if(this.constraints.alignmentConstraint.horizontal){var u=this.constraints.alignmentConstraint.horizontal;for(n=0;n<u.length;n++)this.dummyToNodeForHorizontalAlignment.set("dummy"+n,[]),u[n].forEach(function(t){a.set(t,"dummy"+n),e.dummyToNodeForHorizontalAlignment.get("dummy"+n).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnVertical.add("dummy"+n)})}}if(l.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(e){var t,n,r;for(r=e.length-1;r>=2*e.length/3;r--)t=Math.floor(Math.random()*(r+1)),n=e[r],e[r]=e[t],e[t]=n;return e},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(t){if(t.left){var n=o.has(t.left)?o.get(t.left):t.left,r=o.has(t.right)?o.get(t.right):t.right;e.nodesInRelativeHorizontal.includes(n)||(e.nodesInRelativeHorizontal.push(n),e.nodeToRelativeConstraintMapHorizontal.set(n,[]),e.dummyToNodeForVerticalAlignment.has(n)?e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(n)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(n).getCenterX())),e.nodesInRelativeHorizontal.includes(r)||(e.nodesInRelativeHorizontal.push(r),e.nodeToRelativeConstraintMapHorizontal.set(r,[]),e.dummyToNodeForVerticalAlignment.has(r)?e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(r).getCenterX())),e.nodeToRelativeConstraintMapHorizontal.get(n).push({right:r,gap:t.gap}),e.nodeToRelativeConstraintMapHorizontal.get(r).push({left:n,gap:t.gap})}else{var i=a.has(t.top)?a.get(t.top):t.top,s=a.has(t.bottom)?a.get(t.bottom):t.bottom;e.nodesInRelativeVertical.includes(i)||(e.nodesInRelativeVertical.push(i),e.nodeToRelativeConstraintMapVertical.set(i,[]),e.dummyToNodeForHorizontalAlignment.has(i)?e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(i).getCenterY())),e.nodesInRelativeVertical.includes(s)||(e.nodesInRelativeVertical.push(s),e.nodeToRelativeConstraintMapVertical.set(s,[]),e.dummyToNodeForHorizontalAlignment.has(s)?e.nodeToTempPositionMapVertical.set(s,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(s)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(s,e.idToNodeMap.get(s).getCenterY())),e.nodeToRelativeConstraintMapVertical.get(i).push({bottom:s,gap:t.gap}),e.nodeToRelativeConstraintMapVertical.get(s).push({top:i,gap:t.gap})}});else{var h=new Map,d=new Map;this.constraints.relativePlacementConstraint.forEach(function(e){if(e.left){var t=o.has(e.left)?o.get(e.left):e.left,n=o.has(e.right)?o.get(e.right):e.right;h.has(t)?h.get(t).push(n):h.set(t,[n]),h.has(n)?h.get(n).push(t):h.set(n,[t])}else{var r=a.has(e.top)?a.get(e.top):e.top,i=a.has(e.bottom)?a.get(e.bottom):e.bottom;d.has(r)?d.get(r).push(i):d.set(r,[i]),d.has(i)?d.get(i).push(r):d.set(i,[r])}});var p=function(e,t){var n=[],r=[],i=new _,s=new Set,o=0;return e.forEach(function(a,l){if(!s.has(l)){n[o]=[],r[o]=!1;var c=l;for(i.push(c),s.add(c),n[o].push(c);0!=i.length;)c=i.shift(),t.has(c)&&(r[o]=!0),e.get(c).forEach(function(e){s.has(e)||(i.push(e),s.add(e),n[o].push(e))});o++}}),{components:n,isFixed:r}},f=p(h,e.fixedNodesOnHorizontal);this.componentsOnHorizontal=f.components,this.fixedComponentsOnHorizontal=f.isFixed;var g=p(d,e.fixedNodesOnVertical);this.componentsOnVertical=g.components,this.fixedComponentsOnVertical=g.isFixed}}},b.prototype.updateDisplacements=function(){var e=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(t){var n=e.idToNodeMap.get(t.nodeId);n.displacementX=0,n.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var t=this.constraints.alignmentConstraint.vertical,n=0;n<t.length;n++){for(var r=0,i=0;i<t[n].length;i++){if(this.fixedNodeSet.has(t[n][i])){r=0;break}r+=this.idToNodeMap.get(t[n][i]).displacementX}var s=r/t[n].length;for(i=0;i<t[n].length;i++)this.idToNodeMap.get(t[n][i]).displacementX=s}if(this.constraints.alignmentConstraint.horizontal){var o=this.constraints.alignmentConstraint.horizontal;for(n=0;n<o.length;n++){var a=0;for(i=0;i<o[n].length;i++){if(this.fixedNodeSet.has(o[n][i])){a=0;break}a+=this.idToNodeMap.get(o[n][i]).displacementY}var c=a/o[n].length;for(i=0;i<o[n].length;i++)this.idToNodeMap.get(o[n][i]).displacementY=c}}}if(this.constraints.relativePlacementConstraint)if(l.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(t){if(!e.fixedNodesOnHorizontal.has(t)){var n=0;n=e.dummyToNodeForVerticalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(t)[0]).displacementX:e.idToNodeMap.get(t).displacementX,e.nodeToRelativeConstraintMapHorizontal.get(t).forEach(function(r){var i;r.right?(i=e.nodeToTempPositionMapHorizontal.get(r.right)-e.nodeToTempPositionMapHorizontal.get(t)-n)<r.gap&&(n-=r.gap-i):(i=e.nodeToTempPositionMapHorizontal.get(t)-e.nodeToTempPositionMapHorizontal.get(r.left)+n)<r.gap&&(n+=r.gap-i)}),e.nodeToTempPositionMapHorizontal.set(t,e.nodeToTempPositionMapHorizontal.get(t)+n),e.dummyToNodeForVerticalAlignment.has(t)?e.dummyToNodeForVerticalAlignment.get(t).forEach(function(t){e.idToNodeMap.get(t).displacementX=n}):e.idToNodeMap.get(t).displacementX=n}}),this.nodesInRelativeVertical.forEach(function(t){if(!e.fixedNodesOnHorizontal.has(t)){var n=0;n=e.dummyToNodeForHorizontalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(t)[0]).displacementY:e.idToNodeMap.get(t).displacementY,e.nodeToRelativeConstraintMapVertical.get(t).forEach(function(r){var i;r.bottom?(i=e.nodeToTempPositionMapVertical.get(r.bottom)-e.nodeToTempPositionMapVertical.get(t)-n)<r.gap&&(n-=r.gap-i):(i=e.nodeToTempPositionMapVertical.get(t)-e.nodeToTempPositionMapVertical.get(r.top)+n)<r.gap&&(n+=r.gap-i)}),e.nodeToTempPositionMapVertical.set(t,e.nodeToTempPositionMapVertical.get(t)+n),e.dummyToNodeForHorizontalAlignment.has(t)?e.dummyToNodeForHorizontalAlignment.get(t).forEach(function(t){e.idToNodeMap.get(t).displacementY=n}):e.idToNodeMap.get(t).displacementY=n}});else{for(n=0;n<this.componentsOnHorizontal.length;n++){var u=this.componentsOnHorizontal[n];if(this.fixedComponentsOnHorizontal[n])for(i=0;i<u.length;i++)this.dummyToNodeForVerticalAlignment.has(u[i])?this.dummyToNodeForVerticalAlignment.get(u[i]).forEach(function(t){e.idToNodeMap.get(t).displacementX=0}):this.idToNodeMap.get(u[i]).displacementX=0;else{var h=0,d=0;for(i=0;i<u.length;i++)this.dummyToNodeForVerticalAlignment.has(u[i])?(h+=(f=this.dummyToNodeForVerticalAlignment.get(u[i])).length*this.idToNodeMap.get(f[0]).displacementX,d+=f.length):(h+=this.idToNodeMap.get(u[i]).displacementX,d++);var p=h/d;for(i=0;i<u.length;i++)this.dummyToNodeForVerticalAlignment.has(u[i])?this.dummyToNodeForVerticalAlignment.get(u[i]).forEach(function(t){e.idToNodeMap.get(t).displacementX=p}):this.idToNodeMap.get(u[i]).displacementX=p}}for(n=0;n<this.componentsOnVertical.length;n++)if(u=this.componentsOnVertical[n],this.fixedComponentsOnVertical[n])for(i=0;i<u.length;i++)this.dummyToNodeForHorizontalAlignment.has(u[i])?this.dummyToNodeForHorizontalAlignment.get(u[i]).forEach(function(t){e.idToNodeMap.get(t).displacementY=0}):this.idToNodeMap.get(u[i]).displacementY=0;else{for(h=0,d=0,i=0;i<u.length;i++){var f;this.dummyToNodeForHorizontalAlignment.has(u[i])?(h+=(f=this.dummyToNodeForHorizontalAlignment.get(u[i])).length*this.idToNodeMap.get(f[0]).displacementY,d+=f.length):(h+=this.idToNodeMap.get(u[i]).displacementY,d++)}for(p=h/d,i=0;i<u.length;i++)this.dummyToNodeForHorizontalAlignment.has(u[i])?this.dummyToNodeForHorizontalAlignment.get(u[i]).forEach(function(t){e.idToNodeMap.get(t).displacementY=p}):this.idToNodeMap.get(u[i]).displacementY=p}}},b.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],r=this.graphManager.getGraphs(),i=r.length;for(t=0;t<i;t++)(e=r[t]).updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},b.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,n=new Set;for(t=0;t<e.length;t++){var r=e[t];if(!n.has(r)){var i=r.getSource(),s=r.getTarget();if(i==s)r.getBendpoints().push(new p),r.getBendpoints().push(new p),this.createDummyNodesForBendpoints(r),n.add(r);else{var o=[];if(o=(o=o.concat(i.getEdgeListToNode(s))).concat(s.getEdgeListToNode(i)),!n.has(o[0])){var a;if(o.length>1)for(a=0;a<o.length;a++){var l=o[a];l.getBendpoints().push(new p),this.createDummyNodesForBendpoints(l)}o.forEach(function(e){n.add(e)})}}}if(n.size==e.length)break}},b.prototype.positionNodesRadially=function(e){for(var t=new d(0,0),n=Math.ceil(Math.sqrt(e.length)),r=0,i=0,s=0,o=new p(0,0),a=0;a<e.length;a++){a%n==0&&(s=0,i=r,0!=a&&(i+=l.DEFAULT_COMPONENT_SEPERATION),r=0);var c=e[a],u=f.findCenterOfTree(c);t.x=s,t.y=i,(o=b.radialLayout(c,u,t)).y>r&&(r=Math.floor(o.y)),s=Math.floor(o.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new p(h.WORLD_CENTER_X-o.x/2,h.WORLD_CENTER_Y-o.y/2))},b.radialLayout=function(e,t,n){var r=Math.max(this.maxDiagonalInTree(e),l.DEFAULT_RADIAL_SEPARATION);b.branchRadialLayout(t,null,0,359,0,r);var i=v.calculateBounds(e),s=new y;s.setDeviceOrgX(i.getMinX()),s.setDeviceOrgY(i.getMinY()),s.setWorldOrgX(n.x),s.setWorldOrgY(n.y);for(var o=0;o<e.length;o++)e[o].transform(s);var a=new p(i.getMaxX(),i.getMaxY());return s.inverseTransformPoint(a)},b.branchRadialLayout=function(e,t,n,r,i,s){var o=(r-n+1)/2;o<0&&(o+=180);var a=(o+n)%360*m.TWO_PI/360,l=(Math.cos(a),i*Math.cos(a)),c=i*Math.sin(a);e.setCenter(l,c);var u=[],h=(u=u.concat(e.getEdges())).length;null!=t&&h--;for(var d,p=0,f=u.length,g=e.getEdgesBetween(t);g.length>1;){var v=g[0];g.splice(0,1);var y=u.indexOf(v);y>=0&&u.splice(y,1),f--,h--}d=null!=t?(u.indexOf(g[0])+1)%f:0;for(var _=Math.abs(r-n)/h,w=d;p!=h;w=++w%f){var x=u[w].getOtherEnd(e);if(x!=t){var E=(n+p*_)%360,C=(E+_)%360;b.branchRadialLayout(x,e,E,C,i+s,s),p++}}},b.maxDiagonalInTree=function(e){for(var t=g.MIN_VALUE,n=0;n<e.length;n++){var r=e[n].getDiagonal();r>t&&(t=r)}return t},b.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},b.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var n=[],r=this.graphManager.getAllNodes(),i=0;i<r.length;i++){var s=(a=r[i]).getParent();0!==this.getNodeDegreeWithChildren(a)||null!=s.id&&this.getToBeTiled(s)||n.push(a)}for(i=0;i<n.length;i++){var a,l=(a=n[i]).getParent().id;void 0===t[l]&&(t[l]=[]),t[l]=t[l].concat(a)}Object.keys(t).forEach(function(n){if(t[n].length>1){var r="DummyCompound_"+n;e.memberGroups[r]=t[n];var i=t[n][0].getParent(),s=new o(e.graphManager);s.id=r,s.paddingLeft=i.paddingLeft||0,s.paddingRight=i.paddingRight||0,s.paddingBottom=i.paddingBottom||0,s.paddingTop=i.paddingTop||0,e.idToDummyNode[r]=s;var a=e.getGraphManager().add(e.newGraph(),s),l=i.getChild();l.add(s);for(var c=0;c<t[n].length;c++){var u=t[n][c];l.remove(u),a.add(u)}}})},b.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)t[this.compoundOrder[n].id]=this.compoundOrder[n],e[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},b.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){var r=e.idToDummyNode[n];t[n]=e.tileNodes(e.memberGroups[n],r.paddingLeft+r.paddingRight),r.rect.width=t[n].width,r.rect.height=t[n].height})},b.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],n=t.id,r=t.paddingLeft,i=t.paddingTop;this.adjustLocations(this.tiledMemberPack[n],t.rect.x,t.rect.y,r,i)}},b.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(n){var r=e.idToDummyNode[n],i=r.paddingLeft,s=r.paddingTop;e.adjustLocations(t[n],r.rect.x,r.rect.y,i,s)})},b.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var n=e.getChild();if(null==n)return this.toBeTiled[t]=!1,!1;for(var r=n.getNodes(),i=0;i<r.length;i++){var s=r[i];if(this.getNodeDegree(s)>0)return this.toBeTiled[t]=!1,!1;if(null!=s.getChild()){if(!this.getToBeTiled(s))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[s.id]=!1}return this.toBeTiled[t]=!0,!0},b.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),n=0,r=0;r<t.length;r++){var i=t[r];i.getSource().id!==i.getTarget().id&&(n+=1)}return n},b.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var n=e.getChild().getNodes(),r=0;r<n.length;r++){var i=n[r];t+=this.getNodeDegreeWithChildren(i)}return t},b.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},b.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var n=e[t];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},b.prototype.adjustLocations=function(e,t,n,r,i){n+=i;for(var s=t+=r,o=0;o<e.rows.length;o++){var a=e.rows[o];t=s;for(var l=0,c=0;c<a.length;c++){var u=a[c];u.rect.x=t,u.rect.y=n,t+=u.rect.width+e.horizontalPadding,u.rect.height>l&&(l=u.rect.height)}n+=l+e.verticalPadding}},b.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(r){var i=t[r];n.tiledMemberPack[r]=n.tileNodes(e[r],i.paddingLeft+i.paddingRight),i.rect.width=n.tiledMemberPack[r].width,i.rect.height=n.tiledMemberPack[r].height})},b.prototype.tileNodes=function(e,t){var n={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:l.TILING_PADDING_VERTICAL,horizontalPadding:l.TILING_PADDING_HORIZONTAL};e.sort(function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0});for(var r=0;r<e.length;r++){var i=e[r];0==n.rows.length?this.insertNodeToRow(n,i,0,t):this.canAddHorizontal(n,i.rect.width,i.rect.height)?this.insertNodeToRow(n,i,this.getShortestRowIndex(n),t):this.insertNodeToRow(n,i,n.rows.length,t),this.shiftToLastRow(n)}return n},b.prototype.insertNodeToRow=function(e,t,n,r){var i=r;n==e.rows.length&&(e.rows.push([]),e.rowWidth.push(i),e.rowHeight.push(0));var s=e.rowWidth[n]+t.rect.width;e.rows[n].length>0&&(s+=e.horizontalPadding),e.rowWidth[n]=s,e.width<s&&(e.width=s);var o=t.rect.height;n>0&&(o+=e.verticalPadding);var a=0;o>e.rowHeight[n]&&(a=e.rowHeight[n],e.rowHeight[n]=o,a=e.rowHeight[n]-a),e.height+=a,e.rows[n].push(t)},b.prototype.getShortestRowIndex=function(e){for(var t=-1,n=Number.MAX_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]<n&&(t=r,n=e.rowWidth[r]);return t},b.prototype.getLongestRowIndex=function(e){for(var t=-1,n=Number.MIN_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]>n&&(t=r,n=e.rowWidth[r]);return t},b.prototype.canAddHorizontal=function(e,t,n){var r=this.getShortestRowIndex(e);if(r<0)return!0;var i=e.rowWidth[r];if(i+e.horizontalPadding+t<=e.width)return!0;var s,o,a=0;return e.rowHeight[r]<n&&r>0&&(a=n+e.verticalPadding-e.rowHeight[r]),s=e.width-i>=t+e.horizontalPadding?(e.height+a)/(i+t+e.horizontalPadding):(e.height+a)/e.width,a=n+e.verticalPadding,(o=e.width<t?(e.height+a)/t:(e.height+a)/e.width)<1&&(o=1/o),s<1&&(s=1/s),s<o},b.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[t],i=r[r.length-1],s=i.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>s&&t!=n){r.splice(-1,1),e.rows[n].push(i),e.rowWidth[t]=e.rowWidth[t]-s,e.rowWidth[n]=e.rowWidth[n]+s,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var o=Number.MIN_VALUE,a=0;a<r.length;a++)r[a].height>o&&(o=r[a].height);t>0&&(o+=e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[n];e.rowHeight[t]=o,e.rowHeight[n]<i.height+e.verticalPadding&&(e.rowHeight[n]=i.height+e.verticalPadding);var c=e.rowHeight[t]+e.rowHeight[n];e.height+=c-l,this.shiftToLastRow(e)}},b.prototype.tilingPreLayout=function(){l.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},b.prototype.tilingPostLayout=function(){l.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},b.prototype.reduceTrees=function(){for(var e,t=[],n=!0;n;){var r=this.graphManager.getAllNodes(),i=[];n=!1;for(var s=0;s<r.length;s++)1!=(e=r[s]).getEdges().length||e.getEdges()[0].isInterGraph||null!=e.getChild()||(i.push([e,e.getEdges()[0],e.getOwner()]),n=!0);if(1==n){for(var o=[],a=0;a<i.length;a++)1==i[a][0].getEdges().length&&(o.push(i[a]),i[a][0].getOwner().remove(i[a][0]));t.push(o),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},b.prototype.growTree=function(e){for(var t,n=e[e.length-1],r=0;r<n.length;r++)t=n[r],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},b.prototype.findPlaceforPrunedNode=function(e){var t,n,r=e[0],i=(n=r==e[1].source?e[1].target:e[1].source).startX,s=n.finishX,o=n.startY,a=n.finishY,l=[0,0,0,0];if(o>0)for(var c=i;c<=s;c++)l[0]+=this.grid[c][o-1].length+this.grid[c][o].length-1;if(s<this.grid.length-1)for(c=o;c<=a;c++)l[1]+=this.grid[s+1][c].length+this.grid[s][c].length-1;if(a<this.grid[0].length-1)for(c=i;c<=s;c++)l[2]+=this.grid[c][a+1].length+this.grid[c][a].length-1;if(i>0)for(c=o;c<=a;c++)l[3]+=this.grid[i-1][c].length+this.grid[i][c].length-1;for(var h,d,p=g.MAX_VALUE,f=0;f<l.length;f++)l[f]<p?(p=l[f],h=1,d=f):l[f]==p&&h++;if(3==h&&0==p)0==l[0]&&0==l[1]&&0==l[2]?t=1:0==l[0]&&0==l[1]&&0==l[3]?t=0:0==l[0]&&0==l[2]&&0==l[3]?t=3:0==l[1]&&0==l[2]&&0==l[3]&&(t=2);else if(2==h&&0==p){var m=Math.floor(2*Math.random());t=0==l[0]&&0==l[1]?0==m?0:1:0==l[0]&&0==l[2]?0==m?0:2:0==l[0]&&0==l[3]?0==m?0:3:0==l[1]&&0==l[2]?0==m?1:2:0==l[1]&&0==l[3]?0==m?1:3:0==m?2:3}else t=4==h&&0==p?m=Math.floor(4*Math.random()):d;0==t?r.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-u.DEFAULT_EDGE_LENGTH-r.getHeight()/2):1==t?r.setCenter(n.getCenterX()+n.getWidth()/2+u.DEFAULT_EDGE_LENGTH+r.getWidth()/2,n.getCenterY()):2==t?r.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+u.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(n.getCenterX()-n.getWidth()/2-u.DEFAULT_EDGE_LENGTH-r.getWidth()/2,n.getCenterY())},e.exports=b},function(e,t,n){"use strict";var r={};r.layoutBase=n(0),r.CoSEConstants=n(1),r.CoSEEdge=n(2),r.CoSEGraph=n(3),r.CoSEGraphManager=n(4),r.CoSELayout=n(7),r.CoSENode=n(5),r.ConstraintHandler=n(6),e.exports=r}])},e.exports=r(n("9u+N"))},V6Ve:function(e,t,n){var r=n("kekF")(Object.keys,Object);e.exports=r},V9xz:function(e,t){e.exports=function(e,t){return e>t}},VJLA:function(e,t,n){var r=n("MrPd"),i=n("1w02");e.exports=function(e,t){return i(e||[],t||[],r)}},VOtZ:function(e,t,n){var r=n("juv8"),i=n("MvSz");e.exports=function(e,t){return r(e,i(e),t)}},VRyK:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return Object(i.a)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.a?e[0]:Object(s.a)(t)(Object(o.a)(e,n))}},VaNO:function(e,t){e.exports=function(e){return this.__data__.has(e)}},WFqU:function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},WPeF:function(e,t){e.exports=function(e,t,n,r,i){return i(e,function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)}),n}},WjpJ:function(e,t,n){var r=n("HLqC")();e.exports=r},WwFo:function(e,t,n){var r=n("juv8"),i=n("7GkX");e.exports=function(e,t){return e&&r(t,i(t),e)}},XGnz:function(e,t,n){var r=n("CH3K"),i=n("BiGR");e.exports=function e(t,n,s,o,a){var l=-1,c=t.length;for(s||(s=i),a||(a=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,o,a):r(a,u):o||(a[a.length]=u)}return a}},XKAG:function(e,t,n){var r=n("ut/Y"),i=n("MMmD"),s=n("7GkX");e.exports=function(e){return function(t,n,o){var a=Object(t);if(!i(t)){var l=r(n,3);t=s(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,o);return c>-1?a[l?t[c]:c]:void 0}}},XNiG:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),l=n("2QA8");class c extends i.a{constructor(e){super(e),this.destination=e}}class u extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new a.a(this,e))}asObservable(){const e=new r.a;return e.source=this,e}}u.create=(e,t)=>new h(e,t);class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.a.EMPTY}}},XYm9:function(e,t,n){var r=n("+K+b");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},Xi7e:function(e,t,n){var r=n("KMkd"),i=n("adU4"),s=n("tMB7"),o=n("+6XX"),a=n("Z8oC");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",function(){return r})},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},YESw:function(e,t,n){var r=n("Cwc5")(Object,"create");e.exports=r},YO3V:function(e,t,n){var r=n("NykK"),i=n("LcsW"),s=n("ExA7"),o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},Yen4:function(e,t,n){var r=n("M96O"),i=n("lnHP"),s=n("AevD");e.exports=function(e,t){var n,o=new i,a={},l=new s;function c(e){var r=e.v===n?e.w:e.v,i=l.priority(r);if(void 0!==i){var s=t(e);s<i&&(a[r]=n,l.decrease(r,s))}}if(0===e.nodeCount())return o;r.each(e.nodes(),function(e){l.add(e,Number.POSITIVE_INFINITY),o.setNode(e)}),l.decrease(e.nodes()[0],0);var u=!1;for(;l.size()>0;){if(n=l.removeMin(),r.has(a,n))o.setEdge(n,a[n]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(n).forEach(c)}return o}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},Z0cm:function(e,t){var n=Array.isArray;e.exports=n},Z1HP:function(e,t,n){var r=n("ycre"),i=n("quyA"),s=n("q4HE");e.exports=function(e){return i(e)?s(e):r(e)}},Z8oC:function(e,t,n){var r=n("y1pI");e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},ZCgT:function(e,t,n){var r=n("tLB3"),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},ZCpW:function(e,t,n){var r=n("lm/5"),i=n("O7RO"),s=n("IOzZ");e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},ZUHj:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("7o/Q");class i extends r.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n("SeVD"),o=n("HDdC");function a(e,t,n,r,a=new i(e,n,r)){if(!a.closed)return t instanceof o.a?t.subscribe(a):Object(s.a)(t)(a)}},ZWtO:function(e,t,n){var r=n("4uTw"),i=n("9Nap");e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[i(t[n++])];return n&&n==s?e:void 0}},ZzYp:function(e,t,n){var r=n("M96O");e.exports=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){r[e]={},r[e][e]={distance:0},i.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,s=t(n);r[e][i]={distance:s,predecessor:e}})}),i.forEach(function(e){var t=r[e];i.forEach(function(n){var s=r[n];i.forEach(function(n){var r=s[e],i=t[n],o=s[n],a=r.distance+i.distance;a<o.distance&&(o.distance=a,o.predecessor=i.predecessor)})})}),r}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},adU4:function(e,t,n){var r=n("y1pI"),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},agSv:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("l7P3"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EY2u"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("LRne"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("VRyK"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("qgXg"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jtHE"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("w1tV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("bOdf"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("tS1D"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1G5W"),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("zP0r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("pxpQ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("zp1y"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("Kqap");class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.G("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.G("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(e){const t={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},n="function"==typeof e?e():e,r=!!n.logOnly&&{pause:!0,export:!0,test:!0},i=n.features||r||t.features,s=Object.assign({},t,{features:i},n);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(e,t){if(this.action=e,this.timestamp=t,this.type=PERFORM_ACTION,void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(e){this.timestamp=e,this.type=RESET}}class Rollback{constructor(e){this.timestamp=e,this.type=ROLLBACK}}class Commit{constructor(e){this.timestamp=e,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(e){this.id=e,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(e,t,n=!0){this.start=e,this.end=t,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(e){this.index=e,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(e){this.actionId=e,this.type=JUMP_TO_ACTION}}class ImportState{constructor(e){this.nextLiftedState=e,this.type=IMPORT_STATE}}class LockChanges{constructor(e){this.status=e,this.type=LOCK_CHANGES}}class PauseRecording{constructor(e){this.status=e,this.type=PAUSE_RECORDING}}class DevtoolsDispatcher extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a{}function difference(e,t){return e.filter(e=>t.indexOf(e)<0)}function unliftState(e){const{computedStates:t,currentStateIndex:n}=e;if(n>=t.length){const{state:e}=t[t.length-1];return e}const{state:r}=t[n];return r}function unliftAction(e){return e.actionsById[e.nextActionId-1]}function liftAction(e){return new PerformAction(e,+Date.now())}function sanitizeActions(e,t){return Object.keys(t).reduce((n,r)=>{const i=Number(r);return n[i]=sanitizeAction(e,t[i],i),n},{})}function sanitizeAction(e,t,n){return Object.assign(Object.assign({},t),{action:e(t.action,n)})}function sanitizeStates(e,t){return t.map((t,n)=>({state:sanitizeState(e,t.state,n),error:t.error}))}function sanitizeState(e,t,n){return e(t,n)}function shouldFilterActions(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function filterLiftedState(e,t,n,r){const i=[],s={},o=[];return e.stagedActionIds.forEach((a,l)=>{const c=e.actionsById[a];c&&(l&&isActionFiltered(e.computedStates[l],c,t,n,r)||(s[a]=c,i.push(a),o.push(e.computedStates[l])))}),Object.assign(Object.assign({},e),{stagedActionIds:i,actionsById:s,computedStates:o})}function isActionFiltered(e,t,n,r,i){const s=n&&!n(e,t.action),o=r&&!t.action.type.match(r.map(e=>escapeRegExp(e)).join("|")),a=i&&t.action.type.match(i.map(e=>escapeRegExp(e)).join("|"));return s||o||a}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}DevtoolsDispatcher.\u0275fac=function(){let e;return function(t){return(e||(e=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Vc(DevtoolsDispatcher)))(t||DevtoolsDispatcher)}}(),DevtoolsDispatcher.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc({token:DevtoolsDispatcher,factory:DevtoolsDispatcher.\u0275fac});const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.G("@ngrx/store-devtools Redux Devtools Extension");class DevtoolsExtension{constructor(e,t,n){this.config=t,this.dispatcher=n,this.devtoolsExtension=e,this.createActionStreams()}notify(e,t){if(this.devtoolsExtension)if(e.type===PERFORM_ACTION){if(t.isLocked||t.isPaused)return;const n=unliftState(t);if(shouldFilterActions(this.config)&&isActionFiltered(n,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const r=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,n,t.currentStateIndex):n,i=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,e,t.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(i,r))}else{const e=Object.assign(Object.assign({},t),{stagedActionIds:t.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,t.actionsById):t.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,t.computedStates):t.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,e,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.a(e=>{const t=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=t,t.init(),t.subscribe(t=>e.next(t)),t.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.a}createActionStreams(){const e=this.createChangesObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)()),t=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(e=>e.type===ExtensionActionTypes.START)),n=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(e=>e.type===ExtensionActionTypes.STOP)),r=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(e=>e.type===ExtensionActionTypes.DISPATCH),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(e=>this.unwrapAction(e.payload)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)(e=>e.type===IMPORT_STATE?this.dispatcher.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(e=>e.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.i),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(()=>e),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(e)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.a)(1)):Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(e))),i=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(e=>e.type===ExtensionActionTypes.ACTION),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(e=>this.unwrapAction(e.payload))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),s=r.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n));this.start$=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),this.actions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>i)),this.liftedActions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>s))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(e){var t;const n={name:e.name,features:e.features,serialize:e.serialize,autoPause:null!==(t=e.autoPause)&&void 0!==t&&t};return!1!==e.maxAge&&(n.maxAge=e.maxAge),n}sendToReduxDevtools(e){try{e()}catch(t){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",t)}}}DevtoolsExtension.\u0275fac=function(e){return new(e||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.D,args:[REDUX_DEVTOOLS_EXTENSION]}]},{type:StoreDevtoolsConfig,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.D,args:[STORE_DEVTOOLS_CONFIG]}]},{type:DevtoolsDispatcher}];const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(e,t,n,r,i){if(r)return{state:n,error:"Interrupted by an error up the chain"};let s,o=n;try{o=e(n,t)}catch(a){s=a.toString(),i.handleError(a)}return{state:o,error:s}}function recomputeStates(e,t,n,r,i,s,o,a,l){if(t>=e.length&&e.length===s.length)return e;const c=e.slice(0,t),u=s.length-(l?1:0);for(let h=t;h<u;h++){const e=s[h],t=i[e].action,l=c[h-1],u=l?l.state:r,d=l?l.error:void 0,p=o.indexOf(e)>-1?l:computeNextEntry(n,t,u,d,a);c.push(p)}return l&&c.push(e[e.length-1]),c}function liftInitialState(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(e,t,n,r,i={}){return s=>(o,a)=>{let{monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:f,computedStates:g,isLocked:m,isPaused:v}=o||t;function y(e){let t=e,n=h.slice(1,t+1);for(let r=0;r<n.length;r++){if(g[r+1].error){t=r,n=h.slice(1,t+1);break}delete c[n[r]]}d=d.filter(e=>-1===n.indexOf(e)),h=[0,...h.slice(t+1)],p=g[t].state,g=g.slice(t),f=f>t?f-t:0}function _(){c={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],p=g[f].state,f=0,g=[]}o||(c=Object.create(c));let b=0;switch(a.type){case LOCK_CHANGES:m=a.status,b=1/0;break;case PAUSE_RECORDING:v=a.status,v?(h=[...h,u],c[u]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),u++,b=h.length-1,g=g.concat(g[g.length-1]),f===h.length-2&&f++,b=1/0):_();break;case RESET:c={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],p=e,f=0,g=[];break;case COMMIT:_();break;case ROLLBACK:c={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],f=0,g=[];break;case TOGGLE_ACTION:{const{id:e}=a,t=d.indexOf(e);d=-1===t?[e,...d]:d.filter(t=>t!==e),b=h.indexOf(e);break}case SET_ACTIONS_ACTIVE:{const{start:e,end:t,active:n}=a,r=[];for(let i=e;i<t;i++)r.push(i);d=n?difference(d,r):[...d,...r],b=h.indexOf(e);break}case JUMP_TO_STATE:f=a.index,b=1/0;break;case JUMP_TO_ACTION:{const e=h.indexOf(a.actionId);-1!==e&&(f=e),b=1/0;break}case SWEEP:h=difference(h,d),d=[],f=Math.min(f,h.length-1);break;case PERFORM_ACTION:{if(m)return o||t;if(v||o&&isActionFiltered(o.computedStates[f],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){const e=g[g.length-1];g=[...g.slice(0,-1),computeNextEntry(s,a.action,e.state,e.error,n)],b=1/0;break}i.maxAge&&h.length===i.maxAge&&y(1),f===h.length-1&&f++;const e=u++;c[e]=a,h=[...h,e],b=h.length-1;break}case IMPORT_STATE:({monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:f,computedStates:g,isLocked:m,isPaused:v}=a.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b:b=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,b,s,p,c,h,d,n,v),y(h.length-i.maxAge),b=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.i:if(g.filter(e=>e.error).length>0)b=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,b,s,p,c,h,d,n,v),y(h.length-i.maxAge),b=1/0);else{if(!v&&!m){f===h.length-1&&f++;const e=u++;c[e]=new PerformAction(a,+Date.now()),h=[...h,e],b=h.length-1,g=recomputeStates(g,b,s,p,c,h,d,n,v)}g=g.map(e=>Object.assign(Object.assign({},e),{state:s(e.state,RECOMPUTE_ACTION)})),f=h.length-1,i.maxAge&&h.length>i.maxAge&&y(h.length-i.maxAge),b=1/0}break;default:b=1/0}return g=recomputeStates(g,b,s,p,c,h,d,n,v),l=r(l,a),{monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:f,computedStates:g,isLocked:m,isPaused:v}}}class StoreDevtools{constructor(e,t,n,r,i,s,o,a){const l=liftInitialState(o,a.monitor),c=liftReducerWith(o,l,s,a.monitor,a),u=Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(t.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.a)(1)),r.actions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(liftAction)),e,r.liftedActions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.b)(rxjs__WEBPACK_IMPORTED_MODULE_6__.b)),h=n.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(c)),d=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a(1),p=u.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(h),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(({state:e},[t,n])=>{let i=n(e,t);return t.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(i=filterLiftedState(i,a.predicate,a.actionsSafelist,a.actionsBlocklist)),r.notify(t,i),{state:i,action:t}},{state:l,action:null})).subscribe(({state:e,action:t})=>{if(d.next(e),t.type===PERFORM_ACTION){const e=t.action;i.next(e)}}),f=r.start$.subscribe(()=>{this.refresh()}),g=d.asObservable(),m=g.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(unliftState));this.extensionStartSubscription=f,this.stateSubscription=p,this.dispatcher=e,this.liftedState=g,this.state=m}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new PerformAction(e,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(e){this.dispatch(new ToggleAction(e))}jumpToAction(e){this.dispatch(new JumpToAction(e))}jumpToState(e){this.dispatch(new JumpToState(e))}importState(e){this.dispatch(new ImportState(e))}lockChanges(e){this.dispatch(new LockChanges(e))}pauseRecording(e){this.dispatch(new PauseRecording(e))}}StoreDevtools.\u0275fac=function(e){return new(e||StoreDevtools)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.e),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(_angular_core__WEBPACK_IMPORTED_MODULE_0__.x),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xc(STORE_DEVTOOLS_CONFIG))},StoreDevtools.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jc({token:StoreDevtools,factory:StoreDevtools.\u0275fac}),StoreDevtools.ctorParameters=()=>[{type:DevtoolsDispatcher},{type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a},{type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.e},{type:DevtoolsExtension},{type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.f},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.x},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.D,args:[_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c]}]},{type:StoreDevtoolsConfig,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.D,args:[STORE_DEVTOOLS_CONFIG]}]}];const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.G("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(e,t){return Boolean(e)||t.monitor!==noMonitor}function createReduxDevtoolsExtension(){const e="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[e]?window[e]:null}function createStateObservable(e){return e.state}class StoreDevtoolsModule{static instrument(e={}){return{ngModule:StoreDevtoolsModule,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:e},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.g,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.d,useExisting:DevtoolsDispatcher}]}}}StoreDevtoolsModule.\u0275fac=function(e){return new(e||StoreDevtoolsModule)},StoreDevtoolsModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Lc({type:StoreDevtoolsModule}),StoreDevtoolsModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kc({})},alwl:function(e,t,n){var r=n("eUgh"),i=n("ZWtO"),s=n("ut/Y"),o=n("l9OW"),a=n("1LK5"),l=n("sEf8"),c=n("IWTy"),u=n("zZ0H"),h=n("Z0cm");e.exports=function(e,t,n){t=t.length?r(t,function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[u];var d=-1;t=r(t,l(s));var p=o(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++d,value:e}});return a(p,function(e,t){return c(e,t,n)})}},asDA:function(e,t){e.exports=function(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},b5wT:function(e,t,n){var r;try{r={cloneDeep:n("BkRI"),constant:n("cvCv"),defaults:n("la6v"),each:n("xkGU"),filter:n("k4Da"),find:n("J2m7"),flatten:n("TYy9"),forEach:n("bNQv"),forIn:n("mUg4"),has:n("OFL0"),isUndefined:n("TP7S"),last:n("RBan"),map:n("3WF5"),mapValues:n("noZS"),max:n("q92V"),merge:n("QkVN"),min:n("AE40"),minBy:n("gPaA"),now:n("QIyF"),pick:n("JZM8"),range:n("WjpJ"),reduce:n("xaJk"),sortBy:n("xweI"),uniqueId:n("mNz5"),values:n("P/G1"),zipObject:n("VJLA")}}catch(i){}r||(r=window._),e.exports=r},b80T:function(e,t,n){var r=n("UNi/"),i=n("03A+"),s=n("Z0cm"),o=n("DSRE"),a=n("wJg7"),l=n("c6wG"),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&i(e),h=!n&&!u&&o(e),d=!n&&!u&&!h&&l(e),p=n||u||h||d,f=p?r(e.length,String):[],g=f.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||f.push(m);return f}},bHdf:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(e=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,e)}},bNQv:function(e,t,n){var r=n("gFfm"),i=n("SKAX"),s=n("EwQA"),o=n("Z0cm");e.exports=function(e,t){return(o(e)?r:i)(e,s(t))}},bOdf:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("5+tZ");function i(e,t){return Object(r.a)(e,t,1)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",function(){return r})},c6wG:function(e,t,n){var r=n("dD9F"),i=n("sEf8"),s=n("mdPL"),o=s&&s.isTypedArray,a=o?i(o):r;e.exports=a},"cq/+":function(e,t,n){var r=n("mc0g")();e.exports=r},cvCv:function(e,t){e.exports=function(e){return function(){return e}}},dD9F:function(e,t,n){var r=n("NykK"),i=n("shjB"),s=n("ExA7"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!o[r(e)]}},dOj1:function(e,t,n){"use strict";var r=n("b5wT"),i=n("GEWS"),s=n("6Ekc").slack,o=n("6Ekc").longestPath,a=n("F9We").alg.preorder,l=n("F9We").alg.postorder,c=n("tQ6r").simplify;function u(e){e=c(e),o(e);var t,n=i(e);for(p(n),h(n,e);t=g(n);)v(n,e,t,m(n,e,t))}function h(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=d(e,t,n)}(e,t,n)})}function d(e,t,n){var i=e.node(n).parent,s=!0,o=t.edge(n,i),a=0;return o||(s=!1,o=t.edge(i,n)),a=o.weight,r.forEach(t.nodeEdges(n),function(r){var o,l,c=r.v===n,u=c?r.w:r.v;if(u!==i){var h=c===s,d=t.edge(r).weight;if(a+=h?d:-d,o=n,l=u,e.hasEdge(o,l)){var p=e.edge(n,u).cutvalue;a+=h?-p:p}}}),a}function p(e,t){arguments.length<2&&(t=e.nodes()[0]),f(e,{},1,t)}function f(e,t,n,i,s){var o=n,a=e.node(i);return t[i]=!0,r.forEach(e.neighbors(i),function(s){r.has(t,s)||(n=f(e,t,n,s,i))}),a.low=o,a.lim=n++,s?a.parent=s:delete a.parent,n}function g(e){return r.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function m(e,t,n){var i=n.v,o=n.w;t.hasEdge(i,o)||(i=n.w,o=n.v);var a=e.node(i),l=e.node(o),c=a,u=!1;a.lim>l.lim&&(c=l,u=!0);var h=r.filter(t.edges(),function(t){return u===y(e,e.node(t.v),c)&&u!==y(e,e.node(t.w),c)});return r.minBy(h,function(e){return s(t,e)})}function v(e,t,n,i){var s=n.v,o=n.w;e.removeEdge(s,o),e.setEdge(i.v,i.w,{}),p(e),h(e,t),function(e,t){var n=r.find(e.nodes(),function(e){return!t.node(e).parent}),i=a(e,n);i=i.slice(1),r.forEach(i,function(n){var r=e.node(n).parent,i=t.edge(n,r),s=!1;i||(i=t.edge(r,n),s=!0),t.node(n).rank=t.node(r).rank+(s?i.minlen:-i.minlen)})}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=u,u.initLowLimValues=p,u.initCutValues=h,u.calcCutValue=d,u.leaveEdge=g,u.enterEdge=m,u.exchangeEdges=v},dQpi:function(e,t,n){var r=n("yGk4"),i=n("vN+2"),s=n("rEGp"),o=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},dTAl:function(e,t,n){var r=n("GoyQ"),i=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},dt0z:function(e,t,n){var r=n("zoYe");e.exports=function(e){return null==e?"":r(e)}},dunj:function(e,t,n){var r=n("/9aa");e.exports=function(e,t,n){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(void 0===l?a==a&&!r(a):n(a,l)))var l=a,c=o}return c}},e4Nc:function(e,t,n){var r=n("fGT3"),i=n("k+1r"),s=n("JHgL"),o=n("pSRY"),a=n("H8j4");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},e5cp:function(e,t,n){var r=n("fmRc"),i=n("or5M"),s=n("HDyB"),o=n("seXi"),a=n("QqLw"),l=n("Z0cm"),c=n("DSRE"),u=n("c6wG"),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=l(e),_=l(t),b=y?d:a(e),w=_?d:a(t),x=(b=b==h?p:b)==p,E=(w=w==h?p:w)==p,C=b==w;if(C&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(C&&!x)return v||(v=new r),y||u(e)?i(e,t,n,g,m,v):s(e,t,b,n,g,m,v);if(!(1&n)){var S=x&&f.call(e,"__wrapped__"),k=E&&f.call(t,"__wrapped__");if(S||k){var T=S?e.value():e,A=k?t.value():t;return v||(v=new r),m(T,A,n,g,v)}}return!!C&&(v||(v=new r),o(e,t,n,g,m,v))}},eIep:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,s)=>Object(i.a)(e(n,s)).pipe(Object(r.a)((e,r)=>t(n,e,s,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new l(e,this.project))}}class l extends s.b{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new s.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(s.c)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},ebwN:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Map");e.exports=r},ekgI:function(e,t,n){var r=n("YESw"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},epwv:function(e,t,n){"use strict";var r=n("b5wT"),i=n("ptHe"),s=n("Re5C"),o=n("C4tZ"),a=n("tQ6r").normalizeRanks,l=n("8c2E"),c=n("tQ6r").removeEmptyRanks,u=n("JRpN"),h=n("Ig6t"),d=n("qGSU"),p=n("Kp9H"),f=n("IyW0"),g=n("tQ6r"),m=n("F9We").Graph;e.exports=function(e,t){var n=t&&t.debugTiming?g.time:g.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return function(e){var t=new m({multigraph:!0,compound:!0}),n=k(e.graph());return t.setGraph(r.merge({},y,S(n,v),r.pick(n,_))),r.forEach(e.nodes(),function(n){var i=k(e.node(n));t.setNode(n,r.defaults(S(i,b),w)),t.setParent(n,e.parent(n))}),r.forEach(e.edges(),function(n){var i=k(e.edge(n));t.setEdge(n,r.merge({},E,S(i,x),r.pick(i,C)))}),t}(e)});n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(e){r.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)}),t("    acyclic",function(){i.run(e)}),t("    nestingGraph.run",function(){u.run(e)}),t("    rank",function(){o(g.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};g.addDummyNode(e,"edge-proxy",i,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){c(e)}),t("    nestingGraph.cleanup",function(){u.cleanup(e)}),t("    normalizeRanks",function(){a(e)}),t("    assignRankMinMax",function(){!function(e){var t=0;r.forEach(e.nodes(),function(n){var i=e.node(n);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,t=r.max(t,i.maxRank))}),e.graph().maxRank=t}(e)}),t("    removeEdgeLabelProxies",function(){!function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)}),t("    normalize.run",function(){s.run(e)}),t("    parentDummyChains",function(){l(e)}),t("    addBorderSegments",function(){h(e)}),t("    order",function(){p(e)}),t("    insertSelfEdges",function(){!function(e){var t=g.buildLayerMatrix(e);r.forEach(t,function(t){var n=0;r.forEach(t,function(t,i){var s=e.node(t);s.order=i+n,r.forEach(s.selfEdges,function(t){g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:s.rank,order:i+ ++n,e:t.e,label:t.label},"_se")}),delete s.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){d.adjust(e)}),t("    position",function(){f(e)}),t("    positionSelfEdges",function(){!function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,s=r.y,o=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}(e)}),t("    removeBorderNodes",function(){!function(e){r.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),i=e.node(n.borderTop),s=e.node(n.borderBottom),o=e.node(r.last(n.borderLeft)),a=e.node(r.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(s.y-i.y),n.x=o.x+n.width/2,n.y=i.y+n.height/2}}),r.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)}),t("    normalize.undo",function(){s.undo(e)}),t("    fixupEdgeLabelCoords",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){d.undo(e)}),t("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,s=0,o=e.graph(),a=o.marginx||0,l=o.marginy||0;function c(e){var r=e.x,o=e.y,a=e.width,l=e.height;t=Math.min(t,r-a/2),n=Math.max(n,r+a/2),i=Math.min(i,o-l/2),s=Math.max(s,o+l/2)}r.forEach(e.nodes(),function(t){c(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.has(n,"x")&&c(n)}),t-=a,i-=l,r.forEach(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=i}),r.forEach(e.edges(),function(n){var s=e.edge(n);r.forEach(s.points,function(e){e.x-=t,e.y-=i}),r.has(s,"x")&&(s.x-=t),r.has(s,"y")&&(s.y-=i)}),o.width=n-t+a,o.height=s-i+l}(e)}),t("    assignNodeIntersects",function(){!function(e){r.forEach(e.edges(),function(t){var n,r,i=e.edge(t),s=e.node(t.v),o=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=o,r=s),i.points.unshift(g.intersectRect(s,n)),i.points.push(g.intersectRect(o,r))})}(e)}),t("    reversePoints",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)}),t("    acyclic.undo",function(){i.undo(e)})}(t,n)}),n("  updateInputGraph",function(){!function(e,t){r.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),r.forEach(e.edges(),function(n){var i=e.edge(n),s=t.edge(n);i.points=s.points,r.has(s,"x")&&(i.x=s.x,i.y=s.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)})})};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],b=["width","height"],w={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function S(e,t){return r.mapValues(r.pick(e,t),Number)}function k(e){var t={};return r.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},fGT3:function(e,t,n){var r=n("4kuk"),i=n("Xi7e"),s=n("ebwN");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},"fR/l":function(e,t,n){var r=n("CH3K"),i=n("Z0cm");e.exports=function(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}},fXoL:function(e,t,n){"use strict";n.d(t,"a",function(){return Mn}),n.d(t,"b",function(){return fv}),n.d(t,"c",function(){return cv}),n.d(t,"d",function(){return av}),n.d(t,"e",function(){return lv}),n.d(t,"f",function(){return Ly}),n.d(t,"g",function(){return sy}),n.d(t,"h",function(){return Nn}),n.d(t,"i",function(){return Ov}),n.d(t,"j",function(){return B}),n.d(t,"k",function(){return cp}),n.d(t,"l",function(){return Dv}),n.d(t,"m",function(){return Iv}),n.d(t,"n",function(){return Km}),n.d(t,"o",function(){return Ad}),n.d(t,"p",function(){return Id}),n.d(t,"q",function(){return Td}),n.d(t,"r",function(){return Fn}),n.d(t,"s",function(){return Ln}),n.d(t,"t",function(){return yv}),n.d(t,"u",function(){return Ym}),n.d(t,"v",function(){return Fd}),n.d(t,"w",function(){return fy}),n.d(t,"x",function(){return es}),n.d(t,"y",function(){return rm}),n.d(t,"z",function(){return Sr}),n.d(t,"A",function(){return ev}),n.d(t,"B",function(){return tv}),n.d(t,"C",function(){return ma}),n.d(t,"D",function(){return wr}),n.d(t,"E",function(){return M}),n.d(t,"F",function(){return Rl}),n.d(t,"G",function(){return Pn}),n.d(t,"H",function(){return Ia}),n.d(t,"I",function(){return Qm}),n.d(t,"J",function(){return np}),n.d(t,"K",function(){return ip}),n.d(t,"L",function(){return vv}),n.d(t,"M",function(){return wv}),n.d(t,"N",function(){return sv}),n.d(t,"O",function(){return bp}),n.d(t,"P",function(){return ly}),n.d(t,"Q",function(){return _p}),n.d(t,"R",function(){return ey}),n.d(t,"S",function(){return Mv}),n.d(t,"T",function(){return xr}),n.d(t,"U",function(){return Jm}),n.d(t,"V",function(){return gv}),n.d(t,"W",function(){return pv}),n.d(t,"X",function(){return dv}),n.d(t,"Y",function(){return Zm}),n.d(t,"Z",function(){return sm}),n.d(t,"ab",function(){return Vd}),n.d(t,"bb",function(){return Bd}),n.d(t,"cb",function(){return ps}),n.d(t,"db",function(){return Ud}),n.d(t,"eb",function(){return Ni}),n.d(t,"fb",function(){return Er}),n.d(t,"gb",function(){return Cr}),n.d(t,"hb",function(){return hy}),n.d(t,"ib",function(){return _v}),n.d(t,"jb",function(){return bv}),n.d(t,"kb",function(){return gp}),n.d(t,"lb",function(){return zv}),n.d(t,"mb",function(){return Hn}),n.d(t,"nb",function(){return Hd}),n.d(t,"ob",function(){return Bn}),n.d(t,"pb",function(){return jn}),n.d(t,"qb",function(){return xp}),n.d(t,"rb",function(){return z}),n.d(t,"sb",function(){return ty}),n.d(t,"tb",function(){return Yv}),n.d(t,"ub",function(){return p}),n.d(t,"vb",function(){return mr}),n.d(t,"wb",function(){return Xv}),n.d(t,"xb",function(){return My}),n.d(t,"yb",function(){return Hv}),n.d(t,"zb",function(){return Nd}),n.d(t,"Ab",function(){return mv}),n.d(t,"Bb",function(){return X}),n.d(t,"Cb",function(){return xf}),n.d(t,"Db",function(){return ya}),n.d(t,"Eb",function(){return lh}),n.d(t,"Fb",function(){return ir}),n.d(t,"Gb",function(){return m}),n.d(t,"Hb",function(){return Oi}),n.d(t,"Ib",function(){return li}),n.d(t,"Jb",function(){return Kr}),n.d(t,"Kb",function(){return Fy}),n.d(t,"Lb",function(){return Qr}),n.d(t,"Mb",function(){return ni}),n.d(t,"Nb",function(){return ei}),n.d(t,"Ob",function(){return Jr}),n.d(t,"Pb",function(){return ti}),n.d(t,"Qb",function(){return Lf}),n.d(t,"Rb",function(){return cb}),n.d(t,"Sb",function(){return qp}),n.d(t,"Tb",function(){return rg}),n.d(t,"Ub",function(){return jy}),n.d(t,"Vb",function(){return ih}),n.d(t,"Wb",function(){return Ny}),n.d(t,"Xb",function(){return sh}),n.d(t,"Yb",function(){return oh}),n.d(t,"Zb",function(){return Zr}),n.d(t,"ac",function(){return G}),n.d(t,"bc",function(){return bf}),n.d(t,"cc",function(){return _f}),n.d(t,"dc",function(){return nl}),n.d(t,"ec",function(){return _c}),n.d(t,"fc",function(){return vc}),n.d(t,"gc",function(){return yc}),n.d(t,"hc",function(){return Af}),n.d(t,"ic",function(){return Tf}),n.d(t,"jc",function(){return Xy}),n.d(t,"kc",function(){return Wf}),n.d(t,"lc",function(){return Zy}),n.d(t,"mc",function(){return ig}),n.d(t,"nc",function(){return Qy}),n.d(t,"oc",function(){return Ky}),n.d(t,"pc",function(){return sg}),n.d(t,"qc",function(){return Hy}),n.d(t,"rc",function(){return rh}),n.d(t,"sc",function(){return Tg}),n.d(t,"tc",function(){return Sg}),n.d(t,"uc",function(){return Fe}),n.d(t,"vc",function(){return u}),n.d(t,"wc",function(){return e_}),n.d(t,"xc",function(){return Up}),n.d(t,"yc",function(){return Yr}),n.d(t,"zc",function(){return r_}),n.d(t,"Ac",function(){return $a}),n.d(t,"Bc",function(){return Te}),n.d(t,"Cc",function(){return kd}),n.d(t,"Dc",function(){return uo}),n.d(t,"Ec",function(){return ul}),n.d(t,"Fc",function(){return Qc}),n.d(t,"Gc",function(){return vm}),n.d(t,"Hc",function(){return re}),n.d(t,"Ic",function(){return he}),n.d(t,"Jc",function(){return S}),n.d(t,"Kc",function(){return k}),n.d(t,"Lc",function(){return le}),n.d(t,"Mc",function(){return de}),n.d(t,"Nc",function(){return sc}),n.d(t,"Oc",function(){return dc}),n.d(t,"Pc",function(){return gc}),n.d(t,"Qc",function(){return fc}),n.d(t,"Rc",function(){return pc}),n.d(t,"Sc",function(){return hc}),n.d(t,"Tc",function(){return uc}),n.d(t,"Uc",function(){return mc}),n.d(t,"Vc",function(){return xn}),n.d(t,"Wc",function(){return Qu}),n.d(t,"Xc",function(){return fr}),n.d(t,"Yc",function(){return Cn}),n.d(t,"Zc",function(){return bc}),n.d(t,"ad",function(){return ym}),n.d(t,"bd",function(){return Sc}),n.d(t,"cd",function(){return Ac}),n.d(t,"dd",function(){return Tc}),n.d(t,"ed",function(){return ac}),n.d(t,"fd",function(){return Ng}),n.d(t,"gd",function(){return gm}),n.d(t,"hd",function(){return Ol}),n.d(t,"id",function(){return st}),n.d(t,"jd",function(){return Ri}),n.d(t,"kd",function(){return ce}),n.d(t,"ld",function(){return Zc}),n.d(t,"md",function(){return wc}),n.d(t,"nd",function(){return Ju}),n.d(t,"od",function(){return Dl}),n.d(t,"pd",function(){return fu}),n.d(t,"qd",function(){return gu}),n.d(t,"rd",function(){return mu}),n.d(t,"sd",function(){return mm});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=l({__forward_ref__:l});function p(e){return e.__forward_ref__=p,e.toString=function(){return u(this())},e}function f(e){return g(e)?e():e}function g(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class m extends Error{constructor(e,t){super(v(e,t)),this.code=e}}new Set(["100","200","201","300","301","302"]);function v(e,t){let n=`${e?`NG0${e}: `:""}${t}`;return n}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function _(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function b(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new m("200",`Circular dependency in DI detected for ${e}${n}`)}function w(e,t){const n=t?` in ${t}`:"";throw new m("201",`No provider for ${_(e)} found${n}`)}function x(e,t,n){e!=t&&C(n,e,t,"==")}function E(e,t){null==e&&C(t,e,null,"!=")}function C(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function k(e){return{providers:e.providers||[],imports:e.imports||[]}}function T(e){return A(e,O)||A(e,N)}function A(e,t){return e.hasOwnProperty(t)?e[t]:null}function D(e){return e&&(e.hasOwnProperty(I)||e.hasOwnProperty(P))?e[I]:null}const O=l({"\u0275prov":l}),I=l({"\u0275inj":l}),N=l({ngInjectableDef:l}),P=l({ngInjectorDef:l});var M;let R;function L(e){const t=R;return R=e,t}function F(e,t,n){const r=T(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&M.Optional?null:void 0!==t?t:void w(u(e),"Injector")}function j(e){return{toString:e}.toString()}var B,V,z;!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(M||(M={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(B||(B={})),function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(V||(V={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(z||(z={}));const U="undefined"!=typeof globalThis&&globalThis,H="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,G=U||q||H||$;const W={},X=[];const Y=l({"\u0275cmp":l}),K=l({"\u0275dir":l}),Z=l({"\u0275pipe":l}),Q=l({"\u0275mod":l}),J=l({"\u0275loc":l}),ee=l({"\u0275fac":l}),te=l({__NG_ELEMENT_ID__:l});let ne=0;function re(e){return j(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===B.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||X,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||z.Emulated,id:"c",styles:e.styles||X,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=ne++,n.inputs=ue(e.inputs,t),n.outputs=ue(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(se):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(oe):null,n})}function ie(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(se),r.pipeDefs=()=>n.map(oe)}function se(e){const t=pe(e)||fe(e);return t}function oe(e){const t=ge(e);return t}const ae={};function le(e){const t={type:e.type,bootstrap:e.bootstrap||X,declarations:e.declarations||X,imports:e.imports||X,exports:e.exports||X,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&j(()=>{ae[e.id]=e.type}),t}function ce(e,t){return j(()=>{const n=me(e,!0);n.declarations=t.declarations||X,n.imports=t.imports||X,n.exports=t.exports||X})}function ue(e,t){if(null==e)return W;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const he=re;function de(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function pe(e){return e[Y]||null}function fe(e){return e[K]||null}function ge(e){return e[Z]||null}function me(e,t){const n=e[Q]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}const ve=20,ye=10;function _e(e){return Array.isArray(e)&&"object"==typeof e[1]}function be(e){return Array.isArray(e)&&!0===e[1]}function we(e){return 0!=(8&e.flags)}function xe(e){return 2==(2&e.flags)}function Ee(e){return 1==(1&e.flags)}function Ce(e){return null!==e.template}function Se(e,t){const n=e.hasOwnProperty(ee);return n?e[ee]:null}class ke{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Te(){return Ae}function Ae(e){return e.type.prototype.ngOnChanges&&(e.setInput=Oe),De}function De(){const e=Ie(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===W)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Oe(e,t,n,r){const i=Ie(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:W,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new ke(l&&l.currentValue,t,o===W),e[r]=t}Te.ngInherit=!0;function Ie(e){return e.__ngSimpleChanges__||null}let Ne=null;const Pe=function(e,t,n){null!=Ne&&Ne(e,t,n)},Me="http://www.w3.org/2000/svg",Re="http://www.w3.org/1998/MathML/";let Le;function Fe(e){Le=e}function je(){return void 0!==Le?Le:"undefined"!=typeof document?document:void 0}var Be;function Ve(e){return!!e.listen}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(Be||(Be={}));const ze={createRenderer:(e,t)=>je()};function Ue(e){for(;Array.isArray(e);)e=e[0];return e}function He(e,t){return Ue(t[e])}function $e(e,t){const n=Ue(t[e.index]);return n}function qe(e,t){const n=e.data[t];return n}function Ge(e,t){return e[t]}function We(e,t){const n=t[e];return _e(n)?n:n[0]}function Xe(e){return 4==(4&e[2])}function Ye(e){return 128==(128&e[2])}function Ke(e,t){return null==t?null:e[t]}function Ze(e){e[18]=0}function Qe(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Je={lFrame:Dt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function et(){return Je.bindingsEnabled}function tt(){Je.bindingsEnabled=!0}function nt(){Je.bindingsEnabled=!1}function rt(){return Je.lFrame.lView}function it(){return Je.lFrame.tView}function st(e){return Je.lFrame.contextLView=e,e[8]}function ot(){let e=at();for(;null!==e&&64===e.type;)e=e.parent;return e}function at(){return Je.lFrame.currentTNode}function lt(){const e=Je.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ct(e,t){const n=Je.lFrame;n.currentTNode=e,n.isParent=t}function ut(){return Je.lFrame.isParent}function ht(){Je.lFrame.isParent=!1}function dt(){return Je.isInCheckNoChangesMode}function pt(e){Je.isInCheckNoChangesMode=e}function ft(){const e=Je.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function gt(){return Je.lFrame.bindingIndex}function mt(e){return Je.lFrame.bindingIndex=e}function vt(){return Je.lFrame.bindingIndex++}function yt(e){const t=Je.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function _t(e){Je.lFrame.inI18n=e}function bt(e,t){const n=Je.lFrame;n.bindingIndex=n.bindingRootIndex=e,wt(t)}function wt(e){Je.lFrame.currentDirectiveIndex=e}function xt(e){const t=Je.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Et(){return Je.lFrame.currentQueryIndex}function Ct(e){Je.lFrame.currentQueryIndex=e}function St(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function kt(e,t,n){if(n&M.SkipSelf){let r=t,i=e;for(;!(r=r.parent,null!==r||n&M.Host||(r=St(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Je.lFrame=At();return r.currentTNode=t,r.lView=e,!0}function Tt(e){const t=At();const n=e[1];Je.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function At(){const e=Je.lFrame,t=null===e?null:e.child;return null===t?Dt(e):t}function Dt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ot(){const e=Je.lFrame;return Je.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const It=Ot;function Nt(){const e=Ot();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Pt(e){return(Je.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Je.lFrame.contextLView))[8]}function Mt(){return Je.lFrame.selectedIndex}function Rt(e){Je.lFrame.selectedIndex=e}function Lt(){const e=Je.lFrame;return qe(e.tView,e.selectedIndex)}function Ft(){Je.lFrame.currentNamespace=Me}function jt(){Je.lFrame.currentNamespace=Re}function Bt(){Je.lFrame.currentNamespace=null}function Vt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n],r=t.type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:s,ngAfterViewInit:o,ngAfterViewChecked:a,ngOnDestroy:l}=r;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),a&&((e.viewHooks||(e.viewHooks=[])).push(n,a),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,a)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function zt(e,t,n){$t(e,t,3,n)}function Ut(e,t,n,r){(3&e[2])===n&&$t(e,t,n,r)}function Ht(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function $t(e,t,n,r){const i=void 0!==r?65535&e[18]:0,s=null!=r?r:-1,o=t.length-1;let a=0;for(let l=i;l<o;l++){if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else{t[l]<0&&(e[18]+=65536),(a<s||-1==s)&&(qt(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}}}function qt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048,Pe(4,o,s);try{s.call(o)}finally{Pe(5,o,s)}}}else{Pe(4,o,s);try{s.call(o)}finally{Pe(5,o,s)}}}const Gt=-1;class Wt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Xt(e,t,n){const r=Ve(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Kt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Yt(e){return 3===e||4===e||6===e}function Kt(e){return 64===e.charCodeAt(0)}function Zt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Qt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Qt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Jt(e){return e!==Gt}function en(e){return 32767&e}function tn(e,t){let n=e>>16;let r=t;for(;n>0;)r=r[15],n--;return r}let nn=!0;function rn(e){const t=nn;return nn=e,t}let sn=0;function on(e,t){const n=ln(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,an(r.data,e),an(t,null),an(r.blueprint,null));const i=cn(e,t),s=e.injectorIndex;if(Jt(i)){const e=en(i),n=tn(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function an(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ln(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function cn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Gt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Gt}function un(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(te)&&(r=n[te]),null==r&&(r=n[te]=sn++);const i=255&r,s=1<<i;t.data[e+(i>>5)]|=s}(e,t,n)}function hn(e,t,n){if(n&M.Optional)return e;w(t,"NodeInjector")}function dn(e,t,n,r){if(n&M.Optional&&void 0===r&&(r=null),0==(n&(M.Self|M.Host))){const i=e[9],s=L(void 0);try{return i?i.get(t,r,n&M.Optional):F(t,r,n&M.Optional)}finally{L(s)}}return hn(r,t,n)}function pn(e,t,n,r=M.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(te)?e[te]:void 0;return"number"==typeof t?t>=0?255&t:gn:t}(n);if("function"==typeof s){if(!kt(t,e,r))return r&M.Host?hn(i,n,r):dn(t,n,r,i);try{const e=s(r);if(null!=e||r&M.Optional)return e;w(n)}finally{It()}}else if("number"==typeof s){let i=null,o=ln(e,t),a=Gt,l=r&M.Host?t[16][6]:null;for((-1===o||r&M.SkipSelf)&&(a=-1===o?cn(e,t):t[o+8],a!==Gt&&bn(r,!1)?(i=t[1],o=en(a),t=tn(a,t)):o=-1);-1!==o;){const e=t[1];if(_n(s,o,e.data)){const e=mn(o,t,n,i,r,l);if(e!==fn)return e}a=t[o+8],a!==Gt&&bn(r,t[1].data[o+8]===l)&&_n(s,o,t)?(i=e,o=en(a),t=tn(a,t)):o=-1}}}return dn(t,n,r,i)}const fn={};function gn(){return new wn(ot(),rt())}function mn(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=vn(a,o,n,null==r?xe(a)&&nn:r!=o&&0!=(3&a.type),i&M.Host&&s===a);return null!==l?yn(t,o,l,a):fn}function vn(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=e.directiveEnd,u=s>>20,h=i?a+u:c;for(let d=r?a:a+u;d<h;d++){const e=o[d];if(d<l&&n===e||d>=l&&e.type===n)return d}if(i){const e=o[l];if(e&&Ce(e)&&e.type===n)return l}return null}function yn(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof Wt){const o=i;o.resolving&&b(_(s[n]));const a=rn(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?L(o.injectImpl):null;kt(e,r,M.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=Ae(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&L(l),rn(a),o.resolving=!1,It()}}return i}function _n(e,t,n){const r=1<<e;return!!(n[t+(e>>5)]&r)}function bn(e,t){return!(e&M.Self||e&M.Host&&t)}class wn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return pn(this._tNode,this._lView,e,void 0,t)}}function xn(e){return j(()=>{const t=e.prototype.constructor,n=t[ee]||En(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[ee]||En(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function En(e){return g(e)?()=>{const t=En(f(e));return t&&t()}:Se(e)}function Cn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Yt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(ot(),e)}const Sn="__annotations__",kn="__parameters__",Tn="__prop__metadata__";function An(e,t,n,r,i){return j(()=>{const s=Dn(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){i&&i(n,...e);return(n.hasOwnProperty(Sn)?n[Sn]:Object.defineProperty(n,Sn,{value:[]})[Sn]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Dn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function On(e,t,n){return j(()=>{const r=Dn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(kn)?e[kn]:Object.defineProperty(e,kn,{value:[]})[kn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function In(e,t,n,r){return j(()=>{const i=Dn(t);function s(...e){if(this instanceof s)return i.apply(this,e),this;const t=new s(...e);return function(n,i){const s=n.constructor,o=s.hasOwnProperty(Tn)?s[Tn]:Object.defineProperty(s,Tn,{value:{}})[Tn];o[i]=o.hasOwnProperty(i)&&o[i]||[],o[i].unshift(t),r&&r(n,i,...e)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}const Nn=function(){return On("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Cn(e)}))}();class Pn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Mn=new Pn("AnalyzeForEntryComponents");class Rn{}const Ln=In("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:true},t),Rn),Fn=In("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Rn),jn=In("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:true},t),Rn),Bn=In("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Rn);var Vn,zn;function Un(){const e=G.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}!function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(Vn||(Vn={})),function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(zn||(zn={}));const Hn=Function;function $n(e){return"function"==typeof e}function qn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),qn(r,t)):t!==e&&t.push(r)}return t}function Gn(e,t){e.forEach(e=>Array.isArray(e)?Gn(e,t):t(e))}function Wn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Xn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Yn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Kn(e,t,n){let r=Qn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){const t=i-2;e[i]=e[t],i--}e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Zn(e,t){const n=Qn(e,t);if(n>=0)return e[1|n]}function Qn(e,t){return Jn(e,t,1)}function Jn(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}const er=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,tr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,nr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,rr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class ir{constructor(e){this._reflect=e||G.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Yn(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]&&e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(function(e){return er.test(e)||rr.test(e)||tr.test(e)&&!nr.test(e)}(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const n=e.ctorParameters;if(n&&n!==t.ctorParameters){const e="function"==typeof n?n():n,t=e.map(e=>e&&e.type),r=e.map(e=>e&&sr(e.decorators));return this._zipTypesAndAnnotations(t,r)}const r=e.hasOwnProperty(kn)&&e[kn],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):Yn(e.length)}parameters(e){if(!$n(e))return[];const t=or(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?sr(e.decorators):e.hasOwnProperty(Sn)?e[Sn]:null}annotations(e){if(!$n(e))return[];const t=or(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=sr(t[e])}),n}return e.hasOwnProperty(Tn)?e[Tn]:null}propMetadata(e){if(!$n(e))return{};const t=or(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return $n(e)&&this._ownPropMetadata(e,or(e))||{}}hasLifecycleHook(e,t){return e instanceof Hn&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${u(e)}`}resourceUri(e){return`./${u(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function sr(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function or(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const ar={},lr=/\n/gm,cr="__source",ur=l({provide:String,useValue:l});let hr;function dr(e){const t=hr;return hr=e,t}function pr(e,t=M.Default){if(void 0===hr)throw new Error("inject() must be called from an injection context");return null===hr?F(e,void 0,t):hr.get(e,t&M.Optional?null:void 0,t)}function fr(e,t=M.Default){return(R||pr)(f(e),t)}function gr(e){throw new Error("invalid")}const mr=fr;function vr(e){const t=[];for(let n=0;n<e.length;n++){const r=f(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=M.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(fr(e,n))}else t.push(fr(r))}return t}function yr(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}function _r(e,t,n,r){const i=e.ngTempTokenPath;throw t[cr]&&i.unshift(t[cr]),e.message=br("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}function br(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(lr,"\n  ")}`}const wr=yr(On("Inject",e=>({token:e})),-1),xr=yr(On("Optional"),8),Er=yr(On("Self"),2),Cr=yr(On("SkipSelf"),4),Sr=yr(On("Host"),1);let kr=null;function Tr(){return kr=kr||new ir}function Ar(e){return Dr(Tr().parameters(e))}function Dr(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof xr||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof Cr||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof Er||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof Sr||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof wr)t.token=r.token;else if(r instanceof Nn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else void 0===e||Array.isArray(e)&&0===e.length?t.token=null:t.token=e;return t}(e))}function Or(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const i=e(t);n.set(t,r=i.then(Mr))}return r}return Ir.forEach((e,n)=>{const i=[];e.templateUrl&&i.push(r(e.templateUrl).then(t=>{e.template=t}));const s=e.styleUrls,o=e.styles||(e.styles=[]),a=e.styles.length;s&&s.forEach((t,n)=>{o.push(""),i.push(r(t).then(r=>{o[a+n]=r,s.splice(s.indexOf(t),1),0==s.length&&(e.styleUrls=void 0)}))});const l=Promise.all(i).then(()=>function(e){Nr.delete(e)}(n));t.push(l)}),function(){const e=Ir;Ir=new Map}(),Promise.all(t).then(()=>{})}let Ir=new Map;const Nr=new Set;function Pr(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Mr(e){return"string"==typeof e?e:e.text()}let Rr,Lr;function Fr(){if(void 0===Rr&&(Rr=null,G.trustedTypes))try{Rr=G.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Rr}function jr(e){var t;return(null===(t=Fr())||void 0===t?void 0:t.createHTML(e))||e}function Br(){if(void 0===Lr&&(Lr=null,G.trustedTypes))try{Lr=G.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Lr}function Vr(e){var t;return(null===(t=Br())||void 0===t?void 0:t.createHTML(e))||e}function zr(e){var t;return(null===(t=Br())||void 0===t?void 0:t.createScript(e))||e}function Ur(e){var t;return(null===(t=Br())||void 0===t?void 0:t.createScriptURL(e))||e}class Hr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $r extends Hr{getTypeName(){return"HTML"}}class qr extends Hr{getTypeName(){return"Style"}}class Gr extends Hr{getTypeName(){return"Script"}}class Wr extends Hr{getTypeName(){return"URL"}}class Xr extends Hr{getTypeName(){return"ResourceURL"}}function Yr(e){return e instanceof Hr?e.changingThisBreaksApplicationSecurity:e}function Kr(e,t){const n=Zr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Zr(e){return e instanceof Hr&&e.getTypeName()||null}function Qr(e){return new $r(e)}function Jr(e){return new qr(e)}function ei(e){return new Gr(e)}function ti(e){return new Wr(e)}function ni(e){return new Xr(e)}function ri(e){const t=new si(e);return function(){try{return!!(new window.DOMParser).parseFromString(jr(""),"text/html")}catch(e){return!1}}()?new ii(t):t}class ii{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(jr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class si{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=jr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=jr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const oi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ai=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function li(e){return(e=String(e)).match(oi)||e.match(ai)?e:"unsafe:"+e}function ci(e){return(e=String(e)).split(",").map(e=>li(e.trim())).join(", ")}function ui(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function hi(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const di=ui("area,br,col,hr,img,wbr"),pi=ui("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fi=ui("rp,rt"),gi=hi(fi,pi),mi=hi(pi,ui("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vi=hi(fi,ui("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yi=hi(di,mi,vi,gi),_i=ui("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bi=ui("srcset"),wi=ui("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xi=ui("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Ei=hi(_i,bi,wi,xi),Ci=ui("script,style,template");class Si{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!yi.hasOwnProperty(t))return this.sanitizedSomething=!0,!Ci.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Ei.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;_i[i]&&(s=li(s)),bi[i]&&(s=ci(s)),this.buf.push(" ",t,'="',Ai(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();yi.hasOwnProperty(t)&&!di.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ai(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ki=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ti=/([^\#-~ |!])/g;function Ai(e){return e.replace(/&/g,"&amp;").replace(ki,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ti,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Di;function Oi(e,t){let n=null;try{Di=Di||ri(e);let r=t?String(t):"";n=Di.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Di.getInertBodyElement(r)}while(r!==s);const o=new Si;return jr(o.sanitizeChildren(Ii(n)||n))}finally{if(n){const e=Ii(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ii(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ni;function Pi(e){const t=zi();return t?Vr(t.sanitize(Ni.HTML,e)||""):Kr(e,"HTML")?Vr(Yr(e)):Oi(je(),y(e))}function Mi(e){const t=zi();return t?t.sanitize(Ni.STYLE,e)||"":Kr(e,"Style")?Yr(e):y(e)}function Ri(e){const t=zi();return t?t.sanitize(Ni.URL,e)||"":Kr(e,"URL")?Yr(e):li(y(e))}function Li(e){const t=zi();if(t)return Ur(t.sanitize(Ni.RESOURCE_URL,e)||"");if(Kr(e,"ResourceURL"))return Ur(Yr(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Fi(e){const t=zi();if(t)return zr(t.sanitize(Ni.SCRIPT,e)||"");if(Kr(e,"Script"))return zr(Yr(e));throw new Error("unsafe value used in a script context")}function ji(e){return jr(e[0])}function Bi(e){return function(e){var t;return(null===(t=Fr())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function Vi(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Li:Ri}(t,n)(e)}function zi(){const e=rt();return e&&e[12]}function Ui(e){let t=qi(e);if(t){if(Array.isArray(t)){const n=t;let r,i,s;if(function(e){return e&&e.constructor&&e.constructor.\u0275cmp}(e)){if(r=Yi(n,e),-1==r)throw new Error("The provided component was not found in the application");i=e}else if(function(e){return e&&e.constructor&&e.constructor.\u0275dir}(e)){if(r=function(e,t){let n=e[1].firstChild;for(;n;){const r=n.directiveStart,i=n.directiveEnd;for(let s=r;s<i;s++)if(e[s]===t)return n.index;n=Xi(n)}return-1}(n,e),-1==r)throw new Error("The provided directive was not found in the application");s=Ki(r,n,!1)}else if(r=Wi(n,e),-1==r)return null;const o=Ue(n[r]),a=qi(o),l=a&&!Array.isArray(a)?a:Hi(n,r,o);if(i&&void 0===l.component&&(l.component=i,$i(l.component,l)),s&&void 0===l.directives){l.directives=s;for(let e=0;e<s.length;e++)$i(s[e],l)}$i(l.native,l),t=l}}else{const n=e;let r=n;for(;r=r.parentNode;){const e=qi(r);if(e){let r;if(r=Array.isArray(e)?e:e.lView,!r)return null;const i=Wi(r,n);if(i>=0){const e=Ue(r[i]),n=Hi(r,i,e);$i(e,n),t=n;break}}}}return t||null}function Hi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(Ni||(Ni={}));function $i(e,t){e.__ngContext__=t}function qi(e){return e.__ngContext__||null}function Gi(e){const t=qi(e);return t?Array.isArray(t)?t:t.lView:null}function Wi(e,t){const n=e[1];for(let r=ve;r<n.bindingStartIndex;r++)if(Ue(e[r])===t)return r;return-1}function Xi(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Yi(e,t){const n=e[1].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(We(i,e)[8]===t)return i}else{if(We(ve,e)[8]===t)return ve}return-1}function Ki(e,t,n){const r=t[1].data[e];let i=r.directiveStart;if(0==i)return X;const s=r.directiveEnd;return!n&&2&r.flags&&i++,t.slice(i,s)}function Zi(e){return e.ngDebugContext}function Qi(e){return e.ngOriginalError}function Ji(e,...t){e.error(...t)}class es{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Ji}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Zi(e)?Zi(e):this._findContext(Qi(e)):null}_findOriginalError(e){let t=Qi(e);for(;t&&Qi(t);)t=Qi(t);return t}}const ts=/^>|^->|<!--|-->|--!>|<!-$/g,ns=/(<|>)/;function rs(e){return e.replace(ts,e=>e.replace(ns,"\u200b$1\u200b"))}function is(e){var t;return t=e.replace(/[$@]/g,"_"),`ng-reflect-${e=t.replace(ss,(...e)=>"-"+e[1].toLowerCase())}`}const ss=/([A-Z])/g;function os(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}const as=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G);function ls(e){return e.ownerDocument.defaultView}function cs(e){return e.ownerDocument}function us(e){return e.ownerDocument.body}const hs="\ufffd";function ds(e){return e instanceof Function?e():e}var ps;let fs;function gs(e,t){return fs(e,t)}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(ps||(ps={}));function ms(e){const t=e[3];return be(t)?t[3]:t}function vs(e){return _s(e[13])}function ys(e){return _s(e[4])}function _s(e){for(;null!==e&&!be(e);)e=e[4];return e}function bs(e,t,n,r,i){if(null!=r){let s,o=!1;be(r)?s=r:_e(r)&&(o=!0,r=r[0]);const a=Ue(r);0===e&&null!==n?null==i?Ps(t,n,a):Ns(t,n,a,i||null,!0):1===e&&null!==n?Ns(t,n,a,i||null,!0):2===e?qs(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7],o=Ue(n);s!==o&&bs(t,e,r,s,i);for(let a=ye;a<n.length;a++){const i=n[a];Ws(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function ws(e,t){return Ve(e)?e.createText(t):e.createTextNode(t)}function xs(e,t,n){Ve(e)?e.setValue(t,n):t.textContent=n}function Es(e,t){return e.createComment(rs(t))}function Cs(e,t,n){return Ve(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ss(e,t,n,r){const i=ye+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-ye?(t[4]=n[i],Wn(n,ye+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9],r=t[3];const i=r[3][16];const s=t[16];s!==i&&(e[2]=!0);null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}function ks(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Qe(i,-1)),n.splice(r,1)}function Ts(e,t){if(e.length<=ye)return;const n=ye+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&ks(s,r),t>0&&(e[n-1][4]=r[4]);const o=Xn(e,ye+t);Ws(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function As(e,t){if(!(256&t[2])){const n=t[11];Ve(n)&&n.destroyNode&&Ws(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ds(e[1],e);for(;t;){let n=null;if(_e(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)_e(t)&&Ds(t[1],t),t=t[3];null===t&&(t=e),_e(t)&&Ds(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ds(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Wt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];Pe(4,r,i);try{i.call(r)}finally{Pe(5,r,i)}}else{Pe(4,e,t);try{t.call(e)}finally{Pe(5,e,t)}}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Ue(t[e]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++){const t=r[e];t()}t[7]=null}}(e,t),1===t[1].type&&Ve(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&be(t[3])){n!==t[3]&&ks(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Os(e,t,n){return Is(e,t.parent,n)}function Is(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===z.None||t===z.Emulated)return null}return $e(r,n)}function Ns(e,t,n,r,i){Ve(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Ps(e,t,n){Ve(e)?e.appendChild(t,n):t.appendChild(n)}function Ms(e,t,n,r,i){null!==r?Ns(e,t,n,r,i):Ps(e,t,n)}function Rs(e,t){return Ve(e)?e.parentNode(t):t.parentNode}function Ls(e,t,n){return Bs(e,t,n)}function Fs(e,t,n){return 40&e.type?$e(e,n):null}let js,Bs=Fs;function Vs(e,t){Bs=e,js=t}function zs(e,t,n,r){const i=Os(e,r,t),s=t[11],o=Ls(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Ms(s,i,n[a],o,!1);else Ms(s,i,n,o,!1);void 0!==js&&js(s,r,t,n,i)}function Us(e,t){if(null!==t){const n=t.type;if(3&n)return $e(t,e);if(4&n)return $s(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Us(e,n);{const n=e[t.index];return be(n)?$s(-1,n):Ue(n)}}if(32&n){return gs(t,e)()||Ue(e[t.index])}{const n=Hs(e,t);if(null!==n){if(Array.isArray(n))return n[0];const t=ms(e[16]);return Us(t,n)}return Us(e,t.next)}}return null}function Hs(e,t){if(null!==t){const n=e[16][6],r=t.projection;return n.projection[r]}return null}function $s(e,t){const n=ye+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Us(e,r)}return t[7]}function qs(e,t,n){const r=Rs(e,t);r&&function(e,t,n,r){Ve(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function Gs(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&$i(Ue(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Gs(e,t,n.child,r,i,s,!1),bs(t,e,i,a,s);else if(32&l){const o=gs(n,r);let l;for(;l=o();)bs(t,e,i,l,s);bs(t,e,i,a,s)}else 16&l?Xs(e,t,r,n,i,s):bs(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Ws(e,t,n,r,i,s){Gs(n,r,e.firstChild,t,i,s,!1)}function Xs(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++){bs(t,e,i,a[l],s)}else{Gs(e,t,a,o[3],i,s,!0)}}function Ys(e,t,n){Ve(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ks(e,t,n){Ve(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Zs(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Qs="ng-template";function Js(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Zs(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function eo(e){return 4===e.type&&e.value!==Qs}function to(e,t,n){return t===(4!==e.type||n?e.value:Qs)}function no(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++){if(Yt(e[t]))return t}return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!to(e,l,n)||""===l&&1===t.length){if(ro(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!Js(e.attrs,c,n)){if(ro(r))return!1;o=!0}continue}const u=io(8&r?"class":l,i,eo(e),n);if(-1===u){if(ro(r))return!1;o=!0;continue}if(""!==c){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Zs(t,c,0)||2&r&&c!==e){if(ro(r))return!1;o=!0}}}}else{if(!o&&!ro(r)&&!ro(l))return!1;if(o&&ro(l))continue;o=!1,r=l|1&r}}return ro(r)||o}function ro(e){return 0==(1&e)}function io(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function so(e,t,n=!1){for(let r=0;r<t.length;r++)if(no(e,t[r],n))return!0;return!1}function oo(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function ao(e,t){return e?":not("+t.trim()+")":t}function lo(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ro(o)||(t+=ao(s,i),i=""),r=o,s=s||!ro(r);n++}return""!==i&&(t+=ao(s,i)),t}const co={};function uo(e){ho(it(),rt(),Mt()+e,dt())}function ho(e,t,n,r){if(!r){if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&zt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Ut(t,r,0,n)}}Rt(n)}function po(e,t){return e<<17|t<<2}function fo(e){return e>>17&32767}function go(e){return 2==(2&e)}function mo(e){return 2|e}function vo(e){return(131068&e)>>2}function yo(e,t){return-131069&e|t<<2}function _o(e){return 1==(1&e)}function bo(e){return 1|e}const wo=Promise.resolve(null);function xo(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];Ct(i),n.contentQueries(2,t[s],s)}}}function Eo(e,t,n,r,i,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Ze(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function Co(e,t,n,r,i){let s=e.data[t];if(null===s)s=So(e,t,n,r,i),Je.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=lt();s.injectorIndex=null===e?-1:e.injectorIndex}return ct(s,!0),s}function So(e,t,n,r,i){const s=at(),o=ut(),a=o?s:s&&s.parent,l=e.data[t]=function(e,t,n,r,i,s){let o=t?t.injectorIndex:-1;const a={type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};0;return a}(0,a,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}function ko(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function To(e,t,n){Tt(t);try{const r=e.viewQuery;null!==r&&aa(1,r,n);const i=e.template;null!==i&&Oo(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&xo(e,t),e.staticViewQueries&&aa(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)ta(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,Nt()}}function Ao(e,t,n,r){const i=t[2];if(256==(256&i))return;Tt(t);const s=dt();try{Ze(t),mt(e.bindingStartIndex),null!==n&&Oo(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&zt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Ut(t,n,0,null),Ht(t,0)}if(function(e){for(let t=vs(e);null!==t;t=ys(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Qe(r,1),n[2]|=1024}}}(t),function(e){for(let t=vs(e);null!==t;t=ys(t))for(let e=ye;e<t.length;e++){const n=t[e],r=n[1];Ye(n)&&Ao(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&xo(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&zt(t,n)}else{const n=e.contentHooks;null!==n&&Ut(t,n,1),Ht(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)Rt(~r);else{const i=r,s=n[++e],o=n[++e];bt(s,i),o(2,t[i])}}}finally{Rt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Jo(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&aa(2,l,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&zt(t,n)}else{const n=e.viewHooks;null!==n&&Ut(t,n,2),Ht(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Qe(t[3],-1))}finally{Nt()}}function Do(e,t,n,r){const i=t[10],s=!dt(),o=Xe(t);try{s&&!o&&i.begin&&i.begin(),o&&To(e,t,r),Ao(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Oo(e,t,n,r,i){const s=Mt(),o=2&r;try{Rt(-1),o&&t.length>ve&&ho(e,t,ve,dt());Pe(o?2:0,i),n(r,i)}finally{Rt(s);Pe(o?3:1,i)}}function Io(e,t,n){if(we(t)){const r=t.directiveStart,i=t.directiveEnd;for(let t=r;t<i;t++){const r=e.data[t];r.contentQueries&&r.contentQueries(1,n[t],t)}}}function No(e,t,n){et()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||on(n,t);$i(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=Ce(r);s&&Wo(t,n,r);const l=yn(t,e,a,n);if($i(l,t),null!==o&&Ko(t,a-i,l,r,n,o),s){We(n.index,t)[8]=l}}}(e,t,n,$e(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=(e.firstCreatePass,n.index),o=Je.lFrame.currentDirectiveIndex;try{Rt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];wt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Uo(r,i)}}finally{Rt(-1),wt(o)}}(e,t,n))}function Po(e,t,n=$e){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Mo(e){const t=e.tView;if(null===t||t.incompleteFirstPass){const t=null;return e.tView=Ro(1,t,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts)}return t}function Ro(e,t,n,r,i,s,o,a,l,c){const u=ve+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:co);return n}(u,h),p="function"==typeof c?c():c,f=d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1};return f}function Lo(e,t,n){if(Ve(e)){const r=n===z.ShadowDom;return e.selectRootElement(t,r)}let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}function Fo(e,t,n,r){const i=ca(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&ua(e).push(r,i.length-1))}function jo(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const i=e[r];n.hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Bo(e,t,n,r,i,s,o,a){const l=$e(t,n);let c,u=t.inputs;var h;!a&&null!=u&&(c=u[r])?(pa(e,n,c,r,i),xe(t)&&function(e,t){const n=We(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type?(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Ve(s)?s.setProperty(l,r,i):Kt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i)):t.type}function Vo(e,t,n,r){let i=!1;if(et()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];so(n,o.selectors,!1)&&(i||(i=[]),un(on(n,t),e,o.type),Ce(o)?(Ho(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,qo(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,l=ko(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Zt(n.mergedAttrs,c.hostAttrs),Go(e,n,t,l,c),$o(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveStart,r=t.directiveEnd,i=e.data,s=t.attrs,o=[];let a=null,l=null;for(let c=n;c<r;c++){const e=i[c],n=e.inputs,r=null===s||eo(t)?null:Zo(n,s);o.push(r),a=jo(n,c,a),l=jo(e.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new m("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Zt(n.mergedAttrs,n.attrs),i}function zo(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Uo(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ho(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function $o(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ce(t)&&(n[""]=e)}}function qo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Go(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=Se(i.type)),o=new Wt(s,Ce(i),null);e.blueprint[r]=o,n[r]=o,zo(e,t,0,r,ko(e,n,i.hostVars,co),i)}function Wo(e,t,n){const r=$e(t,e),i=Mo(n),s=e[10],o=na(e,Eo(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Xo(e,t,n,r,i,s){const o=$e(e,t);Yo(t[11],o,s,e.value,n,r,i)}function Yo(e,t,n,r,i,s,o){if(null==s)Ve(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Ve(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function Ko(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function Zo(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Qo(e,t,n,r){const i=new Array(e,!0,!1,t,null,0,r,n,null,null);return i}function Jo(e,t){const n=We(t,e);if(Ye(n)){const e=n[1];80&n[2]?Ao(e,n,e.template,n[8]):n[5]>0&&ea(n)}}function ea(e){for(let n=vs(e);null!==n;n=ys(n))for(let e=ye;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ao(e,t,e.template,t[8])}else t[5]>0&&ea(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=We(t[n],e);Ye(r)&&r[5]>0&&ea(r)}}function ta(e,t){const n=We(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),To(r,n,n[8])}function na(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ra(e){for(;e;){e[2]|=64;const t=ms(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ia(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Gi(n),i=r[1];Do(i,r,i.template,n)}}function sa(e,t,n){const r=t[10];r.begin&&r.begin();try{Ao(e,t,e.template,n)}catch(i){throw da(t,i),i}finally{r.end&&r.end()}}function oa(e){ia(e[8])}function aa(e,t,n){Ct(0),t(e,n)}const la=wo;function ca(e){return e[7]||(e[7]=[])}function ua(e){return e.cleanup||(e.cleanup=[])}function ha(e,t,n){return(null===e||Ce(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function da(e,t){const n=e[9],r=n?n.get(es,null):null;r&&r.handleError(t)}function pa(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function fa(e,t,n){const r=He(t,e);xs(e[11],r,n)}function ga(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];if("number"==typeof e)s=e;else if(1==s)i=h(i,e);else if(2==s){r=h(r,e+": "+t[++o]+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const ma=new Pn("INJECTOR",-1);class va{get(e,t=ar){if(t===ar){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const ya=new Pn("Set Injector scope."),_a={},ba={};let wa;function xa(){return void 0===wa&&(wa=new va),wa}function Ea(e,t=null,n=null,r){return new Ca(e,n,t||xa(),r)}class Ca{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Gn(t,n=>this.processProvider(n,e,t)),Gn([e],e=>this.processInjectorType(e,[],i)),this.records.set(ma,Ta(void 0,this));const s=this.records.get(ya);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ar,n=M.Default){this.assertNotDestroyed();const r=dr(this);try{if(!(n&M.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Pn)&&T(e);t=n&&this.injectableDefInScope(n)?Ta(Sa(e),_a):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}const s=n&M.Self?xa():this.parent;return t=n&M.Optional&&t===ar?null:t,s.get(e,t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(e)),r)throw s;return _r(s,e,"R3InjectorError",this.source)}throw s}finally{dr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let r=D(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i;const o=-1!==n.indexOf(s);if(void 0!==i&&(r=D(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{Gn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Gn(r,e=>this.processProvider(e,n,r||X))}}this.injectorDefTypes.add(s);const a=Se(s)||(()=>new s);this.records.set(s,Ta(a,_a));const l=r.providers;if(null!=l&&!o){const t=e;Gn(l,e=>this.processProvider(e,t,l))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Da(e=f(e))?e:f(e&&e.provide);const i=function(e,t,n){if(Aa(e))return Ta(void 0,e.useValue);return Ta(ka(e,t,n),_a)}(e,t,n);if(Da(e)||!0!==e.multi){this.records.get(r);0}else{let t=this.records.get(r);t||(t=Ta(void 0,_a,!0),t.factory=()=>vr(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===_a&&(t.value=ba,t.value=t.factory()),"object"==typeof t.value&&t.value&&(null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Sa(e){const t=T(e),n=null!==t?t.factory:Se(e);if(null!==n)return n;if(e instanceof Pn)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Yn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[O]||e[N]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ka(e,t,n){let r;if(Da(e)){const t=f(e);return Se(t)||Sa(t)}if(Aa(e))r=()=>f(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...vr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>fr(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Se(t)||Sa(t);r=()=>new t(...vr(e.deps))}var i;return r}function Ta(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Aa(e){return null!==e&&"object"==typeof e&&ur in e}function Da(e){return"function"==typeof e}const Oa=function(e,t,n){return function(e,t=null,n=null,r){const i=Ea(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class Ia{static create(e,t){return Array.isArray(e)?Oa(e,t,""):Oa(e.providers,e.parent,e.name||"")}}Ia.THROW_IF_NOT_FOUND=ar,Ia.NULL=new va,Ia.\u0275prov=S({token:Ia,providedIn:"any",factory:()=>fr(ma)}),Ia.__NG_ELEMENT_ID__=-1;function Na(e){ja(e);const t=Ui(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];let r=n.directiveStart;return 2&n.flags?t[r]:null}(t.nodeIndex,t.lView)),t.component)}function Pa(e){ja(e);const t=Ui(e);return null===t?null:t.lView[8]}function Ma(e){const t=Ui(e);if(null===t)return null;let n,r=t.lView;for(;2===r[1].type&&(n=ms(r));)r=n;return 512&r[2]?null:r[8]}function Ra(e){const t=Ui(e);if(null===t)return Ia.NULL;const n=t.lView[1].data[t.nodeIndex];return new wn(n,t.lView)}function La(e){ja(e);const t=Ui(e);if(null===t)return[];const n=t.lView,r=n[1],i=n[7],s=r.cleanup,o=[];if(s&&i)for(let a=0;a<s.length;){const t=s[a++],r=s[a++];if("string"==typeof t){const l=t,c=Ue(n[r]),u=i[s[a++]],h=s[a++],d="boolean"==typeof h||h>=0?"dom":"output",p="boolean"==typeof h&&h;e==c&&o.push({element:e,name:l,callback:u,useCapture:p,type:d})}}return o.sort(Fa),o}function Fa(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function ja(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function Ba(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Co(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(ga(a,l,!0),null!==e&&(Xt(i,e,l),null!==a.classes&&Ks(i,e,a.classes),null!==a.styles&&Ys(i,e,a.styles)));const c=r.createRenderer(e,t),u=Eo(n,Mo(t),null,t.onPush?64:16,n[20],a,r,c,s||null,null);return o.firstCreatePass&&(un(on(a,n),o,t.type),Ho(o,a),qo(a,n.length,1)),na(n,u),n[20]=u}function Va(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=ot();if(e.firstCreatePass){n.providersResolver&&n.providersResolver(n);Go(e,r,t,ko(e,t,1,null),n)}const i=yn(t,e,r.directiveStart,r);$i(i,t);const s=$e(r,t);return s&&$i(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=ot();t.contentQueries(1,o,e.directiveStart)}const a=ot();if(s.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Rt(a.index);zo(n[1],a,0,a.directiveStart,a.directiveEnd,t),Uo(t,o)}return o}function za(e,t){return{components:[],scheduler:e||as,clean:la,playerHandler:t||null,flags:0}}function Ua(e,t){const n=Gi(e),r=n[1],i=ot();Vt(r,i)}function Ha(e){return Object.getPrototypeOf(e.prototype).constructor}function $a(e){let t=Ha(e.type),n=!0;const r=[e];for(;t;){let i;if(Ce(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=qa(e.inputs),t.declaredInputs=qa(e.declaredInputs),t.outputs=qa(e.outputs);const n=i.hostBindings;n&&Xa(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ga(e,s),o&&Wa(e,o),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),Ce(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===$a&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Zt(i.hostAttrs,n=Zt(n,i.hostAttrs))}}(r)}function qa(e){return e===W?{}:e===X?[]:e}function Ga(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Wa(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Xa(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Ya=["providersResolver"],Ka=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Za(e){let t,n=Ha(e.type);t=Ce(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of Ya)r[i]=t[i];if(Ce(t))for(const i of Ka)r[i]=t[i]}let Qa=null;function Ja(){if(!Qa){const e=G.Symbol;if(e&&e.iterator)Qa=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Qa=n)}}}return Qa}function el(e,t){const n=nl(e),r=nl(t);if(n&&r)return function(e,t,n){const r=e[Ja()](),i=t[Ja()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,el);{const i=e&&("object"==typeof e||"function"==typeof e),s=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!s)||Object.is(e,t)}}class tl{constructor(e){this.wrapped=e}static wrap(e){return new tl(e)}static unwrap(e){return tl.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof tl}}function nl(e){return!!rl(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ja()in e)}function rl(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function il(e,t,n){return e[t]=n}function sl(e,t){return e[t]}function ol(e,t,n){const r=e[t];return!Object.is(r,n)&&(e[t]=n,!0)}function al(e,t,n,r){const i=ol(e,t,n);return ol(e,t+1,r)||i}function ll(e,t,n,r,i){const s=al(e,t,n,r);return ol(e,t+2,i)||s}function cl(e,t,n,r,i,s){const o=al(e,t,n,r);return al(e,t+2,i,s)||o}function ul(e,t,n,r){const i=rt(),s=vt();if(ol(i,s,t)){it();const s=Lt();Xo(s,i,e,t,n,r)}return ul}function hl(e,t){let n=!1,r=gt();for(let s=1;s<t.length;s+=2)n=ol(e,r++,t[s])||n;if(mt(r),!n)return co;let i=t[0];for(let s=1;s<t.length;s+=2)i+=y(t[s])+t[s+1];return i}function dl(e,t,n,r){return ol(e,vt(),n)?t+y(n)+r:co}function pl(e,t,n,r,i,s){const o=al(e,gt(),n,i);return yt(2),o?t+y(n)+r+y(i)+s:co}function fl(e,t,n,r,i,s,o,a){const l=ll(e,gt(),n,i,o);return yt(3),l?t+y(n)+r+y(i)+s+y(o)+a:co}function gl(e,t,n,r,i,s,o,a,l,c){const u=cl(e,gt(),n,i,o,l);return yt(4),u?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c:co}function ml(e,t,n,r,i,s,o,a,l,c,u,h){const d=gt();let p=cl(e,d,n,i,o,l);return p=ol(e,d+4,u)||p,yt(5),p?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h:co}function vl(e,t,n,r,i,s,o,a,l,c,u,h,d,p){const f=gt();let g=cl(e,f,n,i,o,l);return g=al(e,f+4,u,d)||g,yt(6),g?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p:co}function yl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g){const m=gt();let v=cl(e,m,n,i,o,l);return v=ll(e,m+4,u,d,f)||v,yt(7),v?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p+y(f)+g:co}function _l(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v){const _=gt();let b=cl(e,_,n,i,o,l);return b=cl(e,_+4,u,d,f,m)||b,yt(8),b?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p+y(f)+g+y(m)+v:co}function bl(e,t,n,r,i,s){const o=rt(),a=dl(o,t,n,r);if(a!==co){const t=Lt();Xo(t,o,e,a,i,s)}return bl}function wl(e,t,n,r,i,s,o,a){const l=rt(),c=pl(l,t,n,r,i,s);if(c!==co){const t=Lt();Xo(t,l,e,c,o,a)}return wl}function xl(e,t,n,r,i,s,o,a,l,c){const u=rt(),h=fl(u,t,n,r,i,s,o,a);if(h!==co){const t=Lt();Xo(t,u,e,h,l,c)}return xl}function El(e,t,n,r,i,s,o,a,l,c,u,h){const d=rt(),p=gl(d,t,n,r,i,s,o,a,l,c);if(p!==co){const t=Lt();Xo(t,d,e,p,u,h)}return El}function Cl(e,t,n,r,i,s,o,a,l,c,u,h,d,p){const f=rt(),g=ml(f,t,n,r,i,s,o,a,l,c,u,h);if(g!==co){const t=Lt();Xo(t,f,e,g,d,p)}return Cl}function Sl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g){const m=rt(),v=vl(m,t,n,r,i,s,o,a,l,c,u,h,d,p);if(v!==co){const t=Lt();Xo(t,m,e,v,f,g)}return Sl}function kl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v){const y=rt(),_=yl(y,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g);if(_!==co){const t=Lt();Xo(t,y,e,_,m,v)}return kl}function Tl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v,y,_){const b=rt(),w=_l(b,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v);if(w!==co){const t=Lt();Xo(t,b,e,w,y,_)}return Tl}function Al(e,t,n,r){const i=rt(),s=hl(i,t);if(s!==co){const t=Lt();Xo(t,i,e,s,n,r)}return Al}function Dl(e,t,n,r,i,s,o,a){const l=rt(),c=it(),u=e+ve,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,l){const c=t.consts,u=Co(t,e,4,o||null,Ke(c,a));Vo(t,n,u,Ke(c,l)),Vt(t,u);const h=u.tViews=Ro(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,s,o):c.data[u];ct(h,!1);const d=l[11].createComment("");zs(c,l,d,h),$i(d,l),na(l,l[u]=Qo(d,l,d,h)),Ee(h)&&No(c,l,h),null!=o&&Po(l,h,a)}function Ol(e){return Ge(Je.lFrame.contextLView,ve+e)}const Il={"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":k,"\u0275\u0275inject":fr,"\u0275\u0275invalidFactoryDep":gr,resolveForwardRef:f};const Nl=l({provide:String,useValue:l});function Pl(e){return void 0!==e.useClass}function Ml(e){return void 0!==e.useFactory}l({provide:String,useValue:l});const Rl=An("Injectable",void 0,void 0,void 0,(e,t)=>Ll(e,t));const Ll=function(e,t){let n=null,r=null;e.hasOwnProperty(O)||Object.defineProperty(e,O,{get:()=>(null===n&&(n=Un().compileInjectable(Il,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};(Pl(n)||Ml(n))&&void 0!==n.deps&&(r.deps=Dr(n.deps));Pl(n)?r.useClass=n.useClass:!function(e){return Nl in e}(n)?Ml(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting):r.useValue=n.useValue;return r}(e,t))),n)}),e.hasOwnProperty(ee)||Object.defineProperty(e,ee,{get:()=>{if(null===r){const t=Un();r=t.compileFactory(Il,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Ar(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})};function Fl(e){if(e.length>1){return" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>u(e.token)).join(" -> ")+")"}return""}function jl(e,t,n,r){const i=[t],s=n(i),o=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r.ngOriginalError=t,r}(s,r):Error(s);return o.addKey=Bl,o.keys=i,o.injectors=[e],o.constructResolvingMessage=n,o.ngOriginalError=r,o}function Bl(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Vl(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];e&&0!=e.length?n.push(e.map(u).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+u(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+u(e)+"' is decorated with Injectable.")}function zl(e,t){return Error(`Cannot mix multi providers and regular providers, got: ${e} ${t}`)}class Ul{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=u(this.token)}static get(e){return Hl.get(f(e))}static get numberOfKeys(){return Hl.numberOfKeys}}const Hl=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof Ul)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new Ul(e,Ul.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}};const $l=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new ir);class ql{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new ql(e,!1,null)}}const Gl=[];class Wl{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class Xl{constructor(e,t){this.factory=e,this.dependencies=t}}function Yl(e){let t,n;if(e.useClass){const r=f(e.useClass);t=$l.factory(r),n=Jl(r)}else e.useExisting?(t=e=>e,n=[ql.fromKey(Ul.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>ec(e,t,n))}return Jl(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=Gl);return new Xl(t,n)}function Kl(e){return new Wl(Ul.get(e.provide),[Yl(e)],e.multi||!1)}function Zl(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw zl(i,r);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new Wl(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(Ql(e,[]).map(Kl),new Map);return Array.from(t.values())}function Ql(e,t){return e.forEach(e=>{if(e instanceof Hn)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);Ql(e,t)}}),t}function Jl(e){const t=$l.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw Vl(e,t);return t.map(n=>ec(e,n,t))}function ec(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return tc(t instanceof wr?t.token:t,i,null);let s=null;for(let o=0;o<t.length;++o){const e=t[o];e instanceof Hn?r=e:e instanceof wr?r=e.token:e instanceof xr?i=!0:e instanceof Er||e instanceof Cr?s=e:e instanceof Pn&&(r=e)}if(r=f(r),null!=r)return tc(r,i,s);throw Vl(e,n)}function tc(e,t,n){return new ql(Ul.get(e),t,n)}const nc={};class rc{static resolve(e){return Zl(e)}static resolveAndCreate(e,t){const n=rc.resolve(e);return rc.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new ic(e,t)}}class ic{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=nc}get(e,t=ar){return this._getByKey(Ul.get(e),null,t)}resolveAndCreateChild(e){const t=rc.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new ic(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(rc.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw t=this,n=e.key,jl(t,n,function(e){return`Cannot instantiate cyclic dependency!${Fl(e)}`});var t,n;return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(l){throw l.addKey&&l.addKey(this,e.key),l}try{i=n(...r)}catch(l){throw s=this,o=l,l.stack,a=e.key,jl(s,a,function(e){const t=u(e[0].token);return`${o.message}: Error during instantiation of ${t}!${Fl(e)}.`},o)}var s,o,a;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:ar)}_getByKey(e,t,n){return e===ic.INJECTOR_KEY?this:t instanceof Er?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===nc&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return nc}_throwOrNull(e,t){if(t!==ar)return t;throw function(e,t){return jl(e,t,function(e){return`No provider for ${u(e[0].token)}!${Fl(e)}`})}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==nc?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let r;for(r=n instanceof Cr?this.parent:this;r instanceof ic;){const t=r,n=t._getObjByKeyId(e.id);if(n!==nc)return n;r=t.parent}return null!==r?r.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}function sc(e,t=M.Default){const n=rt();if(null===n)return fr(e,t);return pn(ot(),n,f(e),t)}function oc(){throw new Error("invalid")}function ac(e,t,n){const r=rt(),i=vt();if(ol(r,i,t)){const i=it(),s=Lt();Bo(i,s,r,e,t,r[11],n,!1)}return ac}function lc(e,t,n,r,i){const s=i?"class":"style";pa(e,n,t.inputs[s],s,r)}function cc(e,t,n,r,i,s,o){const a=t.consts,l=Co(t,e,2,i,Ke(a,s));Vo(t,n,l,Ke(a,o));return null!==l.attrs&&ga(l,l.attrs,!1),null!==l.mergedAttrs&&ga(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}function uc(e,t,n,r){const i=rt(),s=it(),o=ve+e,a=i[11],l=i[o]=Cs(a,t,Je.lFrame.currentNamespace),c=s.firstCreatePass?cc(o,s,i,0,t,n,r):s.data[o];ct(c,!0);const u=c.mergedAttrs;null!==u&&Xt(a,l,u);const h=c.classes;null!==h&&Ks(a,l,h);const d=c.styles;null!==d&&Ys(a,l,d),64!=(64&c.flags)&&zs(s,i,l,c),0===Je.lFrame.elementDepthCount&&$i(l,i),Je.lFrame.elementDepthCount++,Ee(c)&&(No(s,i,c),Io(s,c,i)),null!==r&&Po(i,c)}function hc(){let e=ot();ut()?ht():(e=e.parent,ct(e,!1));const t=e;Je.lFrame.elementDepthCount--;const n=it();n.firstCreatePass&&(Vt(n,e),we(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&lc(n,t,rt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&lc(n,t,rt(),t.stylesWithoutHost,!1)}function dc(e,t,n,r){uc(e,t,n,r),hc()}function pc(e,t,n){const r=rt(),i=it(),s=e+ve,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Ke(s,r),a=Co(t,e,8,"ng-container",o);return null!==o&&ga(a,o,!0),Vo(t,n,a,Ke(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];ct(o,!0);const a=r[s]=r[11].createComment("");zs(i,r,a,o),$i(a,r),Ee(o)&&(No(i,r,o),Io(i,o,r)),null!=n&&Po(r,o)}function fc(){let e=ot();const t=it();ut()?ht():(e=e.parent,ct(e,!1)),t.firstCreatePass&&(Vt(t,e),we(e)&&t.queries.elementEnd(e))}function gc(e,t,n){pc(e,t,n),fc()}function mc(){return rt()}function vc(e){return!!e&&"function"==typeof e.then}function yc(e){return!!e&&"function"==typeof e.subscribe}ic.INJECTOR_KEY=Ul.get(Ia);const _c=yc;function bc(e,t,n,r){const i=rt(),s=it(),o=ot();return xc(s,i,i[11],o,e,t,!!n,r),bc}function wc(e,t){const n=ot(),r=rt(),i=it();return xc(i,r,ha(xt(i.data),n,r),n,e,t,!1),wc}function xc(e,t,n,r,i,s,o,a){const l=Ee(r),c=e.firstCreatePass&&ua(e),u=t[8],h=ca(t);let d=!0;if(3&r.type||a){const p=$e(r,t),f=a?a(p):p,g=h.length,m=a?e=>a(Ue(e[r.index])):r.index;if(Ve(n)){let o=null;if(!a&&l&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o){(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,d=!1}else{s=Cc(r,t,u,s,!1);const e=n.listen(f,i,s);h.push(s,e),c&&c.push(i,m,g,g+1)}}else s=Cc(r,t,u,s,!0),f.addEventListener(i,s,o),h.push(s),c&&c.push(i,m,g,o)}else s=Cc(r,t,u,s,!1);const p=r.outputs;let f;if(d&&null!==p&&(f=p[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=f[n],o=f[n+1],a=t[e],l=a[o];0;const u=l.subscribe(s),d=h.length;h.push(s,u),c&&c.push(i,r.index,d,-(d+1))}}}function Ec(e,t,n,r){try{return Pe(6,t,n),!1!==n(r)}catch(i){return da(e,i),!1}finally{Pe(7,t,n)}}function Cc(e,t,n,r,i){return function s(o){if(o===Function)return r;const a=2&e.flags?We(e.index,t):t;0==(32&t[2])&&ra(a);let l=Ec(t,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Ec(t,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Sc(e=1){return Pt(e)}function kc(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?so(e,s,!0):oo(r,s))return i}else n=i}return n}function Tc(e){const t=rt()[16][6];if(!t.projection){const n=e?e.length:1,r=t.projection=Yn(n,null),i=r.slice();let s=t.child;for(;null!==s;){const t=e?kc(s,e):0;null!==t&&(i[t]?i[t].projectionNext=s:r[t]=s,i[t]=s),s=s.next}}}function Ac(e,t=0,n){const r=rt(),i=it(),s=Co(i,ve+e,16,null,n||null);null===s.projection&&(s.projection=t),ht(),64!=(64&s.flags)&&function(e,t,n){Xs(t[11],0,t,n,Os(e,n,t),Ls(n.parent||t[6],n,t))}(i,r,s)}function Dc(e,t,n){return Oc(e,"",t,"",n),Dc}function Oc(e,t,n,r,i){const s=rt(),o=dl(s,t,n,r);if(o!==co){const t=it(),n=Lt();Bo(t,n,s,e,o,s[11],i,!1)}return Oc}function Ic(e,t,n,r,i,s,o){const a=rt(),l=pl(a,t,n,r,i,s);if(l!==co){const t=it(),n=Lt();Bo(t,n,a,e,l,a[11],o,!1)}return Ic}function Nc(e,t,n,r,i,s,o,a,l){const c=rt(),u=fl(c,t,n,r,i,s,o,a);if(u!==co){const t=it(),n=Lt();Bo(t,n,c,e,u,c[11],l,!1)}return Nc}function Pc(e,t,n,r,i,s,o,a,l,c,u){const h=rt(),d=gl(h,t,n,r,i,s,o,a,l,c);if(d!==co){const t=it(),n=Lt();Bo(t,n,h,e,d,h[11],u,!1)}return Pc}function Mc(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=rt(),f=ml(p,t,n,r,i,s,o,a,l,c,u,h);if(f!==co){const t=it(),n=Lt();Bo(t,n,p,e,f,p[11],d,!1)}return Mc}function Rc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){const g=rt(),m=vl(g,t,n,r,i,s,o,a,l,c,u,h,d,p);if(m!==co){const t=it(),n=Lt();Bo(t,n,g,e,m,g[11],f,!1)}return Rc}function Lc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){const v=rt(),y=yl(v,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g);if(y!==co){const t=it(),n=Lt();Bo(t,n,v,e,y,v[11],m,!1)}return Lc}function Fc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v,y){const _=rt(),b=_l(_,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v);if(b!==co){const t=it(),n=Lt();Bo(t,n,_,e,b,_[11],y,!1)}return Fc}function jc(e,t,n){const r=rt(),i=hl(r,t);if(i!==co){const t=it(),s=Lt();Bo(t,s,r,e,i,r[11],n,!1)}return jc}function Bc(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=fo(o),l=vo(o);e[r]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Qn(e,c)>0)&&(u=!0)}else c=n;if(i){if(0!==l){const t=fo(e[a+1]);e[r+1]=po(t,a),0!==t&&(e[t+1]=yo(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=po(a,0),0!==a&&(e[a+1]=yo(e[a+1],r)),a=r}else e[r+1]=po(l,0),0===a?a=r:e[l+1]=yo(e[l+1],r),l=r;u&&(e[r+1]=mo(e[r+1])),Vc(e,c,r,!0,s),Vc(e,c,r,!1,s),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Qn(s,t)>=0&&(n[r+1]=bo(n[r+1]))}(t,c,e,r,s),o=po(a,l),s?t.classBindings=o:t.styleBindings=o}function Vc(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?fo(s):vo(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a],i=e[a+1];zc(n,t)&&(l=!0,e[a+1]=r?bo(i):mo(i)),a=r?fo(i):vo(i)}l&&(e[n+1]=r?mo(s):bo(s))}function zc(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Qn(e,t)>=0}const Uc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hc(e){return e.substring(Uc.key,Uc.keyEnd)}function $c(e){return e.substring(Uc.value,Uc.valueEnd)}function qc(e,t){const n=Uc.textEnd;return n===t?-1:(t=Uc.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Uc.key=t,n),Xc(e,t,n))}function Gc(e,t){const n=Uc.textEnd;let r=Uc.key=Xc(e,t,n);return n===r?-1:(r=Uc.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=Yc(e,r,n,58),r=Uc.value=Xc(e,r,n),r=Uc.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const l=e.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=Kc(e,l,o,n):t===o-4&&85===s&&82===i&&76===r&&40===l?a=o=Kc(e,41,o,n):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(e,r,n),Yc(e,r,n,59))}function Wc(e){Uc.key=0,Uc.keyEnd=0,Uc.value=0,Uc.valueEnd=0,Uc.textEnd=e.length}function Xc(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Yc(e,t,n,r){return(t=Xc(e,t,n))<n&&t++,t}function Kc(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function Zc(e,t,n){return ru(e,t,n,!1),Zc}function Qc(e,t){return ru(e,t,null,!0),Qc}function Jc(e){iu(cu,eu,e,!1)}function eu(e,t){for(let n=function(e){return Wc(e),Gc(e,Xc(e,0,Uc.textEnd))}(t);n>=0;n=Gc(t,n))cu(e,Hc(t),$c(t))}function tu(e){iu(Kn,nu,e,!0)}function nu(e,t){for(let n=function(e){return Wc(e),qc(e,Xc(e,0,Uc.textEnd))}(t);n>=0;n=qc(t,n))Kn(e,Hc(t),!0)}function ru(e,t,n,r){const i=rt(),s=it(),o=yt(2);if(s.firstUpdatePass&&ou(s,e,o,r),t!==co&&ol(i,o,t)){uu(s,s.data[Mt()],i,i[11],e,i[o+1]=function(e,t){null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Yr(e))));return e}(t,n),r,o)}}function iu(e,t,n,r){const i=it(),s=yt(2);i.firstUpdatePass&&ou(i,null,s,r);const o=rt();if(n!==co&&ol(o,s,n)){const a=i.data[Mt()];if(pu(a,r)&&!su(i,s)){0;let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=h(e,n||"")),lc(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===co&&(i=X);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f,g=null;u===h?(l+=2,c+=2,d!==p&&(g=h,f=p)):null===h||null!==u&&u<h?(l+=2,g=u):(c+=2,g=h,f=p),null!==g&&uu(e,t,n,r,g,f,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return X;const r=[],i=Yr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function su(e,t){return t>=e.expandoStartIndex}function ou(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Mt()],o=su(e,n);pu(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=xt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i){0===(r?t.classBindings:t.styleBindings)&&(n=lu(n=au(null,e,t,n,r),t.attrs,r),s=null)}else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=au(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0===vo(r))return;return e[fo(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=au(null,e,t,n[1],r),n=lu(n,t.attrs,r),function(e,t,n,r){const i=n?t.classBindings:t.styleBindings;e[fo(i)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++){r=lu(r,e[s].hostAttrs,n)}return lu(r,t.attrs,n)}(e,t,r)}void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s);return n}(i,s,t,r),Bc(i,s,t,n,o,r)}}function au(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=lu(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function lu(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Kn(e,o,!!n||t[++s]))}return void 0===e?null:e}function cu(e,t,n){Kn(e,t,Yr(n))}function uu(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];if(!du(_o(c)?hu(l,t,n,i,vo(c),o):void 0)){du(s)||go(c)&&(s=hu(l,null,n,i,a,o));!function(e,t,n,r,i){const s=Ve(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:ps.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=ps.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,He(Mt(),n),i,s)}}function hu(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let u=n[i+1];u===co&&(u=c?X:void 0);let h=c?Zn(u,r):l===r?u:void 0;if(s&&!du(h)&&(h=Zn(t,r)),du(h)&&(a=h,o))return a;const d=e[i+1];i=o?fo(d):vo(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=Zn(e,r))}return a}function du(e){return void 0!==e}function pu(e,t){return 0!=(e.flags&(t?16:32))}function fu(e,t=""){const n=rt(),r=it(),i=e+ve,s=r.firstCreatePass?Co(r,i,1,t,null):r.data[i],o=n[i]=ws(n[11],t);zs(r,n,o,s),ct(s,!1)}function gu(e){return mu("",e,""),gu}function mu(e,t,n){const r=rt(),i=dl(r,e,t,n);return i!==co&&fa(r,Mt(),i),mu}function vu(e,t,n,r,i){const s=rt(),o=pl(s,e,t,n,r,i);return o!==co&&fa(s,Mt(),o),vu}function yu(e,t,n,r,i,s,o){const a=rt(),l=fl(a,e,t,n,r,i,s,o);return l!==co&&fa(a,Mt(),l),yu}function _u(e,t,n,r,i,s,o,a,l){const c=rt(),u=gl(c,e,t,n,r,i,s,o,a,l);return u!==co&&fa(c,Mt(),u),_u}function bu(e,t,n,r,i,s,o,a,l,c,u){const h=rt(),d=ml(h,e,t,n,r,i,s,o,a,l,c,u);return d!==co&&fa(h,Mt(),d),bu}function wu(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=rt(),f=vl(p,e,t,n,r,i,s,o,a,l,c,u,h,d);return f!==co&&fa(p,Mt(),f),wu}function xu(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){const g=rt(),m=yl(g,e,t,n,r,i,s,o,a,l,c,u,h,d,p,f);return m!==co&&fa(g,Mt(),m),xu}function Eu(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){const v=rt(),y=_l(v,e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m);return y!==co&&fa(v,Mt(),y),Eu}function Cu(e){const t=rt(),n=hl(t,e);return n!==co&&fa(t,Mt(),n),Cu}function Su(e,t,n){iu(Kn,nu,dl(rt(),e,t,n),!0)}function ku(e,t,n,r,i){iu(Kn,nu,pl(rt(),e,t,n,r,i),!0)}function Tu(e,t,n,r,i,s,o){iu(Kn,nu,fl(rt(),e,t,n,r,i,s,o),!0)}function Au(e,t,n,r,i,s,o,a,l){iu(Kn,nu,gl(rt(),e,t,n,r,i,s,o,a,l),!0)}function Du(e,t,n,r,i,s,o,a,l,c,u){iu(Kn,nu,ml(rt(),e,t,n,r,i,s,o,a,l,c,u),!0)}function Ou(e,t,n,r,i,s,o,a,l,c,u,h,d){iu(Kn,nu,vl(rt(),e,t,n,r,i,s,o,a,l,c,u,h,d),!0)}function Iu(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){iu(Kn,nu,yl(rt(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f),!0)}function Nu(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){iu(Kn,nu,_l(rt(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m),!0)}function Pu(e){iu(Kn,nu,hl(rt(),e),!0)}function Mu(e,t,n){Jc(dl(rt(),e,t,n))}function Ru(e,t,n,r,i){Jc(pl(rt(),e,t,n,r,i))}function Lu(e,t,n,r,i,s,o){Jc(fl(rt(),e,t,n,r,i,s,o))}function Fu(e,t,n,r,i,s,o,a,l){Jc(gl(rt(),e,t,n,r,i,s,o,a,l))}function ju(e,t,n,r,i,s,o,a,l,c,u){Jc(ml(rt(),e,t,n,r,i,s,o,a,l,c,u))}function Bu(e,t,n,r,i,s,o,a,l,c,u,h,d){Jc(vl(rt(),e,t,n,r,i,s,o,a,l,c,u,h,d))}function Vu(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){Jc(yl(rt(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f))}function zu(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){Jc(_l(rt(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m))}function Uu(e){Jc(hl(rt(),e))}function Hu(e,t,n,r,i){return ru(e,dl(rt(),t,n,r),i,!1),Hu}function $u(e,t,n,r,i,s,o){return ru(e,pl(rt(),t,n,r,i,s),o,!1),$u}function qu(e,t,n,r,i,s,o,a,l){return ru(e,fl(rt(),t,n,r,i,s,o,a),l,!1),qu}function Gu(e,t,n,r,i,s,o,a,l,c,u){return ru(e,gl(rt(),t,n,r,i,s,o,a,l,c),u,!1),Gu}function Wu(e,t,n,r,i,s,o,a,l,c,u,h,d){return ru(e,ml(rt(),t,n,r,i,s,o,a,l,c,u,h),d,!1),Wu}function Xu(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){return ru(e,vl(rt(),t,n,r,i,s,o,a,l,c,u,h,d,p),f,!1),Xu}function Yu(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){return ru(e,yl(rt(),t,n,r,i,s,o,a,l,c,u,h,d,p,f,g),m,!1),Yu}function Ku(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v,y){return ru(e,_l(rt(),t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v),y,!1),Ku}function Zu(e,t,n){return ru(e,hl(rt(),t),n,!1),Zu}function Qu(e,t,n){const r=rt(),i=vt();if(ol(r,i,t)){const i=it(),s=Lt();Bo(i,s,r,e,t,r[11],n,!0)}return Qu}function Ju(e,t,n){const r=rt(),i=vt();if(ol(r,i,t)){const i=it(),s=Lt();Bo(i,s,r,e,t,ha(xt(i.data),s,r),n,!0)}return Ju}const eh=void 0;var th=["en",[["a","p"],["AM","PM"],eh],[["AM","PM"],eh,eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eh,"{1} 'at' {0}",eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let nh={};function rh(e,t,n){"string"!=typeof t&&(n=t,t=e[lh.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),nh[t]=e,n&&(nh[t][lh.ExtraData]=n)}function ih(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ah(t);if(n)return n;const r=t.split("-")[0];if(n=ah(r),n)return n;if("en"===r)return th;throw new Error(`Missing locale data for the locale "${e}".`)}function sh(e){return ih(e)[lh.CurrencyCode]||null}function oh(e){return ih(e)[lh.PluralCase]}function ah(e){return e in nh||(nh[e]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[e]),nh[e]}var lh;!function(e){e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData"}(lh||(lh={}));const ch=["zero","one","two","few","many"];const uh="en-US",hh={marker:"element"},dh={marker:"ICU"};var ph;!function(e){e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT"}(ph||(ph={}));let fh=uh;function gh(e){E(e,"Expected localeId to be defined"),"string"==typeof e&&(fh=e.toLowerCase().replace(/_/g,"-"))}function mh(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Fs(e,0,n):Ue(n[i])}function vh(e,t,n,r,i){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&t.type||(a=o,o=i),null!==o&&0==(2&t.flags))for(let t=1;t<s.length;t++){Ns(e,o,n[s[t]],a,!1)}}}function yh(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];_h(r)||bh(r,t)&&null===wh(r)&&xh(r,t.index)}}function _h(e){return!(64&e.type)}function bh(e,t){return _h(t)||e.index>t.index}function wh(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function xh(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Vs(mh,vh),e.insertBeforeIndex=t)}function Eh(e,t){const n=e.data[t];if(null===n||"string"==typeof n)return null;const r=n.hasOwnProperty("currentCaseLViewIndex")?n:n.value;return r}function Ch(e,t,n){const r=So(e,n,64,null,null);return yh(t,r),r}function Sh(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function kh(e){return e>>>17}function Th(e){return(131070&e)>>>1}let Ah=0,Dh=0;function Oh(e,t,n,r){const i=n[11];let s,o=null;for(let a=0;a<t.length;a++){const l=t[a];if("string"==typeof l){const e=t[++a];null===n[e]&&(n[e]=ws(i,l))}else if("number"==typeof l)switch(1&l){case 0:const c=kh(l);let u,h;if(null===o&&(o=c,s=Rs(i,r)),c===o?(u=r,h=s):(u=null,h=Ue(n[c])),null!==h){const t=Th(l),r=n[t];Ns(i,h,r,u,!1);const s=Eh(e,t);if(null!==s&&"object"==typeof s){const t=Sh(s,n);null!==t&&Oh(e,s.create[t],n,n[s.anchorIdx])}}break;case 1:const d=l>>>1,p=t[++a],f=t[++a];Yo(i,He(d,n),null,null,p,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case dh:const e=t[++a],r=t[++a];if(null===n[r]){$i(n[r]=Es(i,e),n)}break;case hh:const s=t[++a],o=t[++a];if(null===n[o]){$i(n[o]=Cs(i,s,null),n)}}}}function Ih(e,t,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(t[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],l=n[++o],c=e.data[a];"string"==typeof c?Yo(t[11],t[a],null,c,s,i,l):Bo(e,c,t,s,i,t[11],l,!1);break;case 0:const u=t[a];null!==u&&xs(t[11],u,i);break;case 2:Ph(e,Eh(e,a),t,i);break;case 3:Nh(e,Eh(e,a),r,t)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Eh(e,i>>>2);t[n.currentCaseLViewIndex]<0&&Nh(e,n,r,t)}}s+=a}}function Nh(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let s=Ah;i<0&&(i=r[t.currentCaseLViewIndex]=~i,s=-1),Ih(e,r,t.update[i],n,s)}}function Ph(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=oh(t)(parseInt(e,10)),r=ch[n];return void 0!==r?r:"other"}(t,fh);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Sh(t,n)!==i&&(Mh(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&Oh(e,t.create[i],n,r)}}function Mh(e,t,n){let r=Sh(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=He(r,n);null!==e&&qs(n[11],e)}else Mh(e,Eh(e,~r),n)}}}function Rh(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=Sh(e,t);n=null!==i?e.remove[i]:X}function s(){if(r<n.length){const o=n[r++];if(o>0){const e=t[o];return e}{e.push(r,n);const a=~o,l=t[1].data[a];return i(l,t),s()}}return 0===e.length?null:(n=e.pop(),r=e.pop(),s())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),s}}const Lh=/\ufffd(\d+):?\d*\ufffd/gi,Fh=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,jh=/\ufffd(\d+)\ufffd/,Bh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Vh=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zh=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Uh=/\uE500/g;function Hh(e,t,n,r,i,s){const o=lt(),a=[],l=[],c=[[]];i=function(e,t){if(function(e){return-1===e}(t))return Yh(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return Yh(e.substring(n,r))}}(i,s);const u=(h=i,h.replace(Uh," ")).split(zh);var h;for(let d=0;d<u.length;d++){let r=u[d];if(0==(1&d)){const s=Qh(r);for(let r=0;r<s.length;r++){let u=s[r];if(0==(1&r)){const t=u;""!==t&&qh(e,o,c[0],a,l,n,t)}else{const r=u;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);const s=$h(e,o,c[0],n,a,"",!0).index;Kh(e,n,l,t,r,s)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),ve+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),ct(lt(),!1);else{const t=Ch(e,c[0],n);c.unshift([]),ct(t,!0)}}}e.data[r]={create:a,update:l}}function $h(e,t,n,r,i,s,o){const a=ko(e,r,1,null);let l=a<<ph.SHIFT,c=lt();var u;t===c&&(c=null),null===c&&(l|=ph.APPEND_EAGERLY),o&&(l|=ph.COMMENT,u=Rh,void 0===fs&&(fs=u())),i.push(l,null===s?"":s);const h=So(e,a,o?32:1,null===s?"":s,null);yh(n,h);const d=h.index;return ct(h,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;null===n?(Vs(mh,vh),n=e.insertBeforeIndex=[null,t]):(x(Array.isArray(n),!0,"Expecting array here"),n.push(t))}(c,d),h}function qh(e,t,n,r,i,s,o){const a=o.match(Lh),l=$h(e,t,n,s,r,a?null:o,!1);a&&Gh(i,o,l.index,null,0,null)}function Gh(e,t,n,r,i,s){const o=e.length,a=o+1;e.push(null,null);const l=o+2;const c=t.split(Lh);let u=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),u|=Xh(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,s),e[o]=u,e[a]=e.length-l,u}function Wh(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function Xh(e){return 1<<Math.min(e,31)}function Yh(e){let t,n,r="",i=0,s=!1;for(;null!==(t=Vh.exec(e));)s?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i),r}function Kh(e,t,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:ko(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(Xh(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,s),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,s,a);const l=i.values;for(let c=0;c<l.length;c++){const s=l[c],u=[];for(let e=0;e<s.length;e++){const t=s[e];if("string"!=typeof t){const n=u.push(t)-1;s[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Jh(e,a,t,n,r,i.cases[c],s.join(""),u)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,s)}function Zh(e){const t=[],n=[];let r=1,i=0;const s=Qh(e=e.replace(Bh,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=Qh(s[o++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function Qh(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);Bh.test(n)?r.push(Zh(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function Jh(e,t,n,r,i,s,o,a){const l=[],c=[],u=[];t.cases.push(s),t.create.push(l),t.remove.push(c),t.update.push(u);const h=ri(je()).getInertBodyElement(o),d=Ii(h)||h;return d?ed(e,t,n,r,l,c,u,d,i,a,0):0}function ed(e,t,n,r,i,s,o,a,l,c,u){let h=0,d=a.firstChild;for(;d;){const a=ko(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,f=p.tagName.toLowerCase();if(yi.hasOwnProperty(f)){rd(i,hh,f,l,a),e.data[a]=f;const g=p.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();!!t.value.match(Lh)?Ei.hasOwnProperty(n)&&(_i[n]?Gh(o,t.value,a,t.name,0,li):bi[n]?Gh(o,t.value,a,t.name,0,ci):Gh(o,t.value,a,t.name,0,null)):id(i,a,t)}h=ed(e,t,n,r,i,s,o,d,a,c,u+1)|h,td(s,a,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(Lh);rd(i,null,m?"":g,l,a),td(s,a,u),m&&(h=Gh(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const v=jh.exec(d.textContent||"");if(v){const t=parseInt(v[1],10),o=c[t];rd(i,dh,"",l,a),Kh(e,n,r,l,o,a),nd(s,a,u)}}d=d.nextSibling}return h}function td(e,t,n){0===n&&e.push(t)}function nd(e,t,n){0===n&&(e.push(~t),e.push(t))}function rd(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function id(e,t,n){e.push(t<<1|1,n.name,n.value)}const sd=/\[(\ufffd.+?\ufffd?)\]/,od=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,ad=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,ld=/{([A-Z0-9_]+)}/g,cd=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,ud=/\/\*/,hd=/\d+\:(\d+)/;function dd(e,t,n=-1){const r=it(),i=rt(),s=ve+e,o=Ke(r.consts,t),a=lt();r.firstCreatePass&&Hh(r,null===a?0:a.index,i,s,o,n);const l=r.data[s],c=Is(r,a===i[6]?null:a,i),u=a&&8&a.type?i[a.index]:null;!function(e,t,n,r){const i=e[11];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],l=(o&ph.COMMENT)===ph.COMMENT,c=(o&ph.APPEND_EAGERLY)===ph.APPEND_EAGERLY,u=o>>>ph.SHIFT;let h=e[u];null===h&&(h=e[u]=l?i.createComment(a):ws(i,a)),c&&null!==n&&Ns(i,n,h,r,!1)}}(i,l.create,c,u),_t(!0)}function pd(){_t(!1)}function fd(e,t,n){dd(e,t,n),pd()}function gd(e,t){const n=it(),r=Ke(n.consts,t);!function(e,t,n){const r=ot().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],s=n[e+1];if(""!==s){if(Fh.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);Gh(i,s,r,t,Wh(i),null)}}e.data[t]=i}}(n,e+ve,r)}function md(e){const t=rt();return ol(t,vt(),e)&&(Ah|=1<<Math.min(Dh,31)),Dh++,md}function vd(e){!function(e,t,n){if(Dh>0){const r=e.data[n];Ih(e,t,Array.isArray(r)?r:r.update,gt()-Dh-1,Ah)}Ah=0,Dh=0}(it(),rt(),e+ve)}function yd(e,t={}){return function(e,t={}){let n=e;if(sd.test(e)){const e={},t=[0];n=n.replace(od,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(hd),n=t?parseInt(t[1],10):0,r=ud.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let l=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){l=e;break}const[c,u,h]=o[l];return u?t.pop():a!==c&&t.push(c),o.splice(l,1),h})}return Object.keys(t).length?(n=n.replace(ad,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e),n=n.replace(ld,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(cd,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}(e,t)}function _d(e,t,n,r,i){if(e=f(e),Array.isArray(e))for(let s=0;s<e.length;s++)_d(e[s],t,n,r,i);else{const s=it(),o=rt();let a=Da(e)?e:f(e.provide),l=ka(e);const c=ot(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Da(e)||!e.multi){const r=new Wt(l,i,sc),p=xd(a,t,i?u:u+d,h);-1===p?(un(on(c,o),s,a),bd(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=xd(a,t,u+d,h),f=xd(a,t,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(i&&!m||!i&&!g){un(on(c,o),s,a);const u=function(e,t,n,r,i){const s=new Wt(e,n,sc);return s.multi=[],s.index=t,s.componentProviders=0,wd(s,i,r&&!n),s}(i?Cd:Ed,n.length,i,r,l);!i&&m&&(n[f].providerFactory=u),bd(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else{bd(s,e,p>-1?p:f,wd(n[i?f:p],l,!i&&r))}!i&&r&&m&&n[f].componentProviders++}}}function bd(e,t,n,r){const i=Da(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function wd(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function xd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Ed(e,t,n,r){return Sd(this.multi,[])}function Cd(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=yn(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Sd(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Sd(i,s);return s}function Sd(e,t){for(let n=0;n<e.length;n++){const r=e[n];t.push(r())}return t}function kd(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=it();if(r.firstCreatePass){const i=Ce(e);_d(n,r.data,r.blueprint,i,!0),_d(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Td{}class Ad{}function Dd(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t[Od]=e,t}const Od="ngComponent";class Id{}Id.NULL=new class{resolveComponentFactory(e){throw Dd(e)}};class Nd{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Dd(e);return new Pd(t,this._ngModule)}}class Pd extends Ad{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function Md(...e){}function Rd(e,t){return new Fd($e(e,t))}const Ld=function(){return Rd(ot(),rt())};class Fd{constructor(e){this.nativeElement=e}}function jd(e){return e instanceof Fd?e.nativeElement:e}Fd.__NG_ELEMENT_ID__=Ld;new Pn("Renderer2Interceptor");class Bd{}class Vd{}Vd.__NG_ELEMENT_ID__=()=>zd();const zd=function(){const e=rt(),t=We(ot().index,e);return function(e){const t=e[11];0;return t}(_e(t)?t:e)};class Ud{}Ud.\u0275prov=S({token:Ud,providedIn:"root",factory:()=>null});class Hd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $d=new Hd("12.0.4");class qd{constructor(){}supports(e){return nl(e)}create(e){return new Wd(e)}}const Gd=(e,t)=>t;class Wd{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Gd}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Zd(n,r,i)?t:n,o=Zd(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!nl(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ja()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Xd(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Kd),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Xd{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yd{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Kd{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Yd,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zd(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Qd{constructor(){}supports(e){return e instanceof Map||rl(e)}create(){return new Jd}}class Jd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||rl(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ep(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ep{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tp(){return new np([new qd])}class np{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new np(e)}static extend(e){return{provide:np,useFactory:t=>np.create(e,t||tp()),deps:[[np,new Cr,new xr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}function rp(){return new ip([new Qd])}np.\u0275prov=S({token:np,providedIn:"root",factory:tp});class ip{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new ip(e)}static extend(e){return{provide:ip,useFactory:t=>ip.create(e,t||rp()),deps:[[ip,new Cr,new xr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}function sp(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Ue(s)),be(s))for(let e=ye;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&sp(t[1],t,n,r)}const o=n.type;if(8&o)sp(e,t,n.child,r);else if(32&o){const e=gs(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Hs(t,n);if(Array.isArray(e))r.push(...e);else{const n=ms(t[16]);sp(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}ip.\u0275prov=S({token:ip,providedIn:"root",factory:rp});class op{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return sp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(be(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Ts(e,n),Xn(t,n))}this._attachedToViewContainer=!1}As(this._lView[1],this._lView)}onDestroy(e){Fo(this._lView[1],this._lView,null,e)}markForCheck(){ra(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){sa(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){pt(!0);try{sa(e,t,n)}finally{pt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e,t;this._appRef=null,e=this._lView[1],t=this._lView,Ws(e,t,t[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ap extends op{constructor(e){super(e),this._view=e}detectChanges(){oa(this._view)}checkNoChanges(){!function(e){pt(!0);try{oa(e)}finally{pt(!1)}}(this._view)}get context(){return null}}const lp=function(e){return function(e,t,n){if(xe(e)&&!n){const n=We(e.index,t);return new op(n,n)}if(47&e.type){const e=t[16];return new op(e,t)}return null}(ot(),rt(),16==(16&e))};class cp{}cp.__NG_ELEMENT_ID__=lp;const up=[new Qd],hp=[new qd],dp=new np(hp),pp=new ip(up),fp=function(){return yp(ot(),rt())};class gp{}gp.__NG_ELEMENT_ID__=fp;const mp=gp,vp=class extends mp{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Eo(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null),r=this._declarationLView[this._declarationTContainer.index];n[17]=r;const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),To(t,n,e),new op(n)}};function yp(e,t){return 4&e.type?new vp(t,e,Rd(e,t)):null}class _p{}class bp{}const wp=function(){return Tp(ot(),rt())};class xp{}xp.__NG_ELEMENT_ID__=wp;const Ep=xp,Cp=class extends Ep{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Rd(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const e=cn(this._hostTNode,this._hostLView);if(Jt(e)){const t=tn(e,this._hostLView),n=en(e),r=t[1].data[n+8];return new wn(r,t)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Sp(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ye}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(_p,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(be(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Cp(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;Ss(r,n,s,i);const o=$s(i,s),a=n[11],l=Rs(a,s[7]);return null!==l&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Ws(e,r,n,1,i,s)}(r,s[6],a,n,l,o),e.attachToViewContainerRef(),Wn(kp(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Sp(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Ts(this._lContainer,t);n&&(Xn(kp(this._lContainer),t),As(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Ts(this._lContainer,t);return n&&null!=Xn(kp(this._lContainer),t)?new op(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Sp(e){return e[8]}function kp(e){return e[8]||(e[8]=[])}function Tp(e,t){let n;const r=t[e.index];if(be(r))n=r;else{let i;if(8&e.type)i=Ue(r);else{const n=t[11];i=n.createComment("");const r=$e(e,t);Ns(n,Rs(n,r),i,function(e,t){return Ve(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Qo(r,t,i,e),na(t,n)}return new Cp(n,e,t)}function Ap(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Dp(n,t),n}(i,e)}function Dp(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Op(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Ip(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Np(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Pp(e,t){return e.nodes[t]}function Mp(e,t){return e.nodes[t]}function Rp(e,t){return e.nodes[t]}function Lp(e,t){return e.nodes[t]}function Fp(e,t){return e.nodes[t]}const jp={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Bp=()=>{},Vp=new Map;function zp(e){let t=Vp.get(e);return t||(t=u(e)+"_"+Vp.size,Vp.set(e,t)),t}function Up(e,t,n,r){if(tl.isWrapped(r)){r=tl.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,s=tl.unwrap(e.oldValues[i]);e.oldValues[i]=new tl(s)}return r}const Hp="$$undefined",$p="$$empty";function qp(e){return{id:Hp,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Gp=0;function Wp(e,t,n,r){const i=e.oldValues;return!(!(2&e.state)&&Object.is(i[t.bindingIndex+n],r))}function Xp(e,t,n,r){return!!Wp(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Yp(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!el(i,r)){const s=t.bindings[n].name;throw Ap(jp.createDebugContext(e,t.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&e.state))}}function Kp(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Zp(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Qp(e,t,n,r){try{const i=e.def.nodes[t];return Kp(33554432&i.flags?Mp(e,t).componentView:e),jp.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Jp(e){if(e.parent){return Mp(e.parent,e.parentNodeDef.nodeIndex)}return null}function ef(e){return e.parent?e.parentNodeDef.parent:null}function tf(e,t){switch(201347067&t.flags){case 1:return Mp(e,t.nodeIndex).renderElement;case 2:return Pp(e,t.nodeIndex).renderText}}function nf(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function rf(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function sf(e){return 1<<e%32}function of(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=sf(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function af(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,cr,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:zp(n)}})}function lf(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&(r.element.componentRendererType.encapsulation===z.ShadowDom||1===r.element.componentRendererType.encapsulation)?Mp(e,n.renderParent.nodeIndex).renderElement:void 0:t}const cf=new WeakMap;function uf(e){let t=cf.get(e);return t||(t=e(()=>Bp),t.factory=e,cf.set(e,t)),t}function hf(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(tf(e,e.def.lastRenderRootNode))),df(e,t,0,e.def.nodes.length-1,n,r,i)}function df(e,t,n,r,i,s,o){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&ff(e,n,t,i,s,o),a+=n.childCount}}function pf(e,t,n,r,i,s){let o=e;for(;o&&!nf(o);)o=o.parent;const a=o.parent,l=ef(o),c=l.nodeIndex+1,u=l.nodeIndex+l.childCount;for(let h=c;h<=u;h++){const e=a.def.nodes[h];e.ngContentIndex===t&&ff(a,e,n,r,i,s),h+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)gf(e,o[t],n,r,i,s)}}function ff(e,t,n,r,i,s){if(8&t.flags)pf(e,t.ngContent.index,n,r,i,s);else{const o=tf(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags){if(16&t.bindingFlags&&gf(e,o,n,r,i,s),32&t.bindingFlags){gf(Mp(e,t.nodeIndex).componentView,o,n,r,i,s)}}else gf(e,o,n,r,i,s);if(16777216&t.flags){const o=Mp(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)hf(o[e],n,r,i,s)}1&t.flags&&!t.element.name&&df(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,s)}}function gf(e,t,n,r,i,s){const o=e.renderer;switch(n){case 1:o.appendChild(r,t);break;case 2:o.insertBefore(r,t,i);break;case 3:o.removeChild(r,t);break;case 0:s.push(t)}}const mf=/^:([^:]+):(.+)$/;function vf(e){if(":"===e[0]){const t=e.match(mf);return[t[1],t[2]]}return["",e]}function yf(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function _f(e,t){let n="";for(let r=0;r<2*e;r+=2)n=n+t[r]+wf(t[r+1]);return n+t[2*e]}function bf(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,v,y,_){switch(e){case 1:return t+wf(n)+r;case 2:return t+wf(n)+r+wf(i)+s;case 3:return t+wf(n)+r+wf(i)+s+wf(o)+a;case 4:return t+wf(n)+r+wf(i)+s+wf(o)+a+wf(l)+c;case 5:return t+wf(n)+r+wf(i)+s+wf(o)+a+wf(l)+c+wf(u)+h;case 6:return t+wf(n)+r+wf(i)+s+wf(o)+a+wf(l)+c+wf(u)+h+wf(d)+p;case 7:return t+wf(n)+r+wf(i)+s+wf(o)+a+wf(l)+c+wf(u)+h+wf(d)+p+wf(f)+g;case 8:return t+wf(n)+r+wf(i)+s+wf(o)+a+wf(l)+c+wf(u)+h+wf(d)+p+wf(f)+g+wf(m)+v;case 9:return t+wf(n)+r+wf(i)+s+wf(o)+a+wf(l)+c+wf(u)+h+wf(d)+p+wf(f)+g+wf(m)+v+wf(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function wf(e){return null!=e?e.toString():""}const xf={},Ef={},Cf=zp(Ia),Sf=zp(ma),kf=zp(_p);function Tf(e,t,n,r){n=f(n);return{index:-1,deps:af(r,u(t)),flags:e,token:t,value:n}}function Af(e){const t={},n=[];let r=null;for(let i=0;i<e.length;i++){const s=e[i];s.token===ya&&(r=s.value),1073741824&s.flags&&n.push(s.token),s.index=i,t[zp(s.token)]=s}return{factory:null,providersByKey:t,providers:e,modules:n,scope:r}}function Df(e,t,n=Ia.THROW_IF_NOT_FOUND){const r=dr(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const i=t.tokenKey;switch(i){case Cf:case Sf:case kf:return e}const s=e._def.providersByKey[i];let o;if(s){let t=e._providers[s.index];return void 0===t&&(t=e._providers[s.index]=Of(e,s)),t===Ef?void 0:t}if((o=T(t.token))&&function(e,t){const n=f(t.providedIn);return null!=n&&("any"===n||n===e._def.scope||function(e,t){return e._def.modules.indexOf(t)>-1}(e,n))}(e,o)){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:o.factory,deps:[],index:n,token:t.token},e._providers[n]=Ef,e._providers[n]=Of(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{dr(r)}}function Of(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Df(e,n[0]));case 2:return new t(Df(e,n[0]),Df(e,n[1]));case 3:return new t(Df(e,n[0]),Df(e,n[1]),Df(e,n[2]));default:const i=[];for(let t=0;t<r;t++)i[t]=Df(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Df(e,n[0]));case 2:return t(Df(e,n[0]),Df(e,n[1]));case 3:return t(Df(e,n[0]),Df(e,n[1]),Df(e,n[2]));default:const i=[];for(let t=0;t<r;t++)i[t]=Df(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Df(e,t.deps[0]);break;case 256:n=t.value}return n===Ef||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ef:n}function If(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Wn(i,n,r),function(e,t){const n=Jp(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),jp.dirtyParentQueries(r);Pf(t,n>0?i[n-1]:null,r)}function Nf(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,Xn(n,t),jp.dirtyParentQueries(r),Mf(r),r}function Pf(e,t,n){const r=t?tf(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);hf(n,2,i,s,void 0)}function Mf(e){hf(e,3,null,null,void 0)}const Rf={};function Lf(e,t,n,r,i,s){return new Ff(e,t,n,r,i,s)}class Ff extends Ad{constructor(e,t,n,r,i,s){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t){const r=t[n];e.push({propName:n,templateName:r})}return e}get outputs(){const e=[];for(let t in this._outputs){const n=this._outputs[t];e.push({propName:t,templateName:n})}return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=uf(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=jp.createRootView(e,t||[],n,i,r,Rf),a=Rp(o,s).instance;return n&&o.renderer.setAttribute(Mp(o,0).renderElement,"ng-version",$d.full),new jf(o,new Uf(o),a)}}class jf extends Td{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Fd(Mp(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Gf(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Bf(e,t,n){return new Vf(e,t,n)}class Vf{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Fd(this._data.renderElement)}get injector(){return new Gf(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=ef(e),e=e.parent;return e?new Gf(e,t):new Gf(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Nf(this._data,e);jp.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Uf(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;i||e instanceof Pd||(i=s.get(_p));const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e,r=n._view;return If(this._view,this._data,t,r),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];Xn(r,t),null==n&&(n=r.length),Wn(r,n,i),jp.dirtyParentQueries(i),Mf(i),Pf(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Nf(this._data,e);t&&jp.destroyView(t)}detach(e){const t=Nf(this._data,e);return t?new Uf(t):null}}function zf(e){return new Uf(e)}class Uf{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return hf(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}set context(e){this._view.context=e}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Kp(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{jp.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){jp.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),jp.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Mf(this._view),jp.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Hf(e,t){return new $f(e,t)}class $f extends gp{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Uf(jp.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Fd(Mp(this._parentView,this._def.nodeIndex).renderElement)}}function qf(e,t){return new Gf(e,t)}class Gf{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Ia.THROW_IF_NOT_FOUND){const n=!!this.elDef&&0!=(33554432&this.elDef.flags);return jp.resolveDep(this.view,this.elDef,n,{flags:0,token:e,tokenKey:zp(e)},t)}}function Wf(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Mp(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return Pp(e,n.nodeIndex).renderText;if(20240&n.flags)return Rp(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Xf(e,t,n,r){return new Yf(e,t,n,r)}class Yf{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=Yn(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Of(e,i))}}(this)}get(e,t=Ia.THROW_IF_NOT_FOUND,n=M.Default){let r=0;return n&M.SkipSelf?r|=1:n&M.Self&&(r|=4),Df(this,{token:e,tokenKey:zp(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Id)}destroy(){if(this._destroyed)throw new Error(`The ng module ${u(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Ef){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Kf=zp(Vd),Zf=zp(Fd),Qf=zp(xp),Jf=zp(gp),eg=zp(cp),tg=zp(Ia),ng=zp(ma);function rg(e,t,n,r,i,s,o,a){const l=[];if(o)for(let u in o){const[e,t]=o[u];l[e]={flags:8,name:u,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let u in a)c.push({type:1,propName:u,target:null,eventName:a[u]});return og(e,t|=16384,n,r,i,i,s,l,c)}function ig(e,t,n){return og(-1,e|=16,null,0,t,t,n)}function sg(e,t,n,r,i){return og(-1,e,t,0,n,r,i)}function og(e,t,n,r,i,s,o,a,l){const{matchedQueries:c,references:h,matchedQueryIds:d}=of(n);l||(l=[]),a||(a=[]),s=f(s);const p=af(o,u(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:yf(a),outputs:l,element:null,provider:{token:i,value:s,deps:p},text:null,query:null,ngContent:null}}function ag(e,t){return hg(e,t)}function lg(e,t){let n=e;for(;n.parent&&!nf(n);)n=n.parent;return dg(n.parent,ef(n),!0,t.provider.value,t.provider.deps)}function cg(e,t){const n=(32768&t.flags)>0,r=dg(e,t.parent,n,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const n=t.outputs[i],s=r[n.propName];if(!_c(s))throw new Error(`@Output ${n.propName} not initialized in '${r.constructor.name}'.`);{const r=s.subscribe(ug(e,t.parent.nodeIndex,n.eventName));e.disposables[t.outputIndex+i]=r.unsubscribe.bind(r)}}return r}function ug(e,t,n){return r=>Qp(e,t,n,r)}function hg(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return dg(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(fg(e,t,n,i[0]));case 2:return r(fg(e,t,n,i[0]),fg(e,t,n,i[1]));case 3:return r(fg(e,t,n,i[0]),fg(e,t,n,i[1]),fg(e,t,n,i[2]));default:const o=[];for(let r=0;r<s;r++)o.push(fg(e,t,n,i[r]));return r(...o)}}(e,t.parent,n,r.value,r.deps);case 2048:return fg(e,t.parent,n,r.deps[0]);case 256:return r.value}}function dg(e,t,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(fg(e,t,n,i[0]));case 2:return new r(fg(e,t,n,i[0]),fg(e,t,n,i[1]));case 3:return new r(fg(e,t,n,i[0]),fg(e,t,n,i[1]),fg(e,t,n,i[2]));default:const o=[];for(let r=0;r<s;r++)o.push(fg(e,t,n,i[r]));return new r(...o)}}const pg={};function fg(e,t,n,r,i=Ia.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=e;2&r.flags&&(i=null);const o=r.tokenKey;o===eg&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(o){case Kf:return gg(a,t,n).renderer;case Zf:return new Fd(Mp(a,t.nodeIndex).renderElement);case Qf:return Mp(a,t.nodeIndex).viewContainer;case Jf:if(t.element.template)return Mp(a,t.nodeIndex).template;break;case eg:return zf(gg(a,t,n));case tg:case ng:return qf(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=Rp(a,e.nodeIndex);return t||(t={instance:hg(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=nf(a),t=ef(a),a=a.parent,4&r.flags&&(a=null)}const l=s.root.injector.get(r.token,pg);return l!==pg||i===pg?l:s.root.ngModule.injector.get(r.token,i)}function gg(e,t,n){let r;if(n)r=Mp(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!nf(r);)r=r.parent;return r}function mg(e,t,n,r,i,s){if(32768&n.flags){const t=Mp(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}const o=n.bindings[r].name;if(t.instance[o]=i,524288&n.flags){s=s||{};const t=tl.unwrap(e.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new ke(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,s}function vg(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&t&&_g(e,i,s.flags&t,r++),0==(s.childFlags&t)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(r=yg(e,o,t,r)),o=o.parent}}function yg(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&_g(e,i,t.flags&n,r++),i+=t.childCount}return r}function _g(e,t,n,r){const i=Rp(e,t);if(!i)return;const s=i.instance;s&&(jp.setCurrentNode(e,t),1048576&n&&Np(e,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Np(e,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}class bg extends Id{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=pe(e);return new Eg(t,this.ngModule)}}function wg(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push({propName:r,templateName:n})}return t}const xg=new Pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>as});class Eg extends Ad{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(lo).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return wg(this.componentDef.inputs)}get outputs(){return wg(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,pg,i);return s!==pg||r===pg?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Bd,ze),o=i.get(Ud,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?Lo(a,n,this.componentDef.encapsulation):Cs(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Me:"math"===t?Re:null}(l)),u=this.componentDef.onPush?576:528,h=za(),d=Ro(0,null,null,1,0,null,null,null,null,null),p=Eo(null,d,h,u,null,null,s,a,o,i);let f,g;Tt(p);try{const e=Ba(c,this.componentDef,p,s,a);if(c)if(n)Xt(a,c,["ng-version",$d.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ro(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Xt(a,c,e),t&&t.length>0&&Ks(a,c,t.join(" "))}if(g=qe(d,ve),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}f=Va(e,this.componentDef,p,h,[Ua]),To(d,p,null)}finally{Nt()}return new Cg(this.componentType,f,Rd(g,p),p,g)}}new bg;class Cg extends Td{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new ap(r),this.componentType=e}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Sg(e,t,n,r){return j(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?i.propDecorators=Object.assign(Object.assign({},i.propDecorators),r):i.propDecorators=r)})}const kg=new Map;function Tg(e,t){const n=kg.get(e);Ag(e,n&&n.moduleType,t.moduleType),kg.set(e,t)}function Ag(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}class Dg extends _p{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bg(this);const n=me(e),r=e[J]||null;r&&gh(r),this._bootstrapComponents=ds(n.bootstrap),this._r3Injector=Ea(e,t,[{provide:_p,useValue:this},{provide:Id,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ia.THROW_IF_NOT_FOUND,n=M.Default){return e===Ia||e===_p||e===ma?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Og extends bp{constructor(e){super(),this.moduleType=e;null!==me(e)&&function(e){const t=new Set;!function e(n){const r=me(n,!0),i=r.id;if(null!==i){Ag(i,kg.get(i),n),kg.set(i,n)}const s=ds(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Dg(this.moduleType,e)}}function Ig(e,t,n){const r=ft()+e,i=rt();return i[r]===co?il(i,r,n?t.call(n):t()):sl(i,r)}function Ng(e,t,n,r){return Ug(rt(),ft(),e,t,n,r)}function Pg(e,t,n,r,i){return Hg(rt(),ft(),e,t,n,r,i)}function Mg(e,t,n,r,i,s){return $g(rt(),ft(),e,t,n,r,i,s)}function Rg(e,t,n,r,i,s,o){return qg(rt(),ft(),e,t,n,r,i,s,o)}function Lg(e,t,n,r,i,s,o,a){const l=ft()+e,c=rt(),u=cl(c,l,n,r,i,s);return ol(c,l+4,o)||u?il(c,l+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):sl(c,l+5)}function Fg(e,t,n,r,i,s,o,a,l){const c=ft()+e,u=rt(),h=cl(u,c,n,r,i,s);return al(u,c+4,o,a)||h?il(u,c+6,l?t.call(l,n,r,i,s,o,a):t(n,r,i,s,o,a)):sl(u,c+6)}function jg(e,t,n,r,i,s,o,a,l,c){const u=ft()+e,h=rt();let d=cl(h,u,n,r,i,s);return ll(h,u+4,o,a,l)||d?il(h,u+7,c?t.call(c,n,r,i,s,o,a,l):t(n,r,i,s,o,a,l)):sl(h,u+7)}function Bg(e,t,n,r,i,s,o,a,l,c,u){const h=ft()+e,d=rt(),p=cl(d,h,n,r,i,s);return cl(d,h+4,o,a,l,c)||p?il(d,h+8,u?t.call(u,n,r,i,s,o,a,l,c):t(n,r,i,s,o,a,l,c)):sl(d,h+8)}function Vg(e,t,n,r){return Gg(rt(),ft(),e,t,n,r)}function zg(e,t){const n=e[t];return n===co?void 0:n}function Ug(e,t,n,r,i,s){const o=t+n;return ol(e,o,i)?il(e,o+1,s?r.call(s,i):r(i)):zg(e,o+1)}function Hg(e,t,n,r,i,s,o){const a=t+n;return al(e,a,i,s)?il(e,a+2,o?r.call(o,i,s):r(i,s)):zg(e,a+2)}function $g(e,t,n,r,i,s,o,a){const l=t+n;return ll(e,l,i,s,o)?il(e,l+3,a?r.call(a,i,s,o):r(i,s,o)):zg(e,l+3)}function qg(e,t,n,r,i,s,o,a,l){const c=t+n;return cl(e,c,i,s,o,a)?il(e,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):zg(e,c+4)}function Gg(e,t,n,r,i,s){let o=t+n,a=!1;for(let l=0;l<i.length;l++)ol(e,o++,i[l])&&(a=!0);return a?il(e,o,r.apply(s,i)):zg(e,o)}function Wg(e,t){const n=it();let r;const i=e+ve;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new m("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Se(r.type)),o=L(sc);try{const e=rn(!1),t=s();return rn(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,rt(),i,t),t}finally{L(o)}}function Xg(e,t,n){const r=e+ve,i=rt(),s=Ge(i,r);return em(i,Jg(i,r)?Ug(i,ft(),t,s.transform,n,s):s.transform(n))}function Yg(e,t,n,r){const i=e+ve,s=rt(),o=Ge(s,i);return em(s,Jg(s,i)?Hg(s,ft(),t,o.transform,n,r,o):o.transform(n,r))}function Kg(e,t,n,r,i){const s=e+ve,o=rt(),a=Ge(o,s);return em(o,Jg(o,s)?$g(o,ft(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function Zg(e,t,n,r,i,s){const o=e+ve,a=rt(),l=Ge(a,o);return em(a,Jg(a,o)?qg(a,ft(),t,l.transform,n,r,i,s,l):l.transform(n,r,i,s))}function Qg(e,t,n){const r=e+ve,i=rt(),s=Ge(i,r);return em(i,Jg(i,r)?Gg(i,ft(),t,s.transform,n,s):s.transform.apply(s,n))}function Jg(e,t){return e[1].data[t].pure}function em(e,t){if(tl.isWrapped(t)){t=tl.unwrap(t);e[gt()]=co}return t}class tm extends r.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),l=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=nm(l),a&&(a=nm(a)),c&&(c=nm(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof i.a&&e.add(u),u}}function nm(e){return t=>{setTimeout(e,void 0,t)}}const rm=tm;function im(){return this._results[Ja()]()}class sm{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ja(),n=sm.prototype;n[t]||(n[t]=im)}get changes(){return this._changes||(this._changes=new rm)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=qn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class om{constructor(e){this.queryList=e,this.matches=null}clone(){return new om(this.queryList)}setDirty(){this.queryList.setDirty()}}class am{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e),i=this.queries[n.indexInDeclarationView];r.push(i.clone())}return new am(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==wm(e,t).matches&&this.queries[t].setDirty()}}class lm{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class cm{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new cm(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class um{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new um(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,hm(t,i)),this.matchTNodeWithReadOption(e,t,vn(t,e,i,!1,!1))}else n===gp?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,vn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Fd||r===xp||r===gp&&4&t.type)this.addMatch(t.index,-2);else{const n=vn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function hm(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function dm(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Rd(e,t):4&e.type?yp(e,t):null}(t,e):-2===n?function(e,t,n){if(n===Fd)return Rd(t,e);if(n===gp)return yp(t,e);if(n===xp)return Tp(t,e)}(e,t,r):yn(e,e[1],n,t)}function pm(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];if(i<0)o.push(null);else{const a=r[i];o.push(dm(t,a,s[e+1],n.metadata.read))}}i.matches=o}return i.matches}function fm(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=pm(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=ye;e<o.length;e++){const t=o[e];t[17]===t[3]&&fm(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];fm(n[1],n,i,r)}}}}}return r}function gm(e){const t=rt(),n=it(),r=Et();Ct(r+1);const i=wm(n,r);if(e.dirty&&Xe(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?fm(n,t,r,[]):pm(n,t,i,r);e.reset(s,jd),e.notifyOnChanges()}return!0}return!1}function mm(e,t,n){const r=it();r.firstCreatePass&&(bm(r,new lm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),_m(r,rt(),t)}function vm(e,t,n,r){const i=it();if(i.firstCreatePass){const s=ot();bm(i,new lm(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}_m(i,rt(),n)}function ym(){return e=rt(),t=Et(),e[19].queries[t].queryList;var e,t}function _m(e,t,n){const r=new sm(4==(4&n));Fo(e,t,r,r.destroy),null===t[19]&&(t[19]=new am),t[19].queries.push(new om(r))}function bm(e,t,n){null===e.queries&&(e.queries=new cm),e.queries.track(new um(t,n))}function wm(e,t){return e.queries.getByIndex(t)}function xm(e,t){return yp(e,t)}const Em={"\u0275\u0275attribute":ul,"\u0275\u0275attributeInterpolate1":bl,"\u0275\u0275attributeInterpolate2":wl,"\u0275\u0275attributeInterpolate3":xl,"\u0275\u0275attributeInterpolate4":El,"\u0275\u0275attributeInterpolate5":Cl,"\u0275\u0275attributeInterpolate6":Sl,"\u0275\u0275attributeInterpolate7":kl,"\u0275\u0275attributeInterpolate8":Tl,"\u0275\u0275attributeInterpolateV":Al,"\u0275\u0275defineComponent":re,"\u0275\u0275defineDirective":he,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":k,"\u0275\u0275defineNgModule":le,"\u0275\u0275definePipe":de,"\u0275\u0275directiveInject":sc,"\u0275\u0275getInheritedFactory":xn,"\u0275\u0275inject":fr,"\u0275\u0275injectAttribute":Cn,"\u0275\u0275invalidFactory":oc,"\u0275\u0275invalidFactoryDep":gr,"\u0275\u0275templateRefExtractor":xm,"\u0275\u0275NgOnChangesFeature":Te,"\u0275\u0275ProvidersFeature":kd,"\u0275\u0275CopyDefinitionFeature":Za,"\u0275\u0275InheritDefinitionFeature":$a,"\u0275\u0275nextContext":Sc,"\u0275\u0275namespaceHTML":Bt,"\u0275\u0275namespaceMathML":jt,"\u0275\u0275namespaceSVG":Ft,"\u0275\u0275enableBindings":tt,"\u0275\u0275disableBindings":nt,"\u0275\u0275elementStart":uc,"\u0275\u0275elementEnd":hc,"\u0275\u0275element":dc,"\u0275\u0275elementContainerStart":pc,"\u0275\u0275elementContainerEnd":fc,"\u0275\u0275elementContainer":gc,"\u0275\u0275pureFunction0":Ig,"\u0275\u0275pureFunction1":Ng,"\u0275\u0275pureFunction2":Pg,"\u0275\u0275pureFunction3":Mg,"\u0275\u0275pureFunction4":Rg,"\u0275\u0275pureFunction5":Lg,"\u0275\u0275pureFunction6":Fg,"\u0275\u0275pureFunction7":jg,"\u0275\u0275pureFunction8":Bg,"\u0275\u0275pureFunctionV":Vg,"\u0275\u0275getCurrentView":mc,"\u0275\u0275restoreView":st,"\u0275\u0275listener":bc,"\u0275\u0275projection":Ac,"\u0275\u0275syntheticHostProperty":Ju,"\u0275\u0275syntheticHostListener":wc,"\u0275\u0275pipeBind1":Xg,"\u0275\u0275pipeBind2":Yg,"\u0275\u0275pipeBind3":Kg,"\u0275\u0275pipeBind4":Zg,"\u0275\u0275pipeBindV":Qg,"\u0275\u0275projectionDef":Tc,"\u0275\u0275hostProperty":Qu,"\u0275\u0275property":ac,"\u0275\u0275propertyInterpolate":Dc,"\u0275\u0275propertyInterpolate1":Oc,"\u0275\u0275propertyInterpolate2":Ic,"\u0275\u0275propertyInterpolate3":Nc,"\u0275\u0275propertyInterpolate4":Pc,"\u0275\u0275propertyInterpolate5":Mc,"\u0275\u0275propertyInterpolate6":Rc,"\u0275\u0275propertyInterpolate7":Lc,"\u0275\u0275propertyInterpolate8":Fc,"\u0275\u0275propertyInterpolateV":jc,"\u0275\u0275pipe":Wg,"\u0275\u0275queryRefresh":gm,"\u0275\u0275viewQuery":mm,"\u0275\u0275loadQuery":ym,"\u0275\u0275contentQuery":vm,"\u0275\u0275reference":Ol,"\u0275\u0275classMap":tu,"\u0275\u0275classMapInterpolate1":Su,"\u0275\u0275classMapInterpolate2":ku,"\u0275\u0275classMapInterpolate3":Tu,"\u0275\u0275classMapInterpolate4":Au,"\u0275\u0275classMapInterpolate5":Du,"\u0275\u0275classMapInterpolate6":Ou,"\u0275\u0275classMapInterpolate7":Iu,"\u0275\u0275classMapInterpolate8":Nu,"\u0275\u0275classMapInterpolateV":Pu,"\u0275\u0275styleMap":Jc,"\u0275\u0275styleMapInterpolate1":Mu,"\u0275\u0275styleMapInterpolate2":Ru,"\u0275\u0275styleMapInterpolate3":Lu,"\u0275\u0275styleMapInterpolate4":Fu,"\u0275\u0275styleMapInterpolate5":ju,"\u0275\u0275styleMapInterpolate6":Bu,"\u0275\u0275styleMapInterpolate7":Vu,"\u0275\u0275styleMapInterpolate8":zu,"\u0275\u0275styleMapInterpolateV":Uu,"\u0275\u0275styleProp":Zc,"\u0275\u0275stylePropInterpolate1":Hu,"\u0275\u0275stylePropInterpolate2":$u,"\u0275\u0275stylePropInterpolate3":qu,"\u0275\u0275stylePropInterpolate4":Gu,"\u0275\u0275stylePropInterpolate5":Wu,"\u0275\u0275stylePropInterpolate6":Xu,"\u0275\u0275stylePropInterpolate7":Yu,"\u0275\u0275stylePropInterpolate8":Ku,"\u0275\u0275stylePropInterpolateV":Zu,"\u0275\u0275classProp":Qc,"\u0275\u0275advance":uo,"\u0275\u0275template":Dl,"\u0275\u0275text":fu,"\u0275\u0275textInterpolate":gu,"\u0275\u0275textInterpolate1":mu,"\u0275\u0275textInterpolate2":vu,"\u0275\u0275textInterpolate3":yu,"\u0275\u0275textInterpolate4":_u,"\u0275\u0275textInterpolate5":bu,"\u0275\u0275textInterpolate6":wu,"\u0275\u0275textInterpolate7":xu,"\u0275\u0275textInterpolate8":Eu,"\u0275\u0275textInterpolateV":Cu,"\u0275\u0275i18n":fd,"\u0275\u0275i18nAttributes":gd,"\u0275\u0275i18nExp":md,"\u0275\u0275i18nStart":dd,"\u0275\u0275i18nEnd":pd,"\u0275\u0275i18nApply":vd,"\u0275\u0275i18nPostprocess":yd,"\u0275\u0275resolveWindow":ls,"\u0275\u0275resolveDocument":cs,"\u0275\u0275resolveBody":us,"\u0275\u0275setComponentScope":ie,"\u0275\u0275setNgModuleScope":ce,"\u0275\u0275sanitizeHtml":Pi,"\u0275\u0275sanitizeStyle":Mi,"\u0275\u0275sanitizeResourceUrl":Li,"\u0275\u0275sanitizeScript":Fi,"\u0275\u0275sanitizeUrl":Ri,"\u0275\u0275sanitizeUrlOrResourceUrl":Vi,"\u0275\u0275trustConstantHtml":ji,"\u0275\u0275trustConstantResourceUrl":Bi,forwardRef:p,resolveForwardRef:f};let Cm=null;const Sm=[];let km=!1;function Tm(e){return Array.isArray(e)?e.every(Tm):!!f(e)}new WeakMap,new WeakMap;function Am(e,t){const n=qn(t.declarations||X),r=Om(e);n.forEach(t=>{if(t.hasOwnProperty(Y)){Dm(pe(t),r)}else t.hasOwnProperty(K)||t.hasOwnProperty(Z)||(t.ngSelectorScope=e)})}function Dm(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map(e=>e.hasOwnProperty(Y)?pe(e):fe(e)).filter(e=>!!e),e.pipeDefs=()=>Array.from(t.compilation.pipes).map(e=>ge(e)),e.schemas=t.schemas,e.tView=null}function Om(e){if(!Nm(e))throw new Error(`${e.name} does not have a module def (\u0275mod property)`);const t=me(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ds(t.imports).forEach(e=>{const t=e;if(!Nm(t))throw new Error(`Importing ${t.name} which does not have a \u0275mod property`);const r=Om(t);r.exported.directives.forEach(e=>n.compilation.directives.add(e)),r.exported.pipes.forEach(e=>n.compilation.pipes.add(e))}),ds(t.declarations).forEach(e=>{ge(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)}),ds(t.exports).forEach(e=>{const t=e;if(Nm(t)){const e=Om(t);e.exported.directives.forEach(e=>{n.compilation.directives.add(e),n.exported.directives.add(e)}),e.exported.pipes.forEach(e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)})}else ge(t)?n.exported.pipes.add(t):n.exported.directives.add(t)}),t.transitiveCompileScopes=n,n}function Im(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function Nm(e){return!!me(e)}let Pm=0;function Mm(e,t){let n=null;Lm(e,t||{}),Object.defineProperty(e,K,{get:()=>{if(null===n){const r=Rm(e,t||{});n=Un().compileDirective(Em,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function Rm(e,t){const n=e&&e.name,r=`ng:///${n}/\u0275dir.js`,i=Un(),s=jm(e,t);return s.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),s.usesInheritance&&Bm(e),{metadata:s,sourceMapUrl:r}}function Lm(e,t){let n=null;Object.defineProperty(e,ee,{get:()=>{if(null===n){const r=Rm(e,t),i=Un();n=i.compileFactory(Em,`ng:///${e.name}/\u0275fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:Ar(e),target:i.FactoryTarget.Directive})}return n},configurable:!1})}function Fm(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function jm(e,t){const n=Tr(),r=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||W,propMetadata:r,inputs:t.inputs||X,outputs:t.outputs||X,queries:zm(e,r,Um),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Fm(e),exportAs:(i=t.exportAs,void 0===i?null:qm(i)),providers:t.providers||null,viewQueries:zm(e,r,Hm)};var i}function Bm(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)fe(n)||pe(n)||!Wm(n)||Mm(n,null),n=Object.getPrototypeOf(n)}function Vm(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?qm(n):f(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function zm(e,t,n){const r=[];for(const i in t)if(t.hasOwnProperty(i)){const s=t[i];s.forEach(t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${i}" of "${_(e)}" since the query selector wasn't defined.`);if(s.some($m))throw new Error("Cannot combine @Input decorators with query decorators");r.push(Vm(i,t))}})}return r}function Um(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Hm(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function $m(e){return"Input"===e.ngMetadataName}function qm(e){return e.split(",").map(e=>e.trim())}const Gm=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Wm(e){const t=Tr();if(Gm.some(n=>t.hasLifecycleHook(e,n)))return!0;const n=t.propMetadata(e);for(const r in n){const e=n[r];for(let t=0;t<e.length;t++){const n=e[t],r=n.ngMetadataName;if($m(n)||Um(n)||Hm(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Xm(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const Ym=An("Directive",(e={})=>e,void 0,void 0,(e,t)=>rv(e,t)),Km=An("Component",(e={})=>Object.assign({changeDetection:B.Default},e),Ym,void 0,(e,t)=>nv(e,t)),Zm=An("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>iv(e,t)),Qm=In("Input",e=>({bindingPropertyName:e})),Jm=In("Output",e=>({bindingPropertyName:e})),ev=In("HostBinding",e=>({hostPropertyName:e})),tv=In("HostListener",(e,t)=>({eventName:e,args:t})),nv=function(e,t){let n=null;!function(e,t){Pr(t)&&(Ir.set(e,t),Nr.add(e))}(e,t),Lm(e,t),Object.defineProperty(e,Y,{get:()=>{if(null===n){const r=Un();if(Pr(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=Cm;let s=t.preserveWhitespaces;void 0===s&&(s=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let o=t.encapsulation;void 0===o&&(o=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:z.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,l=Object.assign(Object.assign({},jm(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:s,styles:t.styles||X,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:o,interpolation:t.interpolation,viewProviders:t.viewProviders||null});Pm++;try{l.usesInheritance&&Bm(e),n=r.compileComponent(Em,a,l)}finally{Pm--}if(0===Pm&&function(){if(!km){km=!0;try{for(let e=Sm.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=Sm[e];n.declarations&&n.declarations.every(Tm)&&(Sm.splice(e,1),Am(t,n))}}finally{km=!1}}}(),void 0!==e.ngSelectorScope){const t=Om(e.ngSelectorScope);Dm(n,t)}}return n},configurable:!1})},rv=Mm,iv=function(e,t){let n=null,r=null;Object.defineProperty(e,ee,{get:()=>{if(null===r){const n=Xm(e,t),i=Un();r=i.compileFactory(Em,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:Ar(e),target:i.FactoryTarget.Pipe})}return r},configurable:!1}),Object.defineProperty(e,Z,{get:()=>{if(null===n){const r=Xm(e,t);n=Un().compilePipe(Em,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})},sv=An("NgModule",e=>e,void 0,void 0,(e,t)=>ov(e,t));const ov=function(e,t={}){!function(e,t,n=!1){const r=qn(t.declarations||X);let i=null;Object.defineProperty(e,Q,{configurable:!0,get:()=>(null===i&&(i=Un().compileNgModule(Em,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:qn(t.bootstrap||X).map(f),declarations:r.map(f),imports:qn(t.imports||X).map(f).map(Im),exports:qn(t.exports||X).map(f).map(Im),schemas:t.schemas?qn(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(e,ee,{get:()=>{if(null===s){const t=Un();s=t.compileFactory(Em,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:Ar(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(e,I,{get:()=>{if(null===o){const n={name:e.name,type:e,providers:t.providers||X,imports:[(t.imports||X).map(f),(t.exports||X).map(f)]};o=Un().compileInjector(Em,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}(e,t),function(e,t){Sm.push({moduleType:e,ngModule:t})}(e,t)},av=new Pn("Application Initializer");class lv{constructor(e){this.appInits=e,this.resolve=Md,this.reject=Md,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(vc(t))e.push(t);else if(_c(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}lv.\u0275fac=function(e){return new(e||lv)(fr(av,8))},lv.\u0275prov=S({token:lv,factory:lv.\u0275fac}),lv.ctorParameters=()=>[{type:void 0,decorators:[{type:wr,args:[av]},{type:xr}]}];const cv=new Pn("AppId");const uv={provide:cv,useFactory:function(){return`${hv()}${hv()}${hv()}`},deps:[]};function hv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dv=new Pn("Platform Initializer"),pv=new Pn("Platform ID"),fv=new Pn("appBootstrapListener"),gv=new Pn("Application Packages Root URL");class mv{log(e){console.log(e)}warn(e){console.warn(e)}}mv.\u0275fac=function(e){return new(e||mv)},mv.\u0275prov=S({token:mv,factory:mv.\u0275fac});const vv=new Pn("LocaleId"),yv=new Pn("DefaultCurrencyCode"),_v=new Pn("Translations"),bv=new Pn("TranslationsFormat");var wv;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(wv||(wv={}));class xv{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Ev=function(e){return new Og(e)},Cv=Ev,Sv=function(e){return Promise.resolve(Ev(e))},kv=function(e){const t=Ev(e),n=ds(me(e).declarations).reduce((e,t)=>{const n=pe(t);return n&&e.push(new Eg(n)),e},[]);return new xv(t,n)},Tv=kv,Av=function(e){return Promise.resolve(kv(e))};class Dv{constructor(){this.compileModuleSync=Cv,this.compileModuleAsync=Sv,this.compileModuleAndAllComponentsSync=Tv,this.compileModuleAndAllComponentsAsync=Av}clearCache(){}clearCacheFor(e){}getModuleId(e){}}Dv.\u0275fac=function(e){return new(e||Dv)},Dv.\u0275prov=S({token:Dv,factory:Dv.\u0275fac});const Ov=new Pn("compilerOptions");class Iv{}const Nv=Promise.resolve(0);function Pv(e){"undefined"==typeof Zone?Nv.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Mv{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rm(!1),this.onMicrotaskEmpty=new rm(!1),this.onStable=new rm(!1),this.onError=new rm(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=G.requestAnimationFrame,t=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){if(e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId)return;e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(G,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Fv(e),e.isCheckStableRunning=!0,Lv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Fv(e)}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return jv(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Bv(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return jv(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Bv(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Fv(e),Lv(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mv.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mv.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Rv,Md,Md);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Rv={};function Lv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fv(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function jv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bv(e){e._nesting--,Lv(e)}class Vv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rm,this.onMicrotaskEmpty=new rm,this.onStable=new rm,this.onError=new rm}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}class zv{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mv.assertNotInAngularZone(),Pv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pv(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}zv.\u0275fac=function(e){return new(e||zv)(fr(Mv))},zv.\u0275prov=S({token:zv,factory:zv.\u0275fac}),zv.ctorParameters=()=>[{type:Mv}];class Uv{constructor(){this._applications=new Map,qv.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return qv.findTestabilityInTree(this,e,t)}}Uv.\u0275fac=function(e){return new(e||Uv)},Uv.\u0275prov=S({token:Uv,factory:Uv.\u0275fac}),Uv.ctorParameters=()=>[];function Hv(e){qv=e}let $v,qv=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}},Gv=!0,Wv=!1;function Xv(){return Wv=!0,Gv}function Yv(){if(Wv)throw new Error("Cannot enable prod mode after platform setup.");Gv=!1}let Kv=function(e,t,n){const r=new Og(n);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(r);const i=e.get(Ov,[]).concat(t);if(function(e){if(null!==Cm){if(e.defaultEncapsulation!==Cm.defaultEncapsulation)return;if(e.preserveWhitespaces!==Cm.preserveWhitespaces)return}Cm=e}({defaultEncapsulation:ay(i.map(e=>e.defaultEncapsulation)),preserveWhitespaces:ay(i.map(e=>e.preserveWhitespaces))}),function(){return 0===Ir.size}())return Promise.resolve(r);const s=function(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}(i.map(e=>e.providers));if(0===s.length)return Promise.resolve(r);const o=Un(),a=Ia.create({providers:s}).get(o.ResourceLoader);return Or(e=>Promise.resolve(a.get(e))).then(()=>r)};let Zv=function(){},Qv=function(e){return e.isBoundToModule};const Jv=new Pn("AllowMultipleToken");class ey{constructor(e,t){this.name=e,this.token=t}}function ty(e,t,n=[]){const r=`Platform: ${t}`,i=new Pn(r);return(t=[])=>{let s=ny();if(!s||s.injector.get(Jv,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:ya,useValue:"platform"});!function(e){if($v&&!$v.destroyed&&!$v.injector.get(Jv,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zv(),$v=e.get(ry);const t=e.get(dv,null);t&&t.forEach(e=>e())}(Ia.create({providers:e,name:r}))}return function(e){const t=ny();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ny(){return $v&&!$v.destroyed?$v:null}class ry{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;n="noop"===e?new Vv:("zone.js"===e?void 0:e)||new Mv({enableLongStackTrace:Xv(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)});return n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Mv,useValue:n}];return n.run(()=>{const t=Ia.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(es,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{oy(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return vc(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(lv);return e.runInitializers(),e.donePromise.then(()=>{gh(i.injector.get(vv,uh)||uh);return this._moduleDoBootstrap(i),i})})})}bootstrapModule(e,t=[]){const n=iy({},t);return Kv(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(sy);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function iy(e,t){return e=Array.isArray(t)?t.reduce(iy,e):Object.assign(Object.assign({},e),t)}ry.\u0275fac=function(e){return new(e||ry)(fr(Ia))},ry.\u0275prov=S({token:ry,factory:ry.\u0275fac}),ry.ctorParameters=()=>[{type:Ia}];class sy{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Mv.assertNotInAngularZone(),Pv(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Mv.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,c.pipe(Object(a.a)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Ad?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=Qv(n)?void 0:this._injector.get(_p),i=t||n.selector,s=n.create(Ia.NULL,[],i,r),o=s.location.nativeElement,a=s.injector.get(zv,null),l=a&&s.injector.get(Uv);return a&&l&&l.registerApplication(o,a),s.onDestroy(()=>{this.detachView(s.hostView),oy(this.components,s),l&&l.unregisterApplication(o)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();0}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;oy(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);this._injector.get(fv,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}function oy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ay(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}sy.\u0275fac=function(e){return new(e||sy)(fr(Mv),fr(Ia),fr(es),fr(Id),fr(lv))},sy.\u0275prov=S({token:sy,factory:sy.\u0275fac}),sy.ctorParameters=()=>[{type:Mv},{type:Ia},{type:es},{type:Id},{type:lv}];class ly{}class cy{}const uy={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class hy{constructor(e,t){this._compiler=e,this._config=t||uy}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>dy(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>dy(e,t,r))}}function dy(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}hy.\u0275fac=function(e){return new(e||hy)(fr(Dv),fr(cy,8))},hy.\u0275prov=S({token:hy,factory:hy.\u0275fac}),hy.ctorParameters=()=>[{type:Dv},{type:cy,decorators:[{type:xr}]}];class py extends cp{}class fy extends py{}class gy{constructor(e,t){this.name=e,this.callback=t}}class my{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof vy&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class vy extends my{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return yy(this,e,t),t}queryAllNodes(e){const t=[];return _y(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof vy)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}function yy(e,t,n){e.childNodes.forEach(e=>{e instanceof vy&&(t(e)&&n.push(e),yy(e,t,n))})}function _y(e,t,n){e instanceof vy&&e.childNodes.forEach(e=>{t(e)&&n.push(e),e instanceof vy&&_y(e,t,n)})}class by{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new wy(e):null}get injector(){return Ra(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Na(e)||Ma(e))}get context(){return Na(this.nativeNode)||Pa(this.nativeNode)}get listeners(){return La(this.nativeNode).filter(e=>"dom"===e.type)}get references(){return function(e){const t=Ui(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[1].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)t[n.localNames[i]]=e[r],r++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=Ui(e);if(null===t)return[];const n=t.lView[1],r=n.data[t.nodeIndex],i=[],s=1048575&r.providerIndexes,o=r.directiveEnd;for(let l=s;l<o;l++){let e=n.data[l];void 0!==(a=e).type&&void 0!==a.template&&void 0!==a.declaredInputs&&(e=e.type),i.push(e)}var a;return i}(this.nativeNode)}}class wy extends by{constructor(e){super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=Ui(this.nativeNode);if(null!==e){return e.lView[1].data[e.nodeIndex].value}return this.nativeNode.nodeName}get properties(){const e=Ui(this.nativeNode);if(null===e)return{};const t=e.lView,n=t[1].data,r=n[e.nodeIndex],i={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=e[n];xy(r)&&(t[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,i),function(e,t,n,r){let i=t.propertyBindings;if(null!==i)for(let s=0;s<i.length;s++){const t=i[s],o=r[t].split(hs),a=o[0];if(o.length>1){let r=o[1];for(let e=1;e<o.length-1;e++)r+=y(n[t+e-1])+o[e+1];e[a]=r}else e[a]=n[t]}}(i,r,t,n),i}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=Ui(t);if(null===n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r){let t=0;for(;t<r.length;){const n=r[t];if("string"!=typeof n)break;const s=r[t+1];e[n]=s,i.push(n.toLowerCase()),t+=2}}const s=t.attributes;for(let o=0;o<s.length;o++){const t=s[o],n=t.name.toLowerCase();-1===i.indexOf(n)&&(e[n]=t.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return(t&&"string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach(t=>e[t]=!0),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(Oy(r))}return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let r=0;r<t.length;r++){const e=t[r];n.push(Oy(e))}return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Ey(this,e,t,!0),t}queryAllNodes(e){const t=[];return Ey(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,r=[];this.listeners.forEach(i=>{if(i.name===e){const e=i.callback;e.call(n,t),r.push(e)}}),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach(e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const i=e("__ngUnwrap__");return-1===r.indexOf(i)&&i.call(n,t)}})}}function xy(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function Ey(e,t,n,r){const i=Ui(e.nativeNode);if(null!==i){Cy(i.lView[1].data[i.nodeIndex],i.lView,t,n,r,e.nativeNode)}else Ty(e.nativeNode,t,n,r)}function Cy(e,t,n,r,i,s){const o=function(e,t){const n=null===e?-1:e.index;if(-1!==n){return Ue(t[n])}return null}(e,t);if(11&e.type){if(ky(o,n,r,i,s),xe(e)){const o=We(e.index,t);o&&o[1].firstChild&&Cy(o[1].firstChild,o,n,r,i,s)}else e.child&&Cy(e.child,t,n,r,i,s),o&&Ty(o,n,r,i);const a=t[e.index];be(a)&&Sy(a,n,r,i,s)}else if(4&e.type){const o=t[e.index];ky(o[7],n,r,i,s),Sy(o,n,r,i,s)}else if(16&e.type){const o=t[16],a=o[6].projection[e.projection];if(Array.isArray(a))for(let e of a)ky(e,n,r,i,s);else if(a){const e=o[3];Cy(e[1].data[a.index],e,n,r,i,s)}}else e.child&&Cy(e.child,t,n,r,i,s);if(s!==o){const o=4&e.flags?e.projectionNext:e.next;o&&Cy(o,t,n,r,i,s)}}function Sy(e,t,n,r,i){for(let s=ye;s<e.length;s++){const o=e[s],a=o[1].firstChild;a&&Cy(a,o,t,n,r,i)}}function ky(e,t,n,r,i){if(i!==e){const i=Iy(e);if(!i)return;(r&&i instanceof wy&&t(i)&&-1===n.indexOf(i)||!r&&t(i)&&-1===n.indexOf(i))&&n.push(i)}}function Ty(e,t,n,r){const i=e.childNodes,s=i.length;for(let o=0;o<s;o++){const e=i[o],s=Iy(e);s&&((r&&s instanceof wy&&t(s)&&-1===n.indexOf(s)||!r&&t(s)&&-1===n.indexOf(s))&&n.push(s),Ty(e,t,n,r))}}const Ay=new Map;const Dy="__ng_debug__";function Oy(e){return e instanceof Node?(e.hasOwnProperty(Dy)||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new wy(e):new by(e)),e.__ng_debug__):null}const Iy=Oy;const Ny=function(e){return null};function Py(e){Ay.set(e.nativeNode,e)}const My=ty(null,"core",[{provide:pv,useValue:"unknown"},{provide:ry,deps:[Ia]},{provide:Uv,deps:[]},{provide:mv,deps:[]}]);const Ry=[{provide:sy,useClass:sy,deps:[Mv,Ia,es,Id,lv]},{provide:xg,deps:[Mv],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:lv,useClass:lv,deps:[[new xr,av]]},{provide:Dv,useClass:Dv,deps:[]},uv,{provide:np,useFactory:function(){return dp},deps:[]},{provide:ip,useFactory:function(){return pp},deps:[]},{provide:vv,useFactory:function(e){return gh(e=e||"undefined"!=typeof $localize&&$localize.locale||uh),e},deps:[[new wr(vv),new xr,new Cr]]},{provide:yv,useValue:"USD"}];class Ly{constructor(e){}}function Fy(e,t,n,r,i,s){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=of(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?uf(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Bp},provider:null,text:null,query:null,ngContent:null}}function jy(e,t,n,r,i,s,o=[],a,l,c,u,h){c||(c=Bp);const{matchedQueries:d,references:p,matchedQueryIds:f}=of(n);let g=null,m=null;s&&([g,m]=vf(s)),a=a||[];const v=[];for(let b=0;b<a.length;b++){const[e,t,n]=a[b],[r,i]=vf(t);let s,o;switch(15&e){case 4:o=n;break;case 1:case 8:s=n}v[b]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}l=l||[];const y=[];for(let b=0;b<l.length;b++){const[e,t]=l[b];y[b]={type:0,target:e,eventName:t,propName:null}}const _=(o=o||[]).map(([e,t])=>{const[n,r]=vf(e);return[n,r,t]});return h=function(e){if(e&&e.id===Hp){const t=null!=e.encapsulation&&e.encapsulation!==z.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+Gp++:$p}return e&&e.id===$p&&(e=null),e||null}(h),u&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:yf(v),outputs:y,element:{ns:g,name:m,attrs:_,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Bp},provider:null,text:null,query:null,ngContent:null}}function By(e,t,n){const r=n.element,i=e.root.selectorOrNode,s=e.renderer;let o;if(e.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=lf(e,t,n);i&&s.appendChild(i,o)}else{const e=!!r.componentRendererType&&r.componentRendererType.encapsulation===z.ShadowDom;o=s.selectRootElement(i,e)}if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];s.setAttribute(o,t,n,e)}return o}function Vy(e,t,n,r){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=zy(e,n.nodeIndex,(i=a.target,s=a.eventName,i?`${i}:${s}`:s));let c=a.target,u=e;"component"===a.target&&(c=null,u=t);const h=u.renderer.listen(c||r,a.eventName,l);e.disposables[n.outputIndex+o]=h}var i,s}function zy(e,t,n){return r=>Qp(e,t,n,r)}function Uy(e,t,n,r){if(!Xp(e,t,n,r))return!1;const i=t.bindings[n],s=Mp(e,t.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,s){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=e.renderer;null!=s?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(e,i,o,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,o,a,r);break;case 4:!function(e,t,n,r,i){let s=e.root.sanitizer.sanitize(Ni.STYLE,i);if(null!=s){s=s.toString();const e=t.suffix;null!=e&&(s+=e)}else s=null;const o=e.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(e,i,o,a,r);break;case 8:!function(e,t,n,r,i){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,i):i;e.renderer.setProperty(n,r,o)}(33554432&t.flags&&32&i.flags?s.componentView:e,i,o,a,r)}return!0}function Hy(e,t,n){let r=[];for(let i in n){const e=n[i];r.push({propName:i,bindingType:e})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:sf(t),bindings:r},ngContent:null}}function $y(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&rf(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&Fp(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&Fp(e,n).setDirty(),n+=t.childCount}}function qy(e,t){const n=Fp(e,t.nodeIndex);if(!n.dirty)return;let r,i;if(67108864&t.flags){const n=t.parent.parent;i=Gy(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=Rp(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Gy(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i,jd);const s=t.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const e=s[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}r[e.propName]=t}o&&n.notifyOnChanges()}function Gy(e,t,n,r,i){for(let s=t;s<=n;s++){const t=e.def.nodes[s],n=t.matchedQueries[r.id];if(null!=n&&i.push(Wy(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Mp(e,s);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Gy(e,s+1,s+t.childCount,r,i),s+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const s=e[t],o=Jp(s);o&&o===n&&Gy(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Gy(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(s+=t.childCount)}return i}function Wy(e,t,n){if(null!=n)switch(n){case 1:return Mp(e,t.nodeIndex).renderElement;case 0:return new Fd(Mp(e,t.nodeIndex).renderElement);case 2:return Mp(e,t.nodeIndex).template;case 3:return Mp(e,t.nodeIndex).viewContainer;case 4:return Rp(e,t.nodeIndex).instance}}function Xy(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Yy(e,t,n){const r=lf(e,t,n);if(!r)return;pf(e,n.ngContent.index,1,r,null,void 0)}function Ky(e,t){return Jy(128,e,Yn(t+1))}function Zy(e,t){return Jy(32,e,Yn(t))}function Qy(e,t){const n=Object.keys(t),r=n.length,i=[];for(let s=0;s<r;s++){const e=n[s];t[e];i.push(e)}return Jy(64,e,i)}function Jy(e,t,n){const r=[];for(let i=0;i<n.length;i++){const e=n[i];r.push({flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:yf(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function e_(e,t,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function t_(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const s=lf(e,t,n);return s&&i.appendChild(s,r),{renderText:r}}function n_(e,t){return(null!=e?e.toString():"")+t.suffix}function r_(e,t,n,r){let i=0,s=0,o=0,a=0,l=0,c=null,u=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=c,e.bindingIndex=i,e.outputIndex=s,e.renderParent=u,o|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(s_(c,e,t.length),i+=e.bindings.length,s+=e.outputs.length,!u&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(8192&e.flags),n=0!=(32768&e.flags);!t||n?c.element.publicProviders[zp(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[zp(e.provider.token)]=e),n&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,i_(e)||(u=e);else for(;c&&f===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),c=e,u=c&&i_(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||Bp,updateRenderer:r||Bp,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:p}}function i_(e){return 0!=(1&e.flags)&&null===e.element.name}function s_(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags){if(0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`)}if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function o_(e,t,n,r){const i=c_(e.root,e.renderer,e,t,n);return u_(i,e.component,r),h_(i),i}function a_(e,t,n){const r=c_(e,e.renderer,null,null,t);return u_(r,n,n),h_(r),r}function l_(e,t,n,r){const i=t.element.componentRendererType;let s;return s=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,c_(e.root,s,e,t.element.componentProvider,n)}function c_(e,t,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function u_(e,t,n){e.component=t,e.context=n}function h_(e){let t;if(nf(e)){const n=e.parentNodeDef;t=Mp(e.parent,n.parent.nodeIndex).renderElement}const n=e.def,r=e.nodes;for(let s=0;s<n.nodes.length;s++){const o=n.nodes[s];let a;switch(jp.setCurrentNode(e,s),201347067&o.flags){case 1:const n=By(e,t,o);let l;if(33554432&o.flags){const t=uf(o.element.componentView);l=jp.createComponentView(e,o,t,n)}Vy(e,l,o,n),a={renderElement:n,componentView:l,viewContainer:null,template:o.element.template?Hf(e,o):void 0},16777216&o.flags&&(a.viewContainer=Bf(e,o,a));break;case 2:a=t_(e,t,o);break;case 512:case 1024:case 2048:case 256:if(a=r[s],!(a||4096&o.flags)){a={instance:ag(e,o)}}break;case 16:a={instance:lg(e,o)};break;case 16384:if(a=r[s],!a){a={instance:cg(e,o)}}if(32768&o.flags){u_(Mp(e,o.parent.nodeIndex).componentView,a.instance,a.instance)}break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:i=-2147483648==(-2147483648&o.flags),a=new sm(i);break;case 8:Yy(e,t,o),a=void 0}r[s]=a}var i;b_(e,__.CreateViewNodes),C_(e,201326592,268435456,0)}function d_(e){g_(e),jp.updateDirectives(e,1),w_(e,__.CheckNoChanges),jp.updateRenderer(e,1),b_(e,__.CheckNoChanges),e.state&=-97}function p_(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Ip(e,0,256),g_(e),jp.updateDirectives(e,0),w_(e,__.CheckAndUpdate),C_(e,67108864,536870912,0);let t=Ip(e,256,512);vg(e,2097152|(t?1048576:0)),jp.updateRenderer(e,0),b_(e,__.CheckAndUpdate),C_(e,134217728,536870912,0),t=Ip(e,512,768),vg(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Ip(e,768,1024)}function f_(e,t,n,r,i,s,o,a,l,c,u,h,d){return 0===n?function(e,t,n,r,i,s,o,a,l,c,u,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,s,o,a,l,c,u,h){const d=t.bindings.length;let p=!1;return d>0&&Uy(e,t,0,n)&&(p=!0),d>1&&Uy(e,t,1,r)&&(p=!0),d>2&&Uy(e,t,2,i)&&(p=!0),d>3&&Uy(e,t,3,s)&&(p=!0),d>4&&Uy(e,t,4,o)&&(p=!0),d>5&&Uy(e,t,5,a)&&(p=!0),d>6&&Uy(e,t,6,l)&&(p=!0),d>7&&Uy(e,t,7,c)&&(p=!0),d>8&&Uy(e,t,8,u)&&(p=!0),d>9&&Uy(e,t,9,h)&&(p=!0),p}(e,t,n,r,i,s,o,a,l,c,u,h);case 2:return function(e,t,n,r,i,s,o,a,l,c,u,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&Xp(e,t,0,n)&&(d=!0),f>1&&Xp(e,t,1,r)&&(d=!0),f>2&&Xp(e,t,2,i)&&(d=!0),f>3&&Xp(e,t,3,s)&&(d=!0),f>4&&Xp(e,t,4,o)&&(d=!0),f>5&&Xp(e,t,5,a)&&(d=!0),f>6&&Xp(e,t,6,l)&&(d=!0),f>7&&Xp(e,t,7,c)&&(d=!0),f>8&&Xp(e,t,8,u)&&(d=!0),f>9&&Xp(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=n_(n,p[0])),f>1&&(d+=n_(r,p[1])),f>2&&(d+=n_(i,p[2])),f>3&&(d+=n_(s,p[3])),f>4&&(d+=n_(o,p[4])),f>5&&(d+=n_(a,p[5])),f>6&&(d+=n_(l,p[6])),f>7&&(d+=n_(c,p[7])),f>8&&(d+=n_(u,p[8])),f>9&&(d+=n_(h,p[9]));const g=Pp(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,s,o,a,l,c,u,h);case 16384:return function(e,t,n,r,i,s,o,a,l,c,u,h){const d=Rp(e,t.nodeIndex),p=d.instance;let f,g=!1;const m=t.bindings.length;return m>0&&Wp(e,t,0,n)&&(g=!0,f=mg(e,d,t,0,n,f)),m>1&&Wp(e,t,1,r)&&(g=!0,f=mg(e,d,t,1,r,f)),m>2&&Wp(e,t,2,i)&&(g=!0,f=mg(e,d,t,2,i,f)),m>3&&Wp(e,t,3,s)&&(g=!0,f=mg(e,d,t,3,s,f)),m>4&&Wp(e,t,4,o)&&(g=!0,f=mg(e,d,t,4,o,f)),m>5&&Wp(e,t,5,a)&&(g=!0,f=mg(e,d,t,5,a,f)),m>6&&Wp(e,t,6,l)&&(g=!0,f=mg(e,d,t,6,l,f)),m>7&&Wp(e,t,7,c)&&(g=!0,f=mg(e,d,t,7,c,f)),m>8&&Wp(e,t,8,u)&&(g=!0,f=mg(e,d,t,8,u,f)),m>9&&Wp(e,t,9,h)&&(g=!0,f=mg(e,d,t,9,h,f)),f&&p.ngOnChanges(f),65536&t.flags&&Np(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),g}(e,t,n,r,i,s,o,a,l,c,u,h);case 32:case 64:case 128:return function(e,t,n,r,i,s,o,a,l,c,u,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&Xp(e,t,0,n)&&(p=!0),f>1&&Xp(e,t,1,r)&&(p=!0),f>2&&Xp(e,t,2,i)&&(p=!0),f>3&&Xp(e,t,3,s)&&(p=!0),f>4&&Xp(e,t,4,o)&&(p=!0),f>5&&Xp(e,t,5,a)&&(p=!0),f>6&&Xp(e,t,6,l)&&(p=!0),f>7&&Xp(e,t,7,c)&&(p=!0),f>8&&Xp(e,t,8,u)&&(p=!0),f>9&&Xp(e,t,9,h)&&(p=!0),p){const p=Lp(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=[],f>0&&g.push(n),f>1&&g.push(r),f>2&&g.push(i),f>3&&g.push(s),f>4&&g.push(o),f>5&&g.push(a),f>6&&g.push(l),f>7&&g.push(c),f>8&&g.push(u),f>9&&g.push(h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=s),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=c),f>8&&(g[d[8].name]=u),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,s);break;case 5:g=e.transform(r,i,s,o);break;case 6:g=e.transform(r,i,s,o,a);break;case 7:g=e.transform(r,i,s,o,a,l);break;case 8:g=e.transform(r,i,s,o,a,l,c);break;case 9:g=e.transform(r,i,s,o,a,l,c,u);break;case 10:g=e.transform(r,i,s,o,a,l,c,u,h)}}p.value=g}return p}(e,t,n,r,i,s,o,a,l,c,u,h);default:throw"unreachable"}}(e,t,r,i,s,o,a,l,c,u,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Uy(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let s=0;s<n.length;s++)Xp(e,t,s,n[s])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=n_(n[e],r[e]);i=t.text.prefix+i;const s=Pp(e,t.nodeIndex).renderText;e.renderer.setValue(s,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=Rp(e,t.nodeIndex),i=r.instance;let s,o=!1;for(let a=0;a<n.length;a++)Wp(e,t,a,n[a])&&(o=!0,s=mg(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&Np(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let s=0;s<n.length;s++)Xp(e,t,s,n[s])&&(i=!0);if(i){const i=Lp(e,t.nodeIndex);let s;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);s=e.transform(...t)}i.value=s}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function g_(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=Mp(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Zp(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function m_(e,t,n,r,i,s,o,a,l,c,u,h,d){return 0===n?function(e,t,n,r,i,s,o,a,l,c,u,h){const d=t.bindings.length;d>0&&Yp(e,t,0,n);d>1&&Yp(e,t,1,r);d>2&&Yp(e,t,2,i);d>3&&Yp(e,t,3,s);d>4&&Yp(e,t,4,o);d>5&&Yp(e,t,5,a);d>6&&Yp(e,t,6,l);d>7&&Yp(e,t,7,c);d>8&&Yp(e,t,8,u);d>9&&Yp(e,t,9,h)}(e,t,r,i,s,o,a,l,c,u,h,d):function(e,t,n){for(let r=0;r<n.length;r++)Yp(e,t,r,n[r])}(e,t,r),!1}function v_(e,t){if(Fp(e,t.nodeIndex).dirty)throw Ap(jp.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function y_(e){if(!(128&e.state)){if(w_(e,__.Destroy),b_(e,__.Destroy),vg(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Jp(e);if(t){const n=t.template._projectedViews;n&&(Xn(n,n.indexOf(e)),jp.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Mp(e,n).renderElement):2&t.flags?e.renderer.destroyNode(Pp(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&Fp(e,n).destroy()}}(e),nf(e)&&e.renderer.destroy(),e.state|=128}}var __;function b_(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?x_(Mp(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function w_(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Mp(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)x_(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function x_(e,t){const n=e.state;switch(t){case __.CheckNoChanges:0==(128&n)&&(12==(12&n)?d_(e):64&n&&E_(e,__.CheckNoChangesProjectedViews));break;case __.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?d_(e):64&n&&E_(e,t));break;case __.CheckAndUpdate:0==(128&n)&&(12==(12&n)?p_(e):64&n&&E_(e,__.CheckAndUpdateProjectedViews));break;case __.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?p_(e):64&n&&E_(e,t));break;case __.Destroy:y_(e);break;case __.CreateViewNodes:h_(e)}}function E_(e,t){w_(e,t),b_(e,t)}function C_(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let s=0;s<i;s++){const i=e.def.nodes[s];if(i.flags&t&&i.flags&n)switch(jp.setCurrentNode(e,i.nodeIndex),r){case 0:qy(e,i);break;case 1:v_(e,i)}i.childFlags&t&&i.childFlags&n||(s+=i.childCount)}}Ly.\u0275fac=function(e){return new(e||Ly)(fr(sy))},Ly.\u0275mod=le({type:Ly}),Ly.\u0275inj=k({providers:Ry}),Ly.ctorParameters=()=>[{type:sy}],function(e){e[e.CreateViewNodes=0]="CreateViewNodes",e[e.CheckNoChanges=1]="CheckNoChanges",e[e.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate=3]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",e[e.Destroy=5]="Destroy"}(__||(__={}));let S_=!1;function k_(){if(S_)return;S_=!0;const e=Xv()?{setCurrentNode:Y_,createRootView:A_,createEmbeddedView:O_,createComponentView:I_,createNgModuleRef:N_,overrideProvider:L_,overrideComponentView:F_,clearOverrides:j_,checkAndUpdateView:U_,checkNoChangesView:H_,destroyView:$_,createDebugContext:(e,t)=>new rb(e,t),handleEvent:K_,updateDirectives:Z_,updateRenderer:Q_}:{setCurrentNode:()=>{},createRootView:T_,createEmbeddedView:o_,createComponentView:l_,createNgModuleRef:Xf,overrideProvider:Bp,overrideComponentView:Bp,clearOverrides:Bp,checkAndUpdateView:p_,checkNoChangesView:d_,destroyView:y_,createDebugContext:(e,t)=>new rb(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?V_:z_,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?V_:z_,e)};jp.setCurrentNode=e.setCurrentNode,jp.createRootView=e.createRootView,jp.createEmbeddedView=e.createEmbeddedView,jp.createComponentView=e.createComponentView,jp.createNgModuleRef=e.createNgModuleRef,jp.overrideProvider=e.overrideProvider,jp.overrideComponentView=e.overrideComponentView,jp.clearOverrides=e.clearOverrides,jp.checkAndUpdateView=e.checkAndUpdateView,jp.checkNoChangesView=e.checkNoChangesView,jp.destroyView=e.destroyView,jp.resolveDep=fg,jp.createDebugContext=e.createDebugContext,jp.handleEvent=e.handleEvent,jp.updateDirectives=e.updateDirectives,jp.updateRenderer=e.updateRenderer,jp.dirtyParentQueries=$y}function T_(e,t,n,r,i,s){const o=i.injector.get(Bd);return a_(D_(e,i,o,t,n),r,s)}function A_(e,t,n,r,i,s){const o=i.injector.get(Bd),a=D_(e,i,new ab(o),t,n),l=B_(r);return sb(q_.create,a_,null,[a,l,s])}function D_(e,t,n,r,i){const s=t.injector.get(Ud),o=t.injector.get(es),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function O_(e,t,n,r){const i=B_(n);return sb(q_.create,o_,null,[e,t,i,r])}function I_(e,t,n,r){const i=R_.get(t.element.componentProvider.provider.token);return n=i||B_(n),sb(q_.create,l_,null,[e,t,n,r])}function N_(e,t,n,r){return Xf(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=r(e);if(!t)return e;return i(e=e.factory(()=>Bp)),e;function r(e){let t=!1,n=!1;return 0===P_.size||(e.providers.forEach(e=>{const r=P_.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{M_.forEach((r,i)=>{f(T(i).providedIn)===e&&(t=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:t,hasDeprecatedOverrides:n}}function i(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=P_.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=af(i.deps),r.value=i.value)}if(M_.size>0){let t=new Set(e.modules);M_.forEach((r,i)=>{if(t.has(f(T(i).providedIn))){let t={token:i,flags:r.flags|(n?4096:0),deps:af(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[zp(i)]=t}})}}}(r))}const P_=new Map,M_=new Map,R_=new Map;function L_(e){let t;P_.set(e.token,e),"function"==typeof e.token&&(t=T(e.token))&&"function"==typeof t.providedIn&&M_.set(e.token,e)}function F_(e,t){const n=uf(t.viewDefFactory);const r=uf(n.nodes[0].element.componentView);R_.set(e,r)}function j_(){P_.clear(),M_.clear(),R_.clear()}function B_(e){if(0===P_.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&P_.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Bp);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=P_.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=af(n.deps),e.value=n.value)}}}}function V_(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=e.def.nodes[t];return f_(e,p,n,r,i,s,o,a,l,c,u,h,d),224&p.flags?Lp(e,t).value:void 0}function z_(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=e.def.nodes[t];return m_(e,p,n,r,i,s,o,a,l,c,u,h,d),224&p.flags?Lp(e,t).value:void 0}function U_(e){return sb(q_.detectChanges,p_,null,[e])}function H_(e){return sb(q_.checkNoChanges,d_,null,[e])}function $_(e){return sb(q_.destroy,y_,null,[e])}var q_;let G_,W_,X_;function Y_(e,t){W_=e,X_=t}function K_(e,t,n,r){return Y_(e,t),sb(q_.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Z_(e,t){if(128&e.state)throw Op(q_[G_]);return Y_(e,tb(e,0)),e.def.updateDirectives(function(e,n,r,...i){const s=e.def.nodes[n];0===t?J_(e,s,r,i):eb(e,s,r,i);16384&s.flags&&Y_(e,tb(e,n));return 224&s.flags?Lp(e,s.nodeIndex).value:void 0},e)}function Q_(e,t){if(128&e.state)throw Op(q_[G_]);return Y_(e,nb(e,0)),e.def.updateRenderer(function(e,n,r,...i){const s=e.def.nodes[n];0===t?J_(e,s,r,i):eb(e,s,r,i);3&s.flags&&Y_(e,nb(e,n));return 224&s.flags?Lp(e,s.nodeIndex).value:void 0},e)}function J_(e,t,n,r){if(f_(e,t,n,...r)){const i=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],s=i[e];8&r.flags&&(n[is(r.nonMinifiedName)]=os(s))}const r=t.parent,s=Mp(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(s,t,r):e.renderer.removeAttribute(s,t)}else e.renderer.setValue(s,rs(`bindings=${JSON.stringify(n,null,2)}`))}}}function eb(e,t,n,r){m_(e,t,n,...r)}function tb(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function nb(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}!function(e){e[e.create=0]="create",e[e.detectChanges=1]="detectChanges",e[e.checkNoChanges=2]="checkNoChanges",e[e.destroy=3]="destroy",e[e.handleEvent=4]="handleEvent"}(q_||(q_={}));class rb{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ef(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Mp(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return qf(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){ib(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&ib(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!nf(e);)e=e.parent;if(e.parent)return Mp(e.parent,ef(e).nodeIndex);return null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?tf(this.view,this.nodeDef):tf(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++){3&e.nodes[r].flags&&n++}return n}(n,r);let s=-1;n.factory(()=>(s++,s===i?e.error.bind(e,...t):Bp)),s<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function ib(e,t,n){for(let r in t.references)n[r]=Wy(e,t,t.references[r])}function sb(e,t,n,r){const i=G_,s=W_,o=X_;try{G_=e;const a=t.apply(n,r);return W_=s,X_=o,G_=i,a}catch(a){if(Zi(a)||!W_)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Dp(e,t),e}(a,ob())}}function ob(){return W_?new rb(W_,X_):null}class ab{constructor(e){this.delegate=e}createRenderer(e,t){return new lb(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class lb{constructor(e){this.delegate=e,this.debugContextFactory=ob,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Iy(e);t&&(!function(e){Ay.delete(e.nativeNode)}(t),t instanceof my&&(t.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new vy(n,null,r);t.name=e,Py(t)}return n}createComment(e){const t=this.delegate.createComment(rs(e)),n=this.createDebugContext(t);return n&&Py(new my(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Py(new my(t,null,n)),t}appendChild(e,t){const n=Iy(e),r=Iy(t);n&&r&&n instanceof vy&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n,r){const i=Iy(e),s=Iy(t),o=Iy(n);i&&s&&i instanceof vy&&i.insertBefore(o,s),this.delegate.insertBefore(e,t,n,r)}removeChild(e,t){const n=Iy(e),r=Iy(t);n&&r&&n instanceof vy&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=ob();return r&&Py(new vy(n,null,r)),n}setAttribute(e,t,n,r){const i=Iy(e);if(i&&i instanceof vy){const e=r?r+":"+t:t;i.attributes[e]=n}this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Iy(e);if(r&&r instanceof vy){const e=n?n+":"+t:t;r.attributes[e]=null}this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Iy(e);n&&n instanceof vy&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Iy(e);n&&n instanceof vy&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Iy(e);i&&i instanceof vy&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Iy(e);r&&r instanceof vy&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Iy(e);r&&r instanceof vy&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Iy(e);r&&r.listeners.push(new gy(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function cb(e,t,n){return new ub(e,t,n)}class ub extends bp{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){k_();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,scope:e.scope,providers:t,modules:n,providersByKey:r}}(uf(this._ngModuleDefFactory));return jp.createNgModuleRef(this.moduleType,e||Ia.NULL,this._bootstrapComponents,t)}}},fmRc:function(e,t,n){var r=n("Xi7e"),i=n("77Zs"),s=n("L8xA"),o=n("gCq4"),a=n("VaNO"),l=n("0Cz8");function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,e.exports=c},ftKO:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},gCq4:function(e,t){e.exports=function(e){return this.__data__.get(e)}},gFfm:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},gPaA:function(e,t,n){var r=n("dunj"),i=n("ut/Y"),s=n("jSBL");e.exports=function(e,t){return e&&e.length?r(e,i(t,2),s):void 0}},gRHU:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(e){},error(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete(){}}},gYXE:function(e,t,n){var r=n("M96O");function i(e){var t={},n={},i=[];if(r.each(e.sinks(),function o(a){if(r.has(n,a))throw new s;r.has(t,a)||(n[a]=!0,t[a]=!0,r.each(e.predecessors(a),o),delete n[a],i.push(a))}),r.size(t)!==e.nodeCount())throw new s;return i}function s(){}e.exports=i,i.CycleException=s,s.prototype=new Error},heNW:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},hgQt:function(e,t,n){var r=n("Juji"),i=n("4sDh");e.exports=function(e,t){return null!=e&&i(e,t,r)}},hypo:function(e,t,n){var r=n("O0oS");e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},iBet:function(e,t,n){var r=n("b5wT"),i=n("F9We").Graph;e.exports=function(e,t,n){var s=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),o=new i({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(t){return e.node(t)});return r.forEach(e.nodes(),function(i){var a=e.node(i),l=e.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(i),o.setParent(i,l||s),r.forEach(e[n](i),function(t){var n=t.v===i?t.w:t.v,s=o.edge(n,i),a=r.isUndefined(s)?0:s.weight;o.setEdge(n,i,{weight:e.edge(t).weight+a})}),r.has(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),o}},idmN:function(e,t,n){var r=n("ZWtO"),i=n("FZoo"),s=n("4uTw");e.exports=function(e,t,n){for(var o=-1,a=t.length,l={};++o<a;){var c=t[o],u=r(e,c);n(u,c)&&i(l,s(c,e),u)}return l}},itsj:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},jFXE:function(e,t,n){"use strict";var r=n("b5wT"),i=n("F9We").Graph,s=n("tQ6r");function o(e,t){var n={};return r.reduce(t,function(t,i){var s=0,o=0,a=t.length,c=r.last(i);return r.forEach(i,function(t,u){var h=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),d=h?e.node(h).order:a;(h||t===c)&&(r.forEach(i.slice(o,u+1),function(t){r.forEach(e.predecessors(t),function(r){var i=e.node(r),o=i.order;!(o<s||d<o)||i.dummy&&e.node(t).dummy||l(n,r,t)})}),o=u+1,s=d)}),i}),n}function a(e,t){var n={};function i(t,i,s,o,a){var c;r.forEach(r.range(i,s),function(i){c=t[i],e.node(c).dummy&&r.forEach(e.predecessors(c),function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&l(n,t,c)})})}return r.reduce(t,function(t,n){var s,o=-1,a=0;return r.forEach(n,function(r,l){if("border"===e.node(r).dummy){var c=e.predecessors(r);c.length&&(s=e.node(c[0]).order,i(n,a,l,o,s),a=l,o=s)}i(n,a,n.length,s,t.length)}),n}),n}function l(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function c(e,t,n){if(t>n){var i=t;t=n,n=i}return r.has(e[t],n)}function u(e,t,n,i){var s={},o={},a={};return r.forEach(t,function(e){r.forEach(e,function(e,t){s[e]=e,o[e]=e,a[e]=t})}),r.forEach(t,function(e){var t=-1;r.forEach(e,function(e){var l=i(e);if(l.length)for(var u=((l=r.sortBy(l,function(e){return a[e]})).length-1)/2,h=Math.floor(u),d=Math.ceil(u);h<=d;++h){var p=l[h];o[e]===e&&t<a[p]&&!c(n,e,p)&&(o[p]=e,o[e]=s[e]=s[p],t=a[p])}})}),{root:s,align:o}}function h(e,t,n,s,o){var a={},l=function(e,t,n,s){var o=new i,a=e.graph(),l=function(e,t,n){return function(i,s,o){var a,l=i.node(s),c=i.node(o),u=0;if(u+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=-l.width/2;break;case"r":a=l.width/2}if(a&&(u+=n?a:-a),a=0,u+=(l.dummy?t:e)/2,u+=(c.dummy?t:e)/2,u+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(u+=n?a:-a),a=0,u}}(a.nodesep,a.edgesep,s);return r.forEach(t,function(t){var i;r.forEach(t,function(t){var r=n[t];if(o.setNode(r),i){var s=n[i],a=o.edge(s,r);o.setEdge(s,r,Math.max(l(e,t,i),a||0))}i=t})}),o}(e,t,n,o),c=o?"borderLeft":"borderRight";function u(e,t){for(var n=l.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u(function(e){a[e]=l.inEdges(e).reduce(function(e,t){return Math.max(e,a[t.v]+l.edge(t))},0)},l.predecessors.bind(l)),u(function(t){var n=l.outEdges(t).reduce(function(e,t){return Math.min(e,a[t.w]-l.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(a[t]=Math.max(a[t],n))},l.successors.bind(l)),r.forEach(s,function(e){a[e]=a[n[e]]}),a}function d(e,t){return r.minBy(r.values(t),function(t){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(t,function(t,r){var s=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+s,n),i=Math.min(t-s,i)}),n-i})}function p(e,t){var n=r.values(t),i=r.min(n),s=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(o){var a,l=n+o,c=e[l];if(c!==t){var u=r.values(c);(a="l"===o?i-r.min(u):s-r.max(u))&&(e[l]=r.mapValues(c,function(e){return e+a}))}})})}function f(e,t){return r.mapValues(e.ul,function(n,i){if(t)return e[t.toLowerCase()][i];var s=r.sortBy(r.map(e,i));return(s[1]+s[2])/2})}e.exports={positionX:function(e){var t,n=s.buildLayerMatrix(e),i=r.merge(o(e,n),a(e,n)),l={};r.forEach(["u","d"],function(s){t="u"===s?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(t=r.map(t,function(e){return r.values(e).reverse()}));var o=("u"===s?e.predecessors:e.successors).bind(e),a=u(e,t,i,o),c=h(e,t,a.root,a.align,"r"===n);"r"===n&&(c=r.mapValues(c,function(e){return-e})),l[s+n]=c})});var c=d(e,l);return p(l,c),f(l,e.graph().align)},findType1Conflicts:o,findType2Conflicts:a,addConflict:l,hasConflict:c,verticalAlignment:u,horizontalCompaction:h,alignCoordinates:p,findSmallestWidthAlignment:d,balance:f}},jSBL:function(e,t){e.exports=function(e,t){return e<t}},jXQH:function(e,t,n){var r=n("TO8r"),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},jZKg:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(e,t){return new r.a(n=>{const r=new i.a;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},"jbM+":function(e,t,n){var r=n("R/W3");e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},jeLo:function(e,t,n){var r=n("juv8"),i=n("mTTR");e.exports=function(e){return r(e,i(e))}},jtHE:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("XNiG"),i=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),l=n("Ylt2");class c extends r.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new u(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?c=s.a.EMPTY:(this.observers.push(e),c=new l.a(this,e)),r&&e.add(e=new o.a(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),c}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class u{constructor(e,t){this.time=e,this.value=t}}},juv8:function(e,t,n){var r=n("MrPd"),i=n("hypo");e.exports=function(e,t,n,s){var o=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=s?s(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?i(n,c,u):r(n,c,u)}return n}},"k+1r":function(e,t,n){var r=n("QkVE");e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},k4Da:function(e,t,n){var r=n("LXxW"),i=n("n3Sm"),s=n("ut/Y"),o=n("Z0cm");e.exports=function(e,t){return(o(e)?r:i)(e,s(t,3))}},kJWO:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},kekF:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},khRU:function(e,t){e.exports="0.8.5"},l7GE:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},l7P3:function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return x}),n.d(t,"d",function(){return q}),n.d(t,"e",function(){return $}),n.d(t,"f",function(){return Y}),n.d(t,"g",function(){return Z}),n.d(t,"h",function(){return De}),n.d(t,"i",function(){return G}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return Fe}),n.d(t,"l",function(){return fe}),n.d(t,"m",function(){return Le});var r=n("fXoL"),i=n("2Vo4"),s=n("HDdC"),o=n("XNiG"),a=n("qgXg"),l=n("pxpQ"),c=n("zp1y"),u=n("Kqap"),h=n("lJxs");function d(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return n=>Object(h.a)(function(e,t){return n=>{let r=n;for(let i=0;i<t;i++){const t=null!=r?r[e[i]]:void 0;if(void 0===t)return;r=t}return r}}(e,t))(n)}var p=n("/uUt");const f={};function g(e,t){if(f[e]=(f[e]||0)+1,"function"==typeof t)return m(e,(...n)=>Object.assign(Object.assign({},t(...n)),{type:e}));switch(t?t._as:"empty"){case"empty":return m(e,()=>({type:e}));case"props":return m(e,t=>Object.assign(Object.assign({},t),{type:e}));default:throw new Error("Unexpected config.")}}function m(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}const v="@ngrx/store/init";class y extends i.a{constructor(){super({type:v})}next(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}}y.\u0275fac=function(e){return new(e||y)},y.\u0275prov=r.Jc({token:y,factory:y.\u0275fac}),y.ctorParameters=()=>[];const _=[y],b=new r.G("@ngrx/store Internal Root Guard"),w=new r.G("@ngrx/store Internal Initial State"),x=new r.G("@ngrx/store Initial State"),E=new r.G("@ngrx/store Reducer Factory"),C=new r.G("@ngrx/store Internal Reducer Factory Provider"),S=new r.G("@ngrx/store Initial Reducers"),k=new r.G("@ngrx/store Internal Initial Reducers"),T=new r.G("@ngrx/store Store Features"),A=new r.G("@ngrx/store Internal Store Reducers"),D=new r.G("@ngrx/store Internal Feature Reducers"),O=new r.G("@ngrx/store Internal Feature Configs"),I=new r.G("@ngrx/store Internal Store Features"),N=new r.G("@ngrx/store Internal Feature Reducers Token"),P=new r.G("@ngrx/store Feature Reducers"),M=new r.G("@ngrx/store User Provided Meta Reducers"),R=new r.G("@ngrx/store Meta Reducers"),L=new r.G("@ngrx/store Internal Resolved Meta Reducers"),F=new r.G("@ngrx/store User Runtime Checks Config"),j=new r.G("@ngrx/store Internal User Runtime Checks Config"),B=new r.G("@ngrx/store Internal Runtime Checks"),V=new r.G("@ngrx/store Check if Action types are unique");function z(e,t={}){const n=Object.keys(e),r={};for(let s=0;s<n.length;s++){const t=n[s];"function"==typeof e[t]&&(r[t]=e[t])}const i=Object.keys(r);return function(e,n){e=void 0===e?t:e;let s=!1;const o={};for(let t=0;t<i.length;t++){const a=i[t],l=r[a],c=e[a],u=l(c,n);o[a]=u,s=s||u!==c}return s?o:e}}function U(...e){return function(t){if(0===e.length)return t;const n=e[e.length-1];return e.slice(0,-1).reduceRight((e,t)=>t(e),n(t))}}function H(e,t){return Array.isArray(t)&&t.length>0&&(e=U.apply(null,[...t,e])),(t,n)=>{const r=e(t);return(e,t)=>r(e=void 0===e?n:e,t)}}class $ extends s.a{}class q extends y{}const G="@ngrx/store/update-reducers";class W extends i.a{constructor(e,t,n,r){super(r(n,t)),this.dispatcher=e,this.initialState=t,this.reducers=n,this.reducerFactory=r}addFeature(e){this.addFeatures([e])}addFeatures(e){const t=e.reduce((e,{reducers:t,reducerFactory:n,metaReducers:r,initialState:i,key:s})=>{const o="function"==typeof t?function(e){const t=Array.isArray(e)&&e.length>0?U(...e):e=>e;return(e,n)=>(e=t(e),(t,r)=>e(t=void 0===t?n:t,r))}(r)(t,i):H(n,r)(t,i);return e[s]=o,e},{});this.addReducers(t)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(e=>e.key))}addReducer(e,t){this.addReducers({[e]:t})}addReducers(e){this.reducers=Object.assign(Object.assign({},this.reducers),e),this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(e=>{var t,n;this.reducers=(t=this.reducers,n=e,Object.keys(t).filter(e=>e!==n).reduce((e,n)=>Object.assign(e,{[n]:t[n]}),{}))}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:G,features:e})}ngOnDestroy(){this.complete()}}W.\u0275fac=function(e){return new(e||W)(r.Xc(q),r.Xc(x),r.Xc(S),r.Xc(E))},W.\u0275prov=r.Jc({token:W,factory:W.\u0275fac}),W.ctorParameters=()=>[{type:q},{type:void 0,decorators:[{type:r.D,args:[x]}]},{type:void 0,decorators:[{type:r.D,args:[S]}]},{type:void 0,decorators:[{type:r.D,args:[E]}]}];const X=[W,{provide:$,useExisting:W},{provide:q,useExisting:y}];class Y extends o.a{ngOnDestroy(){this.complete()}}Y.\u0275fac=function(){let e;return function(t){return(e||(e=r.Vc(Y)))(t||Y)}}(),Y.\u0275prov=r.Jc({token:Y,factory:Y.\u0275fac});const K=[Y];class Z extends s.a{}class Q extends i.a{constructor(e,t,n,r){super(r);const i={state:r},s=e.pipe(Object(l.b)(a.b)).pipe(Object(c.a)(t)).pipe(Object(u.a)(J,i));this.stateSubscription=s.subscribe(({state:e,action:t})=>{this.next(e),n.next(t)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}function J(e={state:void 0},[t,n]){const{state:r}=e;return{state:n(r,t),action:t}}Q.\u0275fac=function(e){return new(e||Q)(r.Xc(y),r.Xc($),r.Xc(Y),r.Xc(x))},Q.\u0275prov=r.Jc({token:Q,factory:Q.\u0275fac}),Q.INIT=v,Q.ctorParameters=()=>[{type:y},{type:$},{type:Y},{type:void 0,decorators:[{type:r.D,args:[x]}]}];const ee=[Q,{provide:Z,useExisting:Q}];class te extends s.a{constructor(e,t,n){super(),this.actionsObserver=t,this.reducerManager=n,this.source=e}select(e,...t){return re.call(null,e,...t)(this)}lift(e){const t=new te(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,t){this.reducerManager.addReducer(e,t)}removeReducer(e){this.reducerManager.removeReducer(e)}}te.\u0275fac=function(e){return new(e||te)(r.Xc(Z),r.Xc(y),r.Xc(W))},te.\u0275prov=r.Jc({token:te,factory:te.\u0275fac}),te.ctorParameters=()=>[{type:Z},{type:y},{type:W}];const ne=[te];function re(e,t,...n){return function(r){let i;if("string"==typeof e){const s=[t,...n].filter(Boolean);i=r.pipe(d(e,...s))}else{if("function"!=typeof e)throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);i=r.pipe(Object(h.a)(n=>e(n,t)))}return i.pipe(Object(p.a)())}}const ie="https://ngrx.io/guide/store/configuration/runtime-checks";function se(e){return void 0===e}function oe(e){return null===e}function ae(e){return Array.isArray(e)}function le(e){return"object"==typeof e&&null!==e}function ce(e){if(!function(e){return le(e)&&!ae(e)}(e))return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function ue(e){return"function"==typeof e}function he(e,t){return e===t}function de(e,t,n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!0;return!1}function pe(e,t=he,n=he){let r,i=null,s=null;return{memoized:function(){if(void 0!==r)return r.result;if(!i)return s=e.apply(null,arguments),i=arguments,s;if(!de(arguments,i,t))return s;const o=e.apply(null,arguments);return i=arguments,n(s,o)?s:(s=o,o)},reset:function(){i=null,s=null},setResult:function(e){r={result:e}},clearResult:function(){r=void 0}}}function fe(...e){return function(e,t={stateFn:ge}){return function(...n){let r=n;if(Array.isArray(r[0])){const[e,...t]=r;r=[...e,...t]}const i=r.slice(0,r.length-1),s=r[r.length-1],o=i.filter(e=>e.release&&"function"==typeof e.release),a=e(function(...e){return s.apply(null,e)}),l=pe(function(e,n){return t.stateFn.apply(null,[e,i,n,a])});function c(){l.reset(),a.reset(),o.forEach(e=>e.release())}return Object.assign(l.memoized,{release:c,projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}(pe)(...e)}function ge(e,t,n,r){if(void 0===n){const n=t.map(t=>t(e));return r.memoized.apply(null,n)}const i=t.map(t=>t(e,n));return r.memoized.apply(null,[...i,n])}function me(e){Object.freeze(e);const t=ue(e);return Object.getOwnPropertyNames(e).forEach(n=>{if(!n.startsWith("\u0275")&&function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,n)&&(!t||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const t=e[n];!le(t)&&!ue(t)||Object.isFrozen(t)||me(t)}}),e}function ve(e,t=[]){if((se(e)||oe(e))&&0===t.length)return{path:["root"],value:e};return Object.keys(e).reduce((n,r)=>{if(n)return n;const i=e[r];return function(e){return ue(e)&&e.hasOwnProperty("\u0275cmp")}(i)?n:!(se(i)||oe(i)||function(e){return"number"==typeof e}(i)||function(e){return"boolean"==typeof e}(i)||function(e){return"string"==typeof e}(i)||ae(i))&&(ce(i)?ve(i,[...t,r]):{path:[...t,r],value:i})},!1)}function ye(e,t){if(!1===e)return;const n=e.path.join("."),r=new Error(`Detected unserializable ${t} at "${n}". ${ie}#strict${t}serializability`);throw r.value=e.value,r.unserializablePath=n,r}function _e(e){return Object(r.wb)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function be({strictActionSerializability:e,strictStateSerializability:t}){return n=>e||t?function(e,t){return function(n,r){t.action(r)&&ye(ve(r),"action");const i=e(n,r);return t.state()&&ye(ve(i),"state"),i}}(n,{action:t=>e&&!xe(t),state:()=>t}):n}function we({strictActionImmutability:e,strictStateImmutability:t}){return n=>e||t?function(e,t){return function(n,r){const i=t.action(r)?me(r):r,s=e(n,i);return t.state()?me(s):s}}(n,{action:t=>e&&!xe(t),state:()=>t}):n}function xe(e){return e.type.startsWith("@ngrx")}function Ee({strictActionWithinNgZone:e}){return t=>e?function(e,t){return function(n,i){if(t.action(i)&&!r.S.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${ie}#strictactionwithinngzone`);return e(n,i)}}(t,{action:t=>e&&!xe(t)}):t}function Ce(){return[{provide:V,multi:!0,deps:[B],useFactory:ke}]}function Se(e){return e}function ke(e){if(!e.strictActionTypeUniqueness)return;const t=Object.entries(f).filter(([,e])=>e>1).map(([e])=>e);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(e=>`"${e}"`).join(", ")}. ${ie}#strictactiontypeuniqueness`)}class Te{constructor(e,t,n,r,i,s){}}Te.\u0275fac=function(e){return new(e||Te)(r.Xc(y),r.Xc($),r.Xc(Y),r.Xc(te),r.Xc(b,8),r.Xc(V,8))},Te.\u0275mod=r.Lc({type:Te}),Te.\u0275inj=r.Kc({}),Te.ctorParameters=()=>[{type:y},{type:$},{type:Y},{type:te},{type:void 0,decorators:[{type:r.T},{type:r.D,args:[b]}]},{type:void 0,decorators:[{type:r.T},{type:r.D,args:[V]}]}];class Ae{constructor(e,t,n,r,i){this.features=e,this.featureReducers=t,this.reducerManager=n;const s=e.map((e,n)=>{const r=t.shift()[n];return Object.assign(Object.assign({},e),{reducers:r,initialState:Pe(e.initialState)})});n.addFeatures(s)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}Ae.\u0275fac=function(e){return new(e||Ae)(r.Xc(I),r.Xc(P),r.Xc(W),r.Xc(Te),r.Xc(V,8))},Ae.\u0275mod=r.Lc({type:Ae}),Ae.\u0275inj=r.Kc({}),Ae.ctorParameters=()=>[{type:Array,decorators:[{type:r.D,args:[I]}]},{type:Array,decorators:[{type:r.D,args:[P]}]},{type:W},{type:Te},{type:void 0,decorators:[{type:r.T},{type:r.D,args:[V]}]}];class De{static forRoot(e,t={}){return{ngModule:Te,providers:[{provide:b,useFactory:Re,deps:[[te,new r.T,new r.gb]]},{provide:w,useValue:t.initialState},{provide:x,useFactory:Pe,deps:[w]},{provide:k,useValue:e},{provide:A,useExisting:e instanceof r.G?e:k},{provide:S,deps:[r.H,k,[new r.D(A)]],useFactory:Oe},{provide:M,useValue:t.metaReducers?t.metaReducers:[]},{provide:L,deps:[R,M],useFactory:Me},{provide:C,useValue:t.reducerFactory?t.reducerFactory:z},{provide:E,deps:[C,L],useFactory:H},_,X,K,ee,ne,(n=t.runtimeChecks,[{provide:j,useValue:n},{provide:F,useFactory:Se,deps:[j]},{provide:B,deps:[F],useFactory:_e},{provide:R,multi:!0,deps:[B],useFactory:we},{provide:R,multi:!0,deps:[B],useFactory:be},{provide:R,multi:!0,deps:[B],useFactory:Ee}]),Ce()]};var n}static forFeature(e,t,n={}){return{ngModule:Ae,providers:[{provide:O,multi:!0,useValue:e instanceof Object?{}:n},{provide:T,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:n instanceof r.G||!n.reducerFactory?z:n.reducerFactory,metaReducers:n instanceof r.G||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof r.G||!n.initialState?void 0:n.initialState}},{provide:I,deps:[r.H,O,T],useFactory:Ie},{provide:D,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:N,multi:!0,useExisting:t instanceof r.G?t:D},{provide:P,multi:!0,deps:[r.H,D,[new r.D(N)]],useFactory:Ne},Ce()]}}}function Oe(e,t){return t instanceof r.G?e.get(t):t}function Ie(e,t,n){return n.map((n,i)=>{if(t[i]instanceof r.G){const r=e.get(t[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:z,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Ne(e,t){return t.map(t=>t instanceof r.G?e.get(t):t)}function Pe(e){return"function"==typeof e?e():e}function Me(e,t){return e.concat(t)}function Re(e){if(e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Le(...e){return{reducer:e.pop(),types:e.map(e=>e.type)}}function Fe(e,...t){const n=new Map;for(const r of t)for(const e of r.types){const t=n.get(e);if(t){const i=(e,n)=>r.reducer(t(e,n),n);n.set(e,i)}else n.set(e,r.reducer)}return function(t=e,r){const i=n.get(r.type);return i?i(t,r):t}}De.\u0275fac=function(e){return new(e||De)},De.\u0275mod=r.Lc({type:De}),De.\u0275inj=r.Kc({})},l9OW:function(e,t,n){var r=n("SKAX"),i=n("MMmD");e.exports=function(e,t){var n=-1,s=i(e)?Array(e.length):[];return r(e,function(e,r,i){s[++n]=t(e,r,i)}),s}},lJxs:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},lQqw:function(e,t,n){var r=n("MMmD");e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var s=n.length,o=t?s:-1,a=Object(n);(t?o--:++o<s)&&!1!==i(a[o],o,a););return n}}},lSCD:function(e,t,n){var r=n("NykK"),i=n("GoyQ");e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},la6v:function(e,t,n){var r=n("EA7m"),i=n("ljhN"),s=n("mv/X"),o=n("mTTR"),a=Object.prototype,l=a.hasOwnProperty,c=r(function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&s(t[0],t[1],c)&&(r=1);++n<r;)for(var u=t[n],h=o(u),d=-1,p=h.length;++d<p;){var f=h[d],g=e[f];(void 0===g||i(g,a[f])&&!l.call(e,f))&&(e[f]=u[f])}return e});e.exports=c},ljhN:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"lm/5":function(e,t,n){var r=n("fmRc"),i=n("wF/u");e.exports=function(e,t,n,s){var o=n.length,a=o,l=!s;if(null==e)return!a;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=n[o])[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var p=new r;if(s)var f=s(h,d,u,e,t,p);if(!(void 0===f?i(d,h,3,s,p):f))return!1}}return!0}},lnHP:function(e,t,n){"use strict";var r=n("M96O");e.exports=s;var i="\0";function s(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function o(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function l(e,t,n,i){var s=""+t,o=""+n;if(!e&&s>o){var a=s;s=o,o=a}return s+"\x01"+o+"\x01"+(r.isUndefined(i)?"\0":i)}function c(e,t,n,r){var i=""+t,s=""+n;if(!e&&i>s){var o=i;i=s,s=o}var a={v:i,w:s};return r&&(a.name=r),a}function u(e,t){return l(e,t.v,t.w,t.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(e){return this._label=e,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._in[t])})},s.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._out[t])})},s.prototype.setNodes=function(e,t){var n=arguments,i=this;return r.each(e,function(e){n.length>1?i.setNode(e,t):i.setNode(e)}),this},s.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},s.prototype.node=function(e){return this._nodes[e]},s.prototype.hasNode=function(e){return r.has(this._nodes,e)},s.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},s.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},s.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},s.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},s.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},s.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},s.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},s.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},s.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},s.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),r.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var i={};function s(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(i[e]=r,r):r in i?i[r]:s(r)}return this._isCompound&&r.each(t.nodes(),function(e){t.setParent(e,s(e))}),t},s.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(e,t){var n=this,i=arguments;return r.reduce(e,function(e,r){return i.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r}),this},s.prototype.setEdge=function(){var e,t,n,i,s=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(i=arguments[1],s=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var u=l(this._isDirected,e,t,n);if(r.has(this._edgeLabels,u))return s&&(this._edgeLabels[u]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=s?i:this._defaultEdgeLabelFn(e,t,n);var h=c(this._isDirected,e,t,n);return e=h.v,t=h.w,Object.freeze(h),this._edgeObjs[u]=h,o(this._preds[t],e),o(this._sucs[e],t),this._in[t][u]=h,this._out[e][u]=h,this._edgeCount++,this},s.prototype.edge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return r.has(this._edgeLabels,i)},s.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},s.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=r.values(n);return t?r.filter(i,function(e){return e.v===t}):i}},s.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=r.values(n);return t?r.filter(i,function(e){return e.w===t}):i}},s.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},lvO4:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},mNz5:function(e,t,n){var r=n("dt0z"),i=0;e.exports=function(e){var t=++i;return r(e)+t}},mTTR:function(e,t,n){var r=n("b80T"),i=n("QcOe"),s=n("MMmD");e.exports=function(e){return s(e)?r(e,!0):i(e)}},mUg4:function(e,t,n){var r=n("cq/+"),i=n("EwQA"),s=n("mTTR");e.exports=function(e,t){return null==e?e:r(e,i(t),s)}},mc0g:function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}},mdPL:function(e,t,n){(function(e){var r=n("WFqU"),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i&&r.process,a=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=a}).call(this,n("YuTi")(e))},"mv/X":function(e,t,n){var r=n("ljhN"),i=n("MMmD"),s=n("wJg7"),o=n("GoyQ");e.exports=function(e,t,n){if(!o(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&s(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},mwIZ:function(e,t,n){var r=n("ZWtO");e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},n3Sm:function(e,t,n){var r=n("SKAX");e.exports=function(e,t){var n=[];return r(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},ngJS:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},noZS:function(e,t,n){var r=n("hypo"),i=n("JC6p"),s=n("ut/Y");e.exports=function(e,t){var n={};return t=s(t,3),i(e,function(e,i,s){r(n,i,t(e,i,s))}),n}},"oCl/":function(e,t,n){var r=n("CH3K"),i=n("LcsW"),s=n("MvSz"),o=n("0ycA"),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,s(e)),e=i(e);return t}:o;e.exports=a},or5M:function(e,t,n){var r=n("1hJj"),i=n("QoRX"),s=n("xYSL");e.exports=function(e,t,n,o,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,g=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],y=t[f];if(o)var _=c?o(y,v,f,t,e,l):o(v,y,f,e,t,l);if(void 0!==_){if(_)continue;g=!1;break}if(m){if(!i(t,function(e,t){if(!s(m,t)&&(v===e||a(v,e,n,o,l)))return m.push(t)})){g=!1;break}}else if(v!==y&&!a(v,y,n,o,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},"otv/":function(e,t,n){var r=n("nmnc"),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},pFRH:function(e,t,n){var r=n("cvCv"),i=n("O0oS"),s=n("zZ0H"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},pHPU:function(e,t,n){var r=n("M96O"),i=n("AevD");e.exports=function(e,t,n,r){return function(e,t,n,r){var s,o,a={},l=new i,c=function(e){var t=e.v!==s?e.v:e.w,r=a[t],i=n(e),c=o.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);c<r.distance&&(r.distance=c,r.predecessor=s,l.decrease(t,c))};e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},l.add(e,n)});for(;l.size()>0&&(s=l.removeMin(),(o=a[s]).distance!==Number.POSITIVE_INFINITY);)r(s).forEach(c);return a}(e,String(t),n||s,r||function(t){return e.outEdges(t)})};var s=r.constant(1)},pLZG:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new s(e,t))}}class s{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},pSRY:function(e,t,n){var r=n("QkVE");e.exports=function(e){return r(this,e).has(e)}},ptHe:function(e,t,n){"use strict";var r=n("b5wT"),i=n("KZ/l");e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?i(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},i={};function s(o){r.has(i,o)||(i[o]=!0,n[o]=!0,r.forEach(e.outEdges(o),function(e){r.has(n,e.w)?t.push(e):s(e.w)}),delete n[o])}return r.forEach(e.nodes(),s),t}(e);r.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))})},undo:function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},pxpQ:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return h});var r,i=n("7o/Q"),s=n("EY2u"),o=n("LRne"),a=n("z6cu");!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(r||(r={}));class l{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(s.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new l("N",e):l.undefinedValueNotification}static createError(e){return new l("E",void 0,e)}static createComplete(){return l.completeNotification}}function c(e,t=0){return function(n){return n.lift(new u(e,t))}}l.completeNotification=new l("C"),l.undefinedValueNotification=new l("N",void 0);class u{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new h(e,this.scheduler,this.delay))}}class h extends i.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(h.dispatch,this.delay,new d(e,this.destination)))}_next(e){this.scheduleMessage(l.createNext(e))}_error(e){this.scheduleMessage(l.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(l.createComplete()),this.unsubscribe()}}class d{constructor(e,t){this.notification=e,this.destination=t}}},q4HE:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[s,o,a].join("|")+")"+c+l+")*"),h="(?:"+[s+r+"?",r,o,a,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+u,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},q92V:function(e,t,n){var r=n("dunj"),i=n("V9xz"),s=n("zZ0H");e.exports=function(e){return e&&e.length?r(e,s,i):void 0}},qGSU:function(e,t,n){"use strict";var r=n("b5wT");function i(e){r.forEach(e.nodes(),function(t){s(e.node(t))}),r.forEach(e.edges(),function(t){s(e.edge(t))})}function s(e){var t=e.width;e.width=e.height,e.height=t}function o(e){e.y=-e.y}function a(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||i(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),function(t){o(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,o),r.has(n,"y")&&o(n)})}(e);"lr"!==t&&"rl"!==t||(!function(e){r.forEach(e.nodes(),function(t){a(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"x")&&a(n)})}(e),i(e))}}},qZTm:function(e,t,n){var r=n("fR/l"),i=n("MvSz"),s=n("7GkX");e.exports=function(e){return r(e,s,i)}},qgXg:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return l});var r=n("3N8a");class i extends r.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),l=a},quSY:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r){t[r].remove(this)}if(Object(s.a)(l)){n&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var l;function c(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((l=new a).closed=!0,l)},quyA:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},qvmO:function(e,t,n){var r=n("3y7U");e.exports=function(e,t){return r(e,t,"pre")}},rEGp:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},sEf8:function(e,t){e.exports=function(e){return function(t){return e(t)}}},"sX1+":function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1),i=function(e){e&&e("layout","dagre",r)};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(2),s=n(3),o=n(4);function a(e){this.options=s({},i,e)}a.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,i=function(e,t){return"function"==typeof t?t.apply(e,[e]):t},s=e.boundingBox||{x1:0,y1:0,w:t.width(),h:t.height()};void 0===s.x2&&(s.x2=s.x1+s.w),void 0===s.w&&(s.w=s.x2-s.x1),void 0===s.y2&&(s.y2=s.y1+s.h),void 0===s.h&&(s.h=s.y2-s.y1);var a=new o.graphlib.Graph({multigraph:!0,compound:!0}),l={},c=function(e,t){null!=t&&(l[e]=t)};c("nodesep",e.nodeSep),c("edgesep",e.edgeSep),c("ranksep",e.rankSep),c("rankdir",e.rankDir),c("ranker",e.ranker),a.setGraph(l),a.setDefaultEdgeLabel(function(){return{}}),a.setDefaultNodeLabel(function(){return{}});for(var u=n.nodes(),h=0;h<u.length;h++){var d=u[h],p=d.layoutDimensions(e);a.setNode(d.id(),{width:p.w,height:p.h,name:d.id()})}for(var f=0;f<u.length;f++){var g=u[f];g.isChild()&&a.setParent(g.id(),g.parent().id())}for(var m=n.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}),v=0;v<m.length;v++){var y=m[v];a.setEdge(y.source().id(),y.target().id(),{minlen:i(y,e.minLen),weight:i(y,e.edgeWeight),name:y.id()},y.id())}o.layout(a);for(var _,b=a.nodes(),w=0;w<b.length;w++){var x=b[w],E=a.node(x);t.getElementById(x).scratch().dagre=E}return e.boundingBox?(_={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},u.forEach(function(e){var t=e.scratch().dagre;_.x1=Math.min(_.x1,t.x),_.x2=Math.max(_.x2,t.x),_.y1=Math.min(_.y1,t.y),_.y2=Math.max(_.y2,t.y)}),_.w=_.x2-_.x1,_.h=_.y2-_.y1):_=s,u.layoutPositions(this,e,function(t){var n=(t="object"===r(t)?t:this).scratch().dagre;return function(t){if(e.boundingBox){var n=0===_.w?0:(t.x-_.x1)/_.w,r=0===_.h?0:(t.y-_.y1)/_.h;return{x:s.x1+n*s.w,y:s.y1+r*s.h}}return t}({x:n.x,y:n.y})}),this},e.exports=a},function(e,t){var n={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,ranker:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(e,t){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(e,t){return t},ready:function(){},stop:function(){}};e.exports=n},function(e,t){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e}},function(t,n){t.exports=e}])},e.exports=r(n("409L"))},seXi:function(e,t,n){var r=n("qZTm"),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,o,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:i.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=l;++h<u;){var v=e[d=c[h]],y=t[d];if(s)var _=l?s(y,v,d,t,e,a):s(v,y,d,e,t,a);if(!(void 0===_?v===y||o(v,y,n,s,a):_)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}},shjB:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},t2Dn:function(e,t,n){var r=n("hypo"),i=n("ljhN");e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},tLB3:function(e,t,n){var r=n("jXQH"),i=n("GoyQ"),s=n("/9aa"),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},tMB7:function(e,t,n){var r=n("y1pI");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},tQ6r:function(e,t,n){"use strict";var r=n("b5wT"),i=n("F9We").Graph;function s(e,t,n,i){var s;do{s=r.uniqueId(i)}while(e.hasNode(s));return n.dummy=t,e.setNode(s,n),s}function o(e){return r.max(r.map(e.nodes(),function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n}))}e.exports={addDummyNode:s,simplify:function(e){var t=(new i).setGraph(e.graph());return r.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t},asNonCompoundGraph:function(e){var t=new i({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,s=e.y,o=t.x-i,a=t.y-s,l=e.width/2,c=e.height/2;if(!o&&!a)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(a)*l>Math.abs(o)*c?(a<0&&(c=-c),n=c*o/a,r=c):(o<0&&(l=-l),n=l,r=l*a/o);return{x:i+n,y:s+r}},buildLayerMatrix:function(e){var t=r.map(r.range(o(e)+1),function(){return[]});return r.forEach(e.nodes(),function(n){var i=e.node(n),s=i.rank;r.isUndefined(s)||(t[s][i.order]=n)}),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank}));r.forEach(e.nodes(),function(n){var i=e.node(n);r.has(i,"rank")&&(i.rank-=t)})},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank})),n=[];r.forEach(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});var i=0,s=e.graph().nodeRankFactor;r.forEach(n,function(t,n){r.isUndefined(t)&&n%s!=0?--i:i&&r.forEach(t,function(t){e.node(t).rank+=i})})},addBorderNode:function(e,t,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return s(e,"border",i,t)},maxRank:o,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},tS1D:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("D0XW");const i=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();var s=n("zx2A");function o(e,t,n=r.a){return r=>{let i=(s=e)instanceof Date&&!isNaN(+s);var s;let o=i?+e-n.now():Math.abs(e);return r.lift(new a(o,i,t,n))}}class a{constructor(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}call(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class l extends s.b{constructor(e,t,n,r,i){super(e),this.absoluteTimeout=t,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add(Object(s.c)(t,new s.a(e)))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(l.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var c=n("z6cu");function u(e,t=r.a){return o(e,Object(c.a)(new i),t)}},tadb:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"DataView");e.exports=r},u8Dt:function(e,t,n){var r=n("YESw"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},uM7l:function(e,t,n){var r=n("OBhP");e.exports=function(e){return r(e,4)}},"ut/Y":function(e,t,n){var r=n("ZCpW"),i=n("GDhZ"),s=n("zZ0H"),o=n("Z0cm"),a=n("+c4W");e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):a(e)}},v8eK:function(e,t,n){var r=n("XGnz"),i=n("EA7m"),s=n("LGYb"),o=n("3L66"),a=i(function(e){return s(r(e,1,o,!0))});e.exports=a},"vN+2":function(e,t){e.exports=function(){}},"w/wX":function(e,t,n){var r=n("QqLw"),i=n("ExA7");e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},w1tV:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("EQ5u");class i{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}var s=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function l(){return e=>{return Object(s.a)()((t=a,function(e){let s;if(s="function"==typeof t?t:function(){return t},"function"==typeof n)return e.lift(new i(s,n));const o=Object.create(e,r.b);return o.source=e,o.subjectFactory=s,o})(e));var t,n}}},w802:function(e,t){e.exports="2.1.8"},"wF/u":function(e,t,n){var r=n("e5cp"),i=n("ExA7");e.exports=function e(t,n,s,o,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,s,o,e,a))}},wJg7:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},wclG:function(e,t,n){var r=n("pFRH"),i=n("88Gu")(r);e.exports=i},wrZu:function(e,t,n){var r=n("+K+b"),i=n("XYm9"),s=n("b2z7"),o=n("otv/"),a=n("yP5f");e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return s(e);case"[object Set]":return new l;case"[object Symbol]":return o(e)}}},"x+ZX":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xYSL:function(e,t){e.exports=function(e,t){return e.has(t)}},xaJk:function(e,t,n){var r=n("asDA"),i=n("SKAX"),s=n("ut/Y"),o=n("WPeF"),a=n("Z0cm");e.exports=function(e,t,n){var l=a(e)?r:o,c=arguments.length<3;return l(e,s(t,4),n,c,i)}},xkGU:function(e,t,n){e.exports=n("bNQv")},"xs/l":function(e,t,n){var r=n("TYy9"),i=n("Ioao"),s=n("wclG");e.exports=function(e){return s(i(e,void 0,r),e+"")}},xweI:function(e,t,n){var r=n("XGnz"),i=n("alwl"),s=n("EA7m"),o=n("mv/X"),a=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=a},y1pI:function(e,t,n){var r=n("ljhN");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},yCtX:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(e,t){return t?Object(s.a)(e,t):new r.a(Object(i.a)(e))}},yGk4:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Set");e.exports=r},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},yP5f:function(e,t,n){var r=n("+K+b");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},ycre:function(e,t,n){var r=n("711d")("length");e.exports=r},yue5:function(e,t,n){var r=n("/9aa");e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,s=e==e,o=r(e),a=void 0!==t,l=null===t,c=t==t,u=r(t);if(!l&&!u&&!o&&e>t||o&&a&&c&&!l&&!u||i&&a&&c||!n&&c||!s)return 1;if(!i&&!o&&!u&&e<t||u&&n&&s&&!i&&!o||l&&n&&s||!a&&s||!c)return-1}return 0}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",function(){return r})},z6cq:function(e,t,n){var r=n("M96O");e.exports=function(e){var t=0,n=[],i={},s=[];function o(a){var l=i[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach(function(e){r.has(i,e)?i[e].onStack&&(l.lowlink=Math.min(l.lowlink,i[e].index)):(o(e),l.lowlink=Math.min(l.lowlink,i[e].lowlink))}),l.lowlink===l.index){var c,u=[];do{c=n.pop(),i[c].onStack=!1,u.push(c)}while(a!==c);s.push(u)}}return e.nodes().forEach(function(e){r.has(i,e)||o(e)}),s}},z6cu:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("HDdC");function i(e,t){return t?new r.a(n=>t.schedule(s,0,{error:e,subscriber:n})):new r.a(t=>t.error(e))}function s({error:e,subscriber:t}){t.error(e)}},zEVN:function(e,t,n){var r=n("Gi0A"),i=n("sEf8"),s=n("mdPL"),o=s&&s.isMap,a=o?i(o):r;e.exports=a},zP0r:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7o/Q");function i(e){return t=>t.lift(new s(e))}class s{constructor(e){this.total=e}call(e,t){return t.subscribe(new o(e,this.total))}}class o extends r.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}},zUnb:function(e,t,n){"use strict";n.r(t);var r,i=n("fXoL");function s(e){if(":"!=e[0])return[null,e];const t=e.indexOf(":",1);if(-1==t)throw new Error(`Unsupported format "${e}" expecting ":namespace:name"`);return[e.slice(1,t),e.slice(t+1)]}function o(e){return"ng-container"===s(e)[1]}function a(e){return"ng-content"===s(e)[1]}function l(e){return"ng-template"===s(e)[1]}function c(e){return null===e?null:s(e)[0]}function u(e,t){return e?`:${e}:${t}`:t}!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(r||(r={}));const h={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"};h.ngsp="\ue500";class d{constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:n=r.PARSABLE_DATA,closedByParent:i=!1,isVoid:s=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,e&&e.length>0&&e.forEach(e=>this.closedByChildren[e]=!0),this.isVoid=s,this.closedByParent=i||s,this.implicitNamespacePrefix=t||null,this.contentType=n,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){if("object"==typeof this.contentType){const t=null==e?void 0:this.contentType[e];return null!=t?t:this.contentType.default}return this.contentType}}let p,f;function g(e){var t,n;return f||(p=new d,f={base:new d({isVoid:!0}),meta:new d({isVoid:!0}),area:new d({isVoid:!0}),embed:new d({isVoid:!0}),link:new d({isVoid:!0}),img:new d({isVoid:!0}),input:new d({isVoid:!0}),param:new d({isVoid:!0}),hr:new d({isVoid:!0}),br:new d({isVoid:!0}),source:new d({isVoid:!0}),track:new d({isVoid:!0}),wbr:new d({isVoid:!0}),p:new d({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new d({closedByChildren:["tbody","tfoot"]}),tbody:new d({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new d({closedByChildren:["tbody"],closedByParent:!0}),tr:new d({closedByChildren:["tr"],closedByParent:!0}),td:new d({closedByChildren:["td","th"],closedByParent:!0}),th:new d({closedByChildren:["td","th"],closedByParent:!0}),col:new d({isVoid:!0}),svg:new d({implicitNamespacePrefix:"svg"}),foreignObject:new d({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new d({implicitNamespacePrefix:"math"}),li:new d({closedByChildren:["li"],closedByParent:!0}),dt:new d({closedByChildren:["dt","dd"]}),dd:new d({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new d({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new d({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new d({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new d({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new d({closedByChildren:["optgroup"],closedByParent:!0}),option:new d({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new d({ignoreFirstLf:!0}),listing:new d({ignoreFirstLf:!0}),style:new d({contentType:r.RAW_TEXT}),script:new d({contentType:r.RAW_TEXT}),title:new d({contentType:{default:r.ESCAPABLE_RAW_TEXT,svg:r.PARSABLE_DATA}}),textarea:new d({contentType:r.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),null!==(n=null!==(t=f[e])&&void 0!==t?t:f[e.toLowerCase()])&&void 0!==n?n:p}const m=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class v{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){const t=[],n=(e,t)=>{t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)};let r,i=new v,s=i,o=!1;for(m.lastIndex=0;r=m.exec(e);){if(r[1]){if(o)throw new Error("Nesting :not in a selector is not allowed");o=!0,s=new v,i.notSelectors.push(s)}const e=r[2];if(e){const t=r[3];"#"===t?s.addAttribute("id",e.substr(1)):"."===t?s.addClassName(e.substr(1)):s.setElement(e)}const a=r[4];if(a&&s.addAttribute(a,r[6]),r[7]&&(o=!1,s=i),r[8]){if(o)throw new Error("Multiple selectors in :not are not supported");n(t,i),i=s=new v}}return n(t,i),t}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getMatchingElementTemplate(){const e=this.element||"div",t=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let n="";for(let r=0;r<this.attrs.length;r+=2){n+=` ${this.attrs[r]}${""!==this.attrs[r+1]?`="${this.attrs[r+1]}"`:""}`}return g(e).isVoid?`<${e}${t}${n}/>`:`<${e}${t}${n}></${e}>`}getAttrs(){const e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){const n=this.attrs[t],r=this.attrs[t+1];e+=`[${n}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}}class y{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){const t=new y;return t.addSelectables(e,null),t}addSelectables(e,t){let n=null;e.length>1&&(n=new _(e),this._listContexts.push(n));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,n)}_addSelectable(e,t,n){let r=this;const i=e.element,s=e.classNames,o=e.attrs,a=new b(e,t,n);if(i){0===o.length&&0===s.length?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)}if(s)for(let l=0;l<s.length;l++){const e=0===o.length&&l===s.length-1,t=s[l];e?this._addTerminal(r._classMap,t,a):r=this._addPartial(r._classPartialMap,t)}if(o)for(let l=0;l<o.length;l+=2){const e=l===o.length-2,t=o[l],n=o[l+1];if(e){const e=r._attrValueMap;let i=e.get(t);i||(i=new Map,e.set(t,i)),this._addTerminal(i,n,a)}else{const e=r._attrValuePartialMap;let i=e.get(t);i||(i=new Map,e.set(t,i)),r=this._addPartial(i,n)}}}_addTerminal(e,t,n){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}_addPartial(e,t){let n=e.get(t);return n||(n=new y,e.set(t,n)),n}match(e,t){let n=!1;const r=e.element,i=e.classNames,s=e.attrs;for(let o=0;o<this._listContexts.length;o++)this._listContexts[o].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i)for(let o=0;o<i.length;o++){const r=i[o];n=this._matchTerminal(this._classMap,r,e,t)||n,n=this._matchPartial(this._classPartialMap,r,e,t)||n}if(s)for(let o=0;o<s.length;o+=2){const r=s[o],i=s[o+1],a=this._attrValueMap.get(r);i&&(n=this._matchTerminal(a,"",e,t)||n),n=this._matchTerminal(a,i,e,t)||n;const l=this._attrValuePartialMap.get(r);i&&(n=this._matchPartial(l,"",e,t)||n),n=this._matchPartial(l,i,e,t)||n}return n}_matchTerminal(e,t,n,r){if(!e||"string"!=typeof t)return!1;let i=e.get(t)||[];const s=e.get("*");if(s&&(i=i.concat(s)),0===i.length)return!1;let o,a=!1;for(let l=0;l<i.length;l++)o=i[l],a=o.finalize(n,r)||a;return a}_matchPartial(e,t,n,r){if(!e||"string"!=typeof t)return!1;const i=e.get(t);return!!i&&i.match(n,r)}}class _{constructor(e){this.selectors=e,this.alreadyMatched=!1}}class b{constructor(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}finalize(e,t){let n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){n=!y.createNotMatcher(this.notSelectors).match(e,null)}return!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n}}const w=Y("Inject",e=>({token:e})),x=Y("InjectionToken",e=>({_desc:e,"\u0275prov":void 0})),E=Y("Attribute",e=>({attributeName:e})),C=!0,S=Y("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:C},t)),k=Y("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)),T=Y("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:C},t)),A=Y("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)),D=Y("Directive",(e={})=>e);var O,I;!function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(O||(O={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(I||(I={}));const N=Y("Component",(e={})=>Object.assign({changeDetection:I.Default},e)),P=Y("Pipe",e=>Object.assign({pure:!0},e)),M=Y("Input",e=>({bindingPropertyName:e})),R=Y("Output",e=>({bindingPropertyName:e})),L=Y("HostBinding",e=>({hostPropertyName:e})),F=Y("HostListener",(e,t)=>({eventName:e,args:t})),j=Y("NgModule",e=>e),B=Y("Injectable",(e={})=>e),V={name:"custom-elements"},z={name:"no-errors-schema"},U=Y("Optional"),H=Y("Self"),$=Y("SkipSelf"),q=Y("Host"),G=Function;var W,X;function Y(e,t){function n(...n){const r=t?t(...n):{};return Object.assign({ngMetadataName:e},r)}return n.isTypeOf=t=>t&&t.ngMetadataName===e,n.ngMetadataName=e,n}function K(e){const t=function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return[e.element&&"*"!==e.element?e.element:"",...e.attrs,...t]}(e),n=e.notSelectors&&e.notSelectors.length?e.notSelectors.map(e=>function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return e.element?[5,e.element,...e.attrs,...t]:e.attrs.length?[3,...e.attrs,...t]:e.classNames&&e.classNames.length?[9,...e.classNames]:[]}(e)):[];return t.concat(...n)}function Z(e){return e?v.parse(e).map(K):[]}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(W||(W={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(X||(X={}));var Q,J;!function(e){e[e.Const=0]="Const"}(Q||(Q={}));class ee{constructor(e=[]){this.modifiers=e}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None"}(J||(J={}));class te extends ee{constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}}class ne extends ee{constructor(e,t,n=null){super(t),this.value=e,this.typeParams=n}visitType(e,t){return e.visitExpressionType(this,t)}}class re extends ee{constructor(e,t){super(t),this.of=e}visitType(e,t){return e.visitArrayType(this,t)}}class ie extends ee{constructor(e,t){super(t),this.valueType=e||null}visitType(e,t){return e.visitMapType(this,t)}}const se=new te(J.Dynamic),oe=new te(J.Inferred),ae=new te(J.Bool),le=(new te(J.Int),new te(J.Number)),ce=new te(J.String),ue=(new te(J.Function),new te(J.None));var he,de,pe,fe;function ge(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function me(e,t,n){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function ve(e,t){return me(e,t,(e,t)=>e.isEquivalent(t))}!function(e){e[e.Minus=0]="Minus",e[e.Plus=1]="Plus"}(he||(he={})),function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals",e[e.NullishCoalesce=16]="NullishCoalesce"}(de||(de={}));class ye{constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new Ye(this,e,null,t)}key(e,t,n){return new Ke(this,e,t,n)}callMethod(e,t,n){return new Se(this,e,t,null,n)}callFn(e,t,n){return new ke(this,e,null,t,n)}instantiate(e,t,n){return new Ae(this,e,t,n)}conditional(e,t=null,n){return new ze(this,e,t,null,n)}equals(e,t){return new Xe(de.Equals,this,e,null,t)}notEquals(e,t){return new Xe(de.NotEquals,this,e,null,t)}identical(e,t){return new Xe(de.Identical,this,e,null,t)}notIdentical(e,t){return new Xe(de.NotIdentical,this,e,null,t)}minus(e,t){return new Xe(de.Minus,this,e,null,t)}plus(e,t){return new Xe(de.Plus,this,e,null,t)}divide(e,t){return new Xe(de.Divide,this,e,null,t)}multiply(e,t){return new Xe(de.Multiply,this,e,null,t)}modulo(e,t){return new Xe(de.Modulo,this,e,null,t)}and(e,t){return new Xe(de.And,this,e,null,t)}bitwiseAnd(e,t,n=!0){return new Xe(de.BitwiseAnd,this,e,null,t,n)}or(e,t){return new Xe(de.Or,this,e,null,t)}lower(e,t){return new Xe(de.Lower,this,e,null,t)}lowerEquals(e,t){return new Xe(de.LowerEquals,this,e,null,t)}bigger(e,t){return new Xe(de.Bigger,this,e,null,t)}biggerEquals(e,t){return new Xe(de.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(nt,e)}cast(e,t){return new $e(this,e,t)}nullishCoalesce(e,t){return new Xe(de.NullishCoalesce,this,e,null,t)}toStmt(){return new ct(this,null)}}!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(pe||(pe={}));class _e extends ye{constructor(e,t,n){super(t,n),"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}isEquivalent(e){return e instanceof _e&&this.name===e.name&&this.builtin===e.builtin}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}set(e){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new xe(this.name,e,null,this.sourceSpan)}}class be extends ye{constructor(e,t,n){super(t,n),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof be&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class we extends ye{constructor(e,t,n){super(t,n),this.node=e}isEquivalent(e){return e instanceof we&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}}class xe extends ye{constructor(e,t,n,r){super(n||t.type,r),this.name=e,this.value=t}isEquivalent(e){return e instanceof xe&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteVarExpr(this,t)}toDeclStmt(e,t){return new at(this.name,this.value,e,t,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(oe,[rt.Final])}}class Ee extends ye{constructor(e,t,n,r,i){super(r||n.type,i),this.receiver=e,this.index=t,this.value=n}isEquivalent(e){return e instanceof Ee&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteKeyExpr(this,t)}}class Ce extends ye{constructor(e,t,n,r,i){super(r||n.type,i),this.receiver=e,this.name=t,this.value=n}isEquivalent(e){return e instanceof Ce&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWritePropExpr(this,t)}}!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(fe||(fe={}));class Se extends ye{constructor(e,t,n,r,i){super(r,i),this.receiver=e,this.args=n,"string"==typeof t?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}isEquivalent(e){return e instanceof Se&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&ve(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeMethodExpr(this,t)}}class ke extends ye{constructor(e,t,n,r,i=!1){super(n,r),this.fn=e,this.args=t,this.pure=i}isEquivalent(e){return e instanceof ke&&this.fn.isEquivalent(e.fn)&&ve(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}}class Te extends ye{constructor(e,t,n,r){super(n,r),this.tag=e,this.template=t}isEquivalent(e){return e instanceof Te&&this.tag.isEquivalent(e.tag)&&me(this.template.elements,e.template.elements,(e,t)=>e.text===t.text)&&ve(this.template.expressions,e.template.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateExpr(this,t)}}class Ae extends ye{constructor(e,t,n,r){super(n,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof Ae&&this.classExpr.isEquivalent(e.classExpr)&&ve(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}}class De extends ye{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof De&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}}class Oe{constructor(e,t){this.elements=e,this.expressions=t}}class Ie{constructor(e,t,n){var r;this.text=e,this.sourceSpan=t,this.rawText=null!==(r=null!=n?n:null==t?void 0:t.toString())&&void 0!==r?r:je(Le(e))}}class Ne{constructor(e,t){this.text=e,this.sourceSpan=t}}class Pe extends Ne{}class Me extends Ne{}class Re extends ye{constructor(e,t,n,r,i){super(ce,i),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=n,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}|${e}`),this.metaBlock.customId&&(e=`${e}@@${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(t=>{e=`${e}\u241f${t}`}),Be(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){var t,n;return null!==(n=null===(t=this.messageParts[e])||void 0===t?void 0:t.sourceSpan)&&void 0!==n?n:this.sourceSpan}getPlaceholderSourceSpan(e){var t,n,r,i;return null!==(i=null!==(n=null===(t=this.placeHolderNames[e])||void 0===t?void 0:t.sourceSpan)&&void 0!==n?n:null===(r=this.expressions[e])||void 0===r?void 0:r.sourceSpan)&&void 0!==i?i:this.sourceSpan}serializeI18nTemplatePart(e){return Be(this.placeHolderNames[e-1].text,this.messageParts[e].text,this.getMessagePartSourceSpan(e))}}const Le=e=>e.replace(/\\/g,"\\\\"),Fe=e=>e.replace(/:/g,"\\:"),je=e=>e.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function Be(e,t,n){return""===e?{cooked:t,raw:je((r=Le(t),r.replace(/^:/,"\\:"))),range:n}:{cooked:`:${e}:${t}`,raw:je(`:${Fe(Le(e))}:${Le(t)}`),range:n};var r}class Ve extends ye{constructor(e,t,n=null,r){super(t,r),this.value=e,this.typeParams=n}isEquivalent(e){return e instanceof Ve&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}}class ze extends ye{constructor(e,t,n=null,r,i){super(r||t.type,i),this.condition=e,this.falseCase=n,this.trueCase=t}isEquivalent(e){return e instanceof ze&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&ge(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}}class Ue extends ye{constructor(e,t){super(ae,t),this.condition=e}isEquivalent(e){return e instanceof Ue&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}}class He extends ye{constructor(e,t){super(e.type,t),this.condition=e}isEquivalent(e){return e instanceof He&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitAssertNotNullExpr(this,t)}}class $e extends ye{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof $e&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitCastExpr(this,t)}}class qe{constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}}class Ge extends ye{constructor(e,t,n,r,i){super(n,r),this.params=e,this.statements=t,this.name=i}isEquivalent(e){return e instanceof Ge&&ve(this.params,e.params)&&ve(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new lt(e,this.params,this.statements,this.type,t,this.sourceSpan)}}class We extends ye{constructor(e,t,n,r,i=!0){super(n||le,r),this.operator=e,this.expr=t,this.parens=i}isEquivalent(e){return e instanceof We&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}}class Xe extends ye{constructor(e,t,n,r,i,s=!0){super(r||t.type,i),this.operator=e,this.rhs=n,this.parens=s,this.lhs=t}isEquivalent(e){return e instanceof Xe&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}}class Ye extends ye{constructor(e,t,n,r){super(n,r),this.receiver=e,this.name=t}isEquivalent(e){return e instanceof Ye&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new Ce(this.receiver,this.name,e,null,this.sourceSpan)}}class Ke extends ye{constructor(e,t,n,r){super(n,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof Ke&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new Ee(this.receiver,this.index,e,null,this.sourceSpan)}}class Ze extends ye{constructor(e,t,n){super(t,n),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof Ze&&ve(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}}class Qe{constructor(e,t,n){this.key=e,this.value=t,this.quoted=n}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class Je extends ye{constructor(e,t,n){super(t,n),this.entries=e,this.valueType=null,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof Je&&ve(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}}class et extends ye{constructor(e,t){super(e[e.length-1].type,t),this.parts=e}isEquivalent(e){return e instanceof et&&ve(this.parts,e.parts)}isConstant(){return!1}visitExpression(e,t){return e.visitCommaExpr(this,t)}}new _e(pe.This,null,null),new _e(pe.Super,null,null),new _e(pe.CatchError,null,null),new _e(pe.CatchStack,null,null);const tt=new De(null,null,null),nt=new De(null,oe,null);var rt;!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private",e[e.Exported=2]="Exported",e[e.Static=3]="Static"}(rt||(rt={}));class it{constructor(e,t,n){this.text=e,this.multiline=t,this.trailingNewline=n}toString(){return this.multiline?` ${this.text} `:this.text}}class st extends it{constructor(e){super("",!0,!0),this.tags=e}toString(){return function(e){if(0===e.length)return"";if(1===e.length&&e[0].tagName&&!e[0].text)return`*${Lt(e[0])} `;let t="*\n";for(const n of e)t+=" *",t+=Lt(n).replace(/\n/g,"\n * "),t+="\n";return t+=" ",t}(this.tags)}}class ot{constructor(e=[],t=null,n){this.modifiers=e,this.sourceSpan=t,this.leadingComments=n}hasModifier(e){return-1!==this.modifiers.indexOf(e)}addLeadingComment(e){var t;this.leadingComments=null!==(t=this.leadingComments)&&void 0!==t?t:[],this.leadingComments.push(e)}}class at extends ot{constructor(e,t,n,r,i,s){super(r,i,s),this.name=e,this.value=t,this.type=n||t&&t.type||null}isEquivalent(e){return e instanceof at&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}}class lt extends ot{constructor(e,t,n,r,i,s,o){super(i,s,o),this.name=e,this.params=t,this.statements=n,this.type=r||null}isEquivalent(e){return e instanceof lt&&ve(this.params,e.params)&&ve(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}}class ct extends ot{constructor(e,t,n){super([],t,n),this.expr=e}isEquivalent(e){return e instanceof ct&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}}class ut extends ot{constructor(e,t=null,n){super([],t,n),this.value=e}isEquivalent(e){return e instanceof ut&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}}class ht{constructor(e=null,t=[]){this.type=e,this.modifiers=t}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}class dt extends ht{constructor(e,t,n,r,i){super(r,i),this.name=e,this.params=t,this.body=n}isEquivalent(e){return this.name===e.name&&ve(this.body,e.body)}}class pt extends ht{constructor(e,t,n,r){super(n,r),this.name=e,this.body=t}isEquivalent(e){return this.name===e.name&&ve(this.body,e.body)}}class ft extends ot{constructor(e,t,n,r,i,s,o,a,l){super(o,a,l),this.name=e,this.parent=t,this.fields=n,this.getters=r,this.constructorMethod=i,this.methods=s}isEquivalent(e){return e instanceof ft&&this.name===e.name&&ge(this.parent,e.parent)&&ve(this.fields,e.fields)&&ve(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&ve(this.methods,e.methods)}visitStatement(e,t){return e.visitDeclareClassStmt(this,t)}}class gt extends ot{constructor(e,t,n=[],r,i){super([],r,i),this.condition=e,this.trueCase=t,this.falseCase=n}isEquivalent(e){return e instanceof gt&&this.condition.isEquivalent(e.condition)&&ve(this.trueCase,e.trueCase)&&ve(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}}class mt extends ot{constructor(e,t,n=null,r){super([],n,r),this.bodyStmts=e,this.catchStmts=t}isEquivalent(e){return e instanceof mt&&ve(this.bodyStmts,e.bodyStmts)&&ve(this.catchStmts,e.catchStmts)}visitStatement(e,t){return e.visitTryCatchStmt(this,t)}}class vt extends ot{constructor(e,t=null,n){super([],t,n),this.error=e}isEquivalent(e){return e instanceof mt&&this.error.isEquivalent(e.error)}visitStatement(e,t){return e.visitThrowStmt(this,t)}}class yt{visitType(e,t){return e}visitExpression(e,t){return e.type&&e.type.visitType(this,t),e}visitBuiltinType(e,t){return this.visitType(e,t)}visitExpressionType(e,t){return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach(e=>this.visitType(e,t)),this.visitType(e,t)}visitArrayType(e,t){return this.visitType(e,t)}visitMapType(e,t){return this.visitType(e,t)}visitWrappedNodeExpr(e,t){return e}visitTypeofExpr(e,t){return this.visitExpression(e,t)}visitReadVarExpr(e,t){return this.visitExpression(e,t)}visitWriteVarExpr(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}visitWriteKeyExpr(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}visitWritePropExpr(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}visitInvokeMethodExpr(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitTaggedTemplateExpr(e,t){return e.tag.visitExpression(this,t),this.visitAllExpressions(e.template.expressions,t),this.visitExpression(e,t)}visitInstantiateExpr(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitLiteralExpr(e,t){return this.visitExpression(e,t)}visitLocalizedString(e,t){return this.visitExpression(e,t)}visitExternalExpr(e,t){return e.typeParams&&e.typeParams.forEach(e=>e.visitType(this,t)),this.visitExpression(e,t)}visitConditionalExpr(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)}visitNotExpr(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}visitCastExpr(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}visitFunctionExpr(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)}visitUnaryOperatorExpr(e,t){return e.expr.visitExpression(this,t),this.visitExpression(e,t)}visitBinaryOperatorExpr(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)}visitLiteralArrayExpr(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)}visitLiteralMapExpr(e,t){return e.entries.forEach(e=>e.value.visitExpression(this,t)),this.visitExpression(e,t)}visitCommaExpr(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)}visitAllExpressions(e,t){e.forEach(e=>e.visitExpression(this,t))}visitDeclareVarStmt(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e}visitDeclareFunctionStmt(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t),e}visitReturnStmt(e,t){return e.value.visitExpression(this,t),e}visitDeclareClassStmt(e,t){return e.parent.visitExpression(this,t),e.getters.forEach(e=>this.visitAllStatements(e.body,t)),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach(e=>this.visitAllStatements(e.body,t)),e}visitIfStmt(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e}visitTryCatchStmt(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e}visitThrowStmt(e,t){return e.error.visitExpression(this,t),e}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}function _t(e){const t=new bt;return t.visitAllStatements(e,null),t.varNames}class bt extends yt{constructor(){super(...arguments),this.varNames=new Set}visitDeclareFunctionStmt(e,t){return e}visitDeclareClassStmt(e,t){return e}visitReadVarExpr(e,t){return e.name&&this.varNames.add(e.name),null}}function wt(e,t){if(!t)return e;const n=new Et(t);return e.visitStatement(n,null)}function xt(e,t){if(!t)return e;const n=new Et(t);return e.visitExpression(n,null)}class Et extends class{transformExpr(e,t){return e}transformStmt(e,t){return e}visitReadVarExpr(e,t){return this.transformExpr(e,t)}visitWrappedNodeExpr(e,t){return this.transformExpr(e,t)}visitTypeofExpr(e,t){return this.transformExpr(new be(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWriteVarExpr(e,t){return this.transformExpr(new xe(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWriteKeyExpr(e,t){return this.transformExpr(new Ee(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWritePropExpr(e,t){return this.transformExpr(new Ce(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitInvokeMethodExpr(e,t){const n=e.builtin||e.name;return this.transformExpr(new Se(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitInvokeFunctionExpr(e,t){return this.transformExpr(new ke(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitTaggedTemplateExpr(e,t){return this.transformExpr(new Te(e.tag.visitExpression(this,t),new Oe(e.template.elements,e.template.expressions.map(e=>e.visitExpression(this,t))),e.type,e.sourceSpan),t)}visitInstantiateExpr(e,t){return this.transformExpr(new Ae(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitLiteralExpr(e,t){return this.transformExpr(e,t)}visitLocalizedString(e,t){return this.transformExpr(new Re(e.metaBlock,e.messageParts,e.placeHolderNames,this.visitAllExpressions(e.expressions,t),e.sourceSpan),t)}visitExternalExpr(e,t){return this.transformExpr(e,t)}visitConditionalExpr(e,t){return this.transformExpr(new ze(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)}visitNotExpr(e,t){return this.transformExpr(new Ue(e.condition.visitExpression(this,t),e.sourceSpan),t)}visitAssertNotNullExpr(e,t){return this.transformExpr(new He(e.condition.visitExpression(this,t),e.sourceSpan),t)}visitCastExpr(e,t){return this.transformExpr(new $e(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitFunctionExpr(e,t){return this.transformExpr(new Ge(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)}visitUnaryOperatorExpr(e,t){return this.transformExpr(new We(e.operator,e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}visitBinaryOperatorExpr(e,t){return this.transformExpr(new Xe(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)}visitReadPropExpr(e,t){return this.transformExpr(new Ye(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)}visitReadKeyExpr(e,t){return this.transformExpr(new Ke(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)}visitLiteralArrayExpr(e,t){return this.transformExpr(new Ze(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)}visitLiteralMapExpr(e,t){const n=e.entries.map(e=>new Qe(e.key,e.value.visitExpression(this,t),e.quoted)),r=new ie(e.valueType);return this.transformExpr(new Je(n,r,e.sourceSpan),t)}visitCommaExpr(e,t){return this.transformExpr(new et(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)}visitAllExpressions(e,t){return e.map(e=>e.visitExpression(this,t))}visitDeclareVarStmt(e,t){const n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new at(e.name,n,e.type,e.modifiers,e.sourceSpan,e.leadingComments),t)}visitDeclareFunctionStmt(e,t){return this.transformStmt(new lt(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan,e.leadingComments),t)}visitExpressionStmt(e,t){return this.transformStmt(new ct(e.expr.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}visitReturnStmt(e,t){return this.transformStmt(new ut(e.value.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}visitDeclareClassStmt(e,t){const n=e.parent.visitExpression(this,t),r=e.getters.map(e=>new pt(e.name,this.visitAllStatements(e.body,t),e.type,e.modifiers)),i=e.constructorMethod&&new dt(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),s=e.methods.map(e=>new dt(e.name,e.params,this.visitAllStatements(e.body,t),e.type,e.modifiers));return this.transformStmt(new ft(e.name,n,e.fields,r,i,s,e.modifiers,e.sourceSpan),t)}visitIfStmt(e,t){return this.transformStmt(new gt(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan,e.leadingComments),t)}visitTryCatchStmt(e,t){return this.transformStmt(new mt(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan,e.leadingComments),t)}visitThrowStmt(e,t){return this.transformStmt(new vt(e.error.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}visitAllStatements(e,t){return e.map(e=>e.visitStatement(this,t))}}{constructor(e){super(),this.sourceSpan=e}_clone(e){const t=Object.create(e.constructor.prototype);for(let n of Object.keys(e))t[n]=e[n];return t}transformExpr(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}transformStmt(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}}function Ct(e,t,n){return new _e(e,t,n)}function St(e,t=null,n){return new Ve(e,null,t,n)}function kt(e,t,n){return null!=e?Tt(St(e,t,null),n):null}function Tt(e,t,n){return new ne(e,t,n)}function At(e){return new be(e)}function Dt(e,t,n){return new Ze(e,t,n)}function Ot(e,t=null){return new Je(e.map(e=>new Qe(e.key,e.value,e.quoted)),t,null)}function It(e,t,n,r,i){return new Ge(e,t,n,r,i)}function Nt(e,t,n,r,i){return new gt(e,t,n,r,i)}function Pt(e,t,n,r){return new Te(e,t,n,r)}function Mt(e,t,n){return new De(e,t,n)}function Rt(e){return e instanceof De&&null===e.value}function Lt(e){let t="";if(e.tagName&&(t+=` @${e.tagName}`),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}const Ft=Ct("<unknown>"),jt={};class Bt extends ye{constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===jt?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof Bt&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(e){this.resolved=e,this.shared=!0}}class Vt{constructor(e=!1){this.isClosureCompilerEnabled=e,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(e,t){if(e instanceof De&&!$t(e)||e instanceof Bt)return e;const n=this.keyOf(e);let r=this.literals.get(n),i=!1;if(r||(r=new Bt(e),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&t){const t=this.freshName();let n,i;this.isClosureCompilerEnabled&&$t(e)?(n=Ct(t).set(new Ge([],[new ut(e)])),i=Ct(t).callFn([])):(n=Ct(t).set(e),i=Ct(t)),this.statements.push(n.toDeclStmt(oe,[rt.Final])),r.fixup(i)}return r}getDefinition(e,t,n,r=!1){const i=this.definitionsOf(t);let s=i.get(e),o=!1;if(!s){const r=this.propertyNameOf(t);s=new Bt(n.importExpr(e).prop(r)),i.set(e,s),o=!0}if(!o&&!s.shared||o&&r){const e=this.freshName();this.statements.push(Ct(e).set(s.resolved).toDeclStmt(oe,[rt.Final])),s.fixup(Ct(e))}return s}getLiteralFactory(e){if(e instanceof Ze){const t=e.entries.map(e=>e.isConstant()?e:Ft),n=this.keyOf(Dt(t));return this._getLiteralFactory(n,e.entries,e=>Dt(e))}{const t=Ot(e.entries.map(e=>({key:e.key,value:e.value.isConstant()?e.value:Ft,quoted:e.quoted}))),n=this.keyOf(t);return this._getLiteralFactory(n,e.entries.map(e=>e.value),t=>Ot(t.map((t,n)=>({key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}))))}}_getLiteralFactory(e,t,n){let r=this.literalFactories.get(e);const i=t.filter(e=>!e.isConstant());if(!r){const i=t.map((e,t)=>e.isConstant()?this.getConstLiteral(e,!0):Ct(`a${t}`)),s=It(i.filter(Ht).map(e=>new qe(e.name,se)),[new ut(n(i))],oe),o=this.freshName();this.statements.push(Ct(o).set(s).toDeclStmt(oe,[rt.Final])),r=Ct(o),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:i}}uniqueName(e){return`${e}${this.nextNameIndex++}`}definitionsOf(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}}propertyNameOf(e){switch(e){case 2:return"\u0275cmp";case 1:return"\u0275dir";case 0:return"\u0275inj";case 3:return"\u0275pipe"}}freshName(){return this.uniqueName("_c")}keyOf(e){return e.visitExpression(new zt,jt)}}class zt{constructor(){this.visitWrappedNodeExpr=Ut,this.visitWriteVarExpr=Ut,this.visitWriteKeyExpr=Ut,this.visitWritePropExpr=Ut,this.visitInvokeMethodExpr=Ut,this.visitInvokeFunctionExpr=Ut,this.visitTaggedTemplateExpr=Ut,this.visitInstantiateExpr=Ut,this.visitConditionalExpr=Ut,this.visitNotExpr=Ut,this.visitAssertNotNullExpr=Ut,this.visitCastExpr=Ut,this.visitFunctionExpr=Ut,this.visitUnaryOperatorExpr=Ut,this.visitBinaryOperatorExpr=Ut,this.visitReadPropExpr=Ut,this.visitReadKeyExpr=Ut,this.visitCommaExpr=Ut,this.visitLocalizedString=Ut}visitLiteralExpr(e){return`${"string"==typeof e.value?'"'+e.value+'"':e.value}`}visitLiteralArrayExpr(e,t){return`[${e.entries.map(e=>e.visitExpression(this,t)).join(",")}]`}visitLiteralMapExpr(e,t){return`{${e.entries.map(e=>`${(e=>{const t=e.quoted?'"':"";return`${t}${e.key}${t}`})(e)}:${e.value.visitExpression(this,t)}`).join(",")}`}visitExternalExpr(e){return e.value.moduleName?`EX:${e.value.moduleName}:${e.value.name}`:`EX:${e.value.runtime.name}`}visitReadVarExpr(e){return`VAR:${e.name}`}visitTypeofExpr(e,t){return`TYPEOF:${e.expr.visitExpression(this,t)}`}}function Ut(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function Ht(e){return e instanceof _e}function $t(e){return e instanceof De&&"string"==typeof e.value&&e.value.length>=50}const qt="@angular/core";class Gt{}Gt.NEW_METHOD="factory",Gt.TRANSFORM_METHOD="transform",Gt.PATCH_DEPS="patchedDeps",Gt.core={name:null,moduleName:qt},Gt.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:qt},Gt.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:qt},Gt.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:qt},Gt.element={name:"\u0275\u0275element",moduleName:qt},Gt.elementStart={name:"\u0275\u0275elementStart",moduleName:qt},Gt.elementEnd={name:"\u0275\u0275elementEnd",moduleName:qt},Gt.advance={name:"\u0275\u0275advance",moduleName:qt},Gt.syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:qt},Gt.syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:qt},Gt.attribute={name:"\u0275\u0275attribute",moduleName:qt},Gt.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:qt},Gt.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:qt},Gt.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:qt},Gt.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:qt},Gt.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:qt},Gt.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:qt},Gt.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:qt},Gt.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:qt},Gt.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:qt},Gt.classProp={name:"\u0275\u0275classProp",moduleName:qt},Gt.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:qt},Gt.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:qt},Gt.elementContainer={name:"\u0275\u0275elementContainer",moduleName:qt},Gt.styleMap={name:"\u0275\u0275styleMap",moduleName:qt},Gt.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:qt},Gt.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:qt},Gt.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:qt},Gt.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:qt},Gt.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:qt},Gt.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:qt},Gt.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:qt},Gt.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:qt},Gt.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:qt},Gt.classMap={name:"\u0275\u0275classMap",moduleName:qt},Gt.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:qt},Gt.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:qt},Gt.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:qt},Gt.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:qt},Gt.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:qt},Gt.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:qt},Gt.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:qt},Gt.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:qt},Gt.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:qt},Gt.styleProp={name:"\u0275\u0275styleProp",moduleName:qt},Gt.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:qt},Gt.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:qt},Gt.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:qt},Gt.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:qt},Gt.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:qt},Gt.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:qt},Gt.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:qt},Gt.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:qt},Gt.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:qt},Gt.nextContext={name:"\u0275\u0275nextContext",moduleName:qt},Gt.templateCreate={name:"\u0275\u0275template",moduleName:qt},Gt.text={name:"\u0275\u0275text",moduleName:qt},Gt.enableBindings={name:"\u0275\u0275enableBindings",moduleName:qt},Gt.disableBindings={name:"\u0275\u0275disableBindings",moduleName:qt},Gt.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:qt},Gt.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:qt},Gt.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:qt},Gt.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:qt},Gt.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:qt},Gt.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:qt},Gt.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:qt},Gt.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:qt},Gt.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:qt},Gt.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:qt},Gt.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:qt},Gt.restoreView={name:"\u0275\u0275restoreView",moduleName:qt},Gt.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:qt},Gt.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:qt},Gt.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:qt},Gt.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:qt},Gt.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:qt},Gt.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:qt},Gt.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:qt},Gt.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:qt},Gt.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:qt},Gt.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:qt},Gt.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:qt},Gt.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:qt},Gt.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:qt},Gt.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:qt},Gt.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:qt},Gt.hostProperty={name:"\u0275\u0275hostProperty",moduleName:qt},Gt.property={name:"\u0275\u0275property",moduleName:qt},Gt.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:qt},Gt.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:qt},Gt.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:qt},Gt.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:qt},Gt.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:qt},Gt.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:qt},Gt.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:qt},Gt.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:qt},Gt.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:qt},Gt.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:qt},Gt.i18n={name:"\u0275\u0275i18n",moduleName:qt},Gt.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:qt},Gt.i18nExp={name:"\u0275\u0275i18nExp",moduleName:qt},Gt.i18nStart={name:"\u0275\u0275i18nStart",moduleName:qt},Gt.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:qt},Gt.i18nApply={name:"\u0275\u0275i18nApply",moduleName:qt},Gt.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:qt},Gt.pipe={name:"\u0275\u0275pipe",moduleName:qt},Gt.projection={name:"\u0275\u0275projection",moduleName:qt},Gt.projectionDef={name:"\u0275\u0275projectionDef",moduleName:qt},Gt.reference={name:"\u0275\u0275reference",moduleName:qt},Gt.inject={name:"\u0275\u0275inject",moduleName:qt},Gt.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:qt},Gt.directiveInject={name:"\u0275\u0275directiveInject",moduleName:qt},Gt.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:qt},Gt.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:qt},Gt.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:qt},Gt.forwardRef={name:"forwardRef",moduleName:qt},Gt.resolveForwardRef={name:"resolveForwardRef",moduleName:qt},Gt.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:qt},Gt.declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:qt},Gt.InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:qt},Gt.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:qt},Gt.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:qt},Gt.resolveBody={name:"\u0275\u0275resolveBody",moduleName:qt},Gt.defineComponent={name:"\u0275\u0275defineComponent",moduleName:qt},Gt.declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:qt},Gt.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:qt},Gt.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:qt},Gt.ViewEncapsulation={name:"ViewEncapsulation",moduleName:qt},Gt.ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:qt},Gt.FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:qt},Gt.declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:qt},Gt.FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:qt},Gt.defineDirective={name:"\u0275\u0275defineDirective",moduleName:qt},Gt.declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:qt},Gt.DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:qt},Gt.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:qt},Gt.InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:qt},Gt.defineInjector={name:"\u0275\u0275defineInjector",moduleName:qt},Gt.declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:qt},Gt.NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:qt},Gt.ModuleWithProviders={name:"ModuleWithProviders",moduleName:qt},Gt.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:qt},Gt.declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:qt},Gt.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:qt},Gt.PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:qt},Gt.definePipe={name:"\u0275\u0275definePipe",moduleName:qt},Gt.declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:qt},Gt.declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:qt},Gt.setClassMetadata={name:"\u0275setClassMetadata",moduleName:qt},Gt.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:qt},Gt.viewQuery={name:"\u0275\u0275viewQuery",moduleName:qt},Gt.loadQuery={name:"\u0275\u0275loadQuery",moduleName:qt},Gt.contentQuery={name:"\u0275\u0275contentQuery",moduleName:qt},Gt.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:qt},Gt.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:qt},Gt.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:qt},Gt.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:qt},Gt.listener={name:"\u0275\u0275listener",moduleName:qt},Gt.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:qt},Gt.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:qt},Gt.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:qt},Gt.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:qt},Gt.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:qt},Gt.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:qt},Gt.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:qt},Gt.trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:qt},Gt.trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:qt};const Wt=/-+([a-z0-9])/g;function Xt(e,t){return Yt(e,":",t)}function Yt(e,t,n){const r=e.indexOf(t);return-1==r?n:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function Kt(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof(r=e)&&null!==r&&Object.getPrototypeOf(r)===ln?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n);var r}function Zt(e){return null!=e}function Qt(e){return void 0===e?null:e}class Jt{visitArray(e,t){return e.map(e=>Kt(e,this,t))}visitStringMap(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=Kt(e[r],this,t)}),n}visitPrimitive(e,t){return e}visitOther(e,t){return e}}const en=e=>{if(dn(e))throw new Error("Illegal state: value cannot be a promise");return e},tn=(e,t)=>dn(e)?e.then(t):t(e),nn=e=>e.some(dn)?Promise.all(e):e;function rn(e){throw new Error(`Internal Error: ${e}`)}function sn(e,t){const n=Error(e);return n[on]=!0,t&&(n[an]=t),n}const on="ngSyntaxError",an="ngParseErrors";const ln=Object.getPrototypeOf({});function cn(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r>=55296&&r<=56319&&e.length>n+1){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(n++,r=(r-55296<<10)+t-56320+65536)}r<=127?t.push(r):r<=2047?t.push(r>>6&31|192,63&r|128):r<=65535?t.push(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&t.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128)}return t}function un(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(un).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;if(!e.toString)return"object";const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function hn(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function dn(e){return!!e&&"function"==typeof e.then}const pn="undefined"!=typeof window&&window,fn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gn="undefined"!=typeof global&&global||pn||fn;function mn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}class vn{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){throw new Error("visit() not implemented for Comment")}}class yn{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}}class _n{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e){return e.visitBoundText(this)}}class bn{constructor(e,t,n,r,i,s){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=r,this.valueSpan=i,this.i18n=s}visit(e){return e.visitTextAttribute(this)}}class wn{constructor(e,t,n,r,i,s,o,a,l){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.keySpan=o,this.valueSpan=a,this.i18n=l}static fromBoundElementProperty(e,t){if(void 0===e.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new wn(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}}class xn{constructor(e,t,n,r,i,s,o,a){this.name=e,this.type=t,this.handler=n,this.target=r,this.phase=i,this.sourceSpan=s,this.handlerSpan=o,this.keySpan=a}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;if(void 0===e.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new xn(e.name,e.type,e.handler,t,n,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}}class En{constructor(e,t,n,r,i,s,o,a,l,c){this.name=e,this.attributes=t,this.inputs=n,this.outputs=r,this.children=i,this.references=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitElement(this)}}class Cn{constructor(e,t,n,r,i,s,o,a,l,c,u,h){this.tagName=e,this.attributes=t,this.inputs=n,this.outputs=r,this.templateAttrs=i,this.children=s,this.references=o,this.variables=a,this.sourceSpan=l,this.startSourceSpan=c,this.endSourceSpan=u,this.i18n=h}visit(e){return e.visitTemplate(this)}}class Sn{constructor(e,t,n,r){this.selector=e,this.attributes=t,this.sourceSpan=n,this.i18n=r,this.name="ng-content"}visit(e){return e.visitContent(this)}}class kn{constructor(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=r,this.valueSpan=i}visit(e){return e.visitVariable(this)}}class Tn{constructor(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=r,this.valueSpan=i}visit(e){return e.visitReference(this)}}class An{constructor(e,t,n,r){this.vars=e,this.placeholders=t,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitIcu(this)}}function Dn(e,t){const n=[];if(e.visit)for(const r of t){e.visit(r)||r.visit(e)}else for(const r of t){const t=r.visit(e);t&&n.push(t)}return n}class On{constructor(e,t,n,r,i,s){this.nodes=e,this.placeholders=t,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.customId=s,this.id=this.customId,this.legacyIds=[],e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}}class In{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}}class Nn{constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}}class Pn{constructor(e,t,n,r){this.expression=e,this.type=t,this.cases=n,this.sourceSpan=r}visit(e,t){return e.visitIcu(this,t)}}class Mn{constructor(e,t,n,r,i,s,o,a,l){this.tag=e,this.attrs=t,this.startName=n,this.closeName=r,this.children=i,this.isVoid=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,t){return e.visitTagPlaceholder(this,t)}}class Rn{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitPlaceholder(this,t)}}class Ln{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitIcuPlaceholder(this,t)}}class Fn{constructor(e){this.digits=e}static zero(){return new Fn([0])}static one(){return new Fn([1])}clone(){return new Fn(this.digits.slice())}add(e){const t=this.clone();return t.addToSelf(e),t}addToSelf(e){const t=Math.max(this.digits.length,e.digits.length);let n=0;for(let r=0;r<t;r++){let t=n;r<this.digits.length&&(t+=this.digits[r]),r<e.digits.length&&(t+=e.digits[r]),t>=10?(this.digits[r]=t-10,n=1):(this.digits[r]=t,n=0)}n>0&&(this.digits[t]=1)}toString(){let e="";for(let t=this.digits.length-1;t>=0;t--)e+=this.digits[t];return e}}class jn{constructor(e){this.powerOfTwos=[e]}getValue(){return this.powerOfTwos[0]}multiplyBy(e){const t=Fn.zero();return this.multiplyByAndAddTo(e,t),t}multiplyByAndAddTo(e,t){for(let n=0;0!==e;e>>>=1,n++)if(1&e){const e=this.getMultipliedByPowerOfTwo(n);t.addToSelf(e)}}getMultipliedByPowerOfTwo(e){for(let t=this.powerOfTwos.length;t<=e;t++){const e=this.powerOfTwos[t-1];this.powerOfTwos[t]=e.add(e)}return this.powerOfTwos[e]}}function Bn(e){return e.id||Vn(e)}function Vn(e){return function(e){const t=cn(e),n=function(e,t){const n=e.length+3>>>2,r=[];for(let i=0;i<n;i++)r[i]=nr(e,4*i,t);return r}(t,Kn.Big),r=8*t.length,i=mn(80);let s=1732584193,o=4023233417,a=2562383102,l=271733878,c=3285377520;n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(let u=0;u<n.length;u+=16){const e=s,t=o,r=a,h=l,d=c;for(let p=0;p<80;p++){i[p]=p<16?n[u+p]:er(i[p-3]^i[p-8]^i[p-14]^i[p-16],1);const e=Gn(p,o,a,l),t=e[0],r=e[1],h=[er(s,5),t,c,r,i[p]].reduce(Zn);c=l,l=a,a=er(o,30),o=s,s=h}s=Zn(s,e),o=Zn(o,t),a=Zn(a,r),l=Zn(l,h),c=Zn(c,d)}return function(e){let t="";for(let n=0;n<e.length;n++){const r=tr(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}(function(e){return e.reduce((e,t)=>e.concat(function(e){let t=[];for(let n=0;n<4;n++)t.push(e>>>8*(3-n)&255);return t}(t)),[])}([s,o,a,l,c]))}((t=e.nodes,t.map(e=>e.visit($n,null))).join("")+`[${e.meaning}]`);var t}function zn(e){return e.id||Un(e)}function Un(e){const t=new qn;return function(e,t=""){let n=Wn(e);if(t){const e=Wn(t);n=function(e,t){const n=e[0],r=e[1],i=t[0],s=t[1],o=Qn(r,s),a=o[0],l=o[1];return[Zn(Zn(n,i),a),l]}(function(e,t){const n=e[0],r=e[1];return[n<<t|r>>>32-t,r<<t|n>>>32-t]}(n,1),e)}const r=n[0],i=n[1];return function(e,t){const n=rr.toThePowerOf(0).multiplyBy(t);return rr.toThePowerOf(4).multiplyByAndAddTo(e,n),n.toString()}(2147483647&r,i)}(e.nodes.map(e=>e.visit(t,null)).join(""),e.meaning)}class Hn{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(e=>e.visit(this)).join(", ")}]`}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.expression}, ${e.type}, ${n.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(e=>e.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}}const $n=new Hn;class qn extends Hn{visitIcu(e,t){let n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}}function Gn(e,t,n,r){return e<20?[t&n|~t&r,1518500249]:e<40?[t^n^r,1859775393]:e<60?[t&n|t&r|n&r,2400959708]:[t^n^r,3395469782]}function Wn(e){const t=cn(e);let n=Xn(t,0),r=Xn(t,102072);return 0!=n||0!=r&&1!=r||(n^=319790063,r^=-1801410264),[n,r]}function Xn(e,t){let n,r=2654435769,i=2654435769;const s=e.length;for(n=0;n+12<=s;n+=12){r=Zn(r,nr(e,n,Kn.Little)),i=Zn(i,nr(e,n+4,Kn.Little));const s=Yn(r,i,t=Zn(t,nr(e,n+8,Kn.Little)));r=s[0],i=s[1],t=s[2]}return r=Zn(r,nr(e,n,Kn.Little)),i=Zn(i,nr(e,n+4,Kn.Little)),t=Zn(t,s),Yn(r,i,t=Zn(t,nr(e,n+8,Kn.Little)<<8))[2]}function Yn(e,t,n){return e=Jn(e,t),e=Jn(e,n),e^=n>>>13,t=Jn(t,n),t=Jn(t,e),t^=e<<8,n=Jn(n,e),n=Jn(n,t),n^=t>>>13,e=Jn(e,t),e=Jn(e,n),e^=n>>>12,t=Jn(t,n),t=Jn(t,e),t^=e<<16,n=Jn(n,e),n=Jn(n,t),n^=t>>>5,e=Jn(e,t),e=Jn(e,n),e^=n>>>3,t=Jn(t,n),t=Jn(t,e),t^=e<<10,n=Jn(n,e),n=Jn(n,t),[e,t,n^=t>>>15]}var Kn;function Zn(e,t){return Qn(e,t)[1]}function Qn(e,t){const n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function Jn(e,t){const n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function er(e,t){return e<<t|e>>>32-t}function tr(e,t){return t>=e.length?0:e[t]}function nr(e,t,n){let r=0;if(n===Kn.Big)for(let i=0;i<4;i++)r+=tr(e,t+i)<<24-8*i;else for(let i=0;i<4;i++)r+=tr(e,t+i)<<8*i;return r}!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(Kn||(Kn={}));const rr=new class{constructor(e){this.base=e,this.exponents=[new jn(Fn.one())]}toThePowerOf(e){for(let t=this.exponents.length;t<=e;t++){const e=this.exponents[t-1].multiplyBy(this.base);this.exponents[t]=new jn(e)}return this.exponents[e]}}(256);class ir{createNameMapper(e){return null}}class sr extends class{visitText(e,t){}visitContainer(e,t){e.children.forEach(e=>e.visit(this))}visitIcu(e,t){Object.keys(e.cases).forEach(t=>{e.cases[t].visit(this)})}visitTagPlaceholder(e,t){e.children.forEach(e=>e.visit(this))}visitPlaceholder(e,t){}visitIcuPlaceholder(e,t){}}{constructor(e,t){super(),this.mapName=t,this.internalToPublic={},this.publicToNextId={},this.publicToInternal={},e.nodes.forEach(e=>e.visit(this))}toPublicName(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null}toInternalName(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null}visitText(e,t){return null}visitTagPlaceholder(e,t){this.visitPlaceholderName(e.startName),super.visitTagPlaceholder(e,t),this.visitPlaceholderName(e.closeName)}visitPlaceholder(e,t){this.visitPlaceholderName(e.name)}visitIcuPlaceholder(e,t){this.visitPlaceholderName(e.name)}visitPlaceholderName(e){if(!e||this.internalToPublic.hasOwnProperty(e))return;let t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){const e=this.publicToNextId[t];this.publicToNextId[t]=e+1,t=`${t}_${e}`}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}}const or=new class{visitTag(e){const t=this._serializeAttributes(e.attrs);if(0==e.children.length)return`<${e.name}${t}/>`;const n=e.children.map(e=>e.visit(this));return`<${e.name}${t}>${n.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){const t=Object.keys(e).map(t=>`${t}="${e[t]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [\n${e.dtd}\n]>`}};function ar(e){return e.map(e=>e.visit(or)).join("")}class lr{constructor(e){this.attrs={},Object.keys(e).forEach(t=>{this.attrs[t]=fr(e[t])})}visit(e){return e.visitDeclaration(this)}}class cr{constructor(e,t){this.rootTag=e,this.dtd=t}visit(e){return e.visitDoctype(this)}}class ur{constructor(e,t={},n=[]){this.name=e,this.children=n,this.attrs={},Object.keys(t).forEach(e=>{this.attrs[e]=fr(t[e])})}visit(e){return e.visitTag(this)}}class hr{constructor(e){this.value=fr(e)}visit(e){return e.visitText(this)}}class dr extends hr{constructor(e=0){super(`\n${new Array(e+1).join(" ")}`)}}const pr=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function fr(e){return pr.reduce((e,t)=>e.replace(t[0],t[1]),e)}const gr="messagebundle",mr="ph",vr="ex";class yr extends ir{write(e,t){const n=new wr,r=new _r;let i=new ur(gr);return e.forEach(e=>{const t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);let n=[];e.sources.forEach(e=>{n.push(new ur("source",{},[new hr(`${e.filePath}:${e.startLine}${e.endLine!==e.startLine?","+e.endLine:""}`)]))}),i.children.push(new dr(2),new ur("msg",t,[...n,...r.serialize(e.nodes)]))}),i.children.push(new dr),ar([new lr({version:"1.0",encoding:"UTF-8"}),new dr,new cr(gr,'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new dr,n.addDefaultExamples(i),new dr])}load(e,t){throw new Error("Unsupported")}digest(e){return br(e)}createNameMapper(e){return new sr(e,xr)}}class _r{visitText(e,t){return[new hr(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new hr(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new hr(`${t} {`),...e.cases[t].visit(this),new hr("} "))}),n.push(new hr("}")),n}visitTagPlaceholder(e,t){const n=new hr(`<${e.tag}>`),r=new ur(vr,{},[n]),i=new ur(mr,{name:e.startName},[r,n]);if(e.isVoid)return[i];const s=new hr(`</${e.tag}>`),o=new ur(vr,{},[s]),a=new ur(mr,{name:e.closeName},[o,s]);return[i,...this.serialize(e.children),a]}visitPlaceholder(e,t){const n=new hr(`{{${e.value}}}`),r=new ur(vr,{},[n]);return[new ur(mr,{name:e.name},[r,n])]}visitIcuPlaceholder(e,t){const n=e.value.expression,r=e.value.type,i=Object.keys(e.value.cases).map(e=>e+" {...}").join(" "),s=new hr(`{${n}, ${r}, ${i}}`),o=new ur(vr,{},[s]);return[new ur(mr,{name:e.name},[o,s])]}serialize(e){return[].concat(...e.map(e=>e.visit(this)))}}function br(e){return zn(e)}class wr{addDefaultExamples(e){return e.visit(this),e}visitTag(e){if(e.name===mr){if(!e.children||0==e.children.length){const t=new hr(e.attrs.name||"...");e.children=[new ur(vr,{},[t])]}}else e.children&&e.children.forEach(e=>e.visit(this))}visitText(e){}visitDeclaration(e){}visitDoctype(e){}}function xr(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}const Er="i18n",Cr="i18n-";function Sr(e){return e===Er||e.startsWith(Cr)}function kr(e){return e instanceof On}function Tr(e){return kr(e)&&1===e.nodes.length&&e.nodes[0]instanceof Pn}function Ar(e){return!!e.i18n}function Dr(e){return e.nodes[0]}function Or(e,t=0){return`\ufffd${e}${t>0?`:${t}`:""}\ufffd`}function Ir(e=0){let t=e;return()=>t++}function Nr(e){const t={};return e.forEach((e,n)=>{t[n]=Mt(e.length>1?`[${e.join("|")}]`:e[0])}),t}function Pr(e,t,...n){const r=e.get(t)||[];r.push(...n),e.set(t,r)}function Mr(e,t=0,n=0){const r=t,i=new Map,s=e instanceof On?e.nodes.find(e=>e instanceof Nn):e;return s&&s.children.filter(e=>e instanceof Rn).forEach((e,t)=>{const s=Or(r+t,n);Pr(i,e.name,s)}),i}function Rr(e={},t){const n={};return e&&Object.keys(e).length&&Object.keys(e).forEach(r=>n[Lr(r,t)]=e[r]),n}function Lr(e,t=!0){const n=xr(e);if(!t)return n;const r=n.split("_");if(1===r.length)return e.toLowerCase();let i;/^\d+$/.test(r[r.length-1])&&(i=r.pop());let s=r.shift().toLowerCase();return r.length&&(s+=r.map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join("")),i?`${s}_${i}`:s}function Fr(e){return`MSG_${e}`.toUpperCase()}function jr(e){return new at(e.name,void 0,oe,void 0,e.sourceSpan)}const Br=/[-.]/,Vr="_t",zr="ctx",Ur="rf",Hr="restoredCtx";function $r(e,t){let n=null;return()=>(n||(e.push(new at(Vr,void 0,se)),n=Ct(t)),n)}function qr(e){if(this)throw new Error(`Builder ${this.constructor.name} doesn't support ${e} yet`);throw new Error(`Feature ${e} is not supported yet`)}function Gr(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function Wr(e){return Array.isArray(e)?Dt(e.map(Wr)):Mt(e,oe)}function Xr(e,t){return Object.getOwnPropertyNames(e).length>0?function(e,t){return Ot(Object.getOwnPropertyNames(e).map(n=>{const r=e[n];let i,s,o,a;return Array.isArray(r)?([s,i]=r,o=n,a=s!==i):([i,s]=Xt(n,[n,r]),o=i,a=s!==i&&n.includes(":")),{key:o,quoted:Br.test(o),value:t&&a?Dt([Wr(s),Wr(i)]):Wr(s)}}))}(e,t):null}function Yr(e){for(;Rt(e[e.length-1]);)e.pop();return e}function Kr(e,t){if(Array.isArray(e.predicate)){let n=[];return e.predicate.forEach(e=>{const t=e.split(",").map(e=>Mt(e.trim()));n.push(...t)}),t.getConstLiteral(Dt(n),!0)}return e.predicate}class Zr{constructor(){this.values=[]}set(e,t){t&&this.values.push({key:e,value:t,quoted:!1})}toLiteralMap(){return Ot(this.values)}}function Qr(e){const t={};return e instanceof Cn&&"ng-template"!==e.tagName?e.templateAttrs.forEach(e=>t[e.name]=""):(e.attributes.forEach(e=>{Sr(e.name)||(t[e.name]=e.value)}),e.inputs.forEach(e=>{t[e.name]=""}),e.outputs.forEach(e=>{t[e.name]=""})),t}function Jr(e,t,n){let r=St(e,null,n);if(t.length>0)for(let i=0;i<t.length;i++)r=r.callFn(t[i],n);else r=r.callFn([],n);return r}function ei(e){const{expressions:t,strings:n}=e;return 1===t.length&&2===n.length&&""===n[0]&&""===n[1]?1:t.length+n.length}function ti(e){return St(Gt.forwardRef).callFn([It([],[new ut(e)])])}class ni{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const e=new Map,t=[],n=[];Array.from(this.sourcesContent.keys()).forEach((r,i)=>{e.set(r,i),t.push(r),n.push(this.sourcesContent.get(r)||null)});let r="",i=0,s=0,o=0,a=0;return this.lines.forEach(t=>{i=0,r+=t.map(t=>{let n=ri(t.col0-i);return i=t.col0,null!=t.sourceUrl&&(n+=ri(e.get(t.sourceUrl)-s),s=e.get(t.sourceUrl),n+=ri(t.sourceLine0-o),o=t.sourceLine0,n+=ri(t.sourceCol0-a),a=t.sourceCol0),n}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:t,sourcesContent:n,mappings:r}}toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){let t="";const n=cn(e);for(let r=0;r<n.length;){const e=n[r++],i=r<n.length?n[r++]:null,s=r<n.length?n[r++]:null;t+=ii(e>>2),t+=ii((3&e)<<4|(null===i?0:i>>4)),t+=null===i?"=":ii((15&i)<<2|(null===s?0:s>>6)),t+=null===i||null===s?"=":ii(63&s)}return t}(JSON.stringify(this,null,0)):""}}function ri(e){e=e<0?1+(-e<<1):e<<1;let t="";do{let n=31&e;(e>>=5)>0&&(n|=32),t+=ii(n)}while(e>0);return t}function ii(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}const si=/'|\\|\n|\r|\$/g,oi=/^[$A-Z_][0-9A-Z_$]*$/i,ai="  ",li=Ct("error",null,null),ci=Ct("stack",null,null);class ui{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class hi{constructor(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new ui(e)]}static createRoot(){return new hi(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*ai.length+this._currentLine.partsLength}print(e,t,n=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new ui(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(e){this._classes.push(e)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(e=>e.parts.length>0?fi(e.indent)+e.parts.join(""):"").join("\n")}toSourceMapGenerator(e,t=0){const n=new ni(e);let r=!1;const i=()=>{r||(n.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let s=0;s<t;s++)n.addLine(),i();return this.sourceLines.forEach((e,t)=>{n.addLine();const s=e.srcSpans,o=e.parts;let a=e.indent*ai.length,l=0;for(;l<s.length&&!s[l];)a+=o[l].length,l++;for(l<s.length&&0===t&&0===a?r=!0:i();l<s.length;){const e=s[l],t=e.start.file,r=e.start.line,i=e.start.col;for(n.addSource(t.url,t.content).addMapping(a,t.url,r,i),a+=o[l].length,l++;l<s.length&&(e===s[l]||!s[l]);)a+=o[l].length,l++}}),n}setPreambleLineCount(e){return this._preambleLineCount=e}spanOf(e,t){const n=this._lines[e-this._preambleLineCount];if(n){let e=t-fi(n.indent).length;for(let t=0;t<n.parts.length;t++){const r=n.parts[t];if(r.length>e)return n.srcSpans[t];e-=r.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class di{constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(void 0!==e.leadingComments)for(const n of e.leadingComments)n instanceof st?t.print(e,`/*${n.toString()}*/`,n.trailingNewline):n.multiline?t.print(e,`/* ${n.text} */`,n.trailingNewline):n.text.split("\n").forEach(n=>{t.println(e,`// ${n}`)})}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");const n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitThrowStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null}visitWriteVarExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,`${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWriteKeyExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWritePropExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,`.${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitInvokeMethodExpr(e,t){e.receiver.visitExpression(this,t);let n=e.name;return null!=e.builtin&&(n=this.getBuiltinMethodName(e.builtin),null==n)||(t.print(e,`.${n}(`),this.visitAllExpressions(e.args,t,","),t.print(e,")")),null}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateExpr(e,t){e.tag.visitExpression(this,t),t.print(e,"`"+e.template.elements[0].rawText);for(let n=1;n<e.template.elements.length;n++)t.print(e,"${"),e.template.expressions[n-1].visitExpression(this,t),t.print(e,`}${e.template.elements[n].rawText}`);return t.print(e,"`"),null}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case pe.Super:n="super";break;case pe.This:n="this";break;case pe.CatchError:n=li.name;break;case pe.CatchStack:n=ci.name;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}return t.print(e,n),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){const n=e.value;return"string"==typeof n?t.print(e,pi(n,this._escapeDollarInStrings)):t.print(e,`${n}`),null}visitLocalizedString(e,t){const n=e.serializeI18nHead();t.print(e,"$localize `"+n.raw);for(let r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let n;switch(e.operator){case he.Plus:n="+";break;case he.Minus:n="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),t.print(e,n),e.expr.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let n;switch(e.operator){case de.Equals:n="==";break;case de.Identical:n="===";break;case de.NotEquals:n="!=";break;case de.NotIdentical:n="!==";break;case de.And:n="&&";break;case de.BitwiseAnd:n="&";break;case de.Or:n="||";break;case de.Plus:n="+";break;case de.Minus:n="-";break;case de.Divide:n="/";break;case de.Multiply:n="*";break;case de.Modulo:n="%";break;case de.Lower:n="<";break;case de.LowerEquals:n="<=";break;case de.Bigger:n=">";break;case de.BiggerEquals:n=">=";break;case de.NullishCoalesce:n="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${n} `),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(n=>{t.print(e,`${pi(n.key,this._escapeDollarInStrings,n.quoted)}:`),n.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitAllExpressions(e,t,n){this.visitAllObjects(e=>e.visitExpression(this,t),e,t,n)}visitAllObjects(e,t,n,r){let i=!1;for(let s=0;s<t.length;s++)s>0&&(n.lineLength()>80?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),e(t[s]);i&&(n.decIndent(),n.decIndent())}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}function pi(e,t,n=!0){if(null==e)return null;const r=e.replace(si,(...e)=>"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":`\\${e[0]}`);return n||!oi.test(r)?`'${r}'`:r}function fi(e){let t="";for(let n=0;n<e;n++)t+=ai;return t}function gi(e,t){if(0===t)return Tt(e);const n=[];for(let r=0;r<t;r++)n.push(se);return Tt(e,void 0,n)}function mi(e){return`@${e}`}function vi(e,t){const n=pi(t,!1,!1);return n!==t?`${e}[${n}]`:`${e}.${t}`}function yi(e,t){return`animation_${e}_${t}`}function _i(e,t){const n=new Ve({name:e,moduleName:null}),r=new Xe(de.Identical,new be(n),Mt("undefined")),i=new Xe(de.Or,r,n,void 0,void 0,!0);return new Xe(de.And,i,t)}function bi(e){const t=new we(e);return{value:t,type:t}}function wi(e,t){const n=Dt(e.map(e=>e.value));return t?It([],[new ut(n)]):n}var xi,Ei;function Ci(e){const t=Ct("t");let n=null;const r=Ti(e)?t:new Xe(de.Or,t,e.internalType);let i=null;null!==e.deps?"invalid"!==e.deps&&(i=new Ae(r,ki(e.deps,e.target))):(n=Ct(`\u0275${e.name}_BaseFactory`),i=n.callFn([r]));const s=[];let o=null;function a(e){const n=Ct("r");s.push(n.set(tt).toDeclStmt());const r=null!==i?n.set(i).toStmt():St(Gt.invalidFactory).callFn([]).toStmt();return s.push(Nt(t,[r],[n.set(e).toStmt()])),n}if(Ti(e)){const t=ki(e.delegateDeps,e.target);o=a(new(e.delegateType===xi.Class?Ae:ke)(e.delegate,t))}else o=function(e){return void 0!==e.expression}(e)?a(e.expression):i;if(null===o)s.push(St(Gt.invalidFactory).callFn([]).toStmt());else if(null!==n){const t=St(Gt.getInheritedFactory).callFn([e.internalType]),i=new Xe(de.Or,n,n.set(t));s.push(new ut(i.callFn([r])))}else s.push(new ut(o));let l=It([new qe("t",se)],s,oe,void 0,`${e.name}_Factory`);return null!==n&&(l=It([],[new at(n.name),new ut(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:Si(e)}}function Si(e){const t=null!==e.deps&&"invalid"!==e.deps?function(e){let t=!1;const n=e.map(e=>{const n=function(e){const t=[];null!==e.attributeNameType&&t.push({key:"attribute",value:e.attributeNameType,quoted:!1});e.optional&&t.push({key:"optional",value:Mt(!0),quoted:!1});e.host&&t.push({key:"host",value:Mt(!0),quoted:!1});e.self&&t.push({key:"self",value:Mt(!0),quoted:!1});e.skipSelf&&t.push({key:"skipSelf",value:Mt(!0),quoted:!1});return t.length>0?Ot(t):null}(e);return null!==n?(t=!0,n):Mt(null)});return t?Tt(Dt(n)):ue}(e.deps):ue;return Tt(St(Gt.FactoryDeclaration,[gi(e.type.type,e.typeArgumentCount),t]))}function ki(e,t){return e.map((e,n)=>function(e,t,n){if(null===e.token)return St(Gt.invalidFactoryDep).callFn([Mt(n)]);if(null===e.attributeNameType){const n=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0)|(t===Ei.Pipe?16:0);let r=0!==n||e.optional?Mt(n):null;const i=[e.token];r&&i.push(r);return St(function(e){switch(e){case Ei.Component:case Ei.Directive:case Ei.Pipe:return Gt.directiveInject;case Ei.NgModule:case Ei.Injectable:default:return Gt.inject}}(t)).callFn(i)}return St(Gt.injectAttribute).callFn([e.token])}(e,t,n))}function Ti(e){return void 0!==e.delegateType}function Ai(e,t){return{expression:e,isForwardRef:t}}function Di(e,t){let n=null;const r={name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:e.typeArgumentCount,deps:[],target:Ei.Injectable};if(void 0!==e.useClass){const i=e.useClass.expression.isEquivalent(e.internalType);let s;void 0!==e.deps&&(s=e.deps),n=void 0!==s?Ci(Object.assign(Object.assign({},r),{delegate:e.useClass.expression,delegateDeps:s,delegateType:xi.Class})):i?Ci(r):{statements:[],expression:Ii(e.type.value,e.useClass.expression,t)}}else n=void 0!==e.useFactory?void 0!==e.deps?Ci(Object.assign(Object.assign({},r),{delegate:e.useFactory,delegateDeps:e.deps||[],delegateType:xi.Function})):{statements:[],expression:It([],[new ut(e.useFactory.callFn([]))])}:void 0!==e.useValue?Ci(Object.assign(Object.assign({},r),{expression:e.useValue.expression})):void 0!==e.useExisting?Ci(Object.assign(Object.assign({},r),{expression:St(Gt.inject).callFn([e.useExisting.expression])})):{statements:[],expression:Ii(e.type.value,e.internalType,t)};const i=e.internalType,s=new Zr;s.set("token",i),s.set("factory",n.expression),null!==e.providedIn.expression.value&&s.set("providedIn",e.providedIn.isForwardRef?ti(e.providedIn.expression):e.providedIn.expression);return{expression:St(Gt.\u0275\u0275defineInjectable).callFn([s.toLiteralMap()],void 0,!0),type:Oi(e),statements:n.statements}}function Oi(e){return new ne(St(Gt.InjectableDeclaration,[gi(e.type.type,e.typeArgumentCount)]))}function Ii(e,t,n){if(e.node===t.node)return t.prop("\u0275fac");if(!n)return Ni(t);return Ni(St(Gt.resolveForwardRef).callFn([t]))}function Ni(e){return It([new qe("t",se)],[new ut(e.callMethod("\u0275fac",[Ct("t")]))])}function Pi(e,t){if(null!=t){if(!Array.isArray(t))throw new Error(`Expected '${e}' to be an array of strings.`);for(let n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error(`Expected '${e}' to be an array of strings.`)}}!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function"}(xi||(xi={})),function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(Ei||(Ei={}));const Mi=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Ri(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error(`Expected '${e}' to be an array, [start, end].`);if(null!=t){const e=t[0],n=t[1];Mi.forEach(t=>{if(t.test(e)||t.test(n))throw new Error(`['${e}', '${n}'] contains unusable interpolation symbol.`)})}}class Li{constructor(e,t){this.start=e,this.end=t}static fromArray(e){return e?(Ri("interpolation",e),new Li(e[0],e[1])):Fi}}const Fi=new Li("{{","}}");class ji{constructor(e,t,n){this.filePath=e,this.name=t,this.members=n}assertNoMembers(){if(this.members.length)throw new Error(`Illegal state: symbol without members expected, but got ${JSON.stringify(this)}.`)}}class Bi{constructor(){this.cache=new Map}get(e,t,n){const r=`"${e}".${t}${(n=n||[]).length?`.${n.join(".")}`:""}`;let i=this.cache.get(r);return i||(i=new ji(e,t,n),this.cache.set(r,i)),i}}const Vi=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function zi(e){return e.replace(/\W/g,"_")}let Ui=0;function Hi(e){if(!e||!e.reference)return null;const t=e.reference;if(t instanceof ji)return t.name;if(t.__anonymousType)return t.__anonymousType;if(t.__forward_ref__)return"__forward_ref__";let n=un(t);return n.indexOf("(")>=0?(n="anonymous_"+Ui++,t.__anonymousType=n):n=zi(n),n}function $i(e){const t=e.reference;return t instanceof ji?t.filePath:`./${un(t)}`}function qi(e,t){return`View_${Hi({reference:e})}_${t}`}function Gi(e){return`RenderType_${Hi({reference:e})}`}function Wi(e){return`${Hi({reference:e})}NgFactory`}var Xi;function Yi(e){return null!=e.value?zi(e.value):Hi(e.identifier)}function Ki(e){return null!=e.identifier?e.identifier.reference:e.value}!function(e){e[e.Pipe=0]="Pipe",e[e.Directive=1]="Directive",e[e.NgModule=2]="NgModule",e[e.Injectable=3]="Injectable"}(Xi||(Xi={}));class Zi{constructor({moduleUrl:e,styles:t,styleUrls:n}={}){this.moduleUrl=e||null,this.styles=rs(t),this.styleUrls=rs(n)}}class Qi{constructor({encapsulation:e,template:t,templateUrl:n,htmlAst:r,styles:i,styleUrls:s,externalStylesheets:o,animations:a,ngContentSelectors:l,interpolation:c,isInline:u,preserveWhitespaces:h}){if(this.encapsulation=e,this.template=t,this.templateUrl=n,this.htmlAst=r,this.styles=rs(i),this.styleUrls=rs(s),this.externalStylesheets=rs(o),this.animations=a?ss(a):[],this.ngContentSelectors=l||[],c&&2!=c.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=c,this.isInline=u,this.preserveWhitespaces=h}toSummary(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}class Ji{constructor({isHost:e,type:t,isComponent:n,selector:r,exportAs:i,changeDetection:s,inputs:o,outputs:a,hostListeners:l,hostProperties:c,hostAttributes:u,providers:h,viewProviders:d,queries:p,guards:f,viewQueries:g,entryComponents:m,template:v,componentViewType:y,rendererType:_,componentFactory:b}){this.isHost=!!e,this.type=t,this.isComponent=n,this.selector=r,this.exportAs=i,this.changeDetection=s,this.inputs=o,this.outputs=a,this.hostListeners=l,this.hostProperties=c,this.hostAttributes=u,this.providers=rs(h),this.viewProviders=rs(d),this.queries=rs(p),this.guards=f,this.viewQueries=rs(g),this.entryComponents=rs(m),this.template=v,this.componentViewType=y,this.rendererType=_,this.componentFactory=b}static create({isHost:e,type:t,isComponent:n,selector:r,exportAs:i,changeDetection:s,inputs:o,outputs:a,host:l,providers:c,viewProviders:u,queries:h,guards:d,viewQueries:p,entryComponents:f,template:g,componentViewType:m,rendererType:v,componentFactory:y}){const _={},b={},w={};null!=l&&Object.keys(l).forEach(e=>{const t=l[e],n=e.match(Vi);null===n?w[e]=t:null!=n[1]?b[n[1]]=t:null!=n[2]&&(_[n[2]]=t)});const x={};null!=o&&o.forEach(e=>{const t=Xt(e,[e,e]);x[t[0]]=t[1]});const E={};return null!=a&&a.forEach(e=>{const t=Xt(e,[e,e]);E[t[0]]=t[1]}),new Ji({isHost:e,type:t,isComponent:!!n,selector:r,exportAs:i,changeDetection:s,inputs:x,outputs:E,hostListeners:_,hostProperties:b,hostAttributes:w,providers:c,viewProviders:u,queries:h,guards:d,viewQueries:p,entryComponents:f,template:g,componentViewType:m,rendererType:v,componentFactory:y})}toSummary(){return{summaryKind:Xi.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}class es{constructor({type:e,name:t,pure:n}){this.type=e,this.name=t,this.pure=!!n}toSummary(){return{summaryKind:Xi.Pipe,type:this.type,name:this.name,pure:this.pure}}}class ts{constructor({type:e,providers:t,declaredDirectives:n,exportedDirectives:r,declaredPipes:i,exportedPipes:s,entryComponents:o,bootstrapComponents:a,importedModules:l,exportedModules:c,schemas:u,transitiveModule:h,id:d}){this.type=e||null,this.declaredDirectives=rs(n),this.exportedDirectives=rs(r),this.declaredPipes=rs(i),this.exportedPipes=rs(s),this.providers=rs(t),this.entryComponents=rs(o),this.bootstrapComponents=rs(a),this.importedModules=rs(l),this.exportedModules=rs(c),this.schemas=rs(u),this.id=d||null,this.transitiveModule=h||null}toSummary(){const e=this.transitiveModule;return{summaryKind:Xi.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}}}class ns{constructor(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}addProvider(e,t){this.providers.push({provider:e,module:t})}addDirective(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))}addExportedDirective(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))}addPipe(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))}addExportedPipe(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))}addModule(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))}addEntryComponent(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))}}function rs(e){return e||[]}class is{constructor(e,{useClass:t,useValue:n,useExisting:r,useFactory:i,deps:s,multi:o}){this.token=e,this.useClass=t||null,this.useValue=n,this.useExisting=r,this.useFactory=i||null,this.dependencies=s||null,this.multi=!!o}}function ss(e){return e.reduce((e,t)=>{const n=Array.isArray(t)?ss(t):t;return e.concat(n)},[])}function os(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function as(e,t,n){let r;return r=n.isInline?t.type.reference instanceof ji?`${t.type.reference.filePath}.${t.type.reference.name}.html`:`${Hi(e)}/${Hi(t.type)}.html`:n.templateUrl,t.type.reference instanceof ji?r:os(r)}const ls='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})';class cs extends di{constructor(){super(!1)}visitDeclareClassStmt(e,t){return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,`${e.name}.prototype = Object.create(`),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach(n=>this._visitClassGetter(e,n,t)),e.methods.forEach(n=>this._visitClassMethod(e,n,t)),t.popClass(),null}_visitClassConstructor(e,t){t.print(e,`function ${e.name}(`),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")}_visitClassGetter(e,t,n){n.println(e,`Object.defineProperty(${e.name}.prototype, '${t.name}', { get: function() {`),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")}_visitClassMethod(e,t,n){n.print(e,`${e.name}.prototype.${t.name} = function(`),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(e,t){if(e.builtin===pe.This)t.print(e,"self");else{if(e.builtin===pe.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(e,t)}return null}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitCastExpr(e,t){return e.value.visitExpression(this,t),null}visitInvokeFunctionExpr(e,t){const n=e.fn;return n instanceof _e&&n.builtin===pe.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),e.args.length>0&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):super.visitInvokeFunctionExpr(e,t),null}visitTaggedTemplateExpr(e,t){const n=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${ls}(`),t.print(e,`[${n.map(e=>pi(e.text,!1)).join(", ")}], `),t.print(e,`[${n.map(e=>pi(e.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(n=>{t.print(e,", "),n.visitExpression(this,t)}),t.print(e,")"),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${li.name}) {`),t.incIndent();const n=[ci.set(li.prop("stack")).toDeclStmt(null,[rt.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${ls}(`);const n=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)n.push(e.serializeI18nTemplatePart(r));return t.print(e,`[${n.map(e=>pi(e.cooked,!1)).join(", ")}], `),t.print(e,`[${n.map(e=>pi(e.raw,!1)).join(", ")}])`),e.expressions.forEach(n=>{t.print(e,", "),n.visitExpression(this,t)}),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects(e=>t.print(null,e.name),e,t,",")}getBuiltinMethodName(e){let t;switch(e){case fe.ConcatArray:t="concat";break;case fe.SubscribeObservable:t="subscribe";break;case fe.Bind:t="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return t}}let us;function hs(e){var t;return(null===(t=function(){if(void 0===us&&(us=null,gn.trustedTypes))try{us=gn.trustedTypes.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch(t){}return us}())||void 0===t?void 0:t.createScript(e))||e}function ds(...e){if(!gn.trustedTypes)return new Function(...e);const t=`(function anonymous(${e.slice(0,-1).join(",")}\n) { ${e[e.length-1]}\n})`,n=gn.eval(hs(t));return void 0===n.bind?new Function(...e):(n.toString=()=>t,n.bind(gn))}class ps{evaluateStatements(e,t,n,r){const i=new fs(n),s=hi.createRoot();return t.length>0&&!t[0].isEquivalent(Mt("use strict").toStmt())&&(t=[Mt("use strict").toStmt(),...t]),i.visitAllStatements(t,s),i.createReturnStmt(s),this.evaluateCode(e,s,i.getArgs(),r)}evaluateCode(e,t,n,r){let i=`"use strict";${t.toSource()}\n//# sourceURL=${e}`;const s=[],o=[];for(const l in n)o.push(n[l]),s.push(l);if(r){const n=ds(...s.concat("return null;")).toString(),r=n.slice(0,n.indexOf("return null;")).split("\n").length-1;i+=`\n${t.toSourceMapGenerator(e,r).toJsComment()}`}const a=ds(...s.concat(i));return this.executeFunction(a,o)}executeFunction(e,t){return e(...t)}}class fs extends cs{constructor(e){super(),this.reflector=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new ut(new Je(this._evalExportedVars.map(e=>new Qe(e,Ct(e),!1)))).visitStatement(this,e)}getArgs(){const e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(rt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(rt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}visitDeclareClassStmt(e,t){return e.hasModifier(rt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareClassStmt(e,t)}_emitReferenceToExternal(e,t,n){let r=this._evalArgValues.indexOf(t);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(t);const e=Hi({reference:t})||"val";this._evalArgNames.push(`jit_${e}_${r}`)}n.print(e,this._evalArgNames[r])}}const gs=10,ms=41,vs=44,ys=46,_s=47,bs=58,ws=59,xs=60,Es=61,Cs=62,Ss=97,ks=122,Ts=123,As=125;function Ds(e){return e>=9&&e<=32||160==e}function Os(e){return 48<=e&&e<=57}function Is(e){return e>=Ss&&e<=ks||e>=65&&e<=90}function Ns(e){return e===gs||13===e}function Ps(e){return 48<=e&&e<=55}class Ms{constructor(e,t,n,r){this.file=e,this.offset=t,this.line=n,this.col=r}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){const t=this.file.content,n=t.length;let r=this.offset,i=this.line,s=this.col;for(;r>0&&e<0;){r--,e++;if(t.charCodeAt(r)==gs){i--;const e=t.substr(0,r-1).lastIndexOf(String.fromCharCode(gs));s=e>0?r-e:r}else s--}for(;r<n&&e>0;){const n=t.charCodeAt(r);r++,e--,n==gs?(i++,s=0):s++}return new Ms(this.file,r,i,s)}getContext(e,t){const n=this.file.content;let r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);let i=r,s=0,o=0;for(;s<e&&r>0&&(r--,s++,"\n"!=n[r]||++o!=t););for(s=0,o=0;s<e&&i<n.length-1&&(i++,s++,"\n"!=n[i]||++o!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null}}class Rs{constructor(e,t){this.content=e,this.url=t}}class Ls{constructor(e,t,n=e,r=null){this.start=e,this.end=t,this.fullStart=n,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}var Fs,js;!function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"}(Fs||(Fs={}));class Bs{constructor(e,t,n=Fs.ERROR){this.span=e,this.msg=t,this.level=n}contextualMessage(){const e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Fs[this.level]} ->]${e.after}")`:this.msg}toString(){const e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}}function Vs(e){const t=new Zr;null!==e.providers&&t.set("providers",e.providers),e.imports.length>0&&t.set("imports",Dt(e.imports));return{expression:St(Gt.defineInjector).callFn([t.toLiteralMap()],void 0,!0),type:zs(e),statements:[]}}function zs(e){return new ne(St(Gt.InjectorDeclaration,[new ne(e.type.type)]))}class Us{constructor(e){this.context=e}resolveExternalReference(e){if("@angular/core"!==e.moduleName)throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}parameters(e){throw new Error("Not implemented.")}annotations(e){throw new Error("Not implemented.")}shallowAnnotations(e){throw new Error("Not implemented.")}tryAnnotations(e){throw new Error("Not implemented.")}propMetadata(e){throw new Error("Not implemented.")}hasLifecycleHook(e,t){throw new Error("Not implemented.")}guards(e){throw new Error("Not implemented.")}componentModuleUrl(e,t){throw new Error("Not implemented.")}}function Hs(e){const{internalType:t,bootstrap:n,declarations:r,imports:i,exports:s,schemas:o,containsForwardDecls:a,emitInline:l,id:c}=e,u=[],h=new Zr;if(h.set("type",t),n.length>0&&h.set("bootstrap",wi(n,a)),l)r.length>0&&h.set("declarations",wi(r,a)),i.length>0&&h.set("imports",wi(i,a)),s.length>0&&h.set("exports",wi(s,a));else{const t=function(e){const{adjacentType:t,declarations:n,imports:r,exports:i,containsForwardDecls:s}=e,o=new Zr;n.length>0&&o.set("declarations",wi(n,s));r.length>0&&o.set("imports",wi(r,s));i.length>0&&o.set("exports",wi(i,s));if(0===Object.keys(o.values).length)return null;const a=(c=new ke(St(Gt.setNgModuleScope),[t,o.toLiteralMap()]),_i("ngJitMode",c)),l=new Ge([],[a.toStmt()]);var c;return new ke(l,[]).toStmt()}(e);null!==t&&u.push(t)}null!==o&&o.length>0&&h.set("schemas",Dt(o.map(e=>e.value))),null!==c&&h.set("id",c);return{expression:St(Gt.defineNgModule).callFn([h.toLiteralMap()],void 0,!0),type:$s(e),statements:u}}function $s({type:e,declarations:t,imports:n,exports:r}){return new ne(St(Gt.NgModuleDeclaration,[new ne(e.type),qs(t),qs(n),qs(r)]))}function qs(e){const t=e.map(e=>At(e.type));return e.length>0?Tt(Dt(t)):ue}function Gs(e){const t=[];t.push({key:"name",value:Mt(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type.value,quoted:!1}),t.push({key:"pure",value:Mt(e.pure),quoted:!1});return{expression:St(Gt.definePipe).callFn([Ot(t)],void 0,!0),type:Ws(e),statements:[]}}function Ws(e){return new ne(St(Gt.PipeDeclaration,[gi(e.type.type,e.typeArgumentCount),new ne(new De(e.pipeName))]))}class Xs{constructor(e,t,n,r){this.input=t,this.errLocation=n,this.ctxLocation=r,this.message=`Parser Error: ${e} ${n} [${t}] in ${r}`}}class Ys{constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new xo(e+this.start,e+this.end)}}class Ks{constructor(e,t){this.span=e,this.sourceSpan=t}visit(e,t=null){return null}toString(){return"AST"}}class Zs extends Ks{constructor(e,t,n){super(e,t),this.nameSpan=n}}class Qs extends Ks{constructor(e,t,n,r,i){super(e,t),this.prefix=n,this.uninterpretedExpression=r,this.location=i}visit(e,t=null){return e.visitQuote(this,t)}toString(){return"Quote"}}class Js extends Ks{visit(e,t=null){}}class eo extends Ks{visit(e,t=null){return e.visitImplicitReceiver(this,t)}}class to extends eo{visit(e,t=null){var n;return null===(n=e.visitThisReceiver)||void 0===n?void 0:n.call(e,this,t)}}class no extends Ks{constructor(e,t,n){super(e,t),this.expressions=n}visit(e,t=null){return e.visitChain(this,t)}}class ro extends Ks{constructor(e,t,n,r,i){super(e,t),this.condition=n,this.trueExp=r,this.falseExp=i}visit(e,t=null){return e.visitConditional(this,t)}}class io extends Zs{constructor(e,t,n,r,i){super(e,t,n),this.receiver=r,this.name=i}visit(e,t=null){return e.visitPropertyRead(this,t)}}class so extends Zs{constructor(e,t,n,r,i,s){super(e,t,n),this.receiver=r,this.name=i,this.value=s}visit(e,t=null){return e.visitPropertyWrite(this,t)}}class oo extends Zs{constructor(e,t,n,r,i){super(e,t,n),this.receiver=r,this.name=i}visit(e,t=null){return e.visitSafePropertyRead(this,t)}}class ao extends Ks{constructor(e,t,n,r){super(e,t),this.obj=n,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}}class lo extends Ks{constructor(e,t,n,r,i){super(e,t),this.obj=n,this.key=r,this.value=i}visit(e,t=null){return e.visitKeyedWrite(this,t)}}class co extends Zs{constructor(e,t,n,r,i,s){super(e,t,s),this.exp=n,this.name=r,this.args=i}visit(e,t=null){return e.visitPipe(this,t)}}class uo extends Ks{constructor(e,t,n){super(e,t),this.value=n}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}}class ho extends Ks{constructor(e,t,n){super(e,t),this.expressions=n}visit(e,t=null){return e.visitLiteralArray(this,t)}}class po extends Ks{constructor(e,t,n,r){super(e,t),this.keys=n,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}}class fo extends Ks{constructor(e,t,n,r){super(e,t),this.strings=n,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}}class go extends Ks{constructor(e,t,n,r,i){super(e,t),this.operation=n,this.left=r,this.right=i}visit(e,t=null){return e.visitBinary(this,t)}}class mo extends go{constructor(e,t,n,r,i,s,o){super(e,t,i,s,o),this.operator=n,this.expr=r}static createMinus(e,t,n){return new mo(e,t,"-",n,"-",new uo(e,t,0),n)}static createPlus(e,t,n){return new mo(e,t,"+",n,"-",n,new uo(e,t,0))}visit(e,t=null){return void 0!==e.visitUnary?e.visitUnary(this,t):e.visitBinary(this,t)}}class vo extends Ks{constructor(e,t,n){super(e,t),this.expression=n}visit(e,t=null){return e.visitPrefixNot(this,t)}}class yo extends Ks{constructor(e,t,n){super(e,t),this.expression=n}visit(e,t=null){return e.visitNonNullAssert(this,t)}}class _o extends Zs{constructor(e,t,n,r,i,s,o){super(e,t,n),this.receiver=r,this.name=i,this.args=s,this.argumentSpan=o}visit(e,t=null){return e.visitMethodCall(this,t)}}class bo extends Zs{constructor(e,t,n,r,i,s,o){super(e,t,n),this.receiver=r,this.name=i,this.args=s,this.argumentSpan=o}visit(e,t=null){return e.visitSafeMethodCall(this,t)}}class wo extends Ks{constructor(e,t,n,r){super(e,t),this.target=n,this.args=r}visit(e,t=null){return e.visitFunctionCall(this,t)}}class xo{constructor(e,t){this.start=e,this.end=t}}class Eo extends Ks{constructor(e,t,n,r,i){super(new Ys(0,null===t?0:t.length),new xo(r,null===t?r:r+t.length)),this.ast=e,this.source=t,this.location=n,this.errors=i}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}}class Co{constructor(e,t,n){this.sourceSpan=e,this.key=t,this.value=n}}class So{constructor(e,t,n){this.sourceSpan=e,this.key=t,this.value=n}}class ko{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitFunctionCall(e,t){e.target&&this.visit(e.target,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.obj,t),this.visit(e.key,t)}visitKeyedWrite(e,t){this.visit(e.obj,t),this.visit(e.key,t),this.visit(e.value,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitMethodCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitPrefixNot(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitPropertyWrite(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeMethodCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitQuote(e,t){}visitAll(e,t){for(const n of e)this.visit(n,t)}}class To{constructor(e,t,n,r,i,s){this.name=e,this.expression=t,this.type=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s,this.isLiteral=this.type===js.LITERAL_ATTR,this.isAnimation=this.type===js.ANIMATION}}!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"}(js||(js={}));class Ao{constructor(e,t,n,r,i,s,o){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s,this.keySpan=o}}class Do{constructor(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=r,this.valueSpan=i}}class Oo{constructor(e,t,n,r,i,s,o,a){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.keySpan=o,this.valueSpan=a}}const Io="@angular/core";class No{}function Po(e){return{identifier:{reference:e}}}function Mo(e,t){return Po(e.resolveExternalReference(t))}No.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:Io},No.ElementRef={name:"ElementRef",moduleName:Io},No.NgModuleRef={name:"NgModuleRef",moduleName:Io},No.ViewContainerRef={name:"ViewContainerRef",moduleName:Io},No.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:Io},No.QueryList={name:"QueryList",moduleName:Io},No.TemplateRef={name:"TemplateRef",moduleName:Io},No.Renderer2={name:"Renderer2",moduleName:Io},No.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:Io},No.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:Io},No.ComponentFactory={name:"ComponentFactory",moduleName:Io},No.ComponentRef={name:"ComponentRef",moduleName:Io},No.NgModuleFactory={name:"NgModuleFactory",moduleName:Io},No.createModuleFactory={name:"\u0275cmf",moduleName:Io},No.moduleDef={name:"\u0275mod",moduleName:Io},No.moduleProviderDef={name:"\u0275mpd",moduleName:Io},No.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:Io},No.inject={name:"\u0275\u0275inject",moduleName:Io},No.directiveInject={name:"\u0275\u0275directiveInject",moduleName:Io},No.INJECTOR={name:"INJECTOR",moduleName:Io},No.Injector={name:"Injector",moduleName:Io},No.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Io},No.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Io},No.SecurityContext={name:"SecurityContext",moduleName:Io},No.LOCALE_ID={name:"LOCALE_ID",moduleName:Io},No.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:Io},No.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:Io},No.interpolate={name:"\u0275interpolate",moduleName:Io},No.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:Io},No.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:Io},No.Renderer={name:"Renderer",moduleName:Io},No.viewDef={name:"\u0275vid",moduleName:Io},No.elementDef={name:"\u0275eld",moduleName:Io},No.anchorDef={name:"\u0275and",moduleName:Io},No.textDef={name:"\u0275ted",moduleName:Io},No.directiveDef={name:"\u0275did",moduleName:Io},No.providerDef={name:"\u0275prd",moduleName:Io},No.queryDef={name:"\u0275qud",moduleName:Io},No.pureArrayDef={name:"\u0275pad",moduleName:Io},No.pureObjectDef={name:"\u0275pod",moduleName:Io},No.purePipeDef={name:"\u0275ppd",moduleName:Io},No.pipeDef={name:"\u0275pid",moduleName:Io},No.nodeValue={name:"\u0275nov",moduleName:Io},No.ngContentDef={name:"\u0275ncd",moduleName:Io},No.unwrapValue={name:"\u0275unv",moduleName:Io},No.createRendererType2={name:"\u0275crt",moduleName:Io},No.RendererType2={name:"RendererType2",moduleName:Io},No.ViewDefinition={name:"\u0275ViewDefinition",moduleName:Io},No.createComponentFactory={name:"\u0275ccf",moduleName:Io};class Ro{}Ro.event=Ct("$event");class Lo{constructor(e,t){this.stmts=e,this.allowDefault=t,this.render3Stmts=e.map(e=>{if(e instanceof at&&e.name==t.name&&e.value instanceof Xe){const t=e.value.lhs;return new ut(t.value)}return e})}}function Fo(e,t,n,r,i,s,o,a){e||(e=new Zo(a));const l=jo({createLiteralArrayConverter:e=>e=>Dt(e),createLiteralMapConverter:e=>t=>Ot(e.map((e,n)=>({key:e.key,value:t[n],quoted:e.quoted}))),createPipeConverter:e=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${e}`)}},n),c=new Yo(e,t,r,i,s,o),u=[];Ko(l.visit(c,zo.Statement),u),function(e,t,n){for(let r=e-1;r>=0;r--)n.unshift(qo(t,r))}(c.temporaryCount,r,u),c.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const h=u.length-1;let d=null;if(h>=0){const e=function(e){if(e instanceof ct)return e.expr;if(e instanceof ut)return e.value;return null}(u[h]);e&&(d=function(e){return Ct(`pd_${e}`)}(r),u[h]=d.set(e.cast(se).notIdentical(Mt(!1))).toDeclStmt(null,[rt.Final]))}return new Lo(u,d)}function jo(e,t){return function(e,t){const n=new Xo(e);return t.visit(n)}(e,t)}class Bo{constructor(e,t){this.stmts=e,this.currValExpr=t}}var Vo,zo;function Uo(e,t,n,r,i,s){e||(e=new Zo);const o=new Yo(e,t,r,s),a=n.visit(o,zo.Expression),l=Ho(o,r);if(o.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===o.temporaryCount&&i==Vo.TrySimple)return new Bo([],a);if(i===Vo.Expression)return new Bo(l,a);const c=function(e){return Ct(`currVal_${e}`)}(r);return l.push(c.set(a).toDeclStmt(se,[rt.Final])),new Bo(l,c)}function Ho(e,t){const n=[];for(let r=0;r<e.temporaryCount;r++)n.push(qo(t,r));return n}function $o(e,t){return`tmp_${e}_${t}`}function qo(e,t){return new at($o(e,t))}function Go(e,t){if(e!==zo.Expression)throw new Error(`Expected an expression, but saw ${t}`)}function Wo(e,t){return e===zo.Statement?t.toStmt():t}!function(e){e[e.General=0]="General",e[e.TrySimple=1]="TrySimple",e[e.Expression=2]="Expression"}(Vo||(Vo={})),function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(zo||(zo={}));class Xo extends class{visitImplicitReceiver(e,t){return e}visitThisReceiver(e,t){return e}visitInterpolation(e,t){return new fo(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,t){return new uo(e.span,e.sourceSpan,e.value)}visitPropertyRead(e,t){return new io(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitPropertyWrite(e,t){return new so(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,t){return new oo(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitMethodCall(e,t){return new _o(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,this.visitAll(e.args),e.argumentSpan)}visitSafeMethodCall(e,t){return new bo(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,this.visitAll(e.args),e.argumentSpan)}visitFunctionCall(e,t){return new wo(e.span,e.sourceSpan,e.target.visit(this),this.visitAll(e.args))}visitLiteralArray(e,t){return new ho(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitLiteralMap(e,t){return new po(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}visitUnary(e,t){switch(e.operator){case"+":return mo.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return mo.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error(`Unknown unary operator ${e.operator}`)}}visitBinary(e,t){return new go(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,t){return new vo(e.span,e.sourceSpan,e.expression.visit(this))}visitNonNullAssert(e,t){return new yo(e.span,e.sourceSpan,e.expression.visit(this))}visitConditional(e,t){return new ro(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,t){return new co(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}visitKeyedRead(e,t){return new ao(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this))}visitKeyedWrite(e,t){return new lo(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}visitAll(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}visitChain(e,t){return new no(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitQuote(e,t){return new Qs(e.span,e.sourceSpan,e.prefix,e.uninterpretedExpression,e.location)}}{constructor(e){super(),this._converterFactory=e}visitPipe(e,t){const n=[e.exp,...e.args].map(e=>e.visit(this,t));return new Qo(e.span,e.sourceSpan,n,this._converterFactory.createPipeConverter(e.name,n.length))}visitLiteralArray(e,t){const n=e.expressions.map(e=>e.visit(this,t));return new Qo(e.span,e.sourceSpan,n,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,t){const n=e.values.map(e=>e.visit(this,t));return new Qo(e.span,e.sourceSpan,n,this._converterFactory.createLiteralMapConverter(e.keys))}}class Yo{constructor(e,t,n,r,i,s){this._localResolver=e,this._implicitReceiver=t,this.bindingId=n,this.interpolationFunction=r,this.baseSourceSpan=i,this.implicitReceiverAccesses=s,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitUnary(e,t){let n;switch(e.operator){case"+":n=he.Plus;break;case"-":n=he.Minus;break;default:throw new Error(`Unsupported operator ${e.operator}`)}return Wo(t,new We(n,this._visit(e.expr,zo.Expression),void 0,this.convertSourceSpan(e.span)))}visitBinary(e,t){let n;switch(e.operation){case"+":n=de.Plus;break;case"-":n=de.Minus;break;case"*":n=de.Multiply;break;case"/":n=de.Divide;break;case"%":n=de.Modulo;break;case"&&":n=de.And;break;case"||":n=de.Or;break;case"==":n=de.Equals;break;case"!=":n=de.NotEquals;break;case"===":n=de.Identical;break;case"!==":n=de.NotIdentical;break;case"<":n=de.Lower;break;case">":n=de.Bigger;break;case"<=":n=de.LowerEquals;break;case">=":n=de.BiggerEquals;break;case"??":return this.convertNullishCoalesce(e,t);default:throw new Error(`Unsupported operation ${e.operation}`)}return Wo(t,new Xe(n,this._visit(e.left,zo.Expression),this._visit(e.right,zo.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,t){return function(e,t){if(e!==zo.Statement)throw new Error(`Expected a statement, but saw ${t}`)}(t,e),this.visitAll(e.expressions,t)}visitConditional(e,t){return Wo(t,this._visit(e.condition,zo.Expression).conditional(this._visit(e.trueExp,zo.Expression),this._visit(e.falseExp,zo.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,t){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitFunctionCall(e,t){const n=this.visitAll(e.args,zo.Expression);let r;return r=e instanceof Qo?e.converter(n):this._visit(e.target,zo.Expression).callFn(n,this.convertSourceSpan(e.span)),Wo(t,r)}visitImplicitReceiver(e,t){return Go(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitThisReceiver(e,t){return this.visitImplicitReceiver(e,t)}visitInterpolation(e,t){Go(t,e);const n=[Mt(e.expressions.length)];for(let r=0;r<e.strings.length-1;r++)n.push(Mt(e.strings[r])),n.push(this._visit(e.expressions[r],zo.Expression));return n.push(Mt(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?St(No.inlineInterpolate).callFn(n):St(No.interpolate).callFn([n[0],Dt(n.slice(1),void 0,this.convertSourceSpan(e.span))])}visitKeyedRead(e,t){const n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):Wo(t,this._visit(e.obj,zo.Expression).key(this._visit(e.key,zo.Expression)))}visitKeyedWrite(e,t){const n=this._visit(e.obj,zo.Expression),r=this._visit(e.key,zo.Expression),i=this._visit(e.value,zo.Expression);return Wo(t,n.key(r).set(i))}visitLiteralArray(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,t){const n=null===e.value||void 0===e.value||!0===e.value||!0===e.value?oe:void 0;return Wo(t,Mt(e.value,n,this.convertSourceSpan(e.span)))}_getLocal(e,t){var n;return(null===(n=this._localResolver.globals)||void 0===n?void 0:n.has(e))&&t instanceof to?null:this._localResolver.getLocal(e)}visitMethodCall(e,t){if(e.receiver instanceof eo&&!(e.receiver instanceof to)&&"$any"===e.name){const t=this.visitAll(e.args,zo.Expression);if(1!=t.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${t.length||"none"}`);return t[0].cast(se,this.convertSourceSpan(e.span))}const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{const n=this.visitAll(e.args,zo.Expression),r=this.usesImplicitReceiver;let i=null;const s=this._visit(e.receiver,zo.Expression);if(s===this._implicitReceiver){const t=this._getLocal(e.name,e.receiver);t&&(this.usesImplicitReceiver=r,i=t.callFn(n),this.addImplicitReceiverAccess(e.name))}return null==i&&(i=s.callMethod(e.name,n,this.convertSourceSpan(e.span))),Wo(t,i)}}visitPrefixNot(e,t){return Wo(t,(n=this._visit(e.expression,zo.Expression),new Ue(n,r)));var n,r}visitNonNullAssert(e,t){return Wo(t,(n=this._visit(e.expression,zo.Expression),new He(n,r)));var n,r}visitPropertyRead(e,t){const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{let n=null;const r=this.usesImplicitReceiver,i=this._visit(e.receiver,zo.Expression);return i===this._implicitReceiver&&(n=this._getLocal(e.name,e.receiver),n&&(this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name))),null==n&&(n=i.prop(e.name)),Wo(t,n)}}visitPropertyWrite(e,t){const n=this._visit(e.receiver,zo.Expression),r=this.usesImplicitReceiver;let i=null;if(n===this._implicitReceiver){const t=this._getLocal(e.name,e.receiver);if(t){if(!(t instanceof Ye)){const t=e.name,n=e.value instanceof io?e.value.name:void 0;throw new Error(`Cannot assign value "${n}" to template variable "${t}". Template variables are read-only.`)}i=t,this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name)}}return null===i&&(i=n.prop(e.name)),Wo(t,i.set(this._visit(e.value,zo.Expression)))}visitSafePropertyRead(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitSafeMethodCall(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitAll(e,t){return e.map(e=>this._visit(e,t))}visitQuote(e,t){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${e.uninterpretedExpression} located at ${e.location}`)}_visit(e,t){const n=this._resultMap.get(e);return n||(this._nodeMap.get(e)||e).visit(this,t)}convertSafeAccess(e,t,n){let r,i=this._visit(t.receiver,zo.Expression);this.needsTemporaryInSafeAccess(t.receiver)&&(r=this.allocateTemporary(),i=r.set(i),this._resultMap.set(t.receiver,r));const s=i.isBlank();t instanceof bo?this._nodeMap.set(t,new _o(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name,t.args,t.argumentSpan)):this._nodeMap.set(t,new io(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name));const o=this._visit(e,zo.Expression);return this._nodeMap.delete(t),r&&this.releaseTemporary(r),Wo(n,s.conditional(tt,o))}convertNullishCoalesce(e,t){const n=this._visit(e.left,zo.Expression),r=this._visit(e.right,zo.Expression),i=this.allocateTemporary();return this.releaseTemporary(i),Wo(t,i.set(n).notIdentical(tt).and(i.notIdentical(Mt(void 0))).conditional(i,r))}leftMostSafeNode(e){const t=(e,t)=>(this._nodeMap.get(t)||t).visit(e);return e.visit({visitUnary:e=>null,visitBinary:e=>null,visitChain:e=>null,visitConditional:e=>null,visitFunctionCall:e=>null,visitImplicitReceiver:e=>null,visitThisReceiver:e=>null,visitInterpolation:e=>null,visitKeyedRead(e){return t(this,e.obj)},visitKeyedWrite:e=>null,visitLiteralArray:e=>null,visitLiteralMap:e=>null,visitLiteralPrimitive:e=>null,visitMethodCall(e){return t(this,e.receiver)},visitPipe:e=>null,visitPrefixNot:e=>null,visitNonNullAssert:e=>null,visitPropertyRead(e){return t(this,e.receiver)},visitPropertyWrite:e=>null,visitQuote:e=>null,visitSafeMethodCall(e){return t(this,e.receiver)||e},visitSafePropertyRead(e){return t(this,e.receiver)||e}})}needsTemporaryInSafeAccess(e){const t=(e,t)=>t&&(this._nodeMap.get(t)||t).visit(e);return e.visit({visitUnary(e){return t(this,e.expr)},visitBinary(e){return t(this,e.left)||t(this,e.right)},visitChain:e=>!1,visitConditional(e){return t(this,e.condition)||t(this,e.trueExp)||t(this,e.falseExp)},visitFunctionCall:e=>!0,visitImplicitReceiver:e=>!1,visitThisReceiver:e=>!1,visitInterpolation(e){return((e,n)=>n.some(n=>t(e,n)))(this,e.expressions)},visitKeyedRead:e=>!1,visitKeyedWrite:e=>!1,visitLiteralArray:e=>!0,visitLiteralMap:e=>!0,visitLiteralPrimitive:e=>!1,visitMethodCall:e=>!0,visitPipe:e=>!0,visitPrefixNot(e){return t(this,e.expression)},visitNonNullAssert(e){return t(this,e.expression)},visitPropertyRead:e=>!1,visitPropertyWrite:e=>!1,visitQuote:e=>!1,visitSafeMethodCall:e=>!0,visitSafePropertyRead:e=>!1})}allocateTemporary(){const e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new _e($o(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=$o(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){const t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end),r=this.baseSourceSpan.fullStart.moveBy(e.start);return new Ls(t,n,r)}return null}addImplicitReceiverAccess(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}}function Ko(e,t){Array.isArray(e)?e.forEach(e=>Ko(e,t)):t.push(e)}class Zo{constructor(e){this.globals=e}notifyImplicitReceiverUse(){}getLocal(e){return e===Ro.event.name?Ro.event:null}}class Qo extends wo{constructor(e,t,n,r){super(e,t,null,n),this.args=n,this.converter=r}}class Jo{constructor(){this.strictStyling=!0}shimCssText(e,t,n=""){const r=e.match(_a)||[];e=function(e){return e.replace(ya,"")}(e),e=this._insertDirectives(e);return[this._scopeCssText(e,t,n),...r].join("\n")}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_insertPolyfillDirectivesInCssText(e){return e.replace(ta,function(...e){return e[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(na,(...e)=>{const t=e[0].replace(e[1],"").replace(e[2],"");return e[4]+t})}_scopeCssText(e,t,n){const r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+r).trim()}_extractUnscopedRulesFromCssText(e){let t,n="";for(ra.lastIndex=0;null!==(t=ra.exec(e));){n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n"}return n}_convertColonHost(e){return e.replace(aa,(e,t,n)=>{if(t){const e=[],r=t.split(",").map(e=>e.trim());for(const t of r){if(!t)break;const r=ua+t.replace(ia,"")+n;e.push(r)}return e.join(",")}return ua+n})}_convertColonHostContext(e){return e.replace(la,e=>{var t;const n=[[]];let r;for(;r=ca.exec(e);){const i=(null!==(t=r[1])&&void 0!==t?t:"").trim().split(",").map(e=>e.trim()).filter(e=>""!==e),s=n.length;Da(n,i.length);for(let e=0;e<i.length;e++)for(let t=0;t<s;t++)n[t+e*s].push(i[e]);e=r[2]}return n.map(t=>function(e,t){const n=ua;ga.lastIndex=0;const r=ga.test(t);if(0===e.length)return n+t;const i=[e.pop()||""];for(;e.length>0;){const t=i.length,n=e.pop();for(let e=0;e<t;e++){const r=i[e];i[2*t+e]=r+" "+n,i[t+e]=n+" "+r,i[e]=n+r}}return i.map(e=>r?`${e}${t}`:`${e}${n}${t}, ${e} ${n}${t}`).join(",")}(t,e)).join(", ")})}_convertShadowDOMSelectors(e){return da.reduce((e,t)=>e.replace(t," "),e)}_scopeSelectors(e,t,n){return ka(e,e=>{let r=e.selector,i=e.content;return"@"!==e.selector[0]?r=this._scopeSelector(e.selector,t,n,this.strictStyling):e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@document")?i=this._scopeSelectors(e.content,t,n):(e.selector.startsWith("@font-face")||e.selector.startsWith("@page"))&&(i=this._stripScopingSelectors(e.content)),new Sa(r,i)})}_stripScopingSelectors(e){return ka(e,e=>{const t=e.selector.replace(pa," ").replace(ha," ");return new Sa(t,e.content)})}_scopeSelector(e,t,n,r){return e.split(",").map(e=>e.trim().split(pa)).map(e=>{const[i,...s]=e;return[(e=>this._selectorNeedsScoping(e,t)?r?this._applyStrictSelectorScope(e,t,n):this._applySelectorScope(e,t,n):e)(i),...s].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+fa,"m")}_applySelectorScope(e,t,n){return this._applySimpleSelectorScope(e,t,n)}_applySimpleSelectorScope(e,t,n){if(ga.lastIndex=0,ga.test(e)){const r=this.strictStyling?`[${n}]`:t;return e.replace(ha,(e,t)=>t.replace(/([^:]*)(:*)(.*)/,(e,t,n,i)=>t+r+n+i)).replace(ga,r+" ")}return t+" "+e}_applyStrictSelectorScope(e,t,n){const r="["+(t=t.replace(/\[is=([^\]]*)\]/g,(e,...t)=>t[0]))+"]",i=e=>{let i=e.trim();if(!i)return"";if(e.indexOf(ua)>-1)i=this._applySimpleSelectorScope(e,t,n);else{const t=e.replace(ga,"");if(t.length>0){const e=t.match(/([^:]*)(:*)(.*)/);e&&(i=e[1]+r+e[2]+e[3])}}return i},s=new ea(e);let o,a="",l=0;const c=/( |>|\+|~(?!=))\s*/g;let u=!((e=s.content()).indexOf(ua)>-1);for(;null!==(o=c.exec(e));){const t=o[1],n=e.slice(l,o.index).trim();u=u||n.indexOf(ua)>-1;a+=`${u?i(n):n} ${t} `,l=c.lastIndex}const h=e.substring(l);return u=u||h.indexOf(ua)>-1,a+=u?i(h):h,s.restore(a)}_insertPolyfillHostInCssText(e){return e.replace(va,sa).replace(ma,ia)}}class ea{constructor(e){this.placeholders=[],this.index=0,e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=this._escapeRegexMatches(e,/(\\.)/g),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(e,t,n)=>{const r=`__ph-${this.index}__`;return this.placeholders.push(n),this.index++,t+r})}restore(e){return e.replace(/__ph-(\d+)__/g,(e,t)=>this.placeholders[+t])}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,(e,t)=>{const n=`__ph-${this.index}__`;return this.placeholders.push(t),this.index++,n})}}const ta=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,na=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,ra=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,ia="-shadowcsshost",sa="-shadowcsscontext",oa="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",aa=new RegExp(ia+oa,"gim"),la=new RegExp(sa+oa,"gim"),ca=new RegExp(sa+oa,"im"),ua=ia+"-no-combinator",ha=/-shadowcsshost-no-combinator([^\s]*)/,da=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],pa=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,fa="([>\\s~+[.,{:][\\s\\S]*)?$",ga=/-shadowcsshost/gim,ma=/:host/gim,va=/:host-context/gim,ya=/\/\*\s*[\s\S]*?\*\//g;const _a=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;const ba="%BLOCK%",wa=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,xa=/%QUOTED%/g,Ea=new Map([["{","}"]]),Ca=new Map([['"','"'],["'","'"]]);class Sa{constructor(e,t){this.selector=e,this.content=t}}function ka(e,t){const n=Aa(e,Ca,"%QUOTED%"),r=Aa(n.escapedString,Ea,ba);let i=0,s=0;return r.escapedString.replace(wa,(...e)=>{const n=e[2];let s="",o=e[4],a="";o&&o.startsWith("{%BLOCK%")&&(s=r.blocks[i++],o=o.substring(ba.length+1),a="{");const l=t(new Sa(n,s));return`${e[1]}${l.selector}${e[3]}${a}${l.content}${o}`}).replace(xa,()=>n.blocks[s++])}class Ta{constructor(e,t){this.escapedString=e,this.blocks=t}}function Aa(e,t,n){const r=[],i=[];let s,o,a=0,l=0,c=-1;for(let u=0;u<e.length;u++){const h=e[u];"\\"===h?u++:h===o?(a--,0===a&&(i.push(e.substring(c,u)),r.push(n),l=u,c=-1,s=o=void 0)):h===s?a++:0===a&&t.has(h)&&(s=h,o=t.get(h),a=1,c=u+1,r.push(e.substring(l,c)))}return-1!==c?(i.push(e.substring(c)),r.push(n)):r.push(e.substring(l)),new Ta(r.join(""),i)}function Da(e,t){const n=e.length;for(let r=1;r<t;r++)for(let t=0;t<n;t++)e[t+r*n]=e[t].slice(0)}const Oa="_nghost-%COMP%",Ia="_ngcontent-%COMP%";class Na{constructor(e,t,n){this.name=e,this.moduleUrl=t,this.setValue=n}}class Pa{constructor(e,t,n,r,i){this.outputCtx=e,this.stylesVar=t,this.dependencies=n,this.isShimmed=r,this.meta=i}}class Ma{constructor(e){this._urlResolver=e,this._shadowCss=new Jo}compileComponent(e,t){const n=t.template;return this._compileStyles(e,t,new Zi({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:$i(t.type)}),this.needsStyleShim(t),!0)}compileStyles(e,t,n,r=this.needsStyleShim(t)){return this._compileStyles(e,t,n,r,!1)}needsStyleShim(e){return e.template.encapsulation===O.Emulated}_compileStyles(e,t,n,r,i){const s=n.styles.map(e=>Mt(this._shimIfNeeded(e,r))),o=[];n.styleUrls.forEach(t=>{const n=s.length;s.push(null),o.push(new Na(Ra(null),t,t=>s[n]=e.importExpr(t)))});const a=Ra(i?t:null),l=Ct(a).set(Dt(s,new re(se,[Q.Const]))).toDeclStmt(null,i?[rt.Final]:[rt.Final,rt.Exported]);return e.statements.push(l),new Pa(e,a,o,r,n)}_shimIfNeeded(e,t){return t?this._shadowCss.shimCssText(e,Ia,Oa):e}}function Ra(e){let t="styles";return e&&(t+=`_${Hi(e.type)}`),t}class La{constructor(e,t){this.sourceSpan=e,this.i18n=t}}class Fa extends La{constructor(e,t,n){super(t,n),this.value=e}visit(e,t){return e.visitText(this,t)}}class ja extends La{constructor(e,t,n,r,i,s){super(r,s),this.switchValue=e,this.type=t,this.cases=n,this.switchValueSourceSpan=i}visit(e,t){return e.visitExpansion(this,t)}}class Ba{constructor(e,t,n,r,i){this.value=e,this.expression=t,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}visit(e,t){return e.visitExpansionCase(this,t)}}class Va extends La{constructor(e,t,n,r,i,s){super(n,s),this.name=e,this.value=t,this.keySpan=r,this.valueSpan=i}visit(e,t){return e.visitAttribute(this,t)}}class za extends La{constructor(e,t,n,r,i,s=null,o){super(r,o),this.name=e,this.attrs=t,this.children=n,this.startSourceSpan=i,this.endSourceSpan=s}visit(e,t){return e.visitElement(this,t)}}class Ua{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}}function Ha(e,t,n=null){const r=[],i=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=i(e);t&&r.push(t)}),r}var $a;!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.INCOMPLETE_TAG_OPEN=4]="INCOMPLETE_TAG_OPEN",e[e.TEXT=5]="TEXT",e[e.ESCAPABLE_RAW_TEXT=6]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=7]="RAW_TEXT",e[e.COMMENT_START=8]="COMMENT_START",e[e.COMMENT_END=9]="COMMENT_END",e[e.CDATA_START=10]="CDATA_START",e[e.CDATA_END=11]="CDATA_END",e[e.ATTR_NAME=12]="ATTR_NAME",e[e.ATTR_QUOTE=13]="ATTR_QUOTE",e[e.ATTR_VALUE=14]="ATTR_VALUE",e[e.DOC_TYPE=15]="DOC_TYPE",e[e.EXPANSION_FORM_START=16]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=17]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=18]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=19]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=20]="EXPANSION_FORM_END",e[e.EOF=21]="EOF"}($a||($a={}));class qa{constructor(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}}class Ga extends Bs{constructor(e,t,n){super(n,e),this.tokenType=t}}class Wa{constructor(e,t,n){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=n}}function Xa(e,t,n,r={}){const i=new el(new Rs(e,t),n,r);return i.tokenize(),new Wa(function(e){const t=[];let n;for(let r=0;r<e.length;r++){const i=e[r];n&&n.type==$a.TEXT&&i.type==$a.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,t.push(n))}return t}(i.tokens),i.errors,i.nonNormalizedIcuExpressions)}const Ya=/\r\n?/g;function Ka(e){return`Unexpected character "${0===e?"EOF":String.fromCharCode(e)}"`}function Za(e){return`Unknown entity "${e}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}var Qa;!function(e){e.HEX="hexadecimal",e.DEC="decimal"}(Qa||(Qa={}));class Ja{constructor(e){this.error=e}}class el{constructor(e,t,n){this._getTagDefinition=t,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=n.tokenizeExpansionForms||!1,this._interpolationConfig=n.interpolationConfig||Fi,this._leadingTriviaCodePoints=n.leadingTriviaChars&&n.leadingTriviaChars.map(e=>e.codePointAt(0)||0);const r=n.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=n.escapedString?new al(e,r):new ol(e,r),this._preserveLineEndings=n.preserveLineEndings||!1,this._escapedString=n.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=n.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(Ya,"\n")}tokenize(){for(;0!==this._cursor.peek();){const t=this._cursor.clone();try{this._attemptCharCode(xs)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(t):this._attemptCharCode(45)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(_s)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}this._beginToken($a.EOF),this._endToken([])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(this._cursor.peek()!==As&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===As){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(null===this._currentTokenStart)throw new Ga("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new Ga("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const n=new qa(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}_createError(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const n=new Ga(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Ja(n)}handleError(e){if(e instanceof ll&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof Ja))throw e;this.errors.push(e.error)}_attemptCharCode(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(e){return t=this._cursor.peek(),n=e,sl(t)==sl(n)&&(this._cursor.advance(),!0);var t,n}_requireCharCode(e){const t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Ka(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){const t=e.length;if(this._cursor.charsLeft()<t)return!1;const n=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){const t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Ka(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){const n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(n)<t)throw this._createError(Ka(this._cursor.peek()),this._cursor.getSpan(n))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(e){if(e&&38===this._cursor.peek())return this._decodeEntity();{const e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}}_decodeEntity(){const e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){const t=this._cursor.clone();if(this._attemptCharCodeUntilFn(il),this._cursor.peek()!=ws)return this._cursor=t,"&";const n=this._cursor.getChars(t);this._cursor.advance();const r=h[n];if(!r)throw this._createError(Za(n),this._cursor.getSpan(e));return r}{const r=this._attemptCharCode(120)||this._attemptCharCode(88),i=this._cursor.clone();if(this._attemptCharCodeUntilFn(rl),this._cursor.peek()!=ws){this._cursor.advance();const n=r?Qa.HEX:Qa.DEC;throw this._createError((t=n,`Unable to parse entity "${this._cursor.getChars(e)}" - ${t} character reference entities must end with ";"`),this._cursor.getSpan())}const s=this._cursor.getChars(i);this._cursor.advance();try{const e=parseInt(s,r?16:10);return String.fromCharCode(e)}catch(n){throw this._createError(Za(this._cursor.getChars(e)),this._cursor.getSpan())}}var t}_consumeRawText(e,t){this._beginToken(e?$a.ESCAPABLE_RAW_TEXT:$a.RAW_TEXT);const n=[];for(;;){const r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])}_consumeComment(e){this._beginToken($a.COMMENT_START,e),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken($a.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(e){this._beginToken($a.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken($a.CDATA_END),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken($a.DOC_TYPE,e);const t=this._cursor.clone();this._attemptUntilChar(Cs);const n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])}_consumePrefixAndName(){const e=this._cursor.clone();let t="";for(;this._cursor.peek()!==bs&&!(((n=this._cursor.peek())<Ss||ks<n)&&(n<65||90<n)&&(n<48||n>57));)this._cursor.advance();var n;let r;this._cursor.peek()===bs?(t=this._cursor.getChars(e),this._cursor.advance(),r=this._cursor.clone()):r=e,this._requireCharCodeUntilFn(nl,""===t?0:1);return[t,this._cursor.getChars(r)]}_consumeTagOpen(e){let t,n,i;try{if(!Is(this._cursor.peek()))throw this._createError(Ka(this._cursor.peek()),this._cursor.getSpan(e));for(i=this._consumeTagOpenStart(e),n=i.parts[0],t=i.parts[1],this._attemptCharCodeUntilFn(tl);this._cursor.peek()!==_s&&this._cursor.peek()!==Cs&&this._cursor.peek()!==xs&&0!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(tl),this._attemptCharCode(Es)&&(this._attemptCharCodeUntilFn(tl),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(tl);this._consumeTagOpenEnd()}catch(o){if(o instanceof Ja)return void(i?i.type=$a.INCOMPLETE_TAG_OPEN:(this._beginToken($a.TEXT,e),this._endToken(["<"])));throw o}const s=this._getTagDefinition(t).getContentType(n);s===r.RAW_TEXT?this._consumeRawTextWithTagClose(n,t,!1):s===r.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,t,!0)}_consumeRawTextWithTagClose(e,t,n){this._consumeRawText(n,()=>!!this._attemptCharCode(xs)&&(!!this._attemptCharCode(_s)&&(this._attemptCharCodeUntilFn(tl),!!this._attemptStrCaseInsensitive(t)&&(this._attemptCharCodeUntilFn(tl),this._attemptCharCode(Cs))))),this._beginToken($a.TAG_CLOSE),this._requireCharCodeUntilFn(e=>e===Cs,3),this._cursor.advance(),this._endToken([e,t])}_consumeTagOpenStart(e){this._beginToken($a.TAG_OPEN_START,e);const t=this._consumePrefixAndName();return this._endToken(t)}_consumeAttributeName(){const e=this._cursor.peek();if(39===e||34===e)throw this._createError(Ka(e),this._cursor.getSpan());this._beginToken($a.ATTR_NAME);const t=this._consumePrefixAndName();this._endToken(t)}_consumeAttributeValue(){let e;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken($a.ATTR_QUOTE);const t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken($a.ATTR_VALUE);const n=[];for(;this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken($a.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken($a.ATTR_VALUE);const t=this._cursor.clone();this._requireCharCodeUntilFn(nl,1),e=this._cursor.getChars(t),this._endToken([this._processCarriageReturns(e)])}}_consumeTagOpenEnd(){const e=this._attemptCharCode(_s)?$a.TAG_OPEN_END_VOID:$a.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(Cs),this._endToken([])}_consumeTagClose(e){this._beginToken($a.TAG_CLOSE,e),this._attemptCharCodeUntilFn(tl);const t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(tl),this._requireCharCode(Cs),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken($a.EXPANSION_FORM_START),this._requireCharCode(Ts),this._endToken([]),this._expansionCaseStack.push($a.EXPANSION_FORM_START),this._beginToken($a.RAW_TEXT);const e=this._readUntil(vs),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{const n=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(n)}this._requireCharCode(vs),this._attemptCharCodeUntilFn(tl),this._beginToken($a.RAW_TEXT);const n=this._readUntil(vs);this._endToken([n]),this._requireCharCode(vs),this._attemptCharCodeUntilFn(tl)}_consumeExpansionCaseStart(){this._beginToken($a.EXPANSION_CASE_VALUE);const e=this._readUntil(Ts).trim();this._endToken([e]),this._attemptCharCodeUntilFn(tl),this._beginToken($a.EXPANSION_CASE_EXP_START),this._requireCharCode(Ts),this._endToken([]),this._attemptCharCodeUntilFn(tl),this._expansionCaseStack.push($a.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken($a.EXPANSION_CASE_EXP_END),this._requireCharCode(As),this._endToken([]),this._attemptCharCodeUntilFn(tl),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken($a.EXPANSION_FORM_END),this._requireCharCode(As),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const e=this._cursor.clone();this._beginToken($a.TEXT,e);const t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])}_isTextEnd(){if(this._cursor.peek()===xs||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(this._cursor.peek()===As&&this._isInExpansionCase())return!0}return!1}_readUntil(e){const t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===$a.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===$a.EXPANSION_FORM_START}isExpansionFormStart(){if(this._cursor.peek()!==Ts)return!1;if(this._interpolationConfig){const e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}}function tl(e){return!Ds(e)||0===e}function nl(e){return Ds(e)||e===Cs||e===xs||e===_s||39===e||34===e||e===Es||0===e}function rl(e){return e==ws||0==e||!function(e){return e>=Ss&&e<=102||e>=65&&e<=70||Os(e)}(e)}function il(e){return e==ws||0==e||!Is(e)}function sl(e){return e>=Ss&&e<=ks?e-Ss+65:e}class ol{constructor(e,t){if(e instanceof ol){this.file=e.file,this.input=e.input,this.end=e.end;const t=e.state;this.state={peek:t.peek,offset:t.offset,line:t.line,column:t.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new ol(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){let n=e=e||this;if(t)for(;this.diff(e)>0&&-1!==t.indexOf(e.peek());)n===e&&(e=e.clone()),e.advance();const r=this.locationFromCursor(e),i=this.locationFromCursor(this),s=n!==e?this.locationFromCursor(n):r;return new Ls(r,i,s)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new ll('Unexpected character "EOF"',this);const t=this.charAt(e.offset);t===gs?(e.line++,e.column=0):Ns(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)}locationFromCursor(e){return new Ms(e.file,e.state.offset,e.state.line,e.state.column)}}class al extends ol{constructor(e,t){e instanceof al?(super(e),this.internalState=Object.assign({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new al(this)}getChars(e){const t=e.clone();let n="";for(;t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n}processEscapeSequence(){const e=()=>this.internalState.peek;if(92===e())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===e())this.state.peek=gs;else if(114===e())this.state.peek=13;else if(118===e())this.state.peek=11;else if(116===e())this.state.peek=9;else if(98===e())this.state.peek=8;else if(102===e())this.state.peek=12;else if(117===e())if(this.advanceState(this.internalState),e()===Ts){this.advanceState(this.internalState);const t=this.clone();let n=0;for(;e()!==As;)this.advanceState(this.internalState),n++;this.state.peek=this.decodeHexDigits(t,n)}else{const e=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,4)}else if(120===e()){this.advanceState(this.internalState);const e=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,2)}else if(Ps(e())){let t="",n=0,r=this.clone();for(;Ps(e())&&n<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),n++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else Ns(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){const n=this.input.substr(e.internalState.offset,t),r=parseInt(n,16);if(isNaN(r))throw e.state=e.internalState,new ll("Invalid hexadecimal escape sequence",e);return r}}class ll{constructor(e,t){this.msg=e,this.cursor=t}}class cl extends Bs{constructor(e,t,n){super(t,n),this.elementName=e}static create(e,t,n){return new cl(e,t,n)}}class ul{constructor(e,t){this.rootNodes=e,this.errors=t}}class hl{constructor(e){this.getTagDefinition=e}parse(e,t,n){const r=Xa(e,t,this.getTagDefinition,n),i=new dl(r.tokens,this.getTagDefinition);return i.build(),new ul(i.rootNodes,r.errors.concat(i.errors))}}class dl{constructor(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;this._peek.type!==$a.EOF;)this._peek.type===$a.TAG_OPEN_START||this._peek.type===$a.INCOMPLETE_TAG_OPEN?this._consumeStartTag(this._advance()):this._peek.type===$a.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===$a.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===$a.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===$a.TEXT||this._peek.type===$a.RAW_TEXT||this._peek.type===$a.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===$a.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance()}_advance(){const e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf($a.CDATA_END)}_consumeComment(e){const t=this._advanceIf($a.RAW_TEXT);this._advanceIf($a.COMMENT_END);const n=null!=t?t.parts[0].trim():null;this._addToParent(new Ua(n,e.sourceSpan))}_consumeExpansion(e){const t=this._advance(),n=this._advance(),r=[];for(;this._peek.type===$a.EXPANSION_CASE_VALUE;){const e=this._parseExpansionCase();if(!e)return;r.push(e)}if(this._peek.type!==$a.EXPANSION_FORM_END)return void this.errors.push(cl.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const i=new Ls(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new ja(t.parts[0],n.parts[0],r,i,t.sourceSpan)),this._advance()}_parseExpansionCase(){const e=this._advance();if(this._peek.type!==$a.EXPANSION_CASE_EXP_START)return this.errors.push(cl.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const t=this._advance(),n=this._collectExpansionExpTokens(t);if(!n)return null;const r=this._advance();n.push(new qa($a.EOF,[],r.sourceSpan));const i=new dl(n,this.getTagDefinition);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;const s=new Ls(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),o=new Ls(t.sourceSpan.start,r.sourceSpan.end,t.sourceSpan.fullStart);return new Ba(e.parts[0],i.rootNodes,s,e.sourceSpan,o)}_collectExpansionExpTokens(e){const t=[],n=[$a.EXPANSION_CASE_EXP_START];for(;;){if(this._peek.type!==$a.EXPANSION_FORM_START&&this._peek.type!==$a.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===$a.EXPANSION_CASE_EXP_END){if(!pl(n,$a.EXPANSION_CASE_EXP_START))return this.errors.push(cl.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===$a.EXPANSION_FORM_END){if(!pl(n,$a.EXPANSION_FORM_START))return this.errors.push(cl.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===$a.EOF)return this.errors.push(cl.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=e.parts[0];if(t.length>0&&"\n"==t[0]){const e=this._getParentElement();null!=e&&0==e.children.length&&this.getTagDefinition(e.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new Fa(t,e.sourceSpan))}_closeVoidElement(){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}_consumeStartTag(e){const[t,n]=e.parts,r=[];for(;this._peek.type===$a.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));const i=this._getElementFullName(t,n,this._getParentElement());let s=!1;if(this._peek.type===$a.TAG_OPEN_END_VOID){this._advance(),s=!0;const t=this.getTagDefinition(i);t.canSelfClose||null!==c(i)||t.isVoid||this.errors.push(cl.create(i,e.sourceSpan,`Only void and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===$a.TAG_OPEN_END&&(this._advance(),s=!1);const o=this._peek.sourceSpan.fullStart,a=new Ls(e.sourceSpan.start,o,e.sourceSpan.fullStart),l=new Ls(e.sourceSpan.start,o,e.sourceSpan.fullStart),u=new za(i,r,[],a,l,void 0);this._pushElement(u),s?this._popElement(i,a):e.type===$a.INCOMPLETE_TAG_OPEN&&(this._popElement(i,null),this.errors.push(cl.create(i,a,`Opening tag "${i}" not terminated.`)))}_pushElement(e){const t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}_consumeEndTag(e){const t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this.getTagDefinition(t).isVoid)this.errors.push(cl.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popElement(t,e.sourceSpan)){const n=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(cl.create(t,e.sourceSpan,n))}}_popElement(e,t){for(let n=this._elementStack.length-1;n>=0;n--){const r=this._elementStack[n];if(r.name==e)return r.endSourceSpan=t,r.sourceSpan.end=null!==t?t.end:r.sourceSpan.end,this._elementStack.splice(n,this._elementStack.length-n),!0;if(!this.getTagDefinition(r.name).closedByParent)return!1}return!1}_consumeAttr(e){const t=u(e.parts[0],e.parts[1]);let n,r=e.sourceSpan.end,i="";if(this._peek.type===$a.ATTR_QUOTE&&this._advance(),this._peek.type===$a.ATTR_VALUE){const e=this._advance();i=e.parts[0],r=e.sourceSpan.end,n=e.sourceSpan}if(this._peek.type===$a.ATTR_QUOTE){r=this._advance().sourceSpan.end}const s=new Ls(e.sourceSpan.start,e.sourceSpan.end);return new Va(t,i,new Ls(e.sourceSpan.start,r,e.sourceSpan.fullStart),s,n)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_addToParent(e){const t=this._getParentElement();null!=t?t.children.push(e):this.rootNodes.push(e)}_getElementFullName(e,t,n){if(""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n){const t=s(n.name)[1];this.getTagDefinition(t).preventNamespaceInheritance||(e=c(n.name))}return u(e,t)}}function pl(e,t){return e.length>0&&e[e.length-1]===t}class fl extends hl{constructor(){super(g)}parse(e,t,n){return super.parse(e,t,n)}}const gl="ngPreserveWhitespaces",ml=new Set(["pre","template","textarea","script","style"]),vl=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",yl=new RegExp(`[^${vl}]`),_l=new RegExp(`[${vl}]{2,}`,"g");function bl(e){return e.replace(new RegExp("\ue500","g")," ")}class wl{visitElement(e,t){return ml.has(e.name)||e.attrs.some(e=>e.name===gl)?new za(e.name,Ha(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new za(e.name,e.attrs,function(e,t){const n=[];return t.forEach((r,i)=>{const s={prev:t[i-1],next:t[i+1]},o=r.visit(e,s);o&&n.push(o)}),n}(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,t){return e.name!==gl?e:null}visitText(e,t){const n=e.value.match(yl),r=t&&(t.prev instanceof ja||t.next instanceof ja);return n||r?new Fa(bl(e.value).replace(_l," "),e.sourceSpan,e.i18n):null}visitComment(e,t){return e}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}}const xl=["zero","one","two","few","many","other"];function El(e){const t=new kl;return new Cl(Ha(t,e),t.isExpanded,t.errors)}class Cl{constructor(e,t,n){this.nodes=e,this.expanded=t,this.errors=n}}class Sl extends Bs{constructor(e,t){super(e,t)}}class kl{constructor(){this.isExpanded=!1,this.errors=[]}visitElement(e,t){return new za(e.name,e.attrs,Ha(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitAttribute(e,t){return e}visitText(e,t){return e}visitComment(e,t){return e}visitExpansion(e,t){return this.isExpanded=!0,"plural"==e.type?function(e,t){const n=e.cases.map(e=>{-1!=xl.indexOf(e.value)||e.value.match(/^=\d+$/)||t.push(new Sl(e.valueSourceSpan,`Plural cases should be "=<number>" or one of ${xl.join(", ")}`));const n=El(e.expression);return t.push(...n.errors),new za("ng-template",[new Va("ngPluralCase",`${e.value}`,e.valueSourceSpan,void 0,void 0,void 0)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new Va("[ngPlural]",e.switchValue,e.switchValueSourceSpan,void 0,void 0,void 0);return new za("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors):function(e,t){const n=e.cases.map(e=>{const n=El(e.expression);return t.push(...n.errors),"other"===e.value?new za("ng-template",[new Va("ngSwitchDefault","",e.valueSourceSpan,void 0,void 0,void 0)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan):new za("ng-template",[new Va("ngSwitchCase",`${e.value}`,e.valueSourceSpan,void 0,void 0,void 0)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new Va("[ngSwitch]",e.switchValue,e.switchValueSourceSpan,void 0,void 0,void 0);return new za("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors)}visitExpansionCase(e,t){throw new Error("Should not be reached")}}class Tl{constructor(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitText(this,t)}}class Al{constructor(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitBoundText(this,t)}}class Dl{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}visit(e,t){return e.visitAttr(this,t)}}const Ol={4:4,1:1,2:2,0:0,3:3};class Il{constructor(e,t,n,r,i,s){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.isAnimation=4===this.type}static fromBoundProperty(e){const t=Ol[e.type];return new Il(e.name,t,e.securityContext,e.value,e.unit,e.sourceSpan)}visit(e,t){return e.visitElementProperty(this,t)}}class Nl{constructor(e,t,n,r,i,s){this.name=e,this.target=t,this.phase=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s,this.fullName=Nl.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}static calcFullName(e,t,n){return t?`${t}:${e}`:n?`@${e}.${n}`:e}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new Nl(e.name,t,n,e.handler,e.sourceSpan,e.handlerSpan)}visit(e,t){return e.visitEvent(this,t)}}class Pl{constructor(e,t,n,r){this.name=e,this.value=t,this.originalValue=n,this.sourceSpan=r}visit(e,t){return e.visitReference(this,t)}}class Ml{constructor(e,t,n,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r}static fromParsedVariable(e){return new Ml(e.name,e.value,e.sourceSpan,e.valueSpan)}visit(e,t){return e.visitVariable(this,t)}}class Rl{constructor(e,t,n,r,i,s,o,a,l,c,u,h,d){this.name=e,this.attrs=t,this.inputs=n,this.outputs=r,this.references=i,this.directives=s,this.providers=o,this.hasViewContainer=a,this.queryMatches=l,this.children=c,this.ngContentIndex=u,this.sourceSpan=h,this.endSourceSpan=d}visit(e,t){return e.visitElement(this,t)}}class Ll{constructor(e,t,n,r,i,s,o,a,l,c,u){this.attrs=e,this.outputs=t,this.references=n,this.variables=r,this.directives=i,this.providers=s,this.hasViewContainer=o,this.queryMatches=a,this.children=l,this.ngContentIndex=c,this.sourceSpan=u}visit(e,t){return e.visitEmbeddedTemplate(this,t)}}class Fl{constructor(e,t,n,r){this.directiveName=e,this.templateName=t,this.value=n,this.sourceSpan=r}visit(e,t){return e.visitDirectiveProperty(this,t)}}class jl{constructor(e,t,n,r,i,s){this.directive=e,this.inputs=t,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=s}visit(e,t){return e.visitDirective(this,t)}}class Bl{constructor(e,t,n,r,i,s,o,a){this.token=e,this.multiProvider=t,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=s,this.sourceSpan=o,this.isModule=a}visit(e,t){return null}}var Vl;!function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(Vl||(Vl={}));class zl{constructor(e,t,n){this.index=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitNgContent(this,t)}}function Ul(e,t,n=null){const r=[],i=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=i(e);t&&r.push(t)}),r}class Hl extends Bs{constructor(e,t){super(t,e)}}class $l{constructor(e,t){this.reflector=e,this.component=t,this.errors=[],this.viewQueries=function(e){let t=1;const n=new Map;e.viewQueries&&e.viewQueries.forEach(e=>Kl(n,{meta:e,queryId:t++}));return n}(t),this.viewProviders=new Map,t.viewProviders.forEach(e=>{null==this.viewProviders.get(Ki(e.token))&&this.viewProviders.set(Ki(e.token),!0)})}}class ql{constructor(e,t,n,r,i,s,o,a,l){this.viewContext=e,this._parent=t,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=l,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},i.forEach(e=>this._attrs[e.name]=e.value);const c=r.map(e=>e.directive);if(this._allProviders=function(e,t,n){const r=new Map;e.forEach(e=>{Yl([{token:{identifier:e.type},useClass:e.type}],e.isComponent?Vl.Component:Vl.Directive,!0,t,n,r,!1)});return e.filter(e=>e.isComponent).concat(e.filter(e=>!e.isComponent)).forEach(e=>{Yl(e.providers,Vl.PublicService,!1,t,n,r,!1),Yl(e.viewProviders,Vl.PrivateService,!1,t,n,r,!1)}),r}(c,l,e.errors),this._contentQueries=function(e,t){let n=e;const r=new Map;return t.forEach((e,t)=>{e.queries&&e.queries.forEach(e=>Kl(r,{meta:e,queryId:n++}))}),r}(a,c),Array.from(this._allProviders.values()).forEach(e=>{this._addQueryReadsTo(e.token,e.token,this._queriedTokens)}),o){const e=Mo(this.viewContext.reflector,No.TemplateRef);this._addQueryReadsTo(e,e,this._queriedTokens)}s.forEach(e=>{let t=e.value||Mo(this.viewContext.reflector,No.ElementRef);this._addQueryReadsTo({value:e.name},t,this._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(No.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(e=>{(e.eager||this._queriedTokens.get(Ki(e.token)))&&this._getOrCreateLocalProvider(e.providerType,e.token,!0)})}afterElement(){Array.from(this._allProviders.values()).forEach(e=>{this._getOrCreateLocalProvider(e.providerType,e.token,!1)})}get transformProviders(){const e=[],t=[];return this._transformedProviders.forEach(n=>{n.eager?t.push(n):e.push(n)}),e.concat(t)}get transformedDirectiveAsts(){const e=this.transformProviders.map(e=>e.token.identifier),t=this._directiveAsts.slice();return t.sort((t,n)=>e.indexOf(t.directive.type)-e.indexOf(n.directive.type)),t}get queryMatches(){const e=[];return this._queriedTokens.forEach(t=>{e.push(...t)}),e}_addQueryReadsTo(e,t,n){this._getQueriesFor(e).forEach(e=>{const r=e.meta.read||t,i=Ki(r);let s=n.get(i);s||(s=[],n.set(i,s)),s.push({queryId:e.queryId,value:r})})}_getQueriesFor(e){const t=[];let n,r=this,i=0;for(;null!==r;)n=r._contentQueries.get(Ki(e)),n&&t.push(...n.filter(e=>e.meta.descendants||i<=1)),r._directiveAsts.length>0&&i++,r=r._parent;return n=this.viewContext.viewQueries.get(Ki(e)),n&&t.push(...n),t}_getOrCreateLocalProvider(e,t,n){const r=this._allProviders.get(Ki(t));if(!r||(e===Vl.Directive||e===Vl.PublicService)&&r.providerType===Vl.PrivateService||(e===Vl.PrivateService||e===Vl.PublicService)&&r.providerType===Vl.Builtin)return null;let i=this._transformedProviders.get(Ki(t));if(i)return i;if(null!=this._seenProviders.get(Ki(t)))return this.viewContext.errors.push(new Hl(`Cannot instantiate cyclic dependency! ${Yi(t)}`,this._sourceSpan)),null;this._seenProviders.set(Ki(t),!0);const s=r.providers.map(e=>{let t,i=e.useValue,s=e.useExisting;if(null!=e.useExisting){const t=this._getDependency(r.providerType,{token:e.useExisting},n);null!=t.token?s=t.token:(s=null,i=t.value)}else if(e.useFactory){t=(e.deps||e.useFactory.diDeps).map(e=>this._getDependency(r.providerType,e,n))}else if(e.useClass){t=(e.deps||e.useClass.diDeps).map(e=>this._getDependency(r.providerType,e,n))}return Wl(e,{useExisting:s,useValue:i,deps:t})});return i=Xl(r,{eager:n,providers:s}),this._transformedProviders.set(Ki(t),i),i}_getLocalDependency(e,t,n=!1){if(t.isAttribute){const e=this._attrs[t.token.value];return{isValue:!0,value:null==e?null:e}}if(null!=t.token){if(e===Vl.Directive||e===Vl.Component){if(Ki(t.token)===this.viewContext.reflector.resolveExternalReference(No.Renderer)||Ki(t.token)===this.viewContext.reflector.resolveExternalReference(No.ElementRef)||Ki(t.token)===this.viewContext.reflector.resolveExternalReference(No.ChangeDetectorRef)||Ki(t.token)===this.viewContext.reflector.resolveExternalReference(No.TemplateRef))return t;Ki(t.token)===this.viewContext.reflector.resolveExternalReference(No.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(Ki(t.token)===this.viewContext.reflector.resolveExternalReference(No.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null}_getDependency(e,t,n=!1){let r=this,i=n,s=null;if(t.isSkipSelf||(s=this._getLocalDependency(e,t,n)),t.isSelf)!s&&t.isOptional&&(s={isValue:!0,value:null});else{for(;!s&&r._parent;){const e=r;r=r._parent,e._isViewRoot&&(i=!1),s=r._getLocalDependency(Vl.PublicService,t,i)}s||(s=!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===Ki(t.token)||null!=this.viewContext.viewProviders.get(Ki(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return s||this.viewContext.errors.push(new Hl(`No provider for ${Yi(t.token)}`,this._sourceSpan)),s}}class Gl{constructor(e,t,n,r){this.reflector=e,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(e=>{Yl([{token:{identifier:e},useClass:e}],Vl.PublicService,!0,r,this._errors,this._allProviders,!0)}),Yl(t.transitiveModule.providers.map(e=>e.provider).concat(n),Vl.PublicService,!1,r,this._errors,this._allProviders,!1)}parse(){if(Array.from(this._allProviders.values()).forEach(e=>{this._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){const e=this._errors.join("\n");throw new Error(`Provider parse errors:\n${e}`)}const e=[],t=[];return this._transformedProviders.forEach(n=>{n.eager?t.push(n):e.push(n)}),e.concat(t)}_getOrCreateLocalProvider(e,t){const n=this._allProviders.get(Ki(e));if(!n)return null;let r=this._transformedProviders.get(Ki(e));if(r)return r;if(null!=this._seenProviders.get(Ki(e)))return this._errors.push(new Hl(`Cannot instantiate cyclic dependency! ${Yi(e)}`,n.sourceSpan)),null;this._seenProviders.set(Ki(e),!0);const i=n.providers.map(e=>{let r,i=e.useValue,s=e.useExisting;if(null!=e.useExisting){const r=this._getDependency({token:e.useExisting},t,n.sourceSpan);null!=r.token?s=r.token:(s=null,i=r.value)}else if(e.useFactory){r=(e.deps||e.useFactory.diDeps).map(e=>this._getDependency(e,t,n.sourceSpan))}else if(e.useClass){r=(e.deps||e.useClass.diDeps).map(e=>this._getDependency(e,t,n.sourceSpan))}return Wl(e,{useExisting:s,useValue:i,deps:r})});return r=Xl(n,{eager:t,providers:i}),this._transformedProviders.set(Ki(e),r),r}_getDependency(e,t=!1,n){let r=!1;return e.isSkipSelf||null==e.token||(Ki(e.token)===this.reflector.resolveExternalReference(No.Injector)||Ki(e.token)===this.reflector.resolveExternalReference(No.ComponentFactoryResolver)||null!=this._getOrCreateLocalProvider(e.token,t))&&(r=!0),e}}function Wl(e,{useExisting:t,useValue:n,deps:r}){return{token:e.token,useClass:e.useClass,useExisting:t,useFactory:e.useFactory,useValue:n,deps:r,multi:e.multi}}function Xl(e,{eager:t,providers:n}){return new Bl(e.token,e.multiProvider,e.eager||t,n,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function Yl(e,t,n,r,i,s,o){e.forEach(e=>{let a=s.get(Ki(e.token));if(null!=a&&!!a.multiProvider!=!!e.multi&&i.push(new Hl(`Mixing multi and non multi provider is not possible for token ${Yi(a.token)}`,r)),a)e.multi||(a.providers.length=0),a.providers.push(e);else{const i=e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],l=!(e.useClass||e.useExisting||e.useFactory);a=new Bl(e.token,!!e.multi,n||l,[e],t,i,r,o),s.set(Ki(e.token),a)}})}function Kl(e,t){t.meta.selectors.forEach(n=>{let r=e.get(Ki(n));r||(r=[],e.set(Ki(n),r)),r.push(t)})}class Zl{constructor(e,t){this.style=e,this.styleUrls=t}}function Ql(e){if(null==e||0===e.length||"/"==e[0])return!1;const t=e.match(tc);return null===t||"package"==t[1]||"asset"==t[1]}const Jl=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,ec=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,tc=/^([^:/?#]+):/,nc="animate-";class rc{constructor(e,t,n,r,i){if(this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=n,this.errors=i,this.pipesByName=null,this._usedPipes=new Map,r){const e=new Map;r.forEach(t=>e.set(t.name,t)),this.pipesByName=e}}get interpolationConfig(){return this._interpolationConfig}getUsedPipes(){return Array.from(this._usedPipes.values())}createBoundHostProperties(e,t){if(e.hostProperties){const n=[];return Object.keys(e.hostProperties).forEach(r=>{const i=e.hostProperties[r];"string"==typeof i?this.parsePropertyBinding(r,i,!0,t,t.start.offset,void 0,[],n,t):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,t)}),n}return null}createDirectiveHostPropertyAsts(e,t,n){const r=this.createBoundHostProperties(e,n);return r&&r.map(e=>this.createBoundElementProperty(t,e))}createDirectiveHostEventAsts(e,t){if(e.hostListeners){const n=[];return Object.keys(e.hostListeners).forEach(r=>{const i=e.hostListeners[r];"string"==typeof i?this.parseEvent(r,i,t,t,[],n,t):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,t)}),n}return null}parseInterpolation(e,t){const n=t.start.toString(),r=t.fullStart.offset;try{const i=this._exprParser.parseInterpolation(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),this._checkPipes(i,t),i}catch(i){return this._reportError(`${i}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}parseInterpolationExpression(e,t){const n=t.start.toString(),r=t.start.offset;try{const i=this._exprParser.parseInterpolationExpression(e,n,r);return i&&this._reportExpressionParserErrors(i.errors,t),this._checkPipes(i,t),i}catch(i){return this._reportError(`${i}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}parseInlineTemplateBinding(e,t,n,r,i,s,o,a){const l=n.start.offset+"*".length,c=this._parseTemplateBindings(e,t,n,l,r);for(const u of c){const e=ac(n,u.sourceSpan),t=u.key.source,l=ac(n,u.key.span);if(u instanceof Co){const r=u.value?u.value.source:"$implicit",i=u.value?ac(n,u.value.span):void 0;o.push(new Do(t,r,e,l,i))}else if(u.value){const r=a?e:n,o=ac(n,u.value.ast.sourceSpan);this._parsePropertyAst(t,u.value,r,l,o,i,s)}else i.push([t,""]),this.parseLiteralAttr(t,null,l,r,void 0,i,s,l)}}_parseTemplateBindings(e,t,n,r,i){const s=n.start.toString();try{const o=this._exprParser.parseTemplateBindings(e,t,s,r,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(e=>{e.value instanceof Eo&&this._checkPipes(e.value,n)}),o.warnings.forEach(e=>{this._reportError(e,n,Fs.WARNING)}),o.templateBindings}catch(o){return this._reportError(`${o}`,n),[]}}parseLiteralAttr(e,t,n,r,i,s,o,a){sc(e)?(e=e.substring(1),void 0!==a&&(a=ac(a,new xo(a.start.offset+1,a.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,Fs.ERROR),this._parseAnimation(e,t,n,r,a,i,s,o)):o.push(new To(e,this._exprParser.wrapLiteralPrimitive(t,"",r),js.LITERAL_ATTR,n,a,i))}parsePropertyBinding(e,t,n,r,i,s,o,a,l){0===e.length&&this._reportError("Property name is missing in binding",r);let c=!1;e.startsWith(nc)?(c=!0,e=e.substring(nc.length),void 0!==l&&(l=ac(l,new xo(l.start.offset+nc.length,l.end.offset)))):sc(e)&&(c=!0,e=e.substring(1),void 0!==l&&(l=ac(l,new xo(l.start.offset+1,l.end.offset)))),c?this._parseAnimation(e,t,r,i,l,s,o,a):this._parsePropertyAst(e,this._parseBinding(t,n,s||r,i),r,l,s,o,a)}parsePropertyInterpolation(e,t,n,r,i,s,o){const a=this.parseInterpolation(t,r||n);return!!a&&(this._parsePropertyAst(e,a,n,o,r,i,s),!0)}_parsePropertyAst(e,t,n,r,i,s,o){s.push([e,t.source]),o.push(new To(e,t,js.DEFAULT,n,r,i))}_parseAnimation(e,t,n,r,i,s,o,a){0===e.length&&this._reportError("Animation trigger is missing",n);const l=this._parseBinding(t||"undefined",!1,s||n,r);o.push([e,l.source]),a.push(new To(e,l,js.ANIMATION,n,i,s))}_parseBinding(e,t,n,r){const i=(n&&n.start||"(unknown)").toString();try{const s=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return s&&this._reportExpressionParserErrors(s.errors,n),this._checkPipes(s,n),s}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(e,t,n=!1,r=!0){if(t.isAnimation)return new Oo(t.name,4,W.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let i,s=null,o=null;const a=t.name.split(".");let l;if(a.length>1)if("attr"==a[0]){o=a.slice(1).join("."),n||this._validatePropertyOrAttributeName(o,t.sourceSpan,!0),l=oc(this._schemaRegistry,e,o,!0);const r=o.indexOf(":");if(r>-1){const e=o.substring(0,r),t=o.substring(r+1);o=u(e,t)}i=1}else"class"==a[0]?(o=a[1],i=2,l=[W.NONE]):"style"==a[0]&&(s=a.length>2?a[2]:null,o=a[1],i=3,l=[W.STYLE]);if(null===o){const s=this._schemaRegistry.getMappedPropName(t.name);o=r?s:t.name,l=oc(this._schemaRegistry,e,s,!1),i=0,n||this._validatePropertyOrAttributeName(s,t.sourceSpan,!1)}return new Oo(o,i,l[0],t.expression,s,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,n,r,i,s,o){0===e.length&&this._reportError("Event name is missing in binding",n),sc(e)?(e=e.substr(1),void 0!==o&&(o=ac(o,new xo(o.start.offset+1,o.end.offset))),this._parseAnimationEvent(e,t,n,r,s,o)):this._parseRegularEvent(e,t,n,r,i,s,o)}calcPossibleSecurityContexts(e,t,n){const r=this._schemaRegistry.getMappedPropName(t);return oc(this._schemaRegistry,e,r,n)}_parseAnimationEvent(e,t,n,r,i,s){const o=Yt(e,".",[e,""]);const a=o[0],l=o[1].toLowerCase(),c=this._parseAction(t,r);i.push(new Ao(a,l,1,c,n,r,s)),0===a.length&&this._reportError("Animation event name is missing in binding",n),l?"start"!==l&&"done"!==l&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,n):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,n)}_parseRegularEvent(e,t,n,r,i,s,o){const[a,l]=Xt(e,[null,e]),c=this._parseAction(t,r);i.push([e,c.source]),s.push(new Ao(l,a,0,c,n,r,o))}_parseAction(e,t){const n=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{const i=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),!i||i.ast instanceof Js?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):(this._checkPipes(i,t),i)}catch(i){return this._reportError(`${i}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(e,t,n=Fs.ERROR){this.errors.push(new Bs(t,e,n))}_reportExpressionParserErrors(e,t){for(const n of e)this._reportError(n.message,t)}_checkPipes(e,t){if(e&&this.pipesByName){const n=new ic;e.visit(n),n.pipes.forEach((e,n)=>{const r=this.pipesByName.get(n);r?this._usedPipes.set(n,r):this._reportError(`The pipe '${n}' could not be found`,new Ls(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))})}}_validatePropertyOrAttributeName(e,t,n){const r=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,Fs.ERROR)}}class ic extends ko{constructor(){super(...arguments),this.pipes=new Map}visitPipe(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null}}function sc(e){return"@"==e[0]}function oc(e,t,n,r){const i=[];return v.parse(t).forEach(t=>{const s=t.element?[t.element]:e.allKnownElementNames(),o=new Set(t.notSelectors.filter(e=>e.isElementSelector()).map(e=>e.element)),a=s.filter(e=>!o.has(e));i.push(...a.map(t=>e.securityContext(t,n,r)))}),0===i.length?[W.NONE]:Array.from(new Set(i)).sort()}function ac(e,t){const n=t.start-e.start.offset,r=t.end-e.end.offset;return new Ls(e.start.moveBy(n),e.end.moveBy(r),e.fullStart.moveBy(n),e.details)}function lc(e){let t=null,n=null,r=null,i=!1,s="";e.attrs.forEach(e=>{const o=e.name.toLowerCase();"select"==o?t=e.value:"href"==o?n=e.value:"rel"==o?r=e.value:"ngNonBindable"==e.name?i=!0:"ngProjectAs"==e.name&&e.value.length>0&&(s=e.value)}),t=function(e){if(null===e||0===e.length)return"*";return e}(t);const o=e.name.toLowerCase();let l=cc.OTHER;return a(o)?l=cc.NG_CONTENT:"style"==o?l=cc.STYLE:"script"==o?l=cc.SCRIPT:"link"==o&&"stylesheet"==r&&(l=cc.STYLESHEET),new uc(l,t,n,i,s)}var cc;!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(cc||(cc={}));class uc{constructor(e,t,n,r,i){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}}const hc=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;let dc;function pc(){return dc||(dc=v.parse("*")[0]),dc}class fc extends Bs{constructor(e,t,n){super(t,e,n)}}class gc{constructor(e,t,n){this.templateAst=e,this.usedPipes=t,this.errors=n}}class mc{constructor(e,t,n,r,i,s,o){this._config=e,this._reflector=t,this._exprParser=n,this._schemaRegistry=r,this._htmlParser=i,this._console=s,this.transforms=o}get expressionParser(){return this._exprParser}parse(e,t,n,r,i,s,o){var a;const l=this.tryParse(e,t,n,r,i,s,o),c=l.errors.filter(e=>e.level===Fs.WARNING),u=l.errors.filter(e=>e.level===Fs.ERROR);if(c.length>0&&(null===(a=this._console)||void 0===a||a.warn(`Template parse warnings:\n${c.join("\n")}`)),u.length>0){throw sn(`Template parse errors:\n${u.join("\n")}`,u)}return{template:l.templateAst,pipes:l.usedPipes}}tryParse(e,t,n,r,i,s,o){let a="string"==typeof t?this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(e)}):t;var l;return o||(l=a,a=new ul(Ha(new wl,l.rootNodes),l.errors)),this.tryParseHtml(this.expandHtml(a),e,n,r,i)}tryParseHtml(e,t,n,r,i){let s;const o=e.errors,a=[];if(e.rootNodes.length>0){const l=Cc(n),c=Cc(r),u=new $l(this._reflector,t);let h;t.template&&t.template.interpolation&&(h={start:t.template.interpolation[0],end:t.template.interpolation[1]});const d=new rc(this._exprParser,h,this._schemaRegistry,c,o),p=new vc(this._reflector,this._config,u,l,d,this._schemaRegistry,i,o);s=Ha(p,e.rootNodes,wc),o.push(...u.errors),a.push(...d.getUsedPipes())}else s=[];return this._assertNoReferenceDuplicationOnTemplate(s,o),o.length>0||this.transforms&&this.transforms.forEach(e=>{s=Ul(e,s)}),new gc(s,a,o)}expandHtml(e,t=!1){const n=e.errors;if(0==n.length||t){const t=El(e.rootNodes);n.push(...t.errors),e=new ul(t.nodes,n)}return e}getInterpolationConfig(e){if(e.template)return Li.fromArray(e.template.interpolation)}_assertNoReferenceDuplicationOnTemplate(e,t){const n=[];e.filter(e=>!!e.references).forEach(e=>e.references.forEach(e=>{const r=e.name;if(n.indexOf(r)<0)n.push(r);else{const n=new fc(`Reference "#${r}" is defined several times`,e.sourceSpan,Fs.ERROR);t.push(n)}}))}}class vc{constructor(e,t,n,r,i,s,o,a){this.reflector=e,this.config=t,this.providerViewContext=n,this._bindingParser=i,this._schemaRegistry=s,this._schemas=o,this._targetErrors=a,this.selectorMatcher=new y,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,r.forEach((e,t)=>{const n=v.parse(e.selector);this.selectorMatcher.addSelectables(n,e),this.directivesIndex.set(e,t)})}visitExpansion(e,t){return null}visitExpansionCase(e,t){return null}visitText(e,t){const n=t.findNgContentIndex(pc()),r=bl(e.value),i=this._bindingParser.parseInterpolation(r,e.sourceSpan);return i?new Al(i,n,e.sourceSpan):new Tl(r,n,e.sourceSpan)}visitAttribute(e,t){return new Dl(e.name,e.value,e.sourceSpan)}visitComment(e,t){return null}visitElement(e,t){const n=this.contentQueryStartId,r=e.name,i=lc(e);if(i.type===cc.SCRIPT||i.type===cc.STYLE)return null;if(i.type===cc.STYLESHEET&&Ql(i.hrefAttr))return null;const s=[],o=[],a=[],c=[],u=[],h=[],d=[],p=[];let f=!1;const g=[],m=l(e.name);e.attrs.forEach(e=>{const t=this._parseAttr(m,e,s,o,u,a,c);let n,r;c.push(...[].map(e=>Ml.fromParsedVariable(e)));const i=this._normalizeAttributeName(e.name);i.startsWith("*")&&(n=e.value,r=i.substring("*".length));const l=null!=n;if(l){f&&this._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),f=!0;const t=[],i=(e.valueSpan||e.sourceSpan).start.offset;this._bindingParser.parseInlineTemplateBinding(r,n,e.sourceSpan,i,d,h,t,!1),p.push(...t.map(e=>Ml.fromParsedVariable(e)))}t||l||(g.push(this.visitAttribute(e,null)),s.push([e.name,e.value]))});const y=bc(r,s),{directives:_,matchElement:b}=this._parseDirectives(this.selectorMatcher,y),w=[],x=new Set,E=this._createDirectiveAsts(m,e.name,_,o,a,e.sourceSpan,w,x),C=this._createElementPropertyAsts(e.name,o,x),S=t.isTemplateElement||f,k=new ql(this.providerViewContext,t.providerContext,S,E,g,w,m,n,e.sourceSpan),T=Ha(i.nonBindable?xc:this,e.children,_c.create(m,E,m?t.providerContext:k));k.afterElement();const A=""!=i.projectAs?v.parse(i.projectAs)[0]:y,D=t.findNgContentIndex(A);let O;if(i.type===cc.NG_CONTENT)e.children&&!e.children.every(Ec)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),O=new zl(this.ngContentCount++,f?null:D,e.sourceSpan);else if(m)this._assertAllEventsPublishedByDirectives(E,u),this._assertNoComponentsNorElementBindingsOnTemplate(E,C,e.sourceSpan),O=new Ll(g,u,w,c,k.transformedDirectiveAsts,k.transformProviders,k.transformedHasViewContainer,k.queryMatches,T,f?null:D,e.sourceSpan);else{this._assertElementExists(b,e),this._assertOnlyOneComponent(E,e.sourceSpan);const n=f?null:t.findNgContentIndex(A);O=new Rl(r,g,C,u,w,k.transformedDirectiveAsts,k.transformProviders,k.transformedHasViewContainer,k.queryMatches,T,f?null:n,e.sourceSpan,e.endSourceSpan||null)}if(f){const n=this.contentQueryStartId,i=bc("ng-template",d),{directives:s}=this._parseDirectives(this.selectorMatcher,i),o=new Set,a=this._createDirectiveAsts(!0,r,s,h,[],e.sourceSpan,[],o),l=this._createElementPropertyAsts(r,h,o);this._assertNoComponentsNorElementBindingsOnTemplate(a,l,e.sourceSpan);const c=new ql(this.providerViewContext,t.providerContext,t.isTemplateElement,a,[],[],!0,n,e.sourceSpan);c.afterElement(),O=new Ll([],[],[],p,c.transformedDirectiveAsts,c.transformProviders,c.transformedHasViewContainer,c.queryMatches,[O],D,e.sourceSpan)}return O}_parseAttr(e,t,n,r,i,s,o){const a=this._normalizeAttributeName(t.name),l=t.value,c=t.sourceSpan,u=t.valueSpan?t.valueSpan.start.offset:c.start.offset,h=[],d=a.match(hc);let p=!1;if(null!==d)if(p=!0,null!=d[1])this._bindingParser.parsePropertyBinding(d[7],l,!1,c,u,t.valueSpan,n,r);else if(d[2])if(e){const e=d[7];this._parseVariable(e,l,c,o)}else this._reportError('"let-" is only supported on ng-template elements.',c);else if(d[3]){const e=d[7];this._parseReference(e,l,c,s)}else d[4]?this._bindingParser.parseEvent(d[7],l,c,t.valueSpan||c,n,h):d[5]?(this._bindingParser.parsePropertyBinding(d[7],l,!1,c,u,t.valueSpan,n,r),this._parseAssignmentEvent(d[7],l,c,t.valueSpan||c,n,h)):d[6]?this._bindingParser.parseLiteralAttr(a,l,c,u,t.valueSpan,n,r):d[8]?(this._bindingParser.parsePropertyBinding(d[8],l,!1,c,u,t.valueSpan,n,r),this._parseAssignmentEvent(d[8],l,c,t.valueSpan||c,n,h)):d[9]?this._bindingParser.parsePropertyBinding(d[9],l,!1,c,u,t.valueSpan,n,r):d[10]&&this._bindingParser.parseEvent(d[10],l,c,t.valueSpan||c,n,h);else p=this._bindingParser.parsePropertyInterpolation(a,l,c,t.valueSpan,n,r);return p||this._bindingParser.parseLiteralAttr(a,l,c,u,t.valueSpan,n,r),i.push(...h.map(e=>Nl.fromParsedEvent(e))),p}_normalizeAttributeName(e){return/^data-/i.test(e)?e.substring(5):e}_parseVariable(e,t,n,r){e.indexOf("-")>-1?this._reportError('"-" is not allowed in variable names',n):0===e.length&&this._reportError("Variable does not have a name",n),r.push(new Ml(e,t,n))}_parseReference(e,t,n,r){e.indexOf("-")>-1?this._reportError('"-" is not allowed in reference names',n):0===e.length&&this._reportError("Reference does not have a name",n),r.push(new yc(e,t,n))}_parseAssignmentEvent(e,t,n,r,i,s){this._bindingParser.parseEvent(`${e}Change`,`${t}=$event`,n,r,i,s)}_parseDirectives(e,t){const n=mn(this.directivesIndex.size);let r=!1;return e.match(t,(e,t)=>{n[this.directivesIndex.get(t)]=t,r=r||e.hasElementSelector()}),{directives:n.filter(e=>!!e),matchElement:r}}_createDirectiveAsts(e,t,n,r,i,s,o,a){const l=new Set;let c=null;const u=n.map(e=>{const n=new Ls(s.start,s.end,s.fullStart,`Directive ${Hi(e.type)}`);e.isComponent&&(c=e);const u=[];let h=this._bindingParser.createDirectiveHostPropertyAsts(e,t,n).map(e=>Il.fromBoundProperty(e));h=this._checkPropertiesInSchema(t,h);const d=this._bindingParser.createDirectiveHostEventAsts(e,n);this._createDirectivePropertyAsts(e.inputs,r,u,a),i.forEach(t=>{(0===t.value.length&&e.isComponent||t.isReferenceToDirective(e))&&(o.push(new Pl(t.name,Po(e.type.reference),t.value,t.sourceSpan)),l.add(t.name))});const p=d.map(e=>Nl.fromParsedEvent(e)),f=this.contentQueryStartId;return this.contentQueryStartId+=e.queries.length,new jl(e,u,h,p,f,n)});return i.forEach(t=>{if(t.value.length>0)l.has(t.name)||this._reportError(`There is no directive with "exportAs" set to "${t.value}"`,t.sourceSpan);else if(!c){let n=null;e&&(n=Mo(this.reflector,No.TemplateRef)),o.push(new Pl(t.name,n,t.value,t.sourceSpan))}}),u}_createDirectivePropertyAsts(e,t,n,r){if(e){const i=new Map;t.forEach(e=>{const t=i.get(e.name);t&&!t.isLiteral||i.set(e.name,e)}),Object.keys(e).forEach(t=>{const s=e[t],o=i.get(s);o&&(r.add(o.name),Sc(o.expression)||n.push(new Fl(t,o.name,o.expression,o.sourceSpan)))})}}_createElementPropertyAsts(e,t,n){const r=[];return t.forEach(t=>{if(!t.isLiteral&&!n.has(t.name)){const n=this._bindingParser.createBoundElementProperty(e,t);r.push(Il.fromBoundProperty(n))}}),this._checkPropertiesInSchema(e,r)}_findComponentDirectives(e){return e.filter(e=>e.directive.isComponent)}_findComponentDirectiveNames(e){return this._findComponentDirectives(e).map(e=>Hi(e.directive.type))}_assertOnlyOneComponent(e,t){const n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError(`More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: ${n.join(",")}`,t)}_assertElementExists(e,t){const n=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(n,this._schemas)){let e=`'${n}' is not a known element:\n`;e+=`1. If '${n}' is an Angular component, then verify that it is part of this module.\n`,n.indexOf("-")>-1?e+=`2. If '${n}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(e,t.sourceSpan)}}_assertNoComponentsNorElementBindingsOnTemplate(e,t,n){const r=this._findComponentDirectiveNames(e);r.length>0&&this._reportError(`Components on an embedded template: ${r.join(",")}`,n),t.forEach(e=>{this._reportError(`Property binding ${e.name} not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,n)})}_assertAllEventsPublishedByDirectives(e,t){const n=new Set;e.forEach(e=>{Object.keys(e.directive.outputs).forEach(t=>{const r=e.directive.outputs[t];n.add(r)})}),t.forEach(e=>{null==e.target&&n.has(e.name)||this._reportError(`Event binding ${e.fullName} not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,e.sourceSpan)})}_checkPropertiesInSchema(e,t){return t.filter(t=>{if(0===t.type&&!this._schemaRegistry.hasProperty(e,t.name,this._schemas)){let n=`Can't bind to '${t.name}' since it isn't a known property of '${e}'.`;e.startsWith("ng-")?n+=`\n1. If '${t.name}' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.`:e.indexOf("-")>-1&&(n+=`\n1. If '${e}' is an Angular component and it has '${t.name}' input, then verify that it is part of this module.\n2. If '${e}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.`),this._reportError(n,t.sourceSpan)}return!Sc(t.value)})}_reportError(e,t,n=Fs.ERROR){this._targetErrors.push(new Bs(t,e,n))}}class yc{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}isReferenceToDirective(e){return-1!==(t=e.exportAs,t?t.split(",").map(e=>e.trim()):[]).indexOf(this.value);var t}}class _c{constructor(e,t,n,r){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=n,this.providerContext=r}static create(e,t,n){const r=new y;let i=null;const s=t.find(e=>e.directive.isComponent);if(s){const e=s.directive.template.ngContentSelectors;for(let t=0;t<e.length;t++){"*"===e[t]?i=t:r.addSelectables(v.parse(e[t]),t)}}return new _c(e,r,i,n)}findNgContentIndex(e){const t=[];return this._ngContentIndexMatcher.match(e,(e,n)=>{t.push(n)}),t.sort(),null!=this._wildcardNgContentIndex&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null}}function bc(e,t){const n=new v,r=s(e)[1];n.setElement(r);for(let i=0;i<t.length;i++){const e=t[i][0],r=s(e)[1],o=t[i][1];if(n.addAttribute(r,o),"class"==e.toLowerCase()){o.trim().split(/\s+/g).forEach(e=>n.addClassName(e))}}return n}const wc=new _c(!0,new y,null,null),xc=new class{visitElement(e,t){const n=lc(e);if(n.type===cc.SCRIPT||n.type===cc.STYLE||n.type===cc.STYLESHEET)return null;const r=e.attrs.map(e=>[e.name,e.value]),i=bc(e.name,r),s=t.findNgContentIndex(i),o=Ha(this,e.children,wc);return new Rl(e.name,Ha(this,e.attrs),[],[],[],[],[],!1,[],o,s,e.sourceSpan,e.endSourceSpan)}visitComment(e,t){return null}visitAttribute(e,t){return new Dl(e.name,e.value,e.sourceSpan)}visitText(e,t){const n=t.findNgContentIndex(pc());return new Tl(e.value,n,e.sourceSpan)}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}};function Ec(e){return e instanceof Fa&&0==e.value.trim().length}function Cc(e){const t=new Map;return e.forEach(e=>{t.get(e.type.reference)||t.set(e.type.reference,e)}),Array.from(t.values())}function Sc(e){return e instanceof Eo&&(e=e.ast),e instanceof Js}function kc(e){const t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){const t=e.substring(1,e.length-1);-1==t.indexOf("'")&&-1==t.indexOf('"')&&(e=t)}return e}function Tc(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}class Ac{constructor(e){this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(e){let t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t}registerInputBasedOnName(e,t,n){let r=null;const i=e.substring(0,6),s="style"===e||"style."===i||"style!"===i;if(s||!s&&("class"===e||"class."===i||"class!"===i)){const i="."!==e.charAt(5),o=e.substr(i?5:6);r=s?this.registerStyleInput(o,i,t,n):this.registerClassInput(o,i,t,n)}return r}registerStyleInput(e,t,n,r,i){if(Sc(n))return null;(function(e){return e.startsWith("--")})(e)||(e=Tc(e));const{property:s,hasOverrideFlag:o,suffix:a}=Oc(e),l={name:s,suffix:i="string"==typeof i&&0!==i.length?i:a,value:n,sourceSpan:r,hasOverrideFlag:o};return t?this._styleMapInput=l:((this._singleStyleInputs=this._singleStyleInputs||[]).push(l),Dc(this._stylesIndex,s)),this._lastStylingInput=l,this._firstStylingInput=this._firstStylingInput||l,this._checkForPipes(n),this.hasBindings=!0,l}registerClassInput(e,t,n,r){if(Sc(n))return null;const{property:i,hasOverrideFlag:s}=Oc(e),o={name:i,value:n,sourceSpan:r,hasOverrideFlag:s,suffix:null};return t?this._classMapInput=o:((this._singleClassInputs=this._singleClassInputs||[]).push(o),Dc(this._classesIndex,i)),this._lastStylingInput=o,this._firstStylingInput=this._firstStylingInput||o,this._checkForPipes(n),this.hasBindings=!0,o}_checkForPipes(e){e instanceof Eo&&e.ast instanceof co&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(e){this._initialStyleValues=function(e){const t=[];let n=0,r=0,i=0,s=0,o=0,a=null,l=!1;for(;n<e.length;)switch(e.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:l=l||s>0,0===i?i=39:39===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 34:l=l||s>0,0===i?i=34:34===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 58:a||0!==r||0!==i||(a=Tc(e.substring(o,n-1).trim()),s=n);break;case 59:if(a&&s>0&&0===r&&0===i){const r=e.substring(s,n-1).trim();t.push(a,l?kc(r):r),o=n,s=0,a=null,l=!1}}if(a&&s){const n=e.substr(s).trim();t.push(a,l?kc(n):n)}return t}(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(Mt(1));for(let t=0;t<this._initialClassValues.length;t++)e.push(Mt(this._initialClassValues[t]))}if(this._initialStyleValues.length){e.push(Mt(2));for(let t=0;t<this._initialStyleValues.length;t+=2)e.push(Mt(this._initialStyleValues[t]),Mt(this._initialStyleValues[t+1]))}}assignHostAttrs(e,t){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),t.set("hostAttrs",Dt(e)))}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,t,n){let r=2;const i=n.value.visit(e);let s;return i instanceof fo?(r+=i.expressions.length,s=t?function(e){switch(ei(e)){case 1:return Gt.classMap;case 3:return Gt.classMapInterpolate1;case 5:return Gt.classMapInterpolate2;case 7:return Gt.classMapInterpolate3;case 9:return Gt.classMapInterpolate4;case 11:return Gt.classMapInterpolate5;case 13:return Gt.classMapInterpolate6;case 15:return Gt.classMapInterpolate7;case 17:return Gt.classMapInterpolate8;default:return Gt.classMapInterpolateV}}(i):function(e){switch(ei(e)){case 1:return Gt.styleMap;case 3:return Gt.styleMapInterpolate1;case 5:return Gt.styleMapInterpolate2;case 7:return Gt.styleMapInterpolate3;case 9:return Gt.styleMapInterpolate4;case 11:return Gt.styleMapInterpolate5;case 13:return Gt.styleMapInterpolate6;case 15:return Gt.styleMapInterpolate7;case 17:return Gt.styleMapInterpolate8;default:return Gt.styleMapInterpolateV}}(i)):s=t?Gt.classMap:Gt.styleMap,{reference:s,calls:[{supportsInterpolation:!0,sourceSpan:n.sourceSpan,allocateBindingSlots:r,params:e=>{const t=e(i);return Array.isArray(t)?t:[t]}}]}}_buildSingleInputs(e,t,n,r,i){const s=[];return t.forEach(t=>{const o=s[s.length-1],a=t.value.visit(n);let l=e,c=2;a instanceof fo&&(c+=a.expressions.length,r&&(l=r(a)));const u={sourceSpan:t.sourceSpan,allocateBindingSlots:c,supportsInterpolation:!!r,params:e=>{const n=[];n.push(Mt(t.name));const r=e(a);return Array.isArray(r)?n.push(...r):n.push(r),i||null===t.suffix||n.push(Mt(t.suffix)),n}};o&&o.reference===l?o.calls.push(u):s.push({reference:l,calls:[u]})}),s}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(Gt.classProp,this._singleClassInputs,e,null,!0):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(Gt.styleProp,this._singleStyleInputs,e,Ic,!1):[]}buildUpdateLevelInstructions(e){const t=[];if(this.hasBindings){const n=this.buildStyleMapInstruction(e);n&&t.push(n);const r=this.buildClassMapInstruction(e);r&&t.push(r),t.push(...this._buildStyleInputs(e)),t.push(...this._buildClassInputs(e))}return t}}function Dc(e,t){e.has(t)||e.set(t,e.size)}function Oc(e){let t=!1;const n=e.indexOf("!important");-1!==n&&(e=n>0?e.substring(0,n):"",t=!0);let r=null,i=e;const s=e.lastIndexOf(".");return s>0&&(r=e.substr(s+1),i=e.substring(0,s)),{property:i,suffix:r,hasOverrideFlag:t}}function Ic(e){switch(ei(e)){case 1:return Gt.styleProp;case 3:return Gt.stylePropInterpolate1;case 5:return Gt.stylePropInterpolate2;case 7:return Gt.stylePropInterpolate3;case 9:return Gt.stylePropInterpolate4;case 11:return Gt.stylePropInterpolate5;case 13:return Gt.stylePropInterpolate6;case 15:return Gt.stylePropInterpolate7;case 17:return Gt.stylePropInterpolate8;default:return Gt.stylePropInterpolateV}}var Nc;!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.PrivateIdentifier=2]="PrivateIdentifier",e[e.Keyword=3]="Keyword",e[e.String=4]="String",e[e.Operator=5]="Operator",e[e.Number=6]="Number",e[e.Error=7]="Error"}(Nc||(Nc={}));const Pc=["var","let","as","null","undefined","true","false","if","else","this"];class Mc{tokenize(e){const t=new Bc(e),n=[];let r=t.scanToken();for(;null!=r;)n.push(r),r=t.scanToken();return n}}class Rc{constructor(e,t,n,r,i){this.index=e,this.end=t,this.type=n,this.numValue=r,this.strValue=i}isCharacter(e){return this.type==Nc.Character&&this.numValue==e}isNumber(){return this.type==Nc.Number}isString(){return this.type==Nc.String}isOperator(e){return this.type==Nc.Operator&&this.strValue==e}isIdentifier(){return this.type==Nc.Identifier}isPrivateIdentifier(){return this.type==Nc.PrivateIdentifier}isKeyword(){return this.type==Nc.Keyword}isKeywordLet(){return this.type==Nc.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==Nc.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==Nc.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==Nc.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==Nc.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==Nc.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==Nc.Keyword&&"this"==this.strValue}isError(){return this.type==Nc.Error}toNumber(){return this.type==Nc.Number?this.numValue:-1}toString(){switch(this.type){case Nc.Character:case Nc.Identifier:case Nc.Keyword:case Nc.Operator:case Nc.PrivateIdentifier:case Nc.String:case Nc.Error:return this.strValue;case Nc.Number:return this.numValue.toString();default:return null}}}function Lc(e,t,n){return new Rc(e,t,Nc.Character,n,String.fromCharCode(n))}function Fc(e,t,n){return new Rc(e,t,Nc.Operator,0,n)}const jc=new Rc(-1,-1,Nc.Character,0,"");class Bc{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const e=this.input,t=this.length;let n=this.peek,r=this.index;for(;n<=32;){if(++r>=t){n=0;break}n=e.charCodeAt(r)}if(this.peek=n,this.index=r,r>=t)return null;if(Vc(n))return this.scanIdentifier();if(Os(n))return this.scanNumber(r);const i=r;switch(n){case ys:return this.advance(),Os(this.peek)?this.scanNumber(i):Lc(i,this.index,ys);case 40:case ms:case Ts:case As:case 91:case 93:case vs:case bs:case ws:return this.scanCharacter(i,n);case 39:case 34:return this.scanString();case 35:return this.scanPrivateIdentifier();case 43:case 45:case 42:case _s:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanQuestion(i);case xs:case Cs:return this.scanComplexOperator(i,String.fromCharCode(n),Es,"=");case 33:case Es:return this.scanComplexOperator(i,String.fromCharCode(n),Es,"=",Es,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case 160:for(;Ds(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(n)}]`,0)}scanCharacter(e,t){return this.advance(),Lc(e,this.index,t)}scanOperator(e,t){return this.advance(),Fc(e,this.index,t)}scanComplexOperator(e,t,n,r,i,s){this.advance();let o=t;return this.peek==n&&(this.advance(),o+=r),null!=i&&this.peek==i&&(this.advance(),o+=s),Fc(e,this.index,o)}scanIdentifier(){const e=this.index;for(this.advance();zc(this.peek);)this.advance();const t=this.input.substring(e,this.index);return Pc.indexOf(t)>-1?(n=e,r=this.index,i=t,new Rc(n,r,Nc.Keyword,0,i)):function(e,t,n){return new Rc(e,t,Nc.Identifier,0,n)}(e,this.index,t);var n,r,i}scanPrivateIdentifier(){const e=this.index;if(this.advance(),!Vc(this.peek))return this.error("Invalid character [#]",-1);for(;zc(this.peek);)this.advance();const t=this.input.substring(e,this.index);return n=e,r=this.index,i=t,new Rc(n,r,Nc.PrivateIdentifier,0,i);var n,r,i}scanNumber(e){let t=this.index===e;for(this.advance();;){if(Os(this.peek));else if(this.peek==ys)t=!1;else{if(101!=(n=this.peek)&&69!=n)break;if(this.advance(),Uc(this.peek)&&this.advance(),!Os(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var n;const r=this.input.substring(e,this.index),i=t?function(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(r):parseFloat(r);return s=e,o=this.index,a=i,new Rc(s,o,Nc.Number,a,"");var s,o,a}scanString(){const e=this.index,t=this.peek;this.advance();let n="",r=this.index;const i=this.input;for(;this.peek!=t;)if(92==this.peek){let e;if(n+=i.substring(r,this.index),this.advance(),this.peek=this.peek,117==this.peek){const t=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(t))return this.error(`Invalid unicode escape [\\u${t}]`,0);e=parseInt(t,16);for(let e=0;e<5;e++)this.advance()}else e=$c(this.peek),this.advance();n+=String.fromCharCode(e),r=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}const s=i.substring(r,this.index);return this.advance(),o=e,a=this.index,l=n+s,new Rc(o,a,Nc.String,0,l);var o,a,l}scanQuestion(e){this.advance();let t="?";return 63!==this.peek&&this.peek!==ys||(t+=this.peek===ys?".":"?",this.advance()),Fc(e,this.index,t)}error(e,t){const n=this.index+t;return function(e,t,n){return new Rc(e,t,Nc.Error,0,n)}(n,this.index,`Lexer Error: ${e} at column ${n} in expression [${this.input}]`)}}function Vc(e){return Ss<=e&&e<=ks||65<=e&&e<=90||95==e||36==e}function zc(e){return Is(e)||Os(e)||95==e||36==e}function Uc(e){return 45==e||43==e}function Hc(e){return 39===e||34===e||96===e}function $c(e){switch(e){case 110:return gs;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}class qc{constructor(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}}class Gc{constructor(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}}class Wc{constructor(e){this._lexer=e,this.errors=[],this.simpleExpressionChecker=Zc}parseAction(e,t,n,r=Fi){this._checkNoInterpolation(e,t,r);const i=this._stripComments(e),s=this._lexer.tokenize(this._stripComments(e)),o=new Kc(e,t,n,s,i.length,!0,this.errors,e.length-i.length).parseChain();return new Eo(o,e,t,n,this.errors)}parseBinding(e,t,n,r=Fi){const i=this._parseBindingAst(e,t,n,r);return new Eo(i,e,t,n,this.errors)}checkSimpleExpression(e){const t=new this.simpleExpressionChecker;return e.visit(t),t.errors}parseSimpleBinding(e,t,n,r=Fi){const i=this._parseBindingAst(e,t,n,r),s=this.checkSimpleExpression(i);return s.length>0&&this._reportError(`Host binding expression cannot contain ${s.join(" ")}`,e,t),new Eo(i,e,t,n,this.errors)}_reportError(e,t,n,r){this.errors.push(new Xs(e,t,n,r))}_parseBindingAst(e,t,n,r){const i=this._parseQuote(e,t,n);if(null!=i)return i;this._checkNoInterpolation(e,t,r);const s=this._stripComments(e),o=this._lexer.tokenize(s);return new Kc(e,t,n,o,s.length,!1,this.errors,e.length-s.length).parseChain()}_parseQuote(e,t,n){if(null==e)return null;const r=e.indexOf(":");if(-1==r)return null;const i=e.substring(0,r).trim();if(!function(e){if(0==e.length)return!1;const t=new Bc(e);if(!Vc(t.peek))return!1;for(t.advance();0!==t.peek;){if(!zc(t.peek))return!1;t.advance()}return!0}(i))return null;const s=e.substring(r+1),o=new Ys(0,e.length);return new Qs(o,o.toAbsolute(n),i,s,t)}parseTemplateBindings(e,t,n,r,i){const s=this._lexer.tokenize(t);return new Kc(t,n,i,s,t.length,!1,this.errors,0).parseTemplateBindings({source:e,span:new xo(r,r+e.length)})}parseInterpolation(e,t,n,r=Fi){const{strings:i,expressions:s,offsets:o}=this.splitInterpolation(e,t,r);if(0===s.length)return null;const a=[];for(let l=0;l<s.length;++l){const r=s[l].text,i=this._stripComments(r),c=this._lexer.tokenize(i),u=new Kc(e,t,n,c,i.length,!1,this.errors,o[l]+(r.length-i.length)).parseChain();a.push(u)}return this.createInterpolationAst(i.map(e=>e.text),a,e,t,n)}parseInterpolationExpression(e,t,n){const r=this._stripComments(e),i=this._lexer.tokenize(r),s=new Kc(e,t,n,i,r.length,!1,this.errors,0).parseChain();return this.createInterpolationAst(["",""],[s],e,t,n)}createInterpolationAst(e,t,n,r,i){const s=new Ys(0,n.length),o=new fo(s,s.toAbsolute(i),e,t);return new Eo(o,n,r,i,this.errors)}splitInterpolation(e,t,n=Fi){const r=[],i=[],s=[];let o=0,a=!1,l=!1,{start:c,end:u}=n;for(;o<e.length;)if(a){const n=o,r=n+c.length,h=this._getInterpolationEndIndex(e,u,r);if(-1===h){a=!1,l=!0;break}const d=h+u.length,p=e.substring(r,h);0===p.trim().length&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${o} in`,t),i.push({text:p,start:n,end:d}),s.push(r),o=d,a=!1}else{const t=o;o=e.indexOf(c,o),-1===o&&(o=e.length);const n=e.substring(t,o);r.push({text:n,start:t,end:o}),a=!0}if(!a)if(l){const t=r[r.length-1];t.text+=e.substring(o),t.end=e.length}else r.push({text:e.substring(o),start:o,end:e.length});return new qc(r,i,s)}wrapLiteralPrimitive(e,t,n){const r=new Ys(0,null==e?0:e.length);return new Eo(new uo(r,r.toAbsolute(n),e),e,t,n,this.errors)}_stripComments(e){const t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}_commentStart(e){let t=null;for(let n=0;n<e.length-1;n++){const r=e.charCodeAt(n),i=e.charCodeAt(n+1);if(r===_s&&i==_s&&null==t)return n;t===r?t=null:null==t&&Hc(r)&&(t=r)}return null}_checkNoInterpolation(e,t,{start:n,end:r}){let i=-1,s=-1;for(const o of this._forEachUnquotedChar(e,0))if(-1===i)e.startsWith(n)&&(i=o);else if(s=this._getInterpolationEndIndex(e,r,o),s>-1)break;i>-1&&s>-1&&this._reportError(`Got interpolation (${n}${r}) where expression was expected`,e,`at column ${i} in`,t)}_getInterpolationEndIndex(e,t,n){for(const r of this._forEachUnquotedChar(e,n)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let n=null,r=0;for(let i=t;i<e.length;i++){const t=e[i];!Hc(e.charCodeAt(i))||null!==n&&n!==t||r%2!=0?null===n&&(yield i):n=null===n?t:null,r="\\"===t?r+1:0}}}class Xc extends Wc{constructor(){super(...arguments),this.simpleExpressionChecker=Qc}}var Yc;!function(e){e[e.None=0]="None",e[e.Writable=1]="Writable"}(Yc||(Yc={}));class Kc{constructor(e,t,n,r,i,s,o,a){this.input=e,this.location=t,this.absoluteOffset=n,this.tokens=r,this.inputLength=i,this.parseAction=s,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=Yc.None,this.sourceSpanCache=new Map,this.index=0}peek(e){const t=this.index+e;return t<this.tokens.length?this.tokens[t]:jc}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){if(this.index>0){return this.peek(-1).end+this.offset}return 0===this.tokens.length?this.inputLength+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let n=this.currentEndIndex;if(void 0!==t&&t>this.currentEndIndex&&(n=t),e>n){const t=n;n=e,e=t}return new Ys(e,n)}sourceSpan(e,t){const n=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(n)||this.sourceSpanCache.set(n,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(n)}advance(){this.index++}withContext(e,t){this.context|=e;const n=t();return this.context^=e,n}consumeOptionalCharacter(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===jc?"end of input":`token ${e}`}expectIdentifierOrKeyword(){const e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null)}expectIdentifierOrKeywordOrString(){const e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),"")}parseChain(){const e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){const t=this.parsePipe();if(e.push(t),this.consumeOptionalCharacter(ws))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(ws););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}if(0==e.length){const e=this.offset,t=this.offset+this.inputLength;return new Js(this.span(e,t),this.sourceSpan(e,t))}return 1==e.length?e[0]:new no(this.span(t),this.sourceSpan(t),e)}parsePipe(){const e=this.inputIndex;let t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const n=this.inputIndex;let r,i,s=this.expectIdentifierOrKeyword();null!==s?r=this.sourceSpan(n):(s="",i=-1!==this.next.index?this.next.index:this.inputLength+this.offset,r=new Ys(i,i).toAbsolute(this.absoluteOffset));const o=[];for(;this.consumeOptionalCharacter(bs);)o.push(this.parseExpression());t=new co(this.span(e),this.sourceSpan(e,i),t,s,o,r)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){const e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){const n=this.parsePipe();let r;if(this.consumeOptionalCharacter(bs))r=this.parsePipe();else{const t=this.inputIndex,n=this.input.substring(e,t);this.error(`Conditional expression ${n} requires all 3 expressions`),r=new Js(this.span(e),this.sourceSpan(e))}return new ro(this.span(e),this.sourceSpan(e),t,n,r)}return t}parseLogicalOr(){const e=this.inputIndex;let t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){const n=this.parseLogicalAnd();t=new go(this.span(e),this.sourceSpan(e),"||",t,n)}return t}parseLogicalAnd(){const e=this.inputIndex;let t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){const n=this.parseNullishCoalescing();t=new go(this.span(e),this.sourceSpan(e),"&&",t,n)}return t}parseNullishCoalescing(){const e=this.inputIndex;let t=this.parseEquality();for(;this.consumeOptionalOperator("??");){const n=this.parseEquality();t=new go(this.span(e),this.sourceSpan(e),"??",t,n)}return t}parseEquality(){const e=this.inputIndex;let t=this.parseRelational();for(;this.next.type==Nc.Operator;){const n=this.next.strValue;switch(n){case"==":case"===":case"!=":case"!==":this.advance();const r=this.parseRelational();t=new go(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}parseRelational(){const e=this.inputIndex;let t=this.parseAdditive();for(;this.next.type==Nc.Operator;){const n=this.next.strValue;switch(n){case"<":case">":case"<=":case">=":this.advance();const r=this.parseAdditive();t=new go(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}parseAdditive(){const e=this.inputIndex;let t=this.parseMultiplicative();for(;this.next.type==Nc.Operator;){const n=this.next.strValue;switch(n){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new go(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}parseMultiplicative(){const e=this.inputIndex;let t=this.parsePrefix();for(;this.next.type==Nc.Operator;){const n=this.next.strValue;switch(n){case"*":case"%":case"/":this.advance();let r=this.parsePrefix();t=new go(this.span(e),this.sourceSpan(e),n,t,r);continue}break}return t}parsePrefix(){if(this.next.type==Nc.Operator){const e=this.inputIndex;let t;switch(this.next.strValue){case"+":return this.advance(),t=this.parsePrefix(),mo.createPlus(this.span(e),this.sourceSpan(e),t);case"-":return this.advance(),t=this.parsePrefix(),mo.createMinus(this.span(e),this.sourceSpan(e),t);case"!":return this.advance(),t=this.parsePrefix(),new vo(this.span(e),this.sourceSpan(e),t)}}return this.parseCallChain()}parseCallChain(){const e=this.inputIndex;let t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(ys))t=this.parseAccessMemberOrMethodCall(t,e,!1);else if(this.consumeOptionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,e,!0);else if(this.consumeOptionalCharacter(91))this.withContext(Yc.Writable,()=>{this.rbracketsExpected++;const n=this.parsePipe();if(n instanceof Js&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(93),this.consumeOptionalOperator("=")){const r=this.parseConditional();t=new lo(this.span(e),this.sourceSpan(e),t,n,r)}else t=new ao(this.span(e),this.sourceSpan(e),t,n)});else if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const n=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(ms),t=new wo(this.span(e),this.sourceSpan(e),t,n)}else{if(!this.consumeOptionalOperator("!"))return t;t=new yo(this.span(e),this.sourceSpan(e),t)}}parsePrimary(){const e=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(ms),e}if(this.next.isKeywordNull())return this.advance(),new uo(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new uo(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new uo(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new uo(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new to(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const t=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new ho(this.span(e),this.sourceSpan(e),t)}if(this.next.isCharacter(Ts))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new eo(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){const t=this.next.toNumber();return this.advance(),new uo(this.span(e),this.sourceSpan(e),t)}if(this.next.isString()){const t=this.next.toString();return this.advance(),new uo(this.span(e),this.sourceSpan(e),t)}return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Js(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Js(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Js(this.span(e),this.sourceSpan(e)))}parseExpressionList(e){const t=[];do{if(this.next.isCharacter(e))break;t.push(this.parsePipe())}while(this.consumeOptionalCharacter(vs));return t}parseLiteralMap(){const e=[],t=[],n=this.inputIndex;if(this.expectCharacter(Ts),!this.consumeOptionalCharacter(As)){this.rbracesExpected++;do{const n=this.next.isString(),r=this.expectIdentifierOrKeywordOrString();e.push({key:r,quoted:n}),this.expectCharacter(bs),t.push(this.parsePipe())}while(this.consumeOptionalCharacter(vs));this.rbracesExpected--,this.expectCharacter(As)}return new po(this.span(n),this.sourceSpan(n),e,t)}parseAccessMemberOrMethodCall(e,t,n=!1){const r=this.inputIndex,i=this.withContext(Yc.Writable,()=>{var t;const n=null!==(t=this.expectIdentifierOrKeyword())&&void 0!==t?t:"";return 0===n.length&&this.error("Expected identifier for property access",e.span.end),n}),s=this.sourceSpan(r);if(this.consumeOptionalCharacter(40)){const r=this.inputIndex;this.rparensExpected++;const o=this.parseCallArguments(),a=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(ms),this.rparensExpected--;const l=this.span(t),c=this.sourceSpan(t);return n?new bo(l,c,s,e,i,o,a):new _o(l,c,s,e,i,o,a)}if(n)return this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Js(this.span(t),this.sourceSpan(t))):new oo(this.span(t),this.sourceSpan(t),s,e,i);if(this.consumeOptionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Js(this.span(t),this.sourceSpan(t));const n=this.parseConditional();return new so(this.span(t),this.sourceSpan(t),s,e,i,n)}return new io(this.span(t),this.sourceSpan(t),s,e,i)}parseCallArguments(){if(this.next.isCharacter(ms))return[];const e=[];do{e.push(this.parsePipe())}while(this.consumeOptionalCharacter(vs));return e}expectTemplateBindingKey(){let e="",t=!1;const n=this.currentAbsoluteOffset;do{e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-")}while(t);return{source:e,span:new xo(n,n+e.length)}}parseTemplateBindings(e){const t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){const n=this.parseLetBinding();if(n)t.push(n);else{const n=this.expectTemplateBindingKey(),r=this.parseAsBinding(n);r?t.push(r):(n.source=e.source+n.source.charAt(0).toUpperCase()+n.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(n)))}this.consumeStatementTerminator()}return new Gc(t,[],this.errors)}parseDirectiveKeywordBindings(e){const t=[];this.consumeOptionalCharacter(bs);const n=this.getDirectiveBoundTarget();let r=this.currentAbsoluteOffset;const i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);const s=new xo(e.span.start,r);return t.push(new So(s,e,n)),i&&t.push(i),t}getDirectiveBoundTarget(){if(this.next===jc||this.peekKeywordAs()||this.peekKeywordLet())return null;const e=this.parsePipe(),{start:t,end:n}=e.span,r=this.input.substring(t,n);return new Eo(e,r,this.location,this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();const t=this.expectTemplateBindingKey();this.consumeStatementTerminator();const n=new xo(e.span.start,this.currentAbsoluteOffset);return new Co(n,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;const e=this.currentAbsoluteOffset;this.advance();const t=this.expectTemplateBindingKey();let n=null;this.consumeOptionalOperator("=")&&(n=this.expectTemplateBindingKey()),this.consumeStatementTerminator();const r=new xo(e,this.currentAbsoluteOffset);return new Co(r,t,n)}consumeStatementTerminator(){this.consumeOptionalCharacter(ws)||this.consumeOptionalCharacter(vs)}error(e,t=null){this.errors.push(new Xs(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return null==e&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let n=`Private identifiers are not supported. Unexpected private identifier: ${e}`;null!==t&&(n+=`, ${t}`),this.error(n)}skip(){let e=this.next;for(;!(!(this.index<this.tokens.length)||e.isCharacter(ws)||e.isOperator("|")||!(this.rparensExpected<=0)&&e.isCharacter(ms)||!(this.rbracesExpected<=0)&&e.isCharacter(As)||!(this.rbracketsExpected<=0)&&e.isCharacter(93)||this.context&Yc.Writable&&e.isOperator("="));)this.next.isError()&&this.errors.push(new Xs(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}class Zc{constructor(){this.errors=[]}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){}visitLiteralPrimitive(e,t){}visitPropertyRead(e,t){}visitPropertyWrite(e,t){}visitSafePropertyRead(e,t){}visitMethodCall(e,t){}visitSafeMethodCall(e,t){}visitFunctionCall(e,t){}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitUnary(e,t){}visitBinary(e,t){}visitPrefixNot(e,t){}visitNonNullAssert(e,t){}visitConditional(e,t){}visitPipe(e,t){this.errors.push("pipes")}visitKeyedRead(e,t){}visitKeyedWrite(e,t){}visitAll(e,t){return e.map(e=>e.visit(this,t))}visitChain(e,t){}visitQuote(e,t){}}class Qc extends ko{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}}function Jc(e,t=!1){return Ot(Object.keys(e).map(n=>({key:n,quoted:t,value:e[n]})))}let eu;function tu(){return eu||(eu={},nu(W.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),nu(W.STYLE,["*|style"]),nu(W.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),nu(W.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),eu}function nu(e,t){for(const n of t)eu[n.toLowerCase()]=e}class ru{}const iu=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|autocomplete,!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,autocomplete,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],su={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ou=Object.keys(su).reduce((e,t)=>(e[su[t]]=t,e),{});class au extends ru{constructor(){super(),this._schema={},iu.forEach(e=>{const t={},[n,r]=e.split("|"),i=r.split(","),[s,o]=n.split("^");s.split(",").forEach(e=>this._schema[e.toLowerCase()]=t);const a=o&&this._schema[o.toLowerCase()];a&&Object.keys(a).forEach(e=>{t[e]=a[e]}),i.forEach(e=>{if(e.length>0)switch(e[0]){case"*":break;case"!":t[e.substring(1)]="boolean";break;case"#":t[e.substring(1)]="number";break;case"%":t[e.substring(1)]="object";break;default:t[e]="string"}})})}hasProperty(e,t,n){if(n.some(e=>e.name===z.name))return!0;if(e.indexOf("-")>-1){if(o(e)||a(e))return!1;if(n.some(e=>e.name===V.name))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]}hasElement(e,t){if(t.some(e=>e.name===z.name))return!0;if(e.indexOf("-")>-1){if(o(e)||a(e))return!0;if(t.some(e=>e.name===V.name))return!0}return!!this._schema[e.toLowerCase()]}securityContext(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=tu()[e+"|"+t];return r||(r=tu()["*|"+t],r||W.NONE)}getMappedPropName(e){return su[e]||e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`}}return{error:!1}}validateAttribute(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}allKnownAttributesOfElement(e){const t=this._schema[e.toLowerCase()]||this._schema.unknown;return Object.keys(t).map(e=>{var t;return null!==(t=ou[e])&&void 0!==t?t:e})}normalizeAnimationStyleProperty(e){return e.replace(Wt,(...e)=>e[1].toUpperCase())}normalizeAnimationStyleValue(e,t,n){let r="";const i=n.toString().trim();let s=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&(s=`Please provide a CSS unit value for ${t}:${n}`)}return{error:s,value:i+r}}}const lu=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function cu(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),lu.has(e+"|"+t)||lu.has("*|"+t)}const uu=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,hu={start:"[(",end:")]"},du={start:"[",end:"]"},pu={start:"(",end:")"};class fu{constructor(e,t){this.bindingParser=e,this.options=t,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1}visitElement(e){const t=kr(e.i18n);t&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);const n=lc(e);if(n.type===cc.SCRIPT)return null;if(n.type===cc.STYLE){const t=1===(r=e).children.length&&r.children[0]instanceof Fa?r.children[0].value:null;return null!==t&&this.styles.push(t),null}if(n.type===cc.STYLESHEET&&Ql(n.hrefAttr))return this.styleUrls.push(n.hrefAttr),null;var r;const i=l(e.name),s=[],o=[],a=[],c=[],u=[],h={},d=[],p=[];let f=!1;for(const l of e.attrs){let e=!1;const t=mu(l.name);let n=!1;if(l.i18n&&(h[l.name]=l.i18n),t.startsWith("*")){f&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",l.sourceSpan),n=!0,f=!0;const e=l.value,r=t.substring("*".length),i=[],s=l.valueSpan?l.valueSpan.start.offset:l.sourceSpan.start.offset+l.name.length;this.bindingParser.parseInlineTemplateBinding(r,e,l.sourceSpan,s,[],d,i,!0),p.push(...i.map(e=>new kn(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan)))}else e=this.parseAttribute(i,l,[],s,o,a,c);e||n||u.push(this.visitAttribute(l))}const g=Ha(n.nonBindable?gu:this,e.children);let m;if(n.type===cc.NG_CONTENT){e.children&&!e.children.every(e=>function(e){return e instanceof Fa&&0==e.value.trim().length}(e)||function(e){return e instanceof Ua}(e))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);const t=n.selectAttr,r=e.attrs.map(e=>this.visitAttribute(e));m=new Sn(t,r,e.sourceSpan,e.i18n),this.ngContentSelectors.push(t)}else if(i){const t=this.extractAttributes(e.name,s,h);m=new Cn(e.name,u,t.bound,o,[],g,c,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{const t=this.extractAttributes(e.name,s,h);m=new En(e.name,u,t.bound,o,g,c,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(f){const n=this.extractAttributes("ng-template",d,h),r=[];n.literal.forEach(e=>r.push(e)),n.bound.forEach(e=>r.push(e));const s=m instanceof En?{attributes:m.attributes,inputs:m.inputs,outputs:m.outputs}:{attributes:[],inputs:[],outputs:[]},o=i&&t?void 0:e.i18n;m=new Cn(m.name,s.attributes,s.inputs,s.outputs,r,[m],[],p,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,o)}return t&&(this.inI18nBlock=!1),m}visitAttribute(e){return new bn(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!kr(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);const t=e.i18n,n={},r={};return Object.keys(t.placeholders).forEach(e=>{const i=t.placeholders[e];if(e.startsWith("VAR_")){const t=e.trim(),r=this.bindingParser.parseInterpolationExpression(i.text,i.sourceSpan);n[t]=new _n(r,i.sourceSpan)}else r[e]=this._visitTextWithInterpolation(i.text,i.sourceSpan)}),new An(n,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new vn(e.value||"",e.sourceSpan)),null}extractAttributes(e,t,n){const r=[],i=[];return t.forEach(t=>{const s=n[t.name];if(t.isLiteral)i.push(new bn(t.name,t.expression.source||"",t.sourceSpan,t.keySpan,t.valueSpan,s));else{const n=this.bindingParser.createBoundElementProperty(e,t,!0,!1);r.push(wn.fromBoundElementProperty(n,s))}}),{bound:r,literal:i}}parseAttribute(e,t,n,r,i,s,o){const a=mu(t.name),l=t.value,c=t.sourceSpan,u=t.valueSpan?t.valueSpan.start.offset:c.start.offset;function h(e,n,r){const i=t.name.length-a.length,s=e.start.moveBy(n.length+i),o=s.moveBy(r.length);return new Ls(s,o,s,r)}const d=a.match(uu);if(d){if(null!=d[1]){const e=d[7],i=h(c,d[1],e);this.bindingParser.parsePropertyBinding(e,l,!1,c,u,t.valueSpan,n,r,i)}else if(d[2])if(e){const e=d[7],n=h(c,d[2],e);this.parseVariable(e,l,c,n,t.valueSpan,s)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(d[3]){const e=d[7],n=h(c,d[3],e);this.parseReference(e,l,c,n,t.valueSpan,o)}else if(d[4]){const e=[],r=d[7],s=h(c,d[4],r);this.bindingParser.parseEvent(r,l,c,t.valueSpan||c,n,e,s),vu(e,i)}else if(d[5]){const e=d[7],s=h(c,d[5],e);this.bindingParser.parsePropertyBinding(e,l,!1,c,u,t.valueSpan,n,r,s),this.parseAssignmentEvent(e,l,c,t.valueSpan,n,i,s)}else if(d[6]){const e=h(c,"",a);this.bindingParser.parseLiteralAttr(a,l,c,u,t.valueSpan,n,r,e)}return!0}let p=null;if(a.startsWith(hu.start)?p=hu:a.startsWith(du.start)?p=du:a.startsWith(pu.start)&&(p=pu),null!==p&&a.endsWith(p.end)&&a.length>p.start.length+p.end.length){const e=a.substring(p.start.length,a.length-p.end.length),s=h(c,p.start,e);if(p.start===hu.start)this.bindingParser.parsePropertyBinding(e,l,!1,c,u,t.valueSpan,n,r,s),this.parseAssignmentEvent(e,l,c,t.valueSpan,n,i,s);else if(p.start===du.start)this.bindingParser.parsePropertyBinding(e,l,!1,c,u,t.valueSpan,n,r,s);else{const r=[];this.bindingParser.parseEvent(e,l,c,t.valueSpan||c,n,r,s),vu(r,i)}return!0}const f=h(c,"",a);return this.bindingParser.parsePropertyInterpolation(a,l,c,t.valueSpan,n,r,f)}_visitTextWithInterpolation(e,t,n){const r=bl(e),i=this.bindingParser.parseInterpolation(r,t);return i?new _n(i,t,n):new yn(r,t)}parseVariable(e,t,n,r,i,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',n):0===e.length&&this.reportError("Variable does not have a name",n),s.push(new kn(e,t,n,r,i))}parseReference(e,t,n,r,i,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',n):0===e.length?this.reportError("Reference does not have a name",n):s.some(t=>t.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,n),s.push(new Tn(e,t,n,r,i))}parseAssignmentEvent(e,t,n,r,i,s,o){const a=[];this.bindingParser.parseEvent(`${e}Change`,`${t}=$event`,n,r||n,i,a,o),vu(a,s)}reportError(e,t,n=Fs.ERROR){this.errors.push(new Bs(t,e,n))}}const gu=new class{visitElement(e){const t=lc(e);if(t.type===cc.SCRIPT||t.type===cc.STYLE||t.type===cc.STYLESHEET)return null;const n=Ha(this,e.children,null);return new En(e.name,Ha(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new bn(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new yn(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}};function mu(e){return/^data-/i.test(e)?e.substring(5):e}function vu(e,t){t.push(...e.map(e=>xn.fromParsedEvent(e)))}var yu;!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEMPLATE=1]="TEMPLATE"}(yu||(yu={}));class _u{constructor(e,t,n=0,r=null,i,s){this.index=e,this.ref=t,this.level=n,this.templateIndex=r,this.meta=i,this.registry=s,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=s||{getUniqueId:Ir(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(e,t,n,r){if(t.isVoid&&r)return;const i=t.isVoid||!r?t.startName:t.closeName,s={type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:r};Pr(this.placeholders,i,s)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const e=new Map;return this.placeholders.forEach((t,n)=>e.set(n,t.map(Eu))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,t){Pr(this._registry.icus,e,t)}appendBoundText(e){Mr(e,this.bindings.size,this.id).forEach((e,t)=>Pr(this.placeholders,t,...e))}appendTemplate(e,t){this.appendTag(yu.TEMPLATE,e,t,!1),this.appendTag(yu.TEMPLATE,e,t,!0),this._unresolvedCtxCount++}appendElement(e,t,n){this.appendTag(yu.ELEMENT,e,t,n)}appendProjection(e,t){this.appendTag(yu.ELEMENT,e,t,!1),this.appendTag(yu.ELEMENT,e,t,!0)}forkChildContext(e,t,n){return new _u(e,this.ref,this.level+1,t,n,this._registry)}reconcileChildContext(e){["start","close"].forEach(t=>{const n=e.meta[`${t}Name`],r=(this.placeholders.get(n)||[]).find(xu(this.id,e.templateIndex));r&&(r.ctx=e.id)});e.placeholders.forEach((t,n)=>{const r=this.placeholders.get(n);if(!r)return void this.placeholders.set(n,t);const i=r.findIndex(xu(e.id,e.templateIndex));if(i>=0){const e=n.startsWith("CLOSE");if(n.endsWith("NG-TEMPLATE"))r.splice(i+(e?0:1),0,...t);else{t[e?t.length-1:0].tmpl=r[i],r.splice(i,1,...t)}}else r.push(...t);this.placeholders.set(n,r)}),this._unresolvedCtxCount--}}function bu(e,t,n,r){return Or(`${r?"/":""}${e}${t}`,n)}function wu(e,{index:t,ctx:n,isVoid:r},i){return r?bu(e,t,n)+bu(e,t,n,!0):bu(e,t,n,i)}function xu(e,t){return n=>"object"==typeof n&&n.type===yu.TEMPLATE&&n.index===t&&n.ctx===e}function Eu(e){const t=(e,t)=>wu("#",e,t),n=(e,t)=>wu("*",e,t);switch(e.type){case yu.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case yu.TEMPLATE:return n(e,e.closed);default:return e}}const Cu=new class{visitText(e){return e.value}visitContainer(e){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e){const t=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(e=>e.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${Lr(e,!1)}}`}};function Su(e){return e.visit(Cu)}const ku={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class Tu{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,t,n){const r=this._hashTag(e,t,n);if(this._signatureToName[r])return this._signatureToName[r];const i=e.toUpperCase(),s=ku[i]||`TAG_${i}`,o=this._generateUniqueName(n?s:`START_${s}`);return this._signatureToName[r]=o,o}getCloseTagPlaceholderName(e){const t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];const n=e.toUpperCase(),r=ku[n]||`TAG_${n}`,i=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=i,i}getPlaceholderName(e,t){const n=e.toUpperCase(),r=`PH: ${n}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];const i=this._generateUniqueName(n);return this._signatureToName[r]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}_hashTag(e,t,n){return`<${e}`+Object.keys(t).sort().map(e=>` ${e}=${t[e]}`).join("")+(n?"/>":`></${e}>`)}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;const t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,`${e}_${t}`}}const Au=new Wc(new Mc);function Du(e){const t=new Iu(Au,e);return(e,n,r,i,s)=>t.toI18nMessage(e,n,r,i,s)}function Ou(e,t){return t}class Iu{constructor(e,t){this._expressionParser=e,this._interpolationConfig=t}toI18nMessage(e,t="",n="",r="",i){const s={isIcu:1==e.length&&e[0]instanceof ja,icuDepth:0,placeholderRegistry:new Tu,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||Ou},o=Ha(this,e,s);return new On(o,s.placeholderToContent,s.placeholderToMessage,t,n,r)}visitElement(e,t){var n;const r=Ha(this,e.children,t),i={};e.attrs.forEach(e=>{i[e.name]=e.value});const s=g(e.name).isVoid,o=t.placeholderRegistry.getStartTagPlaceholderName(e.name,i,s);t.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let a="";s||(a=t.placeholderRegistry.getCloseTagPlaceholderName(e.name),t.placeholderToContent[a]={text:`</${e.name}>`,sourceSpan:null!==(n=e.endSourceSpan)&&void 0!==n?n:e.sourceSpan});const l=new Mn(e.name,i,o,a,r,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,l)}visitAttribute(e,t){const n=this._visitTextWithInterpolation(e.value,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,n)}visitText(e,t){const n=this._visitTextWithInterpolation(e.value,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,n)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;const n={},r=new Pn(e.switchValue,e.type,n,e.sourceSpan);if(e.cases.forEach(e=>{n[e.value]=new Nn(e.expression.map(e=>e.visit(this,t)),e.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){const n=t.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=n,t.placeholderToContent[n]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,r)}const i=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[i]=this.toI18nMessage([e],"","","",void 0);const s=new Ln(r,i,e.sourceSpan);return t.visitNodeFn(e,s)}visitExpansionCase(e,t){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,t,n,r){const{strings:i,expressions:s}=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(0===s.length)return new In(e,t);const o=[];for(let a=0;a<i.length-1;a++)this._addText(o,i[a],t),this._addPlaceholder(o,n,s[a],t);return this._addText(o,i[i.length-1],t),function(e,t){t instanceof On&&(!function(e){const t=e.nodes;if(1!==t.length||!(t[0]instanceof Nn))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}(t),t=t.nodes[0]);if(t instanceof Nn){!function(e,t){if(e.length!==t.length)throw new Error("The number of i18n message children changed between first and second pass.");if(e.some((e,n)=>t[n].constructor!==e.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}(t.children,e);for(let n=0;n<e.length;n++)e[n].sourceSpan=t.children[n].sourceSpan}}(o,r),new Nn(o,t)}_addText(e,t,n){if(t.text.length>0){const r=Nu(n,t);e.push(new In(t.text,r))}}_addPlaceholder(e,t,n,r){const i=Nu(r,n),s=n.text.split(Pu)[2]||"INTERPOLATION";const o=t.placeholderRegistry.getPlaceholderName(s,n.text),a=this._interpolationConfig.start+n.text+this._interpolationConfig.end;t.placeholderToContent[o]={text:a,sourceSpan:i},e.push(new Rn(n.text,o,i))}}function Nu(e,{start:t,end:n}){return new Ls(e.fullStart.moveBy(t),e.fullStart.moveBy(n))}const Pu=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;class Mu extends Bs{constructor(e,t){super(e,t)}}const Ru=(e,t)=>(e instanceof La&&(t instanceof Ln&&e.i18n instanceof On&&(t.previousMessage=e.i18n),e.i18n=t),t);class Lu{constructor(e=Fi,t=!1,n=!1){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=n,this.hasI18nMeta=!1,this._errors=[],this._createI18nMessage=Du(this.interpolationConfig)}_generateI18nMessage(e,t="",n){const{meaning:r,description:i,customId:s}=this._parseMetadata(t),o=this._createI18nMessage(e,r,i,s,n);return this._setMessageId(o,t),this._setLegacyIds(o,t),o}visitAllWithErrors(e){const t=e.map(e=>e.visit(this,null));return new ul(t,this._errors)}visitElement(e){if(function(e){return e.attrs.some(e=>Sr(e.name))}(e)){this.hasI18nMeta=!0;const t=[],n={};for(const r of e.attrs)if(r.name===Er){const t=e.i18n||r.value,n=this._generateI18nMessage(e.children,t,Ru);n.nodes.length&&(e.i18n=n)}else if(r.name.startsWith(Cr)){const t=r.name.slice(Cr.length);cu(e.name,t)?this._reportError(r,`Translating attribute '${t}' is disallowed for security reasons.`):n[t]=r.value}else t.push(r);if(Object.keys(n).length)for(const e of t){const t=n[e.name];void 0!==t&&e.value&&(e.i18n=this._generateI18nMessage([e],e.i18n||t))}this.keepI18nAttrs||(e.attrs=t)}return Ha(this,e.children,e.i18n),e}visitExpansion(e,t){let n;const r=e.i18n;if(this.hasI18nMeta=!0,r instanceof Ln){const t=r.name;n=this._generateI18nMessage([e],r);Dr(n).name=t}else n=this._generateI18nMessage([e],t||r);return e.i18n=n,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}_parseMetadata(e){return"string"==typeof e?function(e=""){let t,n,r;if(e=e.trim()){const i=e.indexOf("@@"),s=e.indexOf("|");let o;[o,t]=i>-1?[e.slice(0,i),e.slice(i+2)]:[e,""],[n,r]=s>-1?[o.slice(0,s),o.slice(s+1)]:["",o]}return{customId:t,meaning:n,description:r}}(e):e instanceof On?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof On&&t.id||zn(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[Vn(e),Un(e)];else if("string"!=typeof t){const n=t instanceof On?t:t instanceof Ln?t.previousMessage:void 0;e.legacyIds=n?n.legacyIds:[]}}_reportError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}function Fu(e){const t=[];return e.description&&t.push({tagName:"desc",text:e.description}),e.meaning&&t.push({tagName:"meaning",text:e.meaning}),0==t.length?null:function(e=[]){return new st(e)}(t)}function ju(e,t,n,r){const i=[Mt(function(e){return e.nodes.map(e=>e.visit(Bu,null)).join("")}(t))];Object.keys(r).length&&i.push(Jc(r,!0));const s=n.set(Ct("goog.getMsg").callFn(i)).toConstDecl(),o=Fu(t);null!==o&&s.addLeadingComment(o);return[s,new ct(e.set(n))]}const Bu=new class{formatPh(e){return`{$${Lr(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e){return Su(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(e=>e.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}};function Vu(e,t,n){const{messageParts:r,placeHolders:i}=function(e){const t=[];return e.nodes.forEach(e=>e.visit(zu,t)),function(e){const t=[],n=[];e[0]instanceof Me&&t.push(Uu(e[0].sourceSpan.start));for(let r=0;r<e.length;r++){const i=e[r];i instanceof Pe?t.push(i):(n.push(i),e[r-1]instanceof Me&&t.push(Uu(e[r-1].sourceSpan.end)))}e[e.length-1]instanceof Me&&t.push(Uu(e[e.length-1].sourceSpan.end));return{messageParts:t,placeHolders:n}}(t)}(t),s=function(e){const t=e.nodes[0],n=e.nodes[e.nodes.length-1];return new Ls(t.sourceSpan.start,n.sourceSpan.end,t.sourceSpan.fullStart,t.sourceSpan.details)}(t),o=i.map(e=>n[e.text]),a=function(e,t,n,r,i){return new Re(e,t,n,r,i)}(t,r,i,o,s),l=e.set(a);return[new ct(l)]}const zu=new class{visitText(e,t){t[t.length-1]instanceof Pe?t[t.length-1].text+=e.value:t.push(new Pe(e.value,e.sourceSpan))}visitContainer(e,t){e.children.forEach(e=>e.visit(this,t))}visitIcu(e,t){t.push(new Pe(Su(e),e.sourceSpan))}visitTagPlaceholder(e,t){var n,r;t.push(this.createPlaceholderPiece(e.startName,null!==(n=e.startSourceSpan)&&void 0!==n?n:e.sourceSpan)),e.isVoid||(e.children.forEach(e=>e.visit(this,t)),t.push(this.createPlaceholderPiece(e.closeName,null!==(r=e.endSourceSpan)&&void 0!==r?r:e.sourceSpan)))}visitPlaceholder(e,t){t.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitIcuPlaceholder(e,t){t.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}createPlaceholderPiece(e,t){return new Me(Lr(e,!1),t)}};function Uu(e){return new Pe("",new Ls(e,e))}const Hu=new Set(["$event"]),$u=new Map([["window",Gt.resolveWindow],["document",Gt.resolveDocument],["body",Gt.resolveBody]]),qu=[" ","\n","\r","\t"];function Gu(e,t){return Nt(Ct(Ur).bitwiseAnd(Mt(e),null,!1),t)}function Wu(e,t=null,n=null){const{type:r,name:i,target:s,phase:o,handler:a}=e;if(s&&!$u.has(s))throw new Error(`Unexpected global target '${s}' defined for '${i}' event.\n        Supported list of global targets: ${Array.from($u.keys())}.`);const l="$event",c=new Set,u=null===n||0===n.bindingLevel?Ct(zr):n.getOrCreateSharedContextVar(0),h=Fo(n,u,a,"b",()=>rn("Unexpected interpolation"),e.handlerSpan,c,Hu),d=[];n&&(d.push(...n.variableDeclarations()),d.unshift(...n.restoreViewStatement())),d.push(...h.render3Stmts);const p=1===r?function(e,t){return`@${e}.${t}`}(i,o):i,f=t&&zi(t),g=[];c.has(l)&&g.push(new qe(l,se));const m=It(g,d,oe,null,f),v=[Mt(p),m];return s&&v.push(Mt(!1),St($u.get(s))),v}class Xu{constructor(e,t,n=0,r,i,s,o,a,l,c,u,h,d,p,f=function(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}()){this.constantPool=e,this.level=n,this.contextName=r,this.i18nContext=i,this.templateIndex=s,this.templateName=o,this.directiveMatcher=a,this.directives=l,this.pipeTypeByName=c,this.pipes=u,this._namespace=h,this.i18nUseExternalIds=p,this._constants=f,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=qr,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=Gr,this.visitVariable=Gr,this.visitTextAttribute=Gr,this.visitBoundAttribute=Gr,this.visitBoundEvent=Gr,this._bindingScope=t.nestedScope(n),this.fileBasedI18nSuffix=d.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new Yu(e,()=>this.allocateDataSlot(),e=>this.allocatePureFunctionSlots(e),(e,t,n,r)=>{const i=c.get(e);i&&this.pipes.add(i),this._bindingScope.set(this.level,t,r),this.creationInstruction(null,Gt.pipe,[Mt(n),Mt(e)])})}buildTemplateFunction(e,t,n=0,r){this._ngContentSelectorsOffset=n,this._namespace!==Gt.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach(e=>this.registerContextVariables(e));const i=this.i18nContext||kr(r)&&!Tr(r)&&!(1===(s=e).length&&s[0]instanceof En&&e[0].i18n===r);var s;const o=dh(e);if(i&&this.i18nStart(null,r,o),Dn(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(e=>e()),0===this.level&&this._ngContentReservedSlots.length){const e=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const t=this._ngContentReservedSlots.map(e=>"*"!==e?Z(e):e);e.push(this.constantPool.getConstLiteral(Wr(t),!0))}this.creationInstruction(null,Gt.projectionDef,e,!0)}i&&this.i18nEnd(null,o);const a=this._creationCodeFns.map(e=>e()),l=this._updateCodeFns.map(e=>e()),c=this._bindingScope.viewSnapshotStatements(),u=this._bindingScope.variableDeclarations().concat(this._tempVariables),h=a.length>0?[Gu(1,c.concat(a))]:[],d=l.length>0?[Gu(2,u.concat(l))]:[];return It([new qe(Ur,le),new qe(zr,null)],[...this._prefixCode,...h,...d],oe,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}i18nTranslate(e,t={},n,r){const i=n||this.i18nGenerateMainBlockVar(),s=function(e,t,n,r={},i){const s=[jr(t),Nt(fh(),ju(t,e,n,Rr(r,!0)),Vu(t,e,Rr(r,!1)))];i&&s.push(new ct(t.set(i(t))));return s}(e,i,this.i18nGenerateClosureVar(e.id),t,r);return this._constants.prepareStatements.push(...s),i}registerContextVariables(e){const t=this._bindingScope.freshReferenceName(),n=this.level,r=Ct(e.name+t);this._bindingScope.set(n,e.name,r,1,(t,i)=>{let s;if(t.bindingLevel===n)t.isListenerScope()&&t.hasRestoreViewVariable()?(s=Ct(Hr),t.notifyRestoredViewContextUse()):s=Ct(zr);else{const e=t.getSharedContextName(n);s=e||Ju(i)}return[r.set(s.prop(e.value||"$implicit")).toConstDecl()]})}i18nAppendBindings(e){e.length>0&&e.forEach(e=>this.i18n.appendBinding(e))}i18nBindProps(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(r instanceof yn)t[n]=Mt(r.value);else{const e=r.value.visit(this._valueConverter);if(this.allocateBindingSlots(e),e instanceof fo){const{strings:r,expressions:i}=e,{id:s,bindings:o}=this.i18n,a=function(e,t=0,n=0){if(!e.length)return"";let r="";const i=e.length-1;for(let s=0;s<i;s++)r+=`${e[s]}${Or(t+s,n)}`;return r+=e[i],r}(r,o.size,s);this.i18nAppendBindings(i),t[n]=Mt(a)}}}),t}i18nGenerateMainBlockVar(){return Ct(this.constantPool.uniqueName("i18n_"))}i18nGenerateClosureVar(e){let t;const n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const r=Fr("EXTERNAL_"),i=this.constantPool.uniqueName(n);t=`${r}${zi(e)}$$${i}`}else{const e=Fr(n);t=this.constantPool.uniqueName(e)}return Ct(t)}i18nUpdateRef(e){const{icus:t,meta:n,isRoot:r,isResolved:i,isEmitted:s}=e;if(r&&i&&!s&&!Tr(n)){e.isEmitted=!0;const r=e.getSerializedPlaceholders();let i={},s=r.size?Nr(r):{};t.size&&t.forEach((e,t)=>{if(1===e.length)s[t]=e[0];else{const n=Or(`I18N_EXP_${t}`);s[t]=Mt(n),i[t]=Dt(e)}});let o;(Array.from(r.values()).some(e=>e.length>1)||Object.keys(i).length)&&(o=e=>{const t=[e];return Object.keys(i).length&&t.push(Jc(i,!0)),Qu(null,Gt.i18nPostprocess,t)}),this.i18nTranslate(n,s,e.ref,o)}}i18nStart(e=null,t,n){const r=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(r,this.templateIndex,t):new _u(r,this.i18nGenerateMainBlockVar(),0,this.templateIndex,t);const{id:i,ref:s}=this.i18n,o=[Mt(r),this.addToConsts(s)];i>0&&o.push(Mt(i)),this.creationInstruction(e,n?Gt.i18n:Gt.i18nStart,o)}i18nEnd(e=null,t){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:n,bindings:r}=this.i18n;if(r.size){const t=[];r.forEach(n=>{t.push({sourceSpan:e,value:()=>this.convertPropertyBinding(n)})}),this.updateInstructionChainWithAdvance(this.getConstCount()-1,Gt.i18nExp,t),this.updateInstruction(e,Gt.i18nApply,[Mt(n)])}t||this.creationInstruction(e,Gt.i18nEnd),this.i18n=null}i18nAttributesInstruction(e,t,n){let r=!1;const i=[],s=[];if(t.forEach(e=>{const t=e.i18n,o=e.value.visit(this._valueConverter);if(this.allocateBindingSlots(o),o instanceof fo){const a=Nr(Mr(t));i.push(Mt(e.name),this.i18nTranslate(t,a)),o.expressions.forEach(e=>{r=!0,s.push({sourceSpan:n,value:()=>this.convertPropertyBinding(e)})})}}),s.length>0&&this.updateInstructionChainWithAdvance(e,Gt.i18nExp,s),i.length>0){const e=Mt(this.allocateDataSlot()),t=this.addToConsts(Dt(i));this.creationInstruction(n,Gt.i18nAttributes,[e,t]),r&&this.updateInstruction(n,Gt.i18nApply,[e])}}getNamespaceInstruction(e){switch(e){case"math":return Gt.namespaceMathML;case"svg":return Gt.namespaceSVG;default:return Gt.namespaceHTML}}addNamespaceInstruction(e,t){this._namespace=e,this.creationInstruction(t.startSourceSpan,e)}interpolatedUpdateInstruction(e,t,n,r,i,s){this.updateInstructionWithAdvance(t,r.sourceSpan,e,()=>[Mt(n),...this.getUpdateInstructionArguments(i),...s])}visitContent(e){const t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[Mt(t)];this._ngContentReservedSlots.push(e.selector);const i=e.attributes.filter(e=>"select"!==e.name.toLowerCase()),s=this.getAttributeExpressions(e.name,i,[],[]);s.length>0?r.push(Mt(n),Dt(s)):0!==n&&r.push(Mt(n)),this.creationInstruction(e.sourceSpan,Gt.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,t)}visitElement(e){var t,n;const r=this.allocateDataSlot(),i=new Ac(null);let a=!1;const l=kr(e.i18n)&&!Tr(e.i18n),c=[],[u,h]=s(e.name),d=o(e.name);for(const s of e.attributes){const{name:e,value:t}=s;"ngNonBindable"===e?a=!0:"style"===e?i.registerStyleAttr(t):"class"===e?i.registerClassAttr(t):c.push(s)}this.matchDirectives(e.name,e);const p=[Mt(r)];d||p.push(Mt(h));const f=[],g=[];e.inputs.forEach(e=>{i.registerBoundInput(e)||(0===e.type&&e.i18n?g.push(e):f.push(e))});const m=this.getAttributeExpressions(e.name,c,f,e.outputs,i,[],g);p.push(this.addAttrsToConsts(m));const v=this.prepareRefsArray(e.references);p.push(this.addToConsts(v));const y=this._namespace,_=this.getNamespaceInstruction(u);_!==y&&this.addNamespaceInstruction(_,e),this.i18n&&this.i18n.appendElement(e.i18n,r);const b=!l&&this.i18n?!dh(e.children):e.children.length>0,w=!i.hasBindingsWithPipes&&0===e.outputs.length&&0===g.length&&!b,x=!w&&dh(e.children);if(w)this.creationInstruction(e.sourceSpan,d?Gt.elementContainer:Gt.element,Yr(p));else{if(this.creationInstruction(e.startSourceSpan,d?Gt.elementContainerStart:Gt.elementStart,Yr(p)),a&&this.creationInstruction(e.startSourceSpan,Gt.disableBindings),g.length>0&&this.i18nAttributesInstruction(r,g,null!==(t=e.startSourceSpan)&&void 0!==t?t:e.sourceSpan),e.outputs.length>0){const t=e.outputs.map(t=>({sourceSpan:t.sourceSpan,params:this.prepareListenerParameter(e.name,t,r)}));this.creationInstructionChain(Gt.listener,t)}l&&this.i18nStart(e.startSourceSpan,e.i18n,x)}const E=i.buildUpdateLevelInstructions(this._valueConverter),C=E.length-1;for(let s=0;s<=C;s++){const e=E[s];this._bindingSlots+=this.processStylingUpdateInstruction(r,e)}const S=Mt(void 0),k=[],T=[];if(f.forEach(e=>{const t=e.type;if(4===t){const t=e.value.visit(this._valueConverter),n=!(t instanceof uo)||!!t.value;this.allocateBindingSlots(t),k.push({name:mi(e.name),sourceSpan:e.sourceSpan,value:()=>n?this.convertPropertyBinding(t):S})}else{if(e.i18n)return;const n=e.value.visit(this._valueConverter);if(void 0!==n){const i=[],[o,a]=s(e.name),l=1===t,c=ch(e.securityContext,l);if(c&&i.push(c),o){const e=Mt(o);c?i.push(e):i.push(Mt(null),e)}if(this.allocateBindingSlots(n),0===t)n instanceof fo?this.interpolatedUpdateInstruction(sh(n),r,a,e,n,i):k.push({name:a,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(n),params:i});else if(1===t)if(n instanceof fo&&ei(n)>1)this.interpolatedUpdateInstruction(function(e){switch(ei(e)){case 3:return Gt.attributeInterpolate1;case 5:return Gt.attributeInterpolate2;case 7:return Gt.attributeInterpolate3;case 9:return Gt.attributeInterpolate4;case 11:return Gt.attributeInterpolate5;case 13:return Gt.attributeInterpolate6;case 15:return Gt.attributeInterpolate7;case 17:return Gt.attributeInterpolate8;default:return Gt.attributeInterpolateV}}(n),r,a,e,n,i);else{const t=n instanceof fo?n.expressions[0]:n;T.push({name:a,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(t),params:i})}else this.updateInstructionWithAdvance(r,e.sourceSpan,Gt.classProp,()=>[Mt(r),Mt(a),this.convertPropertyBinding(n),...i])}}}),k.length>0&&this.updateInstructionChainWithAdvance(r,Gt.property,k),T.length>0&&this.updateInstructionChainWithAdvance(r,Gt.attribute,T),Dn(this,e.children),!l&&this.i18n&&this.i18n.appendElement(e.i18n,r,!0),!w){const t=null!==(n=e.endSourceSpan)&&void 0!==n?n:e.sourceSpan;l&&this.i18nEnd(t,x),a&&this.creationInstruction(t,Gt.enableBindings),this.creationInstruction(t,d?Gt.elementContainerEnd:Gt.elementEnd)}}visitTemplate(e){var t;const n="ng-template",r=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(e.i18n,r);const i=e.tagName?s(e.tagName)[1]:e.tagName,o=`${this.contextName}${e.tagName?"_"+zi(e.tagName):""}_${r}`,a=`${o}_Template`,l=[Mt(r),Ct(a),Mt(i)];this.matchDirectives(n,e);const c=this.getAttributeExpressions(n,e.attributes,e.inputs,e.outputs,void 0,e.templateAttrs);if(l.push(this.addAttrsToConsts(c)),e.references&&e.references.length){const t=this.prepareRefsArray(e.references);l.push(this.addToConsts(t)),l.push(St(Gt.templateRefExtractor))}const u=new Xu(this.constantPool,this._bindingScope,this.level+1,o,this.i18n,r,a,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push(()=>{const t=u.buildTemplateFunction(e.children,e.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,e.i18n);this.constantPool.statements.push(t.toDeclStmt(a)),u._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...u._ngContentReservedSlots)}),this.creationInstruction(e.sourceSpan,Gt.templateCreate,()=>(l.splice(2,0,Mt(u.getConstCount()),Mt(u.getVarCount())),Yr(l))),this.templatePropertyBindings(r,e.templateAttrs),i===n){const[n,i]=function(e,t){const n=[],r=[];for(const i of e)(t(i)?n:r).push(i);return[n,r]}(e.inputs,Ar);if(n.length>0&&this.i18nAttributesInstruction(r,n,null!==(t=e.startSourceSpan)&&void 0!==t?t:e.sourceSpan),i.length>0&&this.templatePropertyBindings(r,i),e.outputs.length>0){const t=e.outputs.map(e=>({sourceSpan:e.sourceSpan,params:this.prepareListenerParameter("ng_template",e,r)}));this.creationInstructionChain(Gt.listener,t)}}}visitBoundText(e){if(this.i18n){const t=e.value.visit(this._valueConverter);return this.allocateBindingSlots(t),void(t instanceof fo&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(t.expressions)))}const t=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,Gt.text,[Mt(t)]);const n=e.value.visit(this._valueConverter);this.allocateBindingSlots(n),n instanceof fo?this.updateInstructionWithAdvance(t,e.sourceSpan,function(e){switch(ei(e)){case 1:return Gt.textInterpolate;case 3:return Gt.textInterpolate1;case 5:return Gt.textInterpolate2;case 7:return Gt.textInterpolate3;case 9:return Gt.textInterpolate4;case 11:return Gt.textInterpolate5;case 13:return Gt.textInterpolate6;case 15:return Gt.textInterpolate7;case 17:return Gt.textInterpolate8;default:return Gt.textInterpolateV}}(n),()=>this.getUpdateInstructionArguments(n)):rn("Text nodes should be interpolated and never bound directly.")}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,Gt.text,[Mt(this.allocateDataSlot()),Mt(e.value)])}visitIcu(e){let t=!1;this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));const n=this.i18n,r=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),s=e.i18n,o=e=>{const t=Rr(Object.assign(Object.assign({},r),i),!1);return Qu(null,Gt.i18nPostprocess,[e,Jc(t,!0)])};if(Tr(n.meta))this.i18nTranslate(s,{},n.ref,o);else{const e=this.i18nTranslate(s,{},void 0,o);n.appendIcu(Dr(s).name,e)}return t&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(Wr(this._ngContentReservedSlots),!0):null}bindingContext(){return""+this._bindingContext++}templatePropertyBindings(e,t){const n=[];t.forEach(t=>{if(t instanceof wn){const r=t.value.visit(this._valueConverter);if(void 0!==r)if(this.allocateBindingSlots(r),r instanceof fo){const n=[];this.interpolatedUpdateInstruction(sh(r),e,t.name,t,r,n)}else n.push({name:t.name,sourceSpan:t.sourceSpan,value:()=>this.convertPropertyBinding(r)})}}),n.length>0&&this.updateInstructionChainWithAdvance(e,Gt.property,n)}instructionFn(e,t,n,r,i=!1){e[i?"unshift":"push"](()=>{const e=Array.isArray(r)?r:r();return Qu(t,n,e).toStmt()})}processStylingUpdateInstruction(e,t){let n=0;if(t){const r=[];t.calls.forEach(e=>{n+=e.allocateBindingSlots,r.push({sourceSpan:e.sourceSpan,value:()=>e.params(t=>e.supportsInterpolation&&t instanceof fo?this.getUpdateInstructionArguments(t):this.convertPropertyBinding(t))})}),this.updateInstructionChainWithAdvance(e,t.reference,r)}return n}creationInstruction(e,t,n,r){this.instructionFn(this._creationCodeFns,e,t,n||[],r)}creationInstructionChain(e,t){const n=t.length?t[0].sourceSpan:null;this._creationCodeFns.push(()=>Jr(e,t.map(e=>e.params()),n).toStmt())}updateInstructionWithAdvance(e,t,n,r){this.addAdvanceInstructionIfNecessary(e,t),this.updateInstruction(t,n,r)}updateInstruction(e,t,n){this.instructionFn(this._updateCodeFns,e,t,n||[])}updateInstructionChain(e,t){const n=t.length?t[0].sourceSpan:null;this._updateCodeFns.push(()=>{const r=t.map(e=>{const t=e.value(),n=Array.isArray(t)?t:[t];return e.params&&n.push(...e.params),e.name&&n.unshift(Mt(e.name)),n});return Jr(e,r,n).toStmt()})}updateInstructionChainWithAdvance(e,t,n){this.addAdvanceInstructionIfNecessary(e,n.length?n[0].sourceSpan:null),this.updateInstructionChain(t,n)}addAdvanceInstructionIfNecessary(e,t){if(e!==this._currentIndex){const n=e-this._currentIndex;if(n<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,t,Gt.advance,[Mt(n)]),this._currentIndex=e}}allocatePureFunctionSlots(e){const t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t}allocateBindingSlots(e){this._bindingSlots+=e instanceof fo?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?Ct(zr):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(e){const t=Uo(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),Vo.Expression,()=>rn("Unexpected interpolation")),n=t.currValExpr;return this._tempVariables.push(...t.stmts),n}getUpdateInstructionArguments(e){const{args:t,stmts:n}=function(e,t,n,r){const i=new Yo(e,t,r,void 0),s=n.visit(i,zo.Expression);i.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const o=Ho(i,r);let a=s.args.slice(1);if(n instanceof fo){const e=n.strings;3===a.length&&""===e[0]&&""===e[1]?a=[a[1]]:a.length>=19&&(a=[Dt(a)])}return{stmts:o,args:a}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...n),t}matchDirectives(e,t){if(this.directiveMatcher){const n=ih(e,Qr(t));this.directiveMatcher.match(n,(e,t)=>{this.directives.add(t)})}}getAttributeExpressions(e,t,n,r,i,s=[],o=[]){const a=new Set,l=[];let c;for(const h of t)if("ngProjectAs"===h.name&&(c=h),h.i18n){const{i18nVarRefsCache:e}=this._constants;let t;e.has(h.i18n)?t=e.get(h.i18n):(t=this.i18nTranslate(h.i18n),e.set(h.i18n,t)),l.push(Mt(h.name),t)}else l.push(...th(h.name),uh(e,h));function u(e,t){"string"==typeof e?a.has(e)||(l.push(...th(e)),void 0!==t&&l.push(t),a.add(e)):l.push(Mt(e))}if(c&&l.push(...function(e){const t=Z(e.value)[0];return[Mt(5),Wr(t)]}(c)),i&&i.populateInitialStylingAttrs(l),n.length||r.length){const e=l.length;for(let t=0;t<n.length;t++){const e=n[t];4!==e.type&&1!==e.type&&u(e.name)}for(let t=0;t<r.length;t++){const e=r[t];1!==e.type&&u(e.name)}l.length!==e&&l.splice(e,0,Mt(3))}return s.length&&(l.push(Mt(4)),s.forEach(e=>u(e.name))),o.length&&(l.push(Mt(6)),o.forEach(e=>u(e.name))),l}addToConsts(e){if(Rt(e))return nt;const t=this._constants.constExpressions;for(let n=0;n<t.length;n++)if(t[n].isEquivalent(e))return Mt(n);return Mt(t.push(e)-1)}addAttrsToConsts(e){return e.length>0?this.addToConsts(Dt(e)):nt}prepareRefsArray(e){if(!e||0===e.length)return nt;return Wr(ss(e.map(e=>{const t=this.allocateDataSlot(),n=this._bindingScope.freshReferenceName(),r=this.level,i=Ct(n);return this._bindingScope.set(r,e.name,i,0,(e,n)=>{const r=n>0?[Ju(n).toStmt()]:[],s=i.set(St(Gt.reference).callFn([Mt(t)]));return r.concat(s.toConstDecl())},!0),[e.name,e.value]})))}prepareListenerParameter(e,t,n){return()=>{const r=t.name,i=1===t.type?yi(r,t.phase):zi(r),s=`${this.templateName}_${e}_${i}_${n}_listener`,o=this._bindingScope.nestedScope(this._bindingScope.bindingLevel,Hu);return Wu(t,s,o)}}}class Yu extends class{visitImplicitReceiver(e,t){return e}visitThisReceiver(e,t){return e}visitInterpolation(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new fo(e.span,e.sourceSpan,e.strings,n):e}visitLiteralPrimitive(e,t){return e}visitPropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new io(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}visitPropertyWrite(e,t){const n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new so(e.span,e.sourceSpan,e.nameSpan,n,e.name,r):e}visitSafePropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new oo(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}visitMethodCall(e,t){const n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new _o(e.span,e.sourceSpan,e.nameSpan,n,e.name,r,e.argumentSpan):e}visitSafeMethodCall(e,t){const n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new bo(e.span,e.sourceSpan,e.nameSpan,n,e.name,r,e.argumentSpan):e}visitFunctionCall(e,t){const n=e.target&&e.target.visit(this),r=this.visitAll(e.args);return n!==e.target||r!==e.args?new wo(e.span,e.sourceSpan,n,r):e}visitLiteralArray(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new ho(e.span,e.sourceSpan,n):e}visitLiteralMap(e,t){const n=this.visitAll(e.values);return n!==e.values?new po(e.span,e.sourceSpan,e.keys,n):e}visitUnary(e,t){const n=e.expr.visit(this);if(n!==e.expr)switch(e.operator){case"+":return mo.createPlus(e.span,e.sourceSpan,n);case"-":return mo.createMinus(e.span,e.sourceSpan,n);default:throw new Error(`Unknown unary operator ${e.operator}`)}return e}visitBinary(e,t){const n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new go(e.span,e.sourceSpan,e.operation,n,r):e}visitPrefixNot(e,t){const n=e.expression.visit(this);return n!==e.expression?new vo(e.span,e.sourceSpan,n):e}visitNonNullAssert(e,t){const n=e.expression.visit(this);return n!==e.expression?new yo(e.span,e.sourceSpan,n):e}visitConditional(e,t){const n=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||i!==e.falseExp?new ro(e.span,e.sourceSpan,n,r,i):e}visitPipe(e,t){const n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new co(e.span,e.sourceSpan,n,e.name,r,e.nameSpan):e}visitKeyedRead(e,t){const n=e.obj.visit(this),r=e.key.visit(this);return n!==e.obj||r!==e.key?new ao(e.span,e.sourceSpan,n,r):e}visitKeyedWrite(e,t){const n=e.obj.visit(this),r=e.key.visit(this),i=e.value.visit(this);return n!==e.obj||r!==e.key||i!==e.value?new lo(e.span,e.sourceSpan,n,r,i):e}visitAll(e){const t=[];let n=!1;for(let r=0;r<e.length;++r){const i=e[r],s=i.visit(this);t[r]=s,n=n||s!==i}return n?t:e}visitChain(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new no(e.span,e.sourceSpan,n):e}visitQuote(e,t){return e}}{constructor(e,t,n,r){super(),this.constantPool=e,this.allocateSlot=t,this.allocatePureFunctionSlots=n,this.definePipe=r,this._pipeBindExprs=[]}visitPipe(e,t){const n=this.allocateSlot(),r=`PIPE:${n}`,i=this.allocatePureFunctionSlots(2+e.args.length),s=new io(e.span,e.sourceSpan,e.nameSpan,new eo(e.span,e.sourceSpan),r),{identifier:o,isVarLength:a}=function(e){const t=Ku[e.length];return{identifier:t||Gt.pipeBindV,isVarLength:!t}}(e.args);this.definePipe(e.name,r,n,St(o));const l=[e.exp,...e.args],c=a?this.visitAll([new ho(e.span,e.sourceSpan,l)]):this.visitAll(l),u=new wo(e.span,e.sourceSpan,s,[new uo(e.span,e.sourceSpan,n),new uo(e.span,e.sourceSpan,i),...c]);return this._pipeBindExprs.push(u),u}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(t=>{t.args[1].value+=e})}visitLiteralArray(e,t){return new Qo(e.span,e.sourceSpan,this.visitAll(e.expressions),e=>{const t=Dt(e);return eh(this.constantPool,t,this.allocatePureFunctionSlots)})}visitLiteralMap(e,t){return new Qo(e.span,e.sourceSpan,this.visitAll(e.values),t=>{const n=Ot(t.map((t,n)=>({key:e.keys[n].key,value:t,quoted:e.keys[n].quoted})));return eh(this.constantPool,n,this.allocatePureFunctionSlots)})}}const Ku=[Gt.pipeBind1,Gt.pipeBind2,Gt.pipeBind3,Gt.pipeBind4];const Zu=[Gt.pureFunction0,Gt.pureFunction1,Gt.pureFunction2,Gt.pureFunction3,Gt.pureFunction4,Gt.pureFunction5,Gt.pureFunction6,Gt.pureFunction7,Gt.pureFunction8];function Qu(e,t,n){return St(t,null,e).callFn(n,e)}function Ju(e){return St(Gt.nextContext).callFn(e>1?[Mt(e)]:[])}function eh(e,t,n){const{literalFactory:r,literalFactoryArguments:i}=e.getLiteralFactory(t),s=n(1+i.length),{identifier:o,isVarLength:a}=function(e){const t=Zu[e.length];return{identifier:t||Gt.pureFunctionV,isVarLength:!t}}(i),l=[Mt(s),r];return a?l.push(Dt(i)):l.push(...i),St(o).callFn(l)}function th(e){const[t,n]=s(e),r=Mt(n);return t?[Mt(0),Mt(t),r]:[r]}const nh="$$shared_ctx$$";class rh{constructor(e=0,t=null,n){if(this.bindingLevel=e,this.parent=t,this.globals=n,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,this.usesRestoredViewContext=!1,void 0!==n)for(const r of n)this.set(0,r,Ct(r))}static createRootScope(){return new rh}get(e){let t=this;for(;t;){let n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}set(e,t,n,r=0,i,s){if(this.map.has(t)){if(s)return this;rn(`The name ${t} is already defined in scope to be ${this.map.get(t)}`)}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:i,priority:r,localRef:s||!1}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)}nestedScope(e,t){const n=new rh(e,this,t);return e>0&&n.generateSharedContextVar(0),n}getOrCreateSharedContextVar(e){const t=nh+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs}getSharedContextName(e){const t=this.map.get(nh+e);return t&&t.declare?t.lhs:null}maybeGenerateSharedContextVar(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){const t=this.map.get(nh+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){const t=Ct(zr+this.freshReferenceName());this.map.set(nh+e,{retrievalLevel:e,lhs:t,declareLocalCallback:(e,n)=>[t.set(Ju(n)).toConstDecl()],declare:!1,priority:2,localRef:!1})}getComponentProperty(e){const t=this.map.get("$$shared_ctx$$0");return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)}maybeRestoreView(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=Ct(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){const e=[];if(this.restoreViewVariable){const t=Qu(null,Gt.restoreView,[this.restoreViewVariable]);e.push(this.usesRestoredViewContext?Ct(Hr).set(t).toConstDecl():t.toStmt())}return e}viewSnapshotStatements(){return this.restoreViewVariable?[this.restoreViewVariable.set(Qu(null,Gt.getCurrentView,[])).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(e=>e.declare).sort((e,t)=>t.retrievalLevel-e.retrievalLevel||t.priority-e.priority).reduce((t,n)=>{const r=this.bindingLevel-n.retrievalLevel,i=n.declareLocalCallback(this,r-e);return e=r,t.concat(i)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return"_r"+e.referenceNameIndex++}hasRestoreViewVariable(){return!!this.restoreViewVariable}notifyRestoredViewContextUse(){this.usesRestoredViewContext=!0}}function ih(e,t){const n=new v,r=s(e)[1];return n.setElement(r),Object.getOwnPropertyNames(t).forEach(e=>{const r=s(e)[1],i=t[e];if(n.addAttribute(r,i),"class"===e.toLowerCase()){i.trim().split(/\s+/).forEach(e=>n.addClassName(e))}}),n}function sh(e){switch(ei(e)){case 1:return Gt.propertyInterpolate;case 3:return Gt.propertyInterpolate1;case 5:return Gt.propertyInterpolate2;case 7:return Gt.propertyInterpolate3;case 9:return Gt.propertyInterpolate4;case 11:return Gt.propertyInterpolate5;case 13:return Gt.propertyInterpolate6;case 15:return Gt.propertyInterpolate7;case 17:return Gt.propertyInterpolate8;default:return Gt.propertyInterpolateV}}function oh(e,t,n={}){const{interpolationConfig:r,preserveWhitespaces:i,enableI18nLegacyMessageIdFormat:s}=n,o=lh(r),a=(new fl).parse(e,t,Object.assign(Object.assign({leadingTriviaChars:qu},n),{tokenizeExpansionForms:!0}));if(!n.alwaysAttemptHtmlToR3AstConversion&&a.errors&&a.errors.length>0){const e={interpolationConfig:r,preserveWhitespaces:i,errors:a.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(e.commentNodes=[]),e}let l=a.rootNodes;const c=new Lu(r,!i,s),u=c.visitAllWithErrors(l);if(!n.alwaysAttemptHtmlToR3AstConversion&&u.errors&&u.errors.length>0){const e={interpolationConfig:r,preserveWhitespaces:i,errors:u.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(e.commentNodes=[]),e}l=u.rootNodes,i||(l=Ha(new wl,l),c.hasI18nMeta&&(l=Ha(new Lu(r,!1),l)));const{nodes:h,errors:d,styleUrls:p,styles:f,ngContentSelectors:g,commentNodes:m}=function(e,t,n){const r=new fu(t,n),i={nodes:Ha(r,e),errors:t.errors.concat(r.errors),styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(i.commentNodes=r.commentNodes),i}(l,o,{collectCommentNodes:!!n.collectCommentNodes});d.push(...a.errors,...u.errors);const v={interpolationConfig:r,preserveWhitespaces:i,errors:d.length>0?d:null,nodes:h,styleUrls:p,styles:f,ngContentSelectors:g};return n.collectCommentNodes&&(v.commentNodes=m),v}const ah=new au;function lh(e=Fi){return new rc(new Xc(new Mc),e,ah,null,[])}function ch(e,t){switch(e){case W.HTML:return St(Gt.sanitizeHtml);case W.SCRIPT:return St(Gt.sanitizeScript);case W.STYLE:return t?St(Gt.sanitizeStyle):null;case W.URL:return St(Gt.sanitizeUrl);case W.RESOURCE_URL:return St(Gt.sanitizeResourceUrl);default:return null}}function uh(e,t){const n=Wr(t.value);if(!cu(e,t.name))return n;switch(ah.securityContext(e,t.name,!0)){case W.HTML:return Pt(St(Gt.trustConstantHtml),new Oe([new Ie(t.value)],[]),void 0,t.valueSpan);case W.RESOURCE_URL:return Pt(St(Gt.trustConstantResourceUrl),new Oe([new Ie(t.value)],[]),void 0,t.valueSpan);default:return n}}function hh(e){return e instanceof yn||e instanceof _n||e instanceof An}function dh(e){return e.every(hh)}const ph="ngI18nClosureMode";function fh(){return At(Ct(ph)).notIdentical(Mt("undefined",ce)).and(Ct(ph))}const gh=/attr\.([^\]]+)/;function mh(e,t,n){const r=new Zr,i=Z(e.selector);return r.set("type",e.internalType),i.length>0&&r.set("selectors",Wr(i)),e.queries.length>0&&r.set("contentQueries",function(e,t,n){const r=[],i=[],s=$r(i,Vr);for(const a of e){r.push(St(Gt.contentQuery).callFn([Ct("dirIndex"),...wh(a,t)]).toStmt());const e=s(),n=St(Gt.loadQuery).callFn([]),o=St(Gt.queryRefresh).callFn([e.set(n)]),l=Ct(zr).prop(a.propertyName).set(a.first?e.prop("first"):e);i.push(o.and(l).toStmt())}const o=n?`${n}_ContentQueries`:null;return It([new qe(Ur,le),new qe(zr,null),new qe("dirIndex",null)],[Gu(1,r),Gu(2,i)],oe,null,o)}(e.queries,t,e.name)),e.viewQueries.length&&r.set("viewQuery",function(e,t,n){const r=[],i=[],s=$r(i,Vr);e.forEach(e=>{const n=St(Gt.viewQuery).callFn(wh(e,t));r.push(n.toStmt());const o=s(),a=St(Gt.loadQuery).callFn([]),l=St(Gt.queryRefresh).callFn([o.set(a)]),c=Ct(zr).prop(e.propertyName).set(e.first?o.prop("first"):o);i.push(l.and(c).toStmt())});const o=n?`${n}_Query`:null;return It([new qe(Ur,le),new qe(zr,null)],[Gu(1,r),Gu(2,i)],oe,null,o)}(e.viewQueries,t,e.name)),r.set("hostBindings",function(e,t,n,r,i,s,o){const a=Ct(zr),l=new Ac(a),{styleAttr:c,classAttr:u}=e.specialAttributes;void 0!==c&&l.registerStyleAttr(c);void 0!==u&&l.registerClassAttr(u);const h=[],d=[],p=t,f=Ah(e),g=n.createDirectiveHostEventAsts(f,p);if(g&&g.length){const e=function(e,t){const n=[],r=[],i=[];e.forEach(e=>{let i=e.name&&zi(e.name);const s=1===e.type?yi(i,e.targetOrPhase):i,o=t&&i?`${t}_${s}_HostBindingHandler`:null,a=Wu(xn.fromParsedEvent(e),o);1==e.type?r.push(a):n.push(a)}),r.length>0&&i.push(Jr(Gt.syntheticHostListener,r).toStmt());n.length>0&&i.push(Jr(Gt.listener,n).toStmt());return i}(g,s);h.push(...e)}const m=n.createBoundHostProperties(f,p),v=[];let y,_=0;m&&m.forEach(e=>{l.registerInputBasedOnName(e.name,e.expression,p)?_+=2:(v.push(e),_++)});const b=()=>{if(!y){y=new Yu(r,()=>rn("Unexpected node"),e=>{const t=_;return _+=e,t},()=>rn("Unexpected pipe"))}return y},w=[],x=[],E=[];v.forEach(e=>{const t=e.expression.visit(b()),r=Th(a,t),{bindingName:s,instruction:o,isAttribute:l}=function(e){let t,n=e.name;const r=n.match(gh);r?(n=r[1],t=Gt.attribute):e.isAnimation?(n=mi(n),t=Gt.syntheticHostProperty):t=Gt.hostProperty;return{bindingName:n,instruction:t,isAttribute:!!r}}(e),c=n.calcPossibleSecurityContexts(i,s,l).filter(e=>e!==W.NONE);let u=null;c.length&&(u=2===c.length&&c.indexOf(W.URL)>-1&&c.indexOf(W.RESOURCE_URL)>-1?St(Gt.sanitizeUrlOrResourceUrl):ch(c[0],l));const h=[Mt(s),r.currValExpr];u&&h.push(u),d.push(...r.stmts),o===Gt.hostProperty?w.push(h):o===Gt.attribute?x.push(h):o===Gt.syntheticHostProperty?E.push(h):d.push(St(o).callFn(h).toStmt())}),w.length>0&&d.push(Jr(Gt.hostProperty,w).toStmt());x.length>0&&d.push(Jr(Gt.attribute,x).toStmt());E.length>0&&d.push(Jr(Gt.syntheticHostProperty,E).toStmt());const C=function(e){const t=[];for(let n of Object.getOwnPropertyNames(e)){const r=e[n];t.push(Mt(n),r)}return t}(e.attributes);l.assignHostAttrs(C,o),l.hasBindings&&l.buildUpdateLevelInstructions(b()).forEach(e=>{if(e.calls.length>0){const t=[];e.calls.forEach(e=>{_+=Math.max(e.allocateBindingSlots-2,0),t.push(function(e,t,n){return e.params(e=>n(t,e).currValExpr)}(e,a,Th))}),d.push(Jr(e.reference,t).toStmt())}});_&&o.set("hostVars",Mt(_));if(h.length>0||d.length>0){const e=s?`${s}_HostBindings`:null,t=[];return h.length>0&&t.push(Gu(1,h)),d.length>0&&t.push(Gu(2,d)),It([new qe(Ur,le),new qe(zr,null)],t,oe,null,e)}return null}(e.host,e.typeSourceSpan,n,t,e.selector||"",e.name,r)),r.set("inputs",Xr(e.inputs,!0)),r.set("outputs",Xr(e.outputs)),null!==e.exportAs&&r.set("exportAs",Dt(e.exportAs.map(e=>Mt(e)))),r}function vh(e,t){const n=[],r=t.providers,i=t.viewProviders;if(r||i){const e=[r||new Ze([])];i&&e.push(i),n.push(St(Gt.ProvidersFeature).callFn(e))}t.usesInheritance&&n.push(St(Gt.InheritDefinitionFeature)),t.fullInheritance&&n.push(St(Gt.CopyDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(St(Gt.NgOnChangesFeature)),n.length&&e.set("features",Dt(n))}function yh(e,t,n){const r=mh(e,t,n);vh(r,e);const i=e.selector&&v.parse(e.selector),s=i&&i[0];if(s){const e=s.getAttrs();e.length&&r.set("attrs",t.getConstLiteral(Dt(e.map(e=>Mt(null!=e?e:void 0))),!0))}let o=null;if(e.directives.length>0){const t=new y;for(const{selector:n,type:r}of e.directives)t.addSelectables(v.parse(n),r);o=t}const a=e.name,l=a?`${a}_Template`:null,c=new Set,u=new Set,h=e.changeDetection,d=e.template,p=new Xu(t,rh.createRootScope(),0,a,null,null,l,o,c,e.pipes,u,Gt.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),f=p.buildTemplateFunction(d.nodes,[]),g=p.getNgContentSelectors();g&&r.set("ngContentSelectors",g),r.set("decls",Mt(p.getConstCount())),r.set("vars",Mt(p.getVarCount()));const{constExpressions:m,prepareStatements:_}=p.getConsts();if(m.length>0){let e=Dt(m);_.length>0&&(e=It([],[..._,new ut(e)])),r.set("consts",e)}if(r.set("template",f),c.size){const t=bh(Dt(Array.from(c)),e.declarationListEmitMode);r.set("directives",t)}if(u.size){const t=bh(Dt(Array.from(u)),e.declarationListEmitMode);r.set("pipes",t)}if(null===e.encapsulation&&(e.encapsulation=O.Emulated),e.styles&&e.styles.length){const n=(e.encapsulation==O.Emulated?function(e,t,n){const r=new Jo;return e.map(e=>r.shimCssText(e,t,n))}(e.styles,Ia,Oa):e.styles).map(e=>t.getConstLiteral(Mt(e)));r.set("styles",Dt(n))}else e.encapsulation===O.Emulated&&(e.encapsulation=O.None);e.encapsulation!==O.Emulated&&r.set("encapsulation",Mt(e.encapsulation)),null!==e.animations&&r.set("data",Ot([{key:"animation",value:e.animations,quoted:!1}])),null!=h&&h!==I.Default&&r.set("changeDetection",Mt(h));return{expression:St(Gt.defineComponent).callFn([r.toLiteralMap()],void 0,!0),type:_h(e),statements:[]}}function _h(e){const t=Sh(e);return t.push(Ch(e.template.ngContentSelectors)),Tt(St(Gt.ComponentDeclaration,t))}function bh(e,t){switch(t){case 0:return e;case 1:return It([],[new ut(e)]);case 2:const t=e.callMethod("map",[St(Gt.resolveForwardRef)]);return It([],[new ut(t)])}}function wh(e,t){const n=[Kr(e,t),Mt(xh(e))];return e.read&&n.push(e.read),n}function xh(e){return(e.descendants?1:0)|(e.static?2:0)|(e.emitDistinctChangesOnly?4:0)}function Eh(e){return Tt(Ot(Object.keys(e).map(t=>({key:t,value:Mt(Array.isArray(e[t])?e[t][0]:e[t]),quoted:!0}))))}function Ch(e){return e.length>0?Tt(Dt(e.map(e=>Mt(e)))):ue}function Sh(e){const t=null!==e.selector?e.selector.replace(/\n/g,""):null;return[gi(e.type.type,e.typeArgumentCount),null!==t?(n=t,Tt(Mt(n))):ue,null!==e.exportAs?Ch(e.exportAs):ue,Eh(e.inputs),Eh(e.outputs),Ch(e.queries.map(e=>e.propertyName))];var n}function kh(e){const t=Sh(e);return Tt(St(Gt.DirectiveDeclaration,t))}function Th(e,t){return Uo(null,e,t,"b",Vo.Expression,()=>rn("Unexpected interpolation"))}function Ah(e){return{hostAttributes:{},hostListeners:e.listeners,hostProperties:e.properties}}const Dh=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;class Oh{get(e){return""}}class Ih{constructor(e=new ps){this.jitEvaluator=e,this.FactoryTarget=Ei,this.ResourceLoader=Oh,this.elementSchemaRegistry=new au}compilePipe(e,t,n){const r=Gs({name:n.name,type:bi(n.type),internalType:new we(n.type),typeArgumentCount:0,deps:null,pipeName:n.pipeName,pure:n.pure});return this.jitExpression(r.expression,e,t,[])}compilePipeDeclaration(e,t,n){const r=Gs(function(e){var t;return{name:e.type.name,type:bi(e.type),internalType:new we(e.type),typeArgumentCount:0,pipeName:e.name,deps:null,pure:null===(t=e.pure)||void 0===t||t}}(n));return this.jitExpression(r.expression,e,t,[])}compileInjectable(e,t,n){var r;const{expression:i,statements:s}=Di({name:n.name,type:bi(n.type),internalType:new we(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:Wh(n.providedIn),useClass:qh(n,Nh),useFactory:Gh(n,Ph),useValue:qh(n,Mh),useExisting:qh(n,Rh),deps:null===(r=n.deps)||void 0===r?void 0:r.map(Xh)},!0);return this.jitExpression(i,e,t,s)}compileInjectableDeclaration(e,t,n){var r;const{expression:i,statements:s}=Di({name:n.type.name,type:bi(n.type),internalType:new we(n.type),typeArgumentCount:0,providedIn:Wh(n.providedIn),useClass:qh(n,Nh),useFactory:Gh(n,Ph),useValue:qh(n,Mh),useExisting:qh(n,Rh),deps:null===(r=n.deps)||void 0===r?void 0:r.map(Yh)},!0);return this.jitExpression(i,e,t,s)}compileInjector(e,t,n){const r=Vs({name:n.name,type:bi(n.type),internalType:new we(n.type),providers:new we(n.providers),imports:n.imports.map(e=>new we(e))});return this.jitExpression(r.expression,e,t,[])}compileInjectorDeclaration(e,t,n){const r=Vs(function(e){return{name:e.type.name,type:bi(e.type),internalType:new we(e.type),providers:void 0!==e.providers?new we(e.providers):null,imports:void 0!==e.imports?e.imports.map(e=>new we(e)):[]}}(n));return this.jitExpression(r.expression,e,t,[])}compileNgModule(e,t,n){const r=Hs({type:bi(n.type),internalType:new we(n.type),adjacentType:new we(n.type),bootstrap:n.bootstrap.map(bi),declarations:n.declarations.map(bi),imports:n.imports.map(bi),exports:n.exports.map(bi),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(bi):null,id:n.id?new we(n.id):null});return this.jitExpression(r.expression,e,t,[])}compileNgModuleDeclaration(e,t,n){const r=function(e){const t=new Zr;return t.set("type",new we(e.type)),void 0!==e.bootstrap&&t.set("bootstrap",new we(e.bootstrap)),void 0!==e.declarations&&t.set("declarations",new we(e.declarations)),void 0!==e.imports&&t.set("imports",new we(e.imports)),void 0!==e.exports&&t.set("exports",new we(e.exports)),void 0!==e.schemas&&t.set("schemas",new we(e.schemas)),void 0!==e.id&&t.set("id",new we(e.id)),St(Gt.defineNgModule).callFn([t.toLiteralMap()])}(n);return this.jitExpression(r,e,t,[])}compileDirective(e,t,n){const r=jh(n);return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveDeclaration(e,t,n){const r=Bh(n,this.createParseSourceSpan("Directive",n.type.name,t));return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveFromMeta(e,t,n){const r=new Vt,i=function(e,t,n){const r=mh(e,t,n);return vh(r,e),{expression:St(Gt.defineDirective).callFn([r.toLiteralMap()],void 0,!0),type:kh(e),statements:[]}}(n,r,lh());return this.jitExpression(i.expression,e,t,r.statements)}compileComponent(e,t,n){const{template:r,interpolation:i}=$h(n.template,n.name,t,n.preserveWhitespaces,n.interpolation),s=Object.assign(Object.assign(Object.assign({},n),jh(n)),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarationListEmitMode:0,styles:[...n.styles,...r.styles],encapsulation:n.encapsulation,interpolation:i,changeDetection:n.changeDetection,animations:null!=n.animations?new we(n.animations):null,viewProviders:null!=n.viewProviders?new we(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),o=`ng:///${n.name}.js`;return this.compileComponentFromMeta(e,o,s)}compileComponentDeclaration(e,t,n){const r=function(e,t,n){var r,i,s,o,a,l;const{template:c,interpolation:u}=$h(e.template,e.type.name,n,null!==(r=e.preserveWhitespaces)&&void 0!==r&&r,e.interpolation);return Object.assign(Object.assign({},Bh(e,t)),{template:c,styles:null!==(i=e.styles)&&void 0!==i?i:[],directives:(null!==(s=e.components)&&void 0!==s?s:[]).concat(null!==(o=e.directives)&&void 0!==o?o:[]).map(Uh),pipes:Hh(e.pipes),viewProviders:void 0!==e.viewProviders?new we(e.viewProviders):null,animations:void 0!==e.animations?new we(e.animations):null,changeDetection:null!==(a=e.changeDetection)&&void 0!==a?a:I.Default,encapsulation:null!==(l=e.encapsulation)&&void 0!==l?l:O.Emulated,interpolation:u,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0})}(n,this.createParseSourceSpan("Component",n.type.name,t),t);return this.compileComponentFromMeta(e,t,r)}compileComponentFromMeta(e,t,n){const r=new Vt,i=yh(n,r,lh(n.interpolation));return this.jitExpression(i.expression,e,t,r.statements)}compileFactory(e,t,n){const r=Ci({name:n.name,type:bi(n.type),internalType:new we(n.type),typeArgumentCount:n.typeArgumentCount,deps:(i=n.deps,null==i?null:i.map(Xh)),target:n.target});var i;return this.jitExpression(r.expression,e,t,r.statements)}compileFactoryDeclaration(e,t,n){const r=Ci({name:n.type.name,type:bi(n.type),internalType:new we(n.type),typeArgumentCount:0,deps:n.deps&&n.deps.map(Yh),target:n.target});return this.jitExpression(r.expression,e,t,r.statements)}createParseSourceSpan(e,t,n){return function(e,t,n){const r=new Rs("",`in ${e} ${t} in ${n}`);return new Ls(new Ms(r,-1,-1,-1),new Ms(r,-1,-1,-1))}(e,t,n)}jitExpression(e,t,n,r){const i=[...r,new at("$def",e,void 0,[rt.Exported])];return this.jitEvaluator.evaluateStatements(n,i,new Us(t),!0).$def}}const Nh=Object.keys({useClass:null})[0],Ph=Object.keys({useFactory:null})[0],Mh=Object.keys({useValue:null})[0],Rh=Object.keys({useExisting:null})[0];function Lh(e){return Object.assign(Object.assign({},e),{predicate:Array.isArray(e.predicate)?e.predicate:new we(e.predicate),read:e.read?new we(e.read):null,static:e.static,emitDistinctChangesOnly:e.emitDistinctChangesOnly})}function Fh(e){var t,n,r,i;return{propertyName:e.propertyName,first:null!==(t=e.first)&&void 0!==t&&t,predicate:Array.isArray(e.predicate)?e.predicate:new we(e.predicate),descendants:null!==(n=e.descendants)&&void 0!==n&&n,read:e.read?new we(e.read):null,static:null!==(r=e.static)&&void 0!==r&&r,emitDistinctChangesOnly:null===(i=e.emitDistinctChangesOnly)||void 0===i||i}}function jh(e){const t=ed(e.inputs||[]),n=ed(e.outputs||[]),r=e.propMetadata,i={},s={};for(const o in r)r.hasOwnProperty(o)&&r[o].forEach(e=>{"Input"===e.ngMetadataName?i[o]=e.bindingPropertyName?[e.bindingPropertyName,o]:o:Jh(e)&&(s[o]=e.bindingPropertyName||o)});return Object.assign(Object.assign({},e),{typeArgumentCount:0,typeSourceSpan:e.typeSourceSpan,type:bi(e.type),internalType:new we(e.type),deps:null,host:Zh(e.propMetadata,e.typeSourceSpan,e.host),inputs:Object.assign(Object.assign({},t),i),outputs:Object.assign(Object.assign({},n),s),queries:e.queries.map(Lh),providers:null!=e.providers?new we(e.providers):null,viewQueries:e.viewQueries.map(Lh),fullInheritance:!1})}function Bh(e,t){var n,r,i,s,o,a,l,c;return{name:e.type.name,type:bi(e.type),typeSourceSpan:t,internalType:new we(e.type),selector:null!==(n=e.selector)&&void 0!==n?n:null,inputs:null!==(r=e.inputs)&&void 0!==r?r:{},outputs:null!==(i=e.outputs)&&void 0!==i?i:{},host:Vh(e.host),queries:(null!==(s=e.queries)&&void 0!==s?s:[]).map(Fh),viewQueries:(null!==(o=e.viewQueries)&&void 0!==o?o:[]).map(Fh),providers:void 0!==e.providers?new we(e.providers):null,exportAs:null!==(a=e.exportAs)&&void 0!==a?a:null,usesInheritance:null!==(l=e.usesInheritance)&&void 0!==l&&l,lifecycle:{usesOnChanges:null!==(c=e.usesOnChanges)&&void 0!==c&&c},deps:null,typeArgumentCount:0,fullInheritance:!1}}function Vh(e={}){var t,n,r;return{attributes:zh(null!==(t=e.attributes)&&void 0!==t?t:{}),listeners:null!==(n=e.listeners)&&void 0!==n?n:{},properties:null!==(r=e.properties)&&void 0!==r?r:{},specialAttributes:{classAttr:e.classAttribute,styleAttr:e.styleAttribute}}}function zh(e){const t={};for(const n of Object.keys(e))t[n]=new we(e[n]);return t}function Uh(e){var t,n,r;return{selector:e.selector,type:new we(e.type),inputs:null!==(t=e.inputs)&&void 0!==t?t:[],outputs:null!==(n=e.outputs)&&void 0!==n?n:[],exportAs:null!==(r=e.exportAs)&&void 0!==r?r:null}}function Hh(e){const t=new Map;if(void 0===e)return t;for(const n of Object.keys(e)){const r=e[n];t.set(n,new we(r))}return t}function $h(e,t,n,r,i){const s=i?Li.fromArray(i):Fi,o=oh(e,n,{preserveWhitespaces:r,interpolationConfig:s});if(null!==o.errors){const e=o.errors.map(e=>e.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${t}: ${e}`)}return{template:o,interpolation:s}}function qh(e,t){return e.hasOwnProperty(t)?Ai(new we(e[t]),!1):void 0}function Gh(e,t){return e.hasOwnProperty(t)?new we(e[t]):void 0}function Wh(e){return Ai(null==e||"string"==typeof e?new De(null!=e?e:null):new we(e),!1)}function Xh(e){const t=null!=e.attribute,n=null===e.token?null:new we(e.token);return Kh(t?new we(e.attribute):n,t,e.host,e.optional,e.self,e.skipSelf)}function Yh(e){var t,n,r,i,s;const o=null!==(t=e.attribute)&&void 0!==t&&t;return Kh(null===e.token?null:new we(e.token),o,null!==(n=e.host)&&void 0!==n&&n,null!==(r=e.optional)&&void 0!==r&&r,null!==(i=e.self)&&void 0!==i&&i,null!==(s=e.skipSelf)&&void 0!==s&&s)}function Kh(e,t,n,r,i,s){return{token:e,attributeNameType:t?Mt("unknown"):null,host:n,optional:r,self:i,skipSelf:s}}function Zh(e,t,n){const r=function(e){const t={},n={},r={},i={};for(const s of Object.keys(e)){const o=e[s],a=s.match(Dh);if(null===a)switch(s){case"class":if("string"!=typeof o)throw new Error("Class binding must be string");i.classAttr=o;break;case"style":if("string"!=typeof o)throw new Error("Style binding must be string");i.styleAttr=o;break;default:t[s]="string"==typeof o?Mt(o):o}else if(null!=a[1]){if("string"!=typeof o)throw new Error("Property binding must be string");r[a[1]]=o}else if(null!=a[2]){if("string"!=typeof o)throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:t,listeners:n,properties:r,specialAttributes:i}}(n||{}),i=function(e,t){const n=Ah(e),r=lh();return r.createDirectiveHostEventAsts(n,t),r.createBoundHostProperties(n,t),r.errors}(r,t);if(i.length)throw new Error(i.map(e=>e.msg).join("\n"));for(const s in e)e.hasOwnProperty(s)&&e[s].forEach(e=>{"HostBinding"===e.ngMetadataName?r.properties[e.hostPropertyName||s]=vi("this",s):Qh(e)&&(r.listeners[e.eventName||s]=`${s}(${(e.args||[]).join(",")})`)});return r}function Qh(e){return"HostListener"===e.ngMetadataName}function Jh(e){return"Output"===e.ngMetadataName}function ed(e){return e.reduce((e,t)=>{const[n,r]=t.split(",").map(e=>e.trim());return e[n]=r||n,e},{})}new class{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}("12.0.4");class td{constructor({defaultEncapsulation:e=O.Emulated,useJit:t=!0,jitDevMode:n=!1,missingTranslation:r=null,preserveWhitespaces:i,strictInjectionParameters:s}={}){this.defaultEncapsulation=e,this.useJit=!!t,this.jitDevMode=!!n,this.missingTranslation=r,this.preserveWhitespaces=nd(Qt(i)),this.strictInjectionParameters=!0===s}}function nd(e,t=!1){return null===e?t:e}class rd{constructor(e,t,n,r){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}clearCache(){this._resourceLoaderCache.clear()}clearCacheFor(e){if(!e.isComponent)return;const t=e.template;this._resourceLoaderCache.delete(t.templateUrl),t.externalStylesheets.forEach(e=>{this._resourceLoaderCache.delete(e.moduleUrl)})}_fetch(e){let t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t}normalizeTemplate(e){if(Zt(e.template)){if(Zt(e.templateUrl))throw sn(`'${un(e.componentType)}' component cannot define both template and templateUrl`);if("string"!=typeof e.template)throw sn(`The template specified for component ${un(e.componentType)} is not a string`)}else{if(!Zt(e.templateUrl))throw sn(`No template specified for component ${un(e.componentType)}`);if("string"!=typeof e.templateUrl)throw sn(`The templateUrl specified for component ${un(e.componentType)} is not a string`)}if(Zt(e.preserveWhitespaces)&&"boolean"!=typeof e.preserveWhitespaces)throw sn(`The preserveWhitespaces option for component ${un(e.componentType)} must be a boolean`);return tn(this._preParseTemplate(e),t=>this._normalizeTemplateMetadata(e,t))}_preParseTemplate(e){let t,n;return null!=e.template?(t=e.template,n=e.moduleUrl):(n=this._urlResolver.resolve(e.moduleUrl,e.templateUrl),t=this._fetch(n)),tn(t,t=>this._preparseLoadedTemplate(e,t,n))}_preparseLoadedTemplate(e,t,n){const r=!!e.template,i=Li.fromArray(e.interpolation),s=as({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:r,templateUrl:n}),o=this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:i});if(o.errors.length>0){throw sn(`Template parse errors:\n${o.errors.join("\n")}`)}const a=this._normalizeStylesheet(new Zi({styles:e.styles,moduleUrl:e.moduleUrl})),l=new id;Ha(l,o.rootNodes);const c=this._normalizeStylesheet(new Zi({styles:l.styles,styleUrls:l.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:r,htmlAst:o,styles:a.styles.concat(c.styles),inlineStyleUrls:a.styleUrls.concat(c.styleUrls),styleUrls:this._normalizeStylesheet(new Zi({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:l.ngContentSelectors}}_normalizeTemplateMetadata(e,t){return tn(this._loadMissingExternalStylesheets(t.styleUrls.concat(t.inlineStyleUrls)),n=>this._normalizeLoadedTemplateMetadata(e,t,n))}_normalizeLoadedTemplateMetadata(e,t,n){const r=[...t.styles];this._inlineStyles(t.inlineStyleUrls,n,r);const i=t.styleUrls,s=i.map(e=>{const t=n.get(e),r=[...t.styles];return this._inlineStyles(t.styleUrls,n,r),new Zi({moduleUrl:e,styles:r})});let o=e.encapsulation;return null==o&&(o=this._config.defaultEncapsulation),o===O.Emulated&&0===r.length&&0===i.length&&(o=O.None),new Qi({encapsulation:o,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:r,styleUrls:i,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:s,preserveWhitespaces:nd(e.preserveWhitespaces,this._config.preserveWhitespaces)})}_inlineStyles(e,t,n){e.forEach(e=>{const r=t.get(e);r.styles.forEach(e=>n.push(e)),this._inlineStyles(r.styleUrls,t,n)})}_loadMissingExternalStylesheets(e,t=new Map){return tn(nn(e.filter(e=>!t.has(e)).map(e=>tn(this._fetch(e),n=>{const r=this._normalizeStylesheet(new Zi({styles:[n],moduleUrl:e}));return t.set(e,r),this._loadMissingExternalStylesheets(r.styleUrls,t)}))),e=>t)}_normalizeStylesheet(e){const t=e.moduleUrl,n=e.styleUrls.filter(Ql).map(e=>this._urlResolver.resolve(t,e)),r=e.styles.map(e=>{const r=function(e,t,n){const r=[],i=n.replace(ec,"").replace(Jl,(...n)=>{const i=n[1]||n[2];return Ql(i)?(r.push(e.resolve(t,i)),""):n[0]});return new Zl(i,r)}(this._urlResolver,t,e);return n.push(...r.styleUrls),r.style});return new Zi({styles:r,styleUrls:n,moduleUrl:t})}}class id{constructor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}visitElement(e,t){const n=lc(e);switch(n.type){case cc.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case cc.STYLE:let t="";e.children.forEach(e=>{e instanceof Fa&&(t+=e.value)}),this.styles.push(t);break;case cc.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,Ha(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null}visitExpansion(e,t){Ha(this,e.cases)}visitExpansionCase(e,t){Ha(this,e.expression)}visitComment(e,t){return null}visitAttribute(e,t){return null}visitText(e,t){return null}}const sd=[A,T,k,S];class od{constructor(e){this._reflector=e}isDirective(e){const t=this._reflector.annotations(hn(e));return t&&t.some(ad)}resolve(e,t=!0){const n=this._reflector.annotations(hn(e));if(n){const t=ld(n,ad);if(t){const n=this._reflector.propMetadata(e),r=this._reflector.guards(e);return this._mergeWithPropertyMetadata(t,n,r,e)}}if(t)throw new Error(`No Directive annotation found on ${un(e)}`);return null}_mergeWithPropertyMetadata(e,t,n,r){const i=[],s=[],o={},a={};return Object.keys(t).forEach(e=>{const n=ld(t[e],e=>M.isTypeOf(e));n&&(n.bindingPropertyName?i.push(`${e}: ${n.bindingPropertyName}`):i.push(e));const r=ld(t[e],e=>R.isTypeOf(e));r&&(r.bindingPropertyName?s.push(`${e}: ${r.bindingPropertyName}`):s.push(e));t[e].filter(e=>L.isTypeOf(e)).forEach(t=>{if(t.hostPropertyName){const n=t.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o[`[${t.hostPropertyName}]`]=e}else o[`[${e}]`]=e});t[e].filter(e=>F.isTypeOf(e)).forEach(t=>{const n=t.args||[];o[`(${t.eventName})`]=`${e}(${n.join(",")})`});const l=ld(t[e],e=>sd.some(t=>t.isTypeOf(e)));l&&(a[e]=l)}),this._merge(e,i,s,o,a,n,r)}_extractPublicName(e){return Xt(e,[null,e])[1].trim()}_dedupeBindings(e){const t=new Set,n=new Set,r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],o=this._extractPublicName(s);n.add(o),t.has(o)||(t.add(o),r.push(s))}return r.reverse()}_merge(e,t,n,r,i,s,o){const a=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),l=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),c=e.host?Object.assign(Object.assign({},e.host),r):r,u=e.queries?Object.assign(Object.assign({},e.queries),i):i;if(N.isTypeOf(e)){const t=e;return N({selector:t.selector,inputs:a,outputs:l,host:c,exportAs:t.exportAs,moduleId:t.moduleId,queries:u,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation,preserveWhitespaces:e.preserveWhitespaces})}return D({selector:e.selector,inputs:a,outputs:l,host:c,exportAs:e.exportAs,queries:u,providers:e.providers,guards:s})}}function ad(e){return D.isTypeOf(e)||N.isTypeOf(e)}function ld(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}const cd="i18n",ud="i18n-",hd=/^i18n:?/;let dd=!1;class pd{constructor(e,t){this.messages=e,this.errors=t}}var fd;!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(fd||(fd={}));class gd{constructor(e,t){this._implicitTags=e,this._implicitAttrs=t}extract(e,t){return this._init(fd.Extract,t),e.forEach(e=>e.visit(this,null)),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new pd(this._messages,this._errors)}merge(e,t,n){this._init(fd.Merge,n),this._translations=t;const r=new za("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new ul(r.children,this._errors)}visitExpansionCase(e,t){const n=Ha(this,e.expression,t);if(this._mode===fd.Merge)return new Ba(e.value,n,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)}visitExpansion(e,t){this._mayBeAddBlockChildren(e);const n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);const r=Ha(this,e.cases,t);return this._mode===fd.Merge&&(e=new ja(e.switchValue,e.type,r,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e}visitComment(e,t){const n=!!((r=e)instanceof Ua&&r.value&&r.value.startsWith("i18n"));var r;if(n&&this._isInTranslatableSection)return void this._reportError(e,"Could not start a block inside a translatable section");const i=function(e){return!!(e instanceof Ua&&e.value&&"/i18n"===e.value)}(e);if(!i||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;const t=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return Ha(this,this._translateMessage(e,t))}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else if(n){if(!dd&&console&&console.warn){dd=!0;const t=e.sourceSpan.details?`, ${e.sourceSpan.details}`:"";console.warn(`I18n comments are deprecated, use an <ng-container> element instead (${e.sourceSpan.start}${t})`)}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(hd,"").trim(),this._openTranslatableSection(e)}}else this._reportError(e,"Trying to close an unopened block")}visitText(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e}visitElement(e,t){this._mayBeAddBlockChildren(e),this._depth++;const n=this._inI18nNode,r=this._inImplicitNode;let i,s=[];const o=e.attrs.find(e=>e.name===cd)||null;const a=o?o.value:"",l=this._implicitTags.some(t=>e.name===t)&&!this._inIcu&&!this._isInTranslatableSection,c=!r&&l;if(this._inImplicitNode=r||l,this._isInTranslatableSection||this._inIcu)(o||c)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==fd.Extract&&Ha(this,e.children);else{if(o||c){this._inI18nNode=!0;const t=this._addMessage(e.children,a);i=this._translateMessage(e,t)}if(this._mode==fd.Extract){const t=o||c;t&&this._openTranslatableSection(e),Ha(this,e.children),t&&this._closeTranslatableSection(e,e.children)}}if(this._mode===fd.Merge){(i||e.children).forEach(e=>{const n=e.visit(this,t);n&&!this._isInTranslatableSection&&(s=s.concat(n))})}if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=n,this._inImplicitNode=r,this._mode===fd.Merge){const t=this._translateAttributes(e);return new za(e.name,t,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}return null}visitAttribute(e,t){throw new Error("unreachable code")}_init(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=Du(t)}_visitAttributesOf(e){const t={},n=this._implicitAttrs[e.name]||[];e.attrs.filter(e=>e.name.startsWith(ud)).forEach(e=>t[e.name.slice(ud.length)]=e.value),e.attrs.forEach(e=>{e.name in t?this._addMessage([e],t[e.name]):n.some(t=>e.name===t)&&this._addMessage([e])})}_addMessage(e,t){if(0==e.length||1==e.length&&e[0]instanceof Va&&!e[0].value)return null;const{meaning:n,description:r,id:i}=md(t),s=this._createI18nMessage(e,n,r,i);return this._messages.push(s),s}_translateMessage(e,t){if(t&&this._mode===fd.Merge){const n=this._translations.get(t);if(n)return n;this._reportError(e,`Translation unavailable for message id="${this._translations.digest(t)}"`)}return[]}_translateAttributes(e){const t=e.attrs,n={};t.forEach(e=>{e.name.startsWith(ud)&&(n[e.name.slice(ud.length)]=md(e.value))});const r=[];return t.forEach(t=>{if(t.name!==cd&&!t.name.startsWith(ud))if(t.value&&""!=t.value&&n.hasOwnProperty(t.name)){const{meaning:i,description:s,id:o}=n[t.name],a=this._createI18nMessage([t],i,s,o),l=this._translations.get(a);if(l)if(0==l.length)r.push(new Va(t.name,"",t.sourceSpan,void 0,void 0,void 0));else if(l[0]instanceof Fa){const e=l[0].value;r.push(new Va(t.name,e,t.sourceSpan,void 0,void 0,void 0))}else this._reportError(e,`Unexpected translation for attribute "${t.name}" (id="${o||this._translations.digest(a)}")`);else this._reportError(e,`Translation unavailable for attribute "${t.name}" (id="${o||this._translations.digest(a)}")`)}else r.push(t)}),r}_mayBeAddBlockChildren(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)}_openTranslatableSection(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}get _isInTranslatableSection(){return void 0!==this._msgCountAtSectionStart}_closeTranslatableSection(e,t){if(!this._isInTranslatableSection)return void this._reportError(e,"Unexpected section end");const n=this._msgCountAtSectionStart;if(1==t.reduce((e,t)=>e+(t instanceof Ua?0:1),0))for(let r=this._messages.length-1;r>=n;r--){const e=this._messages[r].nodes;if(!(1==e.length&&e[0]instanceof In)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}_reportError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}function md(e){if(!e)return{meaning:"",description:"",id:""};const t=e.indexOf("@@"),n=e.indexOf("|"),[r,i]=t>-1?[e.slice(0,t),e.slice(t+2)]:[e,""],[s,o]=n>-1?[r.slice(0,n),r.slice(n+1)]:["",r];return{meaning:s,description:o,id:i.trim()}}const vd=new class{constructor(){this.closedByParent=!1,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return r.PARSABLE_DATA}};function yd(e){return vd}class _d extends hl{constructor(){super(yd)}parse(e,t,n){return super.parse(e,t,n)}}const bd="x",wd="source",xd="trans-unit",Ed="context";class Cd extends ir{write(e,t){const n=new Sd,r=[];e.forEach(e=>{let t=[];e.sources.forEach(e=>{let n=new ur("context-group",{purpose:"location"});n.children.push(new dr(10),new ur(Ed,{"context-type":"sourcefile"},[new hr(e.filePath)]),new dr(10),new ur(Ed,{"context-type":"linenumber"},[new hr(`${e.startLine}`)]),new dr(8)),t.push(new dr(8),n)});const i=new ur(xd,{id:e.id,datatype:"html"});i.children.push(new dr(8),new ur(wd,{},n.serialize(e.nodes)),...t),e.description&&i.children.push(new dr(8),new ur("note",{priority:"1",from:"description"},[new hr(e.description)])),e.meaning&&i.children.push(new dr(8),new ur("note",{priority:"1",from:"meaning"},[new hr(e.meaning)])),i.children.push(new dr(6)),r.push(new dr(6),i)});const i=new ur("body",{},[...r,new dr(4)]),s=new ur("file",{"source-language":t||"en",datatype:"plaintext",original:"ng2.template"},[new dr(4),i,new dr(2)]),o=new ur("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new dr(2),s,new dr]);return ar([new lr({version:"1.0",encoding:"UTF-8"}),new dr,o,new dr])}load(e,t){const n=new kd,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new Td;if(Object.keys(i).forEach(e=>{const{i18nNodes:n,errors:r}=a.convert(i[e],t);s.push(...r),o[e]=n}),s.length)throw new Error(`xliff parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return Bn(e)}}class Sd{visitText(e,t){return[new hr(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new hr(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new hr(`${t} {`),...e.cases[t].visit(this),new hr("} "))}),n.push(new hr("}")),n}visitTagPlaceholder(e,t){const n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return`x-${e}`}}(e.tag);if(e.isVoid)return[new ur(bd,{id:e.startName,ctype:n,"equiv-text":`<${e.tag}/>`})];const r=new ur(bd,{id:e.startName,ctype:n,"equiv-text":`<${e.tag}>`}),i=new ur(bd,{id:e.closeName,ctype:n,"equiv-text":`</${e.tag}>`});return[r,...this.serialize(e.children),i]}visitPlaceholder(e,t){return[new ur(bd,{id:e.name,"equiv-text":`{{${e.value}}}`})]}visitIcuPlaceholder(e,t){const n=`{${e.value.expression}, ${e.value.type}, ${Object.keys(e.value.cases).map(e=>e+" {...}").join(" ")}}`;return[new ur(bd,{id:e.name,"equiv-text":n})]}serialize(e){return[].concat(...e.map(e=>e.visit(this)))}}class kd{constructor(){this._locale=null}parse(e,t){this._unitMlString=null,this._msgIdToHtml={};const n=(new _d).parse(e,t);return this._errors=n.errors,Ha(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case xd:this._unitMlString=null;const t=e.attrs.find(e=>"id"===e.name);if(t){const n=t.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,`Duplicated translations for msg ${n}`):(Ha(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,`Message ${n} misses a translation`))}else this._addError(e,'<trans-unit> misses the "id" attribute');break;case wd:case"seg-source":case"alt-trans":break;case"target":const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._unitMlString=i;break;case"file":const s=e.attrs.find(e=>"target-language"===e.name);s&&(this._locale=s.value),Ha(this,e.children,null);break;default:Ha(this,e.children,null)}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}class Td{convert(e,t){const n=(new _d).parse(e,t,{tokenizeExpansionForms:!0});this._errors=n.errors;return{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...Ha(this,n.rootNodes)),errors:this._errors}}visitText(e,t){return new In(e.value,e.sourceSpan)}visitElement(e,t){if(e.name===bd){const t=e.attrs.find(e=>"id"===e.name);return t?new Rn("",t.value,e.sourceSpan):(this._addError(e,'<x> misses the "id" attribute'),null)}return"mrk"===e.name?[].concat(...Ha(this,e.children)):(this._addError(e,"Unexpected tag"),null)}visitExpansion(e,t){const n={};return Ha(this,e.cases).forEach(t=>{n[t.value]=new Nn(t.nodes,e.sourceSpan)}),new Pn(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:Ha(this,e.expression)}}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}const Ad="ph",Dd="xliff",Od="source",Id="unit";class Nd extends ir{write(e,t){const n=new Pd,r=[];e.forEach(e=>{const t=new ur(Id,{id:e.id}),i=new ur("notes");(e.description||e.meaning)&&(e.description&&i.children.push(new dr(8),new ur("note",{category:"description"},[new hr(e.description)])),e.meaning&&i.children.push(new dr(8),new ur("note",{category:"meaning"},[new hr(e.meaning)]))),e.sources.forEach(e=>{i.children.push(new dr(8),new ur("note",{category:"location"},[new hr(`${e.filePath}:${e.startLine}${e.endLine!==e.startLine?","+e.endLine:""}`)]))}),i.children.push(new dr(6)),t.children.push(new dr(6),i);const s=new ur("segment");s.children.push(new dr(8),new ur(Od,{},n.serialize(e.nodes)),new dr(6)),t.children.push(new dr(6),s,new dr(4)),r.push(new dr(4),t)});const i=new ur("file",{original:"ng.template",id:"ngi18n"},[...r,new dr(2)]),s=new ur(Dd,{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:t||"en"},[new dr(2),i,new dr]);return ar([new lr({version:"1.0",encoding:"UTF-8"}),new dr,s,new dr])}load(e,t){const n=new Md,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new Rd;if(Object.keys(i).forEach(e=>{const{i18nNodes:n,errors:r}=a.convert(i[e],t);s.push(...r),o[e]=n}),s.length)throw new Error(`xliff2 parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return zn(e)}}class Pd{visitText(e,t){return[new hr(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new hr(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new hr(`${t} {`),...e.cases[t].visit(this),new hr("} "))}),n.push(new hr("}")),n}visitTagPlaceholder(e,t){const n=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid){return[new ur(Ad,{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:n,disp:`<${e.tag}/>`})]}const r=new ur("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:n,dispStart:`<${e.tag}>`,dispEnd:`</${e.tag}>`}),i=[].concat(...e.children.map(e=>e.visit(this)));return i.length?i.forEach(e=>r.children.push(e)):r.children.push(new hr("")),[r]}visitPlaceholder(e,t){const n=(this._nextPlaceholderId++).toString();return[new ur(Ad,{id:n,equiv:e.name,disp:`{{${e.value}}}`})]}visitIcuPlaceholder(e,t){const n=Object.keys(e.value.cases).map(e=>e+" {...}").join(" "),r=(this._nextPlaceholderId++).toString();return[new ur(Ad,{id:r,equiv:e.name,disp:`{${e.value.expression}, ${e.value.type}, ${n}}`})]}serialize(e){return this._nextPlaceholderId=0,[].concat(...e.map(e=>e.visit(this)))}}class Md{constructor(){this._locale=null}parse(e,t){this._unitMlString=null,this._msgIdToHtml={};const n=(new _d).parse(e,t);return this._errors=n.errors,Ha(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case Id:this._unitMlString=null;const t=e.attrs.find(e=>"id"===e.name);if(t){const n=t.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,`Duplicated translations for msg ${n}`):(Ha(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,`Message ${n} misses a translation`))}else this._addError(e,'<unit> misses the "id" attribute');break;case Od:break;case"target":const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._unitMlString=i;break;case Dd:const s=e.attrs.find(e=>"trgLang"===e.name);s&&(this._locale=s.value);const o=e.attrs.find(e=>"version"===e.name);if(o){const t=o.value;"2.0"!==t?this._addError(e,`The XLIFF file version ${t} is not compatible with XLIFF 2.0 serializer`):Ha(this,e.children,null)}break;default:Ha(this,e.children,null)}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}class Rd{convert(e,t){const n=(new _d).parse(e,t,{tokenizeExpansionForms:!0});this._errors=n.errors;return{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...Ha(this,n.rootNodes)),errors:this._errors}}visitText(e,t){return new In(e.value,e.sourceSpan)}visitElement(e,t){switch(e.name){case Ad:const t=e.attrs.find(e=>"equiv"===e.name);if(t)return[new Rn("",t.value,e.sourceSpan)];this._addError(e,'<ph> misses the "equiv" attribute');break;case"pc":const n=e.attrs.find(e=>"equivStart"===e.name),r=e.attrs.find(e=>"equivEnd"===e.name);if(n){if(r){const t=n.value,i=r.value;return[].concat(new Rn("",t,e.sourceSpan),...e.children.map(e=>e.visit(this,null)),new Rn("",i,e.sourceSpan))}this._addError(e,'<ph> misses the "equivEnd" attribute')}else this._addError(e,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat(...Ha(this,e.children));default:this._addError(e,"Unexpected tag")}return null}visitExpansion(e,t){const n={};return Ha(this,e.cases).forEach(t=>{n[t.value]=new Nn(t.nodes,e.sourceSpan)}),new Pn(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:[].concat(...Ha(this,e.expression))}}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}const Ld="translationbundle",Fd="translation";class jd extends ir{write(e,t){throw new Error("Unsupported")}load(e,t){const n=new Bd,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new Vd;if(Object.keys(i).forEach(e=>{!function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){const r=n();return Object.defineProperty(e,t,{enumerable:!0,value:r}),r},set:e=>{throw new Error("Could not overwrite an XTB translation")}})}(o,e,function(){const{i18nNodes:n,errors:r}=a.convert(i[e],t);if(r.length)throw new Error(`xtb parse errors:\n${r.join("\n")}`);return n})}),s.length)throw new Error(`xtb parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return br(e)}createNameMapper(e){return new sr(e,xr)}}class Bd{constructor(){this._locale=null}parse(e,t){this._bundleDepth=0,this._msgIdToHtml={};const n=(new _d).parse(e,t);return this._errors=n.errors,Ha(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case Ld:this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<translationbundle> elements can not be nested");const t=e.attrs.find(e=>"lang"===e.name);t&&(this._locale=t.value),Ha(this,e.children,null),this._bundleDepth--;break;case Fd:const n=e.attrs.find(e=>"id"===e.name);if(n){const t=n.value;if(this._msgIdToHtml.hasOwnProperty(t))this._addError(e,`Duplicated translations for msg ${t}`);else{const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._msgIdToHtml[t]=i}}else this._addError(e,'<translation> misses the "id" attribute');break;default:this._addError(e,"Unexpected tag")}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}class Vd{convert(e,t){const n=(new _d).parse(e,t,{tokenizeExpansionForms:!0});this._errors=n.errors;return{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:Ha(this,n.rootNodes),errors:this._errors}}visitText(e,t){return new In(e.value,e.sourceSpan)}visitExpansion(e,t){const n={};return Ha(this,e.cases).forEach(t=>{n[t.value]=new Nn(t.nodes,e.sourceSpan)}),new Pn(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:Ha(this,e.expression)}}visitElement(e,t){if("ph"===e.name){const t=e.attrs.find(e=>"name"===e.name);if(t)return new Rn("",t.value,e.sourceSpan);this._addError(e,'<ph> misses the "name" attribute')}else this._addError(e,"Unexpected tag");return null}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}class zd{constructor(e={},t,n,r,i=X.Warning,s){this._i18nNodesByMsgId=e,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new Ud(e,t,n,r,i,s)}static load(e,t,n,r,i){const{locale:s,i18nNodesByMsgId:o}=n.load(e,t);return new zd(o,s,e=>n.digest(e),e=>n.createNameMapper(e),r,i)}get(e){const t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes}has(e){return this.digest(e)in this._i18nNodesByMsgId}}class Ud{constructor(e={},t,n,r,i,s){this._i18nNodesByMsgId=e,this._locale=t,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=s,this._contextStack=[],this._errors=[]}convert(e){this._contextStack.length=0,this._errors.length=0;const t=this._convertToText(e),n=e.nodes[0].sourceSpan.start.file.url,r=(new fl).parse(t,n,{tokenizeExpansionForms:!0});return{nodes:r.rootNodes,errors:[...this._errors,...r.errors]}}visitText(e,t){return fr(e.value)}visitContainer(e,t){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${this._srcMsg.placeholders.hasOwnProperty(e.expression)?this._srcMsg.placeholders[e.expression].text:e.expression}, ${e.type}, ${n.join(" ")}}`}visitPlaceholder(e,t){const n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n].text:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,`Unknown placeholder "${e.name}"`),"")}visitTagPlaceholder(e,t){const n=`${e.tag}`,r=Object.keys(e.attrs).map(t=>`${t}="${e.attrs[t]}"`).join(" ");if(e.isVoid)return`<${n} ${r}/>`;return`<${n} ${r}>${e.children.map(e=>e.visit(this)).join("")}</${n}>`}visitIcuPlaceholder(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])}_convertToText(e){const t=this._digest(e),n=this._mapperFactory?this._mapperFactory(e):null;let r;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(t))r=this._i18nNodesByMsgId[t],this._mapper=e=>n?n.toInternalName(e):e;else{if(this._missingTranslationStrategy===X.Error){const n=this._locale?` for locale "${this._locale}"`:"";this._addError(e.nodes[0],`Missing translation for message "${t}"${n}`)}else if(this._console&&this._missingTranslationStrategy===X.Warning){const e=this._locale?` for locale "${this._locale}"`:"";this._console.warn(`Missing translation for message "${t}"${e}`)}r=e.nodes,this._mapper=e=>e}const i=r.map(e=>e.visit(this)).join(""),s=this._contextStack.pop();return this._srcMsg=s.msg,this._mapper=s.mapper,i}_addError(e,t){this._errors.push(new Mu(e.sourceSpan,t))}}class Hd{constructor(e,t,n,r=X.Warning,i){if(this._htmlParser=e,t){const e=function(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new yr;case"xtb":return new jd;case"xliff2":case"xlf2":return new Nd;case"xliff":case"xlf":default:return new Cd}}(n);this._translationBundle=zd.load(t,"i18n",e,r,i)}else this._translationBundle=new zd({},null,Bn,void 0,r,i)}parse(e,t,n={}){const r=n.interpolationConfig||Fi,i=this._htmlParser.parse(e,t,Object.assign({interpolationConfig:r},n));return i.errors.length?new ul(i.rootNodes,i.errors):function(e,t,n,r,i){return new gd(r,i).merge(e,t,n)}(i.rootNodes,this._translationBundle,r,[],{})}}function $d(e,t,n=null){return Kt(t,new qd(e),n)}class qd{constructor(e){this.ctx=e}visitArray(e,t){const n=[];for(let r=0;r<e.length;++r)n.push(Kt(e[r],this,null));return Dt(n,t)}visitStringMap(e,t){const n=[],r=new Set(e&&e.$quoted$);return Object.keys(e).forEach(t=>{n.push(new Qe(t,Kt(e[t],this,null),r.has(t)))}),new Je(n,t)}visitPrimitive(e,t){return Mt(e,t)}visitOther(e,t){return e instanceof ye?e:this.ctx.importExpr(e)}}function Gd(e,t=!1){const n=Wd(e,t);return`${n[0]}.ngfactory${Xd(n[1])}`}function Wd(e,t=!1){if(e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];const n=e.lastIndexOf(".");return-1!==n?[e.substring(0,n),e.substring(n)]:[e,""]}function Xd(e){return".tsx"===e?".ts":e}var Yd;!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(Yd||(Yd={}));const Kd=[Yd.OnInit,Yd.OnDestroy,Yd.DoCheck,Yd.OnChanges,Yd.AfterContentInit,Yd.AfterContentChecked,Yd.AfterViewInit,Yd.AfterViewChecked];function Zd(e,t,n){return e.hasLifecycleHook(n,function(e){switch(e){case Yd.OnInit:return"ngOnInit";case Yd.OnDestroy:return"ngOnDestroy";case Yd.DoCheck:return"ngDoCheck";case Yd.OnChanges:return"ngOnChanges";case Yd.AfterContentInit:return"ngAfterContentInit";case Yd.AfterContentChecked:return"ngAfterContentChecked";case Yd.AfterViewInit:return"ngAfterViewInit";case Yd.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error(`unexpected ${e}`)}}(t))}class Qd{constructor(e,t,n,r,i,s,o,a,l,c,u,h){this._config=e,this._htmlParser=t,this._ngModuleResolver=n,this._directiveResolver=r,this._pipeResolver=i,this._summaryResolver=s,this._schemaRegistry=o,this._directiveNormalizer=a,this._console=l,this._staticSymbolCache=c,this._reflector=u,this._errorCollector=h,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}getReflector(){return this._reflector}clearCacheFor(e){const t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)}clearCache(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}_createProxyClass(e,t){let n=null;const r=function(){if(!n)throw new Error(`Illegal state: Class ${t} for type ${un(e)} is not compiled yet!`);return n.apply(this,arguments)};return r.setDelegate=e=>{n=e,r.prototype=e.prototype},r.overriddenName=t,r}getGeneratedClass(e,t){return e instanceof ji?this._staticSymbolCache.get(Gd(e.filePath),t):this._createProxyClass(e,t)}getComponentViewClass(e){return this.getGeneratedClass(e,qi(e,0))}getHostComponentViewClass(e){return this.getGeneratedClass(e,`HostView_${Hi({reference:e})}`)}getHostComponentType(e){const t=`${Hi({reference:e})}_Host`;return e instanceof ji?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)}getRendererType(e){return e instanceof ji?this._staticSymbolCache.get(Gd(e.filePath),Gi(e)):{}}getComponentFactory(e,t,n,r){if(t instanceof ji)return this._staticSymbolCache.get(Gd(t.filePath),Wi(t));{const i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(No.createComponentFactory)(e,t,i,n,r,[])}}initComponentFactory(e,t){e instanceof ji||e.ngContentSelectors.push(...t)}_loadSummary(e,t){let n=this._summaryCache.get(e);if(!n){const t=this._summaryResolver.resolveSummary(e);n=t?t.type:null,this._summaryCache.set(e,n||null)}return n&&n.summaryKind===t?n:null}getHostComponentMetadata(e,t){const n=this.getHostComponentType(e.type.reference);t||(t=this.getHostComponentViewClass(n));const r=v.parse(e.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return Ji.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new Qi({encapsulation:O.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:I.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:O.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}loadDirectiveMetadata(e,t,n){if(this._directiveCache.has(t))return null;t=hn(t);const{annotation:r,metadata:i}=this.getNonNormalizedDirectiveMetadata(t),s=e=>{const n=new Ji({isHost:!1,type:i.type,isComponent:i.isComponent,selector:i.selector,exportAs:i.exportAs,changeDetection:i.changeDetection,inputs:i.inputs,outputs:i.outputs,hostListeners:i.hostListeners,hostProperties:i.hostProperties,hostAttributes:i.hostAttributes,providers:i.providers,viewProviders:i.viewProviders,queries:i.queries,guards:i.guards,viewQueries:i.viewQueries,entryComponents:i.entryComponents,componentViewType:i.componentViewType,rendererType:i.rendererType,componentFactory:i.componentFactory,template:e});return e&&this.initComponentFactory(i.componentFactory,e.ngContentSelectors),this._directiveCache.set(t,n),this._summaryCache.set(t,n.toSummary()),null};if(i.isComponent){const o=i.template,a=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:t,moduleUrl:this._reflector.componentModuleUrl(t,r),encapsulation:o.encapsulation,template:o.template,templateUrl:o.templateUrl,styles:o.styles,styleUrls:o.styleUrls,animations:o.animations,interpolation:o.interpolation,preserveWhitespaces:o.preserveWhitespaces});return dn(a)&&n?(this._reportError(function(e){const t=Error(`Can't compile synchronously as ${un(e)} is still being loaded!`);return t.ngComponentType=e,t}(t),t),null):tn(a,s)}return s(null),null}getNonNormalizedDirectiveMetadata(e){if(!(e=hn(e)))return null;let t=this._nonNormalizedDirectiveCache.get(e);if(t)return t;const n=this._directiveResolver.resolve(e,!1);if(!n)return null;let r;if(N.isTypeOf(n)){const e=n;Pi("styles",e.styles),Pi("styleUrls",e.styleUrls),Ri("interpolation",e.interpolation);const t=e.animations;r=new Qi({encapsulation:Qt(e.encapsulation),template:Qt(e.template),templateUrl:Qt(e.templateUrl),htmlAst:null,styles:e.styles||[],styleUrls:e.styleUrls||[],animations:t||[],interpolation:Qt(e.interpolation),isInline:!!e.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:Qt(n.preserveWhitespaces)})}let i=null,s=[],o=[],a=n.selector;if(N.isTypeOf(n)){const t=n;i=t.changeDetection,t.viewProviders&&(s=this._getProvidersMetadata(t.viewProviders,o,`viewProviders for "${rp(e)}"`,[],e)),t.entryComponents&&(o=ep(t.entryComponents).map(e=>this._getEntryComponentMetadata(e)).concat(o)),a||(a=this._schemaRegistry.getDefaultComponentElementName())}else a||(a=null);let l=[];null!=n.providers&&(l=this._getProvidersMetadata(n.providers,o,`providers for "${rp(e)}"`,[],e));let c=[],u=[];null!=n.queries&&(c=this._getQueriesMetadata(n.queries,!1,e),u=this._getQueriesMetadata(n.queries,!0,e));const h=Ji.create({isHost:!1,selector:a,exportAs:Qt(n.exportAs),isComponent:!!r,type:this._getTypeMetadata(e),template:r,changeDetection:i,inputs:n.inputs||[],outputs:n.outputs||[],host:n.host||{},providers:l||[],viewProviders:s||[],queries:c||[],guards:n.guards||{},viewQueries:u||[],entryComponents:o,componentViewType:r?this.getComponentViewClass(e):null,rendererType:r?this.getRendererType(e):null,componentFactory:null});return r&&(h.componentFactory=this.getComponentFactory(a,e,h.inputs,h.outputs)),t={metadata:h,annotation:n},this._nonNormalizedDirectiveCache.set(e,t),t}getDirectiveMetadata(e){const t=this._directiveCache.get(e);return t||this._reportError(sn(`Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ${rp(e)}.`),e),t}getDirectiveSummary(e){const t=this._loadSummary(e,Xi.Directive);return t||this._reportError(sn(`Illegal state: Could not load the summary for directive ${rp(e)}.`),e),t}isDirective(e){return!!this._loadSummary(e,Xi.Directive)||this._directiveResolver.isDirective(e)}isAbstractDirective(e){const t=this._loadSummary(e,Xi.Directive);if(t&&!t.isComponent)return!t.selector;const n=this._directiveResolver.resolve(e,!1);return!(!n||N.isTypeOf(n))&&!n.selector}isPipe(e){return!!this._loadSummary(e,Xi.Pipe)||this._pipeResolver.isPipe(e)}isNgModule(e){return!!this._loadSummary(e,Xi.NgModule)||this._ngModuleResolver.isNgModule(e)}getNgModuleSummary(e,t=null){let n=this._loadSummary(e,Xi.NgModule);if(!n){const r=this.getNgModuleMetadata(e,!1,t);n=r?r.toSummary():null,n&&this._summaryCache.set(e,n)}return n}loadNgModuleDirectiveAndPipeMetadata(e,t,n=!0){const r=this.getNgModuleMetadata(e,n),i=[];return r&&(r.declaredDirectives.forEach(n=>{const r=this.loadDirectiveMetadata(e,n.reference,t);r&&i.push(r)}),r.declaredPipes.forEach(e=>this._loadPipeMetadata(e.reference))),Promise.all(i)}getShallowModuleMetadata(e){let t=this._shallowModuleCache.get(e);if(t)return t;const n=ld(this._reflector.shallowAnnotations(e),j.isTypeOf);return t={type:this._getTypeMetadata(e),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(e,t),t}getNgModuleMetadata(e,t=!0,n=null){e=hn(e);let r=this._ngModuleCache.get(e);if(r)return r;const i=this._ngModuleResolver.resolve(e,t);if(!i)return null;const s=[],o=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[];i.imports&&ep(i.imports).forEach(t=>{let r;if(tp(t))r=t;else if(t&&t.ngModule){const e=t;r=e.ngModule,e.providers&&u.push(...this._getProvidersMetadata(e.providers,h,`provider for the NgModule '${rp(r)}'`,[],t))}if(r){if(this._checkSelfImport(e,r))return;if(n||(n=new Set),n.has(r))return void this._reportError(sn(`${this._getTypeDescriptor(r)} '${rp(t)}' is imported recursively by the module '${rp(e)}'.`),e);n.add(r);const i=this.getNgModuleSummary(r,n);if(n.delete(r),!i){const n=sn(`Unexpected ${this._getTypeDescriptor(t)} '${rp(t)}' imported by the module '${rp(e)}'. Please add a @NgModule annotation.`);return t instanceof ji&&(n.ngMissingNgModuleMetadataErrorData={fileName:t.filePath,className:t.name}),void this._reportError(n,e)}l.push(i)}else this._reportError(sn(`Unexpected value '${rp(t)}' imported by the module '${rp(e)}'`),e)}),i.exports&&ep(i.exports).forEach(t=>{if(!tp(t))return void this._reportError(sn(`Unexpected value '${rp(t)}' exported by the module '${rp(e)}'`),e);if(n||(n=new Set),n.has(t))return void this._reportError(sn(`${this._getTypeDescriptor(t)} '${un(t)}' is exported recursively by the module '${rp(e)}'`),e);n.add(t);const r=this.getNgModuleSummary(t,n);n.delete(t),r?c.push(r):o.push(this._getIdentifierMetadata(t))});const f=this._getTransitiveNgModuleMetadata(l,c);i.declarations&&ep(i.declarations).forEach(t=>{if(!tp(t))return void this._reportError(sn(`Unexpected value '${rp(t)}' declared by the module '${rp(e)}'`),e);const n=this._getIdentifierMetadata(t);if(this.isDirective(t))this.isAbstractDirective(t)&&this._reportError(sn(`Directive ${rp(t)} has no selector, please add it!`),t),f.addDirective(n),s.push(n),this._addTypeToModule(t,e);else{if(!this.isPipe(t))return void this._reportError(sn(`Unexpected ${this._getTypeDescriptor(t)} '${rp(t)}' declared by the module '${rp(e)}'. Please add a @Pipe/@Directive/@Component annotation.`),e);f.addPipe(n),f.pipes.push(n),a.push(n),this._addTypeToModule(t,e)}});const g=[],m=[];return o.forEach(t=>{if(f.directivesSet.has(t.reference))g.push(t),f.addExportedDirective(t);else{if(!f.pipesSet.has(t.reference))return void this._reportError(sn(`Can't export ${this._getTypeDescriptor(t.reference)} ${rp(t.reference)} from ${rp(e)} as it was neither declared nor imported!`),e);m.push(t),f.addExportedPipe(t)}}),i.providers&&u.push(...this._getProvidersMetadata(i.providers,h,`provider for the NgModule '${rp(e)}'`,[],e)),i.entryComponents&&h.push(...ep(i.entryComponents).map(e=>this._getEntryComponentMetadata(e))),i.bootstrap&&ep(i.bootstrap).forEach(t=>{tp(t)?d.push(this._getIdentifierMetadata(t)):this._reportError(sn(`Unexpected value '${rp(t)}' used in the bootstrap property of module '${rp(e)}'`),e)}),h.push(...d.map(e=>this._getEntryComponentMetadata(e.reference))),i.schemas&&p.push(...ep(i.schemas)),r=new ts({type:this._getTypeMetadata(e),providers:u,entryComponents:h,bootstrapComponents:d,schemas:p,declaredDirectives:s,exportedDirectives:g,declaredPipes:a,exportedPipes:m,importedModules:l,exportedModules:c,transitiveModule:f,id:i.id||null}),h.forEach(e=>f.addEntryComponent(e)),u.forEach(e=>f.addProvider(e,r.type)),f.addModule(r.type),this._ngModuleCache.set(e,r),r}_checkSelfImport(e,t){return e===t&&(this._reportError(sn(`'${rp(e)}' module can't import itself`),e),!0)}_getTypeDescriptor(e){if(tp(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"}_addTypeToModule(e,t){const n=this._ngModuleOfTypes.get(e);n&&n!==t?this._reportError(sn(`Type ${rp(e)} is part of the declarations of 2 modules: ${rp(n)} and ${rp(t)}! Please consider moving ${rp(e)} to a higher module that imports ${rp(n)} and ${rp(t)}. You can also create a new NgModule that exports and includes ${rp(e)} then import that NgModule in ${rp(n)} and ${rp(t)}.`),t):this._ngModuleOfTypes.set(e,t)}_getTransitiveNgModuleMetadata(e,t){const n=new ns,r=new Map;return e.concat(t).forEach(e=>{e.modules.forEach(e=>n.addModule(e)),e.entryComponents.forEach(e=>n.addEntryComponent(e));const t=new Set;e.providers.forEach(e=>{const i=Ki(e.provider.token);let s=r.get(i);s||(s=new Set,r.set(i,s));const o=e.module.reference;!t.has(i)&&s.has(o)||(s.add(o),t.add(i),n.addProvider(e.provider,e.module))})}),t.forEach(e=>{e.exportedDirectives.forEach(e=>n.addExportedDirective(e)),e.exportedPipes.forEach(e=>n.addExportedPipe(e))}),e.forEach(e=>{e.exportedDirectives.forEach(e=>n.addDirective(e)),e.exportedPipes.forEach(e=>n.addPipe(e))}),n}_getIdentifierMetadata(e){return{reference:e=hn(e)}}isInjectable(e){return this._reflector.tryAnnotations(e).some(e=>B.isTypeOf(e))}getInjectableSummary(e){return{summaryKind:Xi.Injectable,type:this._getTypeMetadata(e,null,!1)}}getInjectableMetadata(e,t=null,n=!0){const r=this._loadSummary(e,Xi.Injectable),i=r?r.type:this._getTypeMetadata(e,t,n),s=this._reflector.annotations(e).filter(e=>B.isTypeOf(e));if(0===s.length)return null;const o=s[s.length-1];return{symbol:e,type:i,providedIn:o.providedIn,useValue:o.useValue,useClass:o.useClass,useExisting:o.useExisting,useFactory:o.useFactory,deps:o.deps}}_getTypeMetadata(e,t=null,n=!0){const r=this._getIdentifierMetadata(e);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,t,n),lifecycleHooks:(i=this._reflector,s=r.reference,Kd.filter(e=>Zd(i,e,s)))};var i,s}_getFactoryMetadata(e,t=null){return{reference:e=hn(e),diDeps:this._getDependenciesMetadata(e,t)}}getPipeMetadata(e){const t=this._pipeCache.get(e);return t||this._reportError(sn(`Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ${rp(e)}.`),e),t||null}getPipeSummary(e){const t=this._loadSummary(e,Xi.Pipe);return t||this._reportError(sn(`Illegal state: Could not load the summary for pipe ${rp(e)}.`),e),t}getOrLoadPipeMetadata(e){let t=this._pipeCache.get(e);return t||(t=this._loadPipeMetadata(e)),t}_loadPipeMetadata(e){e=hn(e);const t=this._pipeResolver.resolve(e),n=new es({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,n),this._summaryCache.set(e,n.toSummary()),n}_getDependenciesMetadata(e,t,n=!0){let r=!1;const i=(t||this._reflector.parameters(e)||[]).map(e=>{let t=!1,n=!1,i=!1,s=!1,o=!1,a=null;return Array.isArray(e)?e.forEach(e=>{q.isTypeOf(e)?n=!0:H.isTypeOf(e)?i=!0:$.isTypeOf(e)?s=!0:U.isTypeOf(e)?o=!0:E.isTypeOf(e)?(t=!0,a=e.attributeName):w.isTypeOf(e)?a=e.token:(x.isTypeOf(e)||e instanceof ji||tp(e)&&null==a)&&(a=e)}):a=e,null==a?(r=!0,{}):{isAttribute:t,isHost:n,isSelf:i,isSkipSelf:s,isOptional:o,token:this._getTokenMetadata(a)}});if(r){const t=i.map(e=>e.token?rp(e.token):"?").join(", "),r=`Can't resolve all parameters for ${rp(e)}: (${t}).`;(n||this._config.strictInjectionParameters)&&this._reportError(sn(r),e)}return i}_getTokenMetadata(e){let t;return t="string"==typeof(e=hn(e))?{value:e}:{identifier:{reference:e}},t}_getProvidersMetadata(e,t,n,r=[],i){return e.forEach((s,o)=>{if(Array.isArray(s))this._getProvidersMetadata(s,t,n,r);else{let a;if((s=hn(s))&&"object"==typeof s&&s.hasOwnProperty("provide"))this._validateProvider(s),a=new is(s.provide,s);else{if(!tp(s)){if(void 0===s)return void this._reportError(sn("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));{const t=e.reduce((e,t,n)=>(n<o?e.push(`${rp(t)}`):n==o?e.push(`?${rp(t)}?`):n==o+1&&e.push("..."),e),[]).join(", ");return void this._reportError(sn(`Invalid ${n||"provider"} - only instances of Provider and Type are allowed, got: [${t}]`),i)}}a=new is(s,{useClass:s})}a.token===this._reflector.resolveExternalReference(No.ANALYZE_FOR_ENTRY_COMPONENTS)?t.push(...this._getEntryComponentsFromProvider(a,i)):r.push(this.getProviderMetadata(a))}}),r}_validateProvider(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(sn(`Invalid provider for ${rp(e.provide)}. useClass cannot be ${e.useClass}.\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.`))}_getEntryComponentsFromProvider(e,t){const n=[],r=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(sn("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(i=e.useValue,s=r,Kt(i,new np,s),r.forEach(e=>{const t=this._getEntryComponentMetadata(e.reference,!1);t&&n.push(t)}),n):(this._reportError(sn("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[]);var i,s}_getEntryComponentMetadata(e,t=!0){const n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};const r=this._loadSummary(e,Xi.Directive);if(r&&r.isComponent)return{componentType:e,componentFactory:r.componentFactory};if(t)throw sn(`${e.name} cannot be used as an entry component.`);return null}_getInjectableTypeMetadata(e,t=null){const n=this._loadSummary(e,Xi.Injectable);return n?n.type:this._getTypeMetadata(e,t)}getProviderMetadata(e){let t,n=null,r=null,i=this._getTokenMetadata(e.token);return e.useClass?(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies),t=n.diDeps,e.token===e.useClass&&(i={identifier:n})):e.useFactory&&(r=this._getFactoryMetadata(e.useFactory,e.dependencies),t=r.diDeps),{token:i,useClass:n,useValue:e.useValue,useFactory:r,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}}_getQueriesMetadata(e,t,n){const r=[];return Object.keys(e).forEach(i=>{const s=e[i];s.isViewQuery===t&&r.push(this._getQueryMetadata(s,i,n))}),r}_queryVarBindings(e){return e.split(/\s*,\s*/)}_getQueryMetadata(e,t,n){let r;return"string"==typeof e.selector?r=this._queryVarBindings(e.selector).map(e=>this._getTokenMetadata(e)):e.selector?r=[this._getTokenMetadata(e.selector)]:(this._reportError(sn(`Can't construct a query for the property "${t}" of "${rp(n)}" since the query selector wasn't defined.`),n),r=[]),{selectors:r,first:e.first,descendants:e.descendants,emitDistinctChangesOnly:e.emitDistinctChangesOnly,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null,static:e.static}}_reportError(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)}}function Jd(e,t=[]){if(e)for(let n=0;n<e.length;n++){const r=hn(e[n]);Array.isArray(r)?Jd(r,t):t.push(r)}return t}function ep(e){return(t=Jd(e))?Array.from(new Set(t)):[];var t}function tp(e){return e instanceof ji||e instanceof G}class np extends Jt{visitOther(e,t){t.push({reference:e})}}function rp(e){return e instanceof ji?`${e.name} in ${e.filePath}`:un(e)}function ip(e,t){let n=0;t.eager||(n|=4096),t.providerType===Vl.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach(e=>{e!==Yd.OnDestroy&&t.providerType!==Vl.Directive&&t.providerType!==Vl.Component||(n|=lp(e))});const{providerExpr:r,flags:i,depsExpr:s}=t.multiProvider?function(e,t,n){const r=[],i=[],s=n.map((t,n)=>{let r;if(t.useClass){const i=o(n,t.deps||t.useClass.diDeps);r=e.importExpr(t.useClass.reference).instantiate(i)}else if(t.useFactory){const i=o(n,t.deps||t.useFactory.diDeps);r=e.importExpr(t.useFactory.reference).callFn(i)}else if(t.useExisting){r=o(n,[{token:t.useExisting}])[0]}else r=$d(e,t.useValue);return r});return{providerExpr:It(i,[new ut(Dt(s))],oe),flags:1024|t,depsExpr:Dt(r)};function o(t,n){return n.map((n,s)=>{const o=`p${t}_${s}`;return i.push(new qe(o,se)),r.push(ap(e,n)),Ct(o)})}}(e,n,t.providers):sp(e,n,t.providerType,t.providers[0]);return{providerExpr:r,flags:i,depsExpr:s,tokenExpr:op(e,t.token)}}function sp(e,t,n,r){let i,s;n===Vl.Directive||n===Vl.Component?(i=e.importExpr(r.useClass.reference),t|=16384,s=r.deps||r.useClass.diDeps):r.useClass?(i=e.importExpr(r.useClass.reference),t|=512,s=r.deps||r.useClass.diDeps):r.useFactory?(i=e.importExpr(r.useFactory.reference),t|=1024,s=r.deps||r.useFactory.diDeps):r.useExisting?(i=tt,t|=2048,s=[{token:r.useExisting}]):(i=$d(e,r.useValue),t|=256,s=[]);return{providerExpr:i,flags:t,depsExpr:Dt(s.map(t=>ap(e,t)))}}function op(e,t){return t.identifier?e.importExpr(t.identifier.reference):Mt(t.value)}function ap(e,t){const n=t.isValue?$d(e,t.value):op(e,t.token);let r=0;return t.isSkipSelf&&(r|=1),t.isOptional&&(r|=2),t.isSelf&&(r|=4),t.isValue&&(r|=8),0===r?n:Dt([Mt(r),n])}function lp(e){let t=0;switch(e){case Yd.AfterContentChecked:t=2097152;break;case Yd.AfterContentInit:t=1048576;break;case Yd.AfterViewChecked:t=8388608;break;case Yd.AfterViewInit:t=4194304;break;case Yd.DoCheck:t=262144;break;case Yd.OnChanges:t=524288;break;case Yd.OnDestroy:t=131072;break;case Yd.OnInit:t=65536}return t}function cp(e,t,n,r){const i=r.map(e=>t.importExpr(e.componentFactory)),s=Mo(e,No.ComponentFactoryResolver),o={diDeps:[{isValue:!0,value:Dt(i)},{token:s,isSkipSelf:!0,isOptional:!0},{token:Mo(e,No.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(No.CodegenComponentFactoryResolver)},{providerExpr:a,flags:l,depsExpr:c}=sp(t,n,Vl.PrivateService,{token:s,multi:!1,useClass:o});return{providerExpr:a,flags:l,depsExpr:c,tokenExpr:op(t,s)}}class up{constructor(e){this.ngModuleFactoryVar=e}}const hp=Ct("_l");class dp{constructor(e){this.reflector=e}compile(e,t,n){const r=function(e,t){const n=$i(t),r=null!=n?`in ${e} ${Hi(t)} in ${n}`:`in ${e} ${Hi(t)}`,i=new Rs("",r);return new Ls(new Ms(i,-1,-1,-1),new Ms(i,-1,-1,-1))}("NgModule",t.type),i=t.transitiveModule.entryComponents,s=t.bootstrapComponents,o=new Gl(this.reflector,t,n,r),a=[cp(this.reflector,e,0,i)].concat(o.parse().map(t=>ip(e,t))).map(({providerExpr:e,depsExpr:t,flags:n,tokenExpr:r})=>St(No.moduleProviderDef).callFn([Mt(n),r,e,t])),l=St(No.moduleDef).callFn([Dt(a)]),c=It([new qe(hp.name)],[new ut(l)],oe),u=`${Hi(t.type)}NgFactory`;if(this._createNgModuleFactory(e,t.type.reference,St(No.createModuleFactory).callFn([e.importExpr(t.type.reference),Dt(s.map(t=>e.importExpr(t.reference))),c])),t.id){const n="string"==typeof t.id?Mt(t.id):e.importExpr(t.id),r=St(No.RegisterModuleFactoryFn).callFn([n,Ct(u)]).toStmt();e.statements.push(r)}return new up(u)}createStub(e,t){this._createNgModuleFactory(e,t,tt)}_createNgModuleFactory(e,t,n){const r=Ct(`${Hi({reference:t})}NgFactory`).set(n).toDeclStmt(kt(No.NgModuleFactory,[Tt(e.importExpr(t))],[Q.Const]),[rt.Final,rt.Exported]);e.statements.push(r)}}class pp{constructor(e){this._reflector=e}isNgModule(e){return this._reflector.annotations(e).some(j.isTypeOf)}resolve(e,t=!0){const n=ld(this._reflector.annotations(e),j.isTypeOf);if(n)return n;if(t)throw new Error(`No NgModule metadata found for '${un(e)}'.`);return null}}class fp extends di{constructor(e,t){super(!1),this.referenceFilter=e,this.importFilter=t,this.typeExpression=0,this.importsWithPrefixes=new Map,this.reexports=new Map}visitType(e,t,n="any"){e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)}visitLiteralExpr(e,t){const n=e.value;return null==n&&e.type!=oe?(t.print(e,`(${n} as any)`),null):super.visitLiteralExpr(e,t)}visitLiteralArrayExpr(e,t){0===e.entries.length&&t.print(e,"(");const n=super.visitLiteralArrayExpr(e,t);return 0===e.entries.length&&t.print(e," as any[])"),n}visitExternalExpr(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null}visitAssertNotNullExpr(e,t){const n=super.visitAssertNotNullExpr(e,t);return t.print(e,"!"),n}visitDeclareVarStmt(e,t){if(e.hasModifier(rt.Exported)&&e.value instanceof Ve&&!e.type){const{name:t,moduleName:n}=e.value.value;if(n){let r=this.reexports.get(n);return r||(r=[],this.reexports.set(n,r)),r.push({name:t,as:e.name}),null}}return e.hasModifier(rt.Exported)&&t.print(e,"export "),e.hasModifier(rt.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e,` ${e.name}`),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitWrappedNodeExpr(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}visitCastExpr(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null}visitInstantiateExpr(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitDeclareClassStmt(e,t){return t.pushClass(e),e.hasModifier(rt.Exported)&&t.print(e,"export "),t.print(e,`class ${e.name}`),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach(e=>this._visitClassField(e,t)),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach(e=>this._visitClassGetter(e,t)),e.methods.forEach(e=>this._visitClassMethod(e,t)),t.decIndent(),t.println(e,"}"),t.popClass(),null}_visitClassField(e,t){e.hasModifier(rt.Private)&&t.print(null,"/*private*/ "),e.hasModifier(rt.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")}_visitClassGetter(e,t){e.hasModifier(rt.Private)&&t.print(null,"private "),t.print(null,`get ${e.name}()`),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}_visitClassConstructor(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")}_visitClassMethod(e,t){e.hasModifier(rt.Private)&&t.print(null,"private "),t.print(null,`${e.name}(`),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}visitFunctionExpr(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return e.hasModifier(rt.Exported)&&t.print(e,"export "),t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${li.name}) {`),t.incIndent();const n=[ci.set(li.prop("stack",null)).toDeclStmt(null,[rt.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}visitBuiltinType(e,t){let n;switch(e.name){case J.Bool:n="boolean";break;case J.Dynamic:n="any";break;case J.Function:n="Function";break;case J.Number:case J.Int:n="number";break;case J.String:n="string";break;case J.None:n="never";break;default:throw new Error(`Unsupported builtin type ${e.name}`)}return t.print(null,n),null}visitExpressionType(e,t){return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects(e=>this.visitType(e,t),e.typeParams,t,","),t.print(null,">")),null}visitArrayType(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null}visitMapType(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null}getBuiltinMethodName(e){let t;switch(e){case fe.ConcatArray:t="concat";break;case fe.SubscribeObservable:t="subscribe";break;case fe.Bind:t="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return t}_visitParams(e,t){this.visitAllObjects(e=>{t.print(null,e.name),this._printColonType(e.type,t)},e,t,",")}_visitIdentifier(e,t,n){const{name:r,moduleName:i}=e;if(this.referenceFilter&&this.referenceFilter(e))n.print(null,"(null as any)");else{if(i&&(!this.importFilter||!this.importFilter(e))){let e=this.importsWithPrefixes.get(i);null==e&&(e=`i${this.importsWithPrefixes.size}`,this.importsWithPrefixes.set(i,e)),n.print(null,`${e}.`)}if(n.print(null,r),this.typeExpression>0){(t||[]).length>0&&(n.print(null,"<"),this.visitAllObjects(e=>e.visitType(this,n),t,n,","),n.print(null,">"))}}}_printColonType(e,t,n){e!==oe&&(t.print(null,":"),this.visitType(e,t,n))}}class gp{constructor(e){this._reflector=e}isPipe(e){const t=this._reflector.annotations(hn(e));return t&&t.some(P.isTypeOf)}resolve(e,t=!0){const n=this._reflector.annotations(hn(e));if(n){const e=ld(n,P.isTypeOf);if(e)return e}if(t)throw new Error(`No Pipe decorator found on ${un(e)}`);return null}}const mp="_any";new class{notifyImplicitReceiverUse(){}getLocal(e){return e===Ro.event.name?Ct(mp):null}};const vp="class",yp="style";class _p{constructor(e,t){this.viewClassVar=e,this.rendererTypeVar=t}}class bp{constructor(e){this._reflector=e}compileComponent(e,t,n,r,i){let s,o=0;if(!t.isHost){const n=t.template,i=[];n.animations&&n.animations.length&&i.push(new Qe("animation",$d(e,n.animations),!0));const o=Ct(Gi(t.type.reference));s=o.name,e.statements.push(o.set(St(No.createRendererType2).callFn([new Je([new Qe("encapsulation",Mt(n.encapsulation),!1),new Qe("styles",r,!1),new Qe("data",new Je(i),!1)])])).toDeclStmt(kt(No.RendererType2),[rt.Final,rt.Exported]))}const a=n=>{const r=o++;return new Tp(this._reflector,e,n,t,r,i,a)},l=a(null);return l.visitAll([],n),e.statements.push(...l.build()),new _p(l.viewName,s)}}const wp=Ct("_l"),xp=Ct("_v"),Ep=Ct("_ck"),Cp=Ct("_co"),Sp=Ct("en"),kp=Ct("ad");class Tp{constructor(e,t,n,r,i,s,o){this.reflector=e,this.outputCtx=t,this.parent=n,this.component=r,this.embeddedViewIndex=i,this.usedPipes=s,this.viewBuilderFactory=o,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?se:Tt(t.importExpr(this.component.type.reference)),this.viewName=qi(this.component.type.reference,this.embeddedViewIndex)}visitAll(e,t){this.variables=e,this.parent||this.usedPipes.forEach(e=>{e.pure&&(this.purePipeNodeIndices[e.name]=this._createPipe(null,e))}),this.parent||this.component.viewQueries.forEach((e,t)=>{const n=t+1,r=e.first?0:1,i=134217728|Pp(e);this.nodes.push(()=>({sourceSpan:null,nodeFlags:i,nodeDef:St(No.queryDef).callFn([Mt(i),Mt(n),new Je([new Qe(e.propertyName,Mt(r),!1)])])}))}),Ul(this,t),this.parent&&(0===t.length||Ap(t))&&this.nodes.push(()=>({sourceSpan:null,nodeFlags:1,nodeDef:St(No.anchorDef).callFn([Mt(0),tt,tt,Mt(0)])}))}build(e=[]){this.children.forEach(t=>t.build(e));const{updateRendererStmts:t,updateDirectivesStmts:n,nodeDefExprs:r}=this._createNodeExpressions(),i=this._createUpdateFn(t),s=this._createUpdateFn(n);let o=0;this.parent||this.component.changeDetection!==I.OnPush||(o|=2);const a=new lt(this.viewName,[new qe(wp.name)],[new ut(St(No.viewDef).callFn([Mt(o),Dt(r),s,i]))],kt(No.ViewDefinition),0===this.embeddedViewIndex?[rt.Exported]:[]);return e.push(a),e}_createUpdateFn(e){let t;if(e.length>0){const n=[];!this.component.isHost&&_t(e).has(Cp.name)&&n.push(Cp.set(xp.prop("component")).toDeclStmt(this.compType)),t=It([new qe(Ep.name,oe),new qe(xp.name,oe)],[...n,...e],oe)}else t=tt;return t}visitNgContent(e,t){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:St(No.ngContentDef).callFn([Mt(e.ngContentIndex),Mt(e.index)])}))}visitText(e,t){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:St(No.textDef).callFn([Mt(-1),Mt(e.ngContentIndex),Dt([Mt(e.value)])])}))}visitBoundText(e,t){const n=this.nodes.length;this.nodes.push(null);const r=e.value.ast,i=r.expressions.map((t,r)=>this._preprocessUpdateExpression({nodeIndex:n,bindingIndex:r,sourceSpan:e.sourceSpan,context:Cp,value:t})),s=n;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:St(No.textDef).callFn([Mt(s),Mt(e.ngContentIndex),Dt(r.strings.map(e=>Mt(e)))]),updateRenderer:i})}visitEmbeddedTemplate(e,t){const n=this.nodes.length;this.nodes.push(null);const{flags:r,queryMatchesExpr:i,hostEvents:s}=this._visitElementOrTemplate(n,e),o=this.viewBuilderFactory(this);this.children.push(o),o.visitAll(e.variables,e.children);const a=this.nodes.length-n-1;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:1|r,nodeDef:St(No.anchorDef).callFn([Mt(r),i,Mt(e.ngContentIndex),Mt(a),this._createElementHandleEventFn(n,s),Ct(o.viewName)])})}visitElement(e,t){const n=this.nodes.length;this.nodes.push(null);const r=o(e.name)?null:e.name,{flags:i,usedEvents:s,queryMatchesExpr:a,hostBindings:l,hostEvents:c}=this._visitElementOrTemplate(n,e);let u=[],h=[],d=[];if(r){const t=e.inputs.map(e=>({context:Cp,inputAst:e,dirAst:null})).concat(l);t.length&&(h=t.map((e,t)=>this._preprocessUpdateExpression({context:e.context,nodeIndex:n,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})),u=t.map(e=>function(e,t){const n=e.type;switch(n){case 1:return Dt([Mt(1),Mt(e.name),Mt(e.securityContext)]);case 0:return Dt([Mt(8),Mt(e.name),Mt(e.securityContext)]);case 4:return Dt([Mt(8|(t&&t.directive.isComponent?32:16)),Mt("@"+e.name),Mt(e.securityContext)]);case 2:return Dt([Mt(2),Mt(e.name),tt]);case 3:return Dt([Mt(4),Mt(e.name),Mt(e.unit)]);default:throw new Error(`unexpected ${n}`)}}(e.inputAst,e.dirAst))),d=s.map(([e,t])=>Dt([Mt(e),Mt(t)]))}Ul(this,e.children);const p=this.nodes.length-n-1,f=e.directives.find(e=>e.directive.isComponent);let g=tt,m=tt;f&&(m=this.outputCtx.importExpr(f.directive.componentViewType),g=this.outputCtx.importExpr(f.directive.rendererType));const v=n;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:1|i,nodeDef:St(No.elementDef).callFn([Mt(v),Mt(i),a,Mt(e.ngContentIndex),Mt(p),Mt(r),r?Dp(e):tt,u.length?Dt(u):tt,d.length?Dt(d):tt,this._createElementHandleEventFn(n,c),m,g]),updateRenderer:h})}_visitElementOrTemplate(e,t){let n=0;t.hasViewContainer&&(n|=16777216);const r=new Map;t.outputs.forEach(e=>{const{name:t,target:n}=Np(e,null);r.set(Mp(n,t),[n,t])}),t.directives.forEach(e=>{e.hostEvents.forEach(t=>{const{name:n,target:i}=Np(t,e);r.set(Mp(i,n),[i,n])})});const i=[],s=[];this._visitComponentFactoryResolverProvider(t.directives),t.providers.forEach(e=>{let n;if(t.directives.forEach(t=>{t.directive.type.reference===Ki(e.token)&&(n=t)}),n){const{hostBindings:o,hostEvents:a}=this._visitDirective(e,n,t.references,t.queryMatches,r);i.push(...o),s.push(...a)}else this._visitProvider(e,t.queryMatches)});let o=[];return t.queryMatches.forEach(e=>{let t;Ki(e.value)===this.reflector.resolveExternalReference(No.ElementRef)?t=0:Ki(e.value)===this.reflector.resolveExternalReference(No.ViewContainerRef)?t=3:Ki(e.value)===this.reflector.resolveExternalReference(No.TemplateRef)&&(t=2),null!=t&&o.push(Dt([Mt(e.queryId),Mt(t)]))}),t.references.forEach(t=>{let n;t.value?Ki(t.value)===this.reflector.resolveExternalReference(No.TemplateRef)&&(n=2):n=1,null!=n&&(this.refNodeIndices[t.name]=e,o.push(Dt([Mt(t.name),Mt(n)])))}),t.outputs.forEach(e=>{s.push({context:Cp,eventAst:e,dirAst:null})}),{flags:n,usedEvents:Array.from(r.values()),queryMatchesExpr:o.length?Dt(o):tt,hostBindings:i,hostEvents:s}}_visitDirective(e,t,n,r,i){const s=this.nodes.length;this.nodes.push(null),t.directive.queries.forEach((e,n)=>{const r=t.contentQueryStartId+n,i=67108864|Pp(e),s=e.first?0:1;this.nodes.push(()=>({sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:St(No.queryDef).callFn([Mt(i),Mt(r),new Je([new Qe(e.propertyName,Mt(s),!1)])])}))});const o=this.nodes.length-s-1;let{flags:a,queryMatchExprs:l,providerExpr:c,depsExpr:u}=this._visitProviderOrDirective(e,r);n.forEach(t=>{t.value&&Ki(t.value)===Ki(e.token)&&(this.refNodeIndices[t.name]=s,l.push(Dt([Mt(t.name),Mt(4)])))}),t.directive.isComponent&&(a|=32768);const h=t.inputs.map((e,t)=>{const n=Dt([Mt(t),Mt(e.directiveName)]);return new Qe(e.directiveName,n,!1)}),d=[],p=t.directive;Object.keys(p.outputs).forEach(e=>{const t=p.outputs[e];i.has(t)&&d.push(new Qe(e,Mt(t),!1))});let f=[];(t.inputs.length||(327680&a)>0)&&(f=t.inputs.map((e,t)=>this._preprocessUpdateExpression({nodeIndex:s,bindingIndex:t,sourceSpan:e.sourceSpan,context:Cp,value:e.value})));const g=St(No.nodeValue).callFn([xp,Mt(s)]),m=t.hostProperties.map(e=>({context:g,dirAst:t,inputAst:e})),v=t.hostEvents.map(e=>({context:g,eventAst:e,dirAst:t})),y=s;return this.nodes[s]=()=>({sourceSpan:t.sourceSpan,nodeFlags:16384|a,nodeDef:St(No.directiveDef).callFn([Mt(y),Mt(a),l.length?Dt(l):tt,Mt(o),c,u,h.length?new Je(h):tt,d.length?new Je(d):tt]),updateDirectives:f,directive:t.directive.type}),{hostBindings:m,hostEvents:v}}_visitProvider(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))}_visitComponentFactoryResolverProvider(e){const t=e.find(e=>e.directive.isComponent);if(t&&t.directive.entryComponents.length){const{providerExpr:e,depsExpr:n,flags:r,tokenExpr:i}=cp(this.reflector,this.outputCtx,8192,t.directive.entryComponents);this._addProviderNode({providerExpr:e,depsExpr:n,flags:r,tokenExpr:i,queryMatchExprs:[],sourceSpan:t.sourceSpan})}}_addProviderNode(e){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:St(No.providerDef).callFn([Mt(e.flags),e.queryMatchExprs.length?Dt(e.queryMatchExprs):tt,e.tokenExpr,e.providerExpr,e.depsExpr])}))}_visitProviderOrDirective(e,t){let n=[];t.forEach(t=>{Ki(t.value)===Ki(e.token)&&n.push(Dt([Mt(t.queryId),Mt(4)]))});const{providerExpr:r,depsExpr:i,flags:s,tokenExpr:o}=ip(this.outputCtx,e);return{flags:0|s,queryMatchExprs:n,providerExpr:r,depsExpr:i,tokenExpr:o,sourceSpan:e.sourceSpan}}getLocal(e){if(e==Ro.event.name)return Ro.event;let t=xp;for(let n=this;n;n=n.parent,t=t.prop("parent").cast(se)){const r=n.refNodeIndices[e];if(null!=r)return St(No.nodeValue).callFn([t,Mt(r)]);const i=n.variables.find(t=>t.name===e);if(i){const e=i.value||"$implicit";return t.prop("context").prop(e)}}return null}notifyImplicitReceiverUse(){}_createLiteralArrayConverter(e,t){if(0===t){const e=St(No.EMPTY_ARRAY);return()=>e}const n=this.nodes.length;return this.nodes.push(()=>({sourceSpan:e,nodeFlags:32,nodeDef:St(No.pureArrayDef).callFn([Mt(n),Mt(t)])})),e=>Op(n,e)}_createLiteralMapConverter(e,t){if(0===t.length){const e=St(No.EMPTY_MAP);return()=>e}const n=Ot(t.map((e,t)=>Object.assign(Object.assign({},e),{value:Mt(t)}))),r=this.nodes.length;return this.nodes.push(()=>({sourceSpan:e,nodeFlags:64,nodeDef:St(No.pureObjectDef).callFn([Mt(r),n])})),e=>Op(r,e)}_createPipeConverter(e,t,n){const r=this.usedPipes.find(e=>e.name===t);if(r.pure){const r=this.nodes.length;this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:128,nodeDef:St(No.purePipeDef).callFn([Mt(r),Mt(n)])}));let i=xp,s=this;for(;s.parent;)s=s.parent,i=i.prop("parent").cast(se);const o=s.purePipeNodeIndices[t],a=St(No.nodeValue).callFn([i,Mt(o)]);return t=>Ip(e.nodeIndex,e.bindingIndex,Op(r,[a].concat(t)))}{const t=this._createPipe(e.sourceSpan,r),n=St(No.nodeValue).callFn([xp,Mt(t)]);return t=>Ip(e.nodeIndex,e.bindingIndex,n.callMethod("transform",t))}}_createPipe(e,t){const n=this.nodes.length;let r=0;t.type.lifecycleHooks.forEach(e=>{e===Yd.OnDestroy&&(r|=lp(e))});const i=t.type.diDeps.map(e=>ap(this.outputCtx,e));return this.nodes.push(()=>({sourceSpan:e,nodeFlags:16,nodeDef:St(No.pipeDef).callFn([Mt(r),this.outputCtx.importExpr(t.type.reference),Dt(i)])})),n}_preprocessUpdateExpression(e){return{nodeIndex:e.nodeIndex,bindingIndex:e.bindingIndex,sourceSpan:e.sourceSpan,context:e.context,value:jo({createLiteralArrayConverter:t=>this._createLiteralArrayConverter(e.sourceSpan,t),createLiteralMapConverter:t=>this._createLiteralMapConverter(e.sourceSpan,t),createPipeConverter:(t,n)=>this._createPipeConverter(e,t,n)},e.value)}}_createNodeExpressions(){const e=this;let t=0;const n=[],r=[],i=this.nodes.map((e,t)=>{const{nodeDef:i,nodeFlags:o,updateDirectives:a,updateRenderer:l,sourceSpan:c}=e();l&&n.push(...s(t,c,l,!1)),a&&r.push(...s(t,c,a,(327680&o)>0));return xt(3&o?new et([wp.callFn([]).callFn([]),i]):i,c)});return{updateRendererStmts:n,updateDirectivesStmts:r,nodeDefExprs:i};function s(n,r,i,s){const o=[],a=i.map(({sourceSpan:n,context:r,value:i})=>{const s=""+t++,a=r===Cp?e:null,{stmts:l,currValExpr:c}=Uo(a,r,i,s,Vo.General);return o.push(...l.map(e=>wt(e,n))),xt(c,n)});return(i.length||s)&&o.push(wt(Op(n,a).toStmt(),r)),o}}_createElementHandleEventFn(e,t){const n=[];let r,i=0;if(t.forEach(({context:e,eventAst:t,dirAst:r})=>{const s=""+i++,o=e===Cp?this:null,{stmts:a,allowDefault:l}=Fo(o,e,t.handler,s),c=a;l&&c.push(kp.set(l.and(kp)).toStmt());const{target:u,name:h}=Np(t,r),d=Mp(u,h);n.push(wt(new gt(Mt(d).identical(Sp),c),t.sourceSpan))}),n.length>0){const e=[kp.set(Mt(!0)).toDeclStmt(ae)];!this.component.isHost&&_t(n).has(Cp.name)&&e.push(Cp.set(xp.prop("component")).toDeclStmt(this.compType)),r=It([new qe(xp.name,oe),new qe(Sp.name,oe),new qe(Ro.event.name,oe)],[...e,...n,new ut(kp)],oe)}else r=tt;return r}visitDirective(e,t){}visitDirectiveProperty(e,t){}visitReference(e,t){}visitVariable(e,t){}visitEvent(e,t){}visitElementProperty(e,t){}visitAttr(e,t){}}function Ap(e){const t=e[e.length-1];return t instanceof Ll?t.hasViewContainer:t instanceof Rl?o(t.name)&&t.children.length?Ap(t.children):t.hasViewContainer:t instanceof zl}function Dp(e){const t=Object.create(null);return e.attrs.forEach(e=>{t[e.name]=e.value}),e.directives.forEach(e=>{Object.keys(e.directive.hostAttributes).forEach(n=>{const r=e.directive.hostAttributes[n],i=t[n];var s,o,a;t[n]=null!=i?(o=i,a=r,(s=n)==vp||s==yp?`${o} ${a}`:a):r})}),Dt(Object.keys(t).sort().map(e=>Dt([Mt(e),Mt(t[e])])))}function Op(e,t){return t.length>10?Ep.callFn([xp,Mt(e),Mt(1),Dt(t)]):Ep.callFn([xp,Mt(e),Mt(0),...t])}function Ip(e,t,n){return St(No.unwrapValue).callFn([xp,Mt(e),Mt(t),n])}function Np(e,t){return e.isAnimation?{name:`@${e.name}.${e.phase}`,target:t&&t.directive.isComponent?"component":null}:e}function Pp(e){let t=0;return e.first&&e.static?t|=268435456:t|=536870912,e.emitDistinctChangesOnly&&(t|=-2147483648),t}function Mp(e,t){return e?`${e}:${t}`:t}const Rp="useValue";new Set([Rp,"useFactory","data","id","loadChildren"]);class Lp{static build(){const e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new Fp(e):Lp.empty}}}}Lp.missing={},Lp.empty={resolve:e=>Lp.missing};class Fp extends Lp{constructor(e){super(),this.bindings=e}resolve(e){return this.bindings.has(e)?this.bindings.get(e):Lp.missing}}class jp{}class Bp{constructor(){this._summaries=new Map}isLibraryFile(){return!1}toSummaryFileName(e){return e}fromSummaryFileName(e){return e}resolveSummary(e){return this._summaries.get(e)||null}getSymbolsOf(){return[]}getImportAs(e){return e}getKnownModuleName(e){return null}addSummary(e){this._summaries.set(e.symbol,e)}}function Vp(e,t,n,r,i){const s=r.createChildWihtLocalVars();for(let a=0;a<e.length;a++)s.vars.set(e[a],t[a]);const o=i.visitAllStatements(n,s);return o?o.value:null}class zp{constructor(e,t,n,r){this.parent=e,this.instance=t,this.className=n,this.vars=r,this.exports=[]}createChildWihtLocalVars(){return new zp(this,this.instance,this.className,new Map)}}class Up{constructor(e){this.value=e}}class Hp{constructor(e){this.reflector=e}debugAst(e){return function(e){const t=new fp,n=hi.createRoot();return(Array.isArray(e)?e:[e]).forEach(e=>{if(e instanceof ot)e.visitStatement(t,n);else if(e instanceof ye)e.visitExpression(t,n);else{if(!(e instanceof ee))throw new Error(`Don't know how to print debug info for ${e}`);e.visitType(t,n)}}),n.toSource()}(e)}visitDeclareVarStmt(e,t){const n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(rt.Exported)&&t.exports.push(e.name),null}visitWriteVarExpr(e,t){const n=e.value.visitExpression(this,t);let r=t;for(;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,n),n;r=r.parent}throw new Error(`Not declared variable ${e.name}`)}visitWrappedNodeExpr(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")}visitTypeofExpr(e,t){throw new Error("Cannot interpret a TypeofExpr")}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case pe.Super:return Object.getPrototypeOf(t.instance);case pe.This:return t.instance;case pe.CatchError:n=qp;break;case pe.CatchStack:n=Gp;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}let r=t;for(;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error(`Not declared variable ${n}`)}visitWriteKeyExpr(e,t){const n=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return n[r]=i,i}visitWritePropExpr(e,t){const n=e.receiver.visitExpression(this,t),r=e.value.visitExpression(this,t);return n[e.name]=r,r}visitInvokeMethodExpr(e,t){const n=e.receiver.visitExpression(this,t),r=this.visitAllExpressions(e.args,t);let i;if(null!=e.builtin)switch(e.builtin){case fe.ConcatArray:i=n.concat(...r);break;case fe.SubscribeObservable:i=n.subscribe({next:r[0]});break;case fe.Bind:i=n.bind(...r);break;default:throw new Error(`Unknown builtin method ${e.builtin}`)}else i=n[e.name].apply(n,r);return i}visitInvokeFunctionExpr(e,t){const n=this.visitAllExpressions(e.args,t),r=e.fn;if(r instanceof _e&&r.builtin===pe.Super)return t.instance.constructor.prototype.constructor.apply(t.instance,n),null;return e.fn.visitExpression(this,t).apply(null,n)}visitTaggedTemplateExpr(e,t){const n=e.template.elements.map(e=>e.text);Object.defineProperty(n,"raw",{value:e.template.elements.map(e=>e.rawText)});const r=this.visitAllExpressions(e.template.expressions,t);r.unshift(n);return e.tag.visitExpression(this,t).apply(null,r)}visitReturnStmt(e,t){return new Up(e.value.visitExpression(this,t))}visitDeclareClassStmt(e,t){const n=function(e,t,n){const r={};e.getters.forEach(i=>{r[i.name]={configurable:!1,get:function(){const r=new zp(t,this,e.name,t.vars);return Vp([],[],i.body,r,n)}}}),e.methods.forEach(function(i){const s=i.params.map(e=>e.name);r[i.name]={writable:!1,configurable:!1,value:function(...r){const o=new zp(t,this,e.name,t.vars);return Vp(s,r,i.body,o,n)}}});const i=e.constructorMethod.params.map(e=>e.name),s=function(...r){const s=new zp(t,this,e.name,t.vars);e.fields.forEach(e=>{this[e.name]=void 0}),Vp(i,r,e.constructorMethod.body,s,n)},o=e.parent?e.parent.visitExpression(n,t):Object;return s.prototype=Object.create(o.prototype,r),s}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(rt.Exported)&&t.exports.push(e.name),null}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t)}visitIfStmt(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null}visitTryCatchStmt(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(n){const r=t.createChildWihtLocalVars();return r.vars.set(qp,n),r.vars.set(Gp,n.stack),this.visitAllStatements(e.catchStmts,r)}}visitThrowStmt(e,t){throw e.error.visitExpression(this,t)}visitInstantiateExpr(e,t){const n=this.visitAllExpressions(e.args,t);return new(e.classExpr.visitExpression(this,t))(...n)}visitLiteralExpr(e,t){return e.value}visitLocalizedString(e,t){return null}visitExternalExpr(e,t){return this.reflector.resolveExternalReference(e.value)}visitConditionalExpr(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null}visitNotExpr(e,t){return!e.condition.visitExpression(this,t)}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t)}visitCastExpr(e,t){return e.value.visitExpression(this,t)}visitFunctionExpr(e,t){return $p(e.params.map(e=>e.name),e.statements,t,this)}visitDeclareFunctionStmt(e,t){const n=e.params.map(e=>e.name);return t.vars.set(e.name,$p(n,e.statements,t,this)),e.hasModifier(rt.Exported)&&t.exports.push(e.name),null}visitUnaryOperatorExpr(e,t){const n=()=>e.expr.visitExpression(this,t);switch(e.operator){case he.Plus:return+n();case he.Minus:return-n();default:throw new Error(`Unknown operator ${e.operator}`)}}visitBinaryOperatorExpr(e,t){var n;const r=()=>e.lhs.visitExpression(this,t),i=()=>e.rhs.visitExpression(this,t);switch(e.operator){case de.Equals:return r()==i();case de.Identical:return r()===i();case de.NotEquals:return r()!=i();case de.NotIdentical:return r()!==i();case de.And:return r()&&i();case de.Or:return r()||i();case de.Plus:return r()+i();case de.Minus:return r()-i();case de.Divide:return r()/i();case de.Multiply:return r()*i();case de.Modulo:return r()%i();case de.Lower:return r()<i();case de.LowerEquals:return r()<=i();case de.Bigger:return r()>i();case de.BiggerEquals:return r()>=i();case de.NullishCoalesce:return null!==(n=r())&&void 0!==n?n:i();default:throw new Error(`Unknown operator ${e.operator}`)}}visitReadPropExpr(e,t){let n;return n=e.receiver.visitExpression(this,t)[e.name],n}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]}visitLiteralArrayExpr(e,t){return this.visitAllExpressions(e.entries,t)}visitLiteralMapExpr(e,t){const n={};return e.entries.forEach(e=>n[e.key]=e.value.visitExpression(this,t)),n}visitCommaExpr(e,t){const n=this.visitAllExpressions(e.parts,t);return n[n.length-1]}visitAllExpressions(e,t){return e.map(e=>e.visitExpression(this,t))}visitAllStatements(e,t){for(let n=0;n<e.length;n++){const r=e[n].visitStatement(this,t);if(r instanceof Up)return r}return null}}function $p(e,t,n,r){return(...i)=>Vp(e,i,t,n,r)}const qp="error",Gp="stack";class Wp{constructor(e,t,n,r,i,s,o,a,l,c,u){this._metadataResolver=e,this._templateParser=t,this._styleCompiler=n,this._viewCompiler=r,this._ngModuleCompiler=i,this._summaryResolver=s,this._reflector=o,this._jitEvaluator=a,this._compilerConfig=l,this._console=c,this.getExtraNgModuleProviders=u,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}compileModuleSync(e){return en(this._compileModuleAndComponents(e,!0))}compileModuleAsync(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))}compileModuleAndAllComponentsSync(e){return en(this._compileModuleAndAllComponents(e,!0))}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))}getComponentFactory(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory}loadAotSummaries(e){this.clearCache(),this._addAotSummaries(e)}_addAotSummaries(e){if(this._addedAotSummaries.has(e))return;this._addedAotSummaries.add(e);const t=e();for(let n=0;n<t.length;n++){const e=t[n];if("function"==typeof e)this._addAotSummaries(e);else{const t=e;this._summaryResolver.addSummary({symbol:t.type.reference,metadata:null,type:t})}}}hasAotSummary(e){return!!this._summaryResolver.resolveSummary(e)}_filterJitIdentifiers(e){return e.map(e=>e.reference).filter(e=>!this.hasAotSummary(e))}_compileModuleAndComponents(e,t){return tn(this._loadModules(e,t),()=>(this._compileComponents(e,null),this._compileModule(e)))}_compileModuleAndAllComponents(e,t){return tn(this._loadModules(e,t),()=>{const t=[];return this._compileComponents(e,t),{ngModuleFactory:this._compileModule(e),componentFactories:t}})}_loadModules(e,t){const n=[],r=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(r.transitiveModule.modules).forEach(e=>{const r=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(r.declaredDirectives).forEach(e=>{const i=this._metadataResolver.loadDirectiveMetadata(r.type.reference,e,t);i&&n.push(i)}),this._filterJitIdentifiers(r.declaredPipes).forEach(e=>this._metadataResolver.getOrLoadPipeMetadata(e))}),nn(n)}_compileModule(e){let t=this._compiledNgModuleCache.get(e);if(!t){const n=this._metadataResolver.getNgModuleMetadata(e),r=this.getExtraNgModuleProviders(n.type.reference),i=Kp(),s=this._ngModuleCompiler.compile(i,n,r);t=this._interpretOrJit(function(e){return os(`${Hi(e.type)}/module.ngfactory.js`)}(n),i.statements)[s.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,t)}return t}_compileComponents(e,t){const n=this._metadataResolver.getNgModuleMetadata(e),r=new Map,i=new Set,s=this._filterJitIdentifiers(n.transitiveModule.modules);s.forEach(e=>{const n=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(n.declaredDirectives).forEach(e=>{r.set(e,n);const s=this._metadataResolver.getDirectiveMetadata(e);if(s.isComponent&&(i.add(this._createCompiledTemplate(s,n)),t)){const e=this._createCompiledHostTemplate(s.type.reference,n);i.add(e),t.push(s.componentFactory)}})}),s.forEach(e=>{const t=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(t.declaredDirectives).forEach(e=>{const t=this._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach(e=>{const t=r.get(e.componentType);i.add(this._createCompiledHostTemplate(e.componentType,t))})}),t.entryComponents.forEach(e=>{if(!this.hasAotSummary(e.componentType)){const t=r.get(e.componentType);i.add(this._createCompiledHostTemplate(e.componentType,t))}})}),i.forEach(e=>this._compileTemplate(e))}clearCacheFor(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e);this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)}clearCache(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}_createCompiledHostTemplate(e,t){if(!t)throw new Error(`Component ${un(e)} is not part of any NgModule or the module has not been imported into your module.`);let n=this._compiledHostTemplateCache.get(e);if(!n){const r=this._metadataResolver.getDirectiveMetadata(e);Yp(r);const i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new Xp(!0,r.type,i,t,[r.type]),this._compiledHostTemplateCache.set(e,n)}return n}_createCompiledTemplate(e,t){let n=this._compiledTemplateCache.get(e.type.reference);return n||(Yp(e),n=new Xp(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n}_compileTemplate(e){if(e.isCompiled)return;const t=e.compMeta,n=new Map,r=Kp(),i=this._styleCompiler.compileComponent(r,t);t.template.externalStylesheets.forEach(e=>{const r=this._styleCompiler.compileStyles(Kp(),t,e);n.set(e.moduleUrl,r)}),this._resolveStylesCompileResult(i,n);e.ngModule.transitiveModule.pipes.map(e=>this._metadataResolver.getPipeSummary(e.reference));const{template:s,pipes:o}=this._parseTemplate(t,e.ngModule,e.directives),a=this._viewCompiler.compileComponent(r,t,s,Ct(i.stylesVar),o),l=this._interpretOrJit(function(e,t){return os(`${Hi(e)}/${Hi(t.type)}.ngfactory.js`)}(e.ngModule.type,e.compMeta),r.statements),c=l[a.viewClassVar],u=l[a.rendererTypeVar];e.compiled(c,u)}_parseTemplate(e,t,n){const r=e.template.preserveWhitespaces,i=n.map(e=>this._metadataResolver.getDirectiveSummary(e.reference)),s=t.transitiveModule.pipes.map(e=>this._metadataResolver.getPipeSummary(e.reference));return this._templateParser.parse(e,e.template.htmlAst,i,s,t.schemas,as(t.type,e,e.template),r)}_resolveStylesCompileResult(e,t){e.dependencies.forEach((e,n)=>{const r=t.get(e.moduleUrl),i=this._resolveAndEvalStylesCompileResult(r,t);e.setValue(i)})}_resolveAndEvalStylesCompileResult(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(function(e,t){const n=e.moduleUrl.split(/\/\\/g);return os(`css/${t}${n[n.length-1]}.ngstyle.js`)}(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]}_interpretOrJit(e,t){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){const n=new zp(null,null,null,new Map);new Hp(t).visitAllStatements(e,n);const r={};return n.exports.forEach(e=>{r[e]=n.vars.get(e)}),r}(t,this._reflector)}}class Xp{constructor(e,t,n,r,i){this.isHost=e,this.compType=t,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}compiled(e,t){this._viewClass=e,this.compMeta.componentViewType.setDelegate(e);for(let n in t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0}}function Yp(e){if(!e.isComponent)throw new Error(`Could not compile '${Hi(e.type)}' because it is not a component.`)}function Kp(){return{statements:[],genFilePath:"",importExpr:e=>St({name:Hi(e),moduleName:null,runtime:e}),constantPool:new Vt}}class Zp{}const Qp=class{constructor(e=null){this._packagePrefix=e}resolve(e,t){let n=t;null!=e&&e.length>0&&(n=function(e,t){const n=nf(encodeURI(t)),r=nf(e);if(null!=n[ef.Scheme])return rf(n);n[ef.Scheme]=r[ef.Scheme];for(let o=ef.Scheme;o<=ef.Port;o++)null==n[o]&&(n[o]=r[o]);if("/"==n[ef.Path][0])return rf(n);let i=r[ef.Path];null==i&&(i="/");const s=i.lastIndexOf("/");return i=i.substring(0,s+1)+n[ef.Path],n[ef.Path]=i,rf(n)}(e,n));const r=nf(n);let i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[ef.Scheme]){let e=r[ef.Path];return i=i.replace(/\/+$/,""),e=e.replace(/^\/+/,""),`${i}/${e}`}return n}};const Jp=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var ef,tf;function nf(e){return e.match(Jp)}function rf(e){let t=e[ef.Path];return t=null==t?"":function(e){if("/"==e)return"/";const t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[];let s=0;for(let o=0;o<r.length;o++){const e=r[o];switch(e){case"":case".":break;case"..":i.length>0?i.pop():s++;break;default:i.push(e)}}if(""==t){for(;s-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}(t),e[ef.Path]=t,function(e,t,n,r,i,s,o){const a=[];return null!=e&&a.push(e+":"),null!=n&&(a.push("//"),null!=t&&a.push(t+"@"),a.push(n),null!=r&&a.push(":"+r)),null!=i&&a.push(i),null!=s&&a.push("?"+s),null!=o&&a.push("#"+o),a.join("")}(e[ef.Scheme],e[ef.UserInfo],e[ef.Domain],e[ef.Port],t,e[ef.QueryData],e[ef.Fragment])}!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(ef||(ef={}));!function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(tf||(tf={}));!function(e){(e.ng||(e.ng={})).\u0275compilerFacade=new Ih}(gn);let sf=null;function of(){return sf}const af=new i.G("DocumentToken");class lf{historyGo(e){throw new Error("Not implemented")}}function cf(){return Object(i.Xc)(hf)}lf.\u0275fac=function(e){return new(e||lf)},lf.\u0275prov=Object(i.Jc)({factory:cf,token:lf,providedIn:"platform"});const uf=new i.G("Location Initialized");class hf extends lf{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return of().getBaseHref(this._doc)}onPopState(e){const t=of().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=of().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){df()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){df()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}function df(){return!!window.history.pushState}function pf(){return new hf(Object(i.Xc)(af))}function ff(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function gf(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-("/"===e[n-1]?1:0);return e.slice(0,r)+e.slice(n)}function mf(e){return e&&"?"!==e[0]?"?"+e:e}hf.\u0275fac=function(e){return new(e||hf)(i.Xc(af))},hf.\u0275prov=Object(i.Jc)({factory:pf,token:hf,providedIn:"platform"}),hf.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];class vf{historyGo(e){throw new Error("Not implemented")}}function yf(e){const t=Object(i.Xc)(af).location;return new bf(Object(i.Xc)(lf),t&&t.origin||"")}vf.\u0275fac=function(e){return new(e||vf)},vf.\u0275prov=Object(i.Jc)({factory:yf,token:vf,providedIn:"root"});const _f=new i.G("appBaseHref");class bf extends vf{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ff(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+mf(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+mf(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+mf(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}bf.\u0275fac=function(e){return new(e||bf)(i.Xc(lf),i.Xc(_f,8))},bf.\u0275prov=i.Jc({token:bf,factory:bf.\u0275fac}),bf.ctorParameters=()=>[{type:lf},{type:String,decorators:[{type:i.T},{type:i.D,args:[_f]}]}];class wf extends vf{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=ff(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+mf(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+mf(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}wf.\u0275fac=function(e){return new(e||wf)(i.Xc(lf),i.Xc(_f,8))},wf.\u0275prov=i.Jc({token:wf,factory:wf.\u0275fac}),wf.ctorParameters=()=>[{type:lf},{type:String,decorators:[{type:i.T},{type:i.D,args:[_f]}]}];class xf{constructor(e,t){this._subject=new i.y,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=gf(Cf(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+mf(t))}normalize(e){return xf.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Cf(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mf(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mf(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}function Ef(){return new xf(Object(i.Xc)(vf),Object(i.Xc)(lf))}function Cf(e){return e.replace(/\/index.html$/,"")}xf.\u0275fac=function(e){return new(e||xf)(i.Xc(vf),i.Xc(lf))},xf.normalizeQueryParams=mf,xf.joinWithSlash=ff,xf.stripTrailingSlash=gf,xf.\u0275prov=Object(i.Jc)({factory:Ef,token:xf,providedIn:"root"}),xf.ctorParameters=()=>[{type:vf},{type:lf}];const Sf={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var kf,Tf,Af,Df,Of,If,Nf;function Pf(e,t){return Vf(Object(i.Vb)(e)[i.Eb.DateFormat],t)}function Mf(e,t){return Vf(Object(i.Vb)(e)[i.Eb.TimeFormat],t)}function Rf(e,t){return Vf(Object(i.Vb)(e)[i.Eb.DateTimeFormat],t)}function Lf(e,t){const n=Object(i.Vb)(e),r=n[i.Eb.NumberSymbols][t];if(void 0===r){if(t===If.CurrencyDecimal)return n[i.Eb.NumberSymbols][If.Decimal];if(t===If.CurrencyGroup)return n[i.Eb.NumberSymbols][If.Group]}return r}function Ff(e,t){return Object(i.Vb)(e)[i.Eb.NumberFormats][t]}!function(e){e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific"}(kf||(kf={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other"}(Tf||(Tf={})),function(e){e[e.Format=0]="Format",e[e.Standalone=1]="Standalone"}(Af||(Af={})),function(e){e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short"}(Df||(Df={})),function(e){e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full"}(Of||(Of={})),function(e){e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup"}(If||(If={})),function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(Nf||(Nf={}));const jf=i.Yb;function Bf(e){if(!e[i.Eb.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[i.Eb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vf(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function zf(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function Uf(e,t,n="en"){const r=function(e){return Object(i.Vb)(e)[i.Eb.Currencies]}(n)[e]||Sf[e]||[],s=r[1];return"narrow"===t&&"string"==typeof s?s:r[0]||e}const Hf=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$f={},qf=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Gf,Wf,Xf;function Yf(e,t,n,r){let i=function(e){if(lg(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return Kf(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(Hf))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11]));i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,c),t}(n)}const t=new Date(e);if(!lg(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Zf(n,t)||t;let s,o=[];for(;t;){if(s=qf.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));const e=o.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=ag(r,a),i=function(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset(),s=ag(t,i);return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(s-i))}(i,r,!0));let l="";return o.forEach(e=>{const t=function(e){if(og[e])return og[e];let t;switch(e){case"G":case"GG":case"GGG":t=tg(Xf.Eras,Df.Abbreviated);break;case"GGGG":t=tg(Xf.Eras,Df.Wide);break;case"GGGGG":t=tg(Xf.Eras,Df.Narrow);break;case"y":t=eg(Wf.FullYear,1,0,!1,!0);break;case"yy":t=eg(Wf.FullYear,2,0,!0,!0);break;case"yyy":t=eg(Wf.FullYear,3,0,!1,!0);break;case"yyyy":t=eg(Wf.FullYear,4,0,!1,!0);break;case"Y":t=sg(1);break;case"YY":t=sg(2,!0);break;case"YYY":t=sg(3);break;case"YYYY":t=sg(4);break;case"M":case"L":t=eg(Wf.Month,1,1);break;case"MM":case"LL":t=eg(Wf.Month,2,1);break;case"MMM":t=tg(Xf.Months,Df.Abbreviated);break;case"MMMM":t=tg(Xf.Months,Df.Wide);break;case"MMMMM":t=tg(Xf.Months,Df.Narrow);break;case"LLL":t=tg(Xf.Months,Df.Abbreviated,Af.Standalone);break;case"LLLL":t=tg(Xf.Months,Df.Wide,Af.Standalone);break;case"LLLLL":t=tg(Xf.Months,Df.Narrow,Af.Standalone);break;case"w":t=ig(1);break;case"ww":t=ig(2);break;case"W":t=ig(1,!0);break;case"d":t=eg(Wf.Date,1);break;case"dd":t=eg(Wf.Date,2);break;case"c":case"cc":t=eg(Wf.Day,1);break;case"ccc":t=tg(Xf.Days,Df.Abbreviated,Af.Standalone);break;case"cccc":t=tg(Xf.Days,Df.Wide,Af.Standalone);break;case"ccccc":t=tg(Xf.Days,Df.Narrow,Af.Standalone);break;case"cccccc":t=tg(Xf.Days,Df.Short,Af.Standalone);break;case"E":case"EE":case"EEE":t=tg(Xf.Days,Df.Abbreviated);break;case"EEEE":t=tg(Xf.Days,Df.Wide);break;case"EEEEE":t=tg(Xf.Days,Df.Narrow);break;case"EEEEEE":t=tg(Xf.Days,Df.Short);break;case"a":case"aa":case"aaa":t=tg(Xf.DayPeriods,Df.Abbreviated);break;case"aaaa":t=tg(Xf.DayPeriods,Df.Wide);break;case"aaaaa":t=tg(Xf.DayPeriods,Df.Narrow);break;case"b":case"bb":case"bbb":t=tg(Xf.DayPeriods,Df.Abbreviated,Af.Standalone,!0);break;case"bbbb":t=tg(Xf.DayPeriods,Df.Wide,Af.Standalone,!0);break;case"bbbbb":t=tg(Xf.DayPeriods,Df.Narrow,Af.Standalone,!0);break;case"B":case"BB":case"BBB":t=tg(Xf.DayPeriods,Df.Abbreviated,Af.Format,!0);break;case"BBBB":t=tg(Xf.DayPeriods,Df.Wide,Af.Format,!0);break;case"BBBBB":t=tg(Xf.DayPeriods,Df.Narrow,Af.Format,!0);break;case"h":t=eg(Wf.Hours,1,-12);break;case"hh":t=eg(Wf.Hours,2,-12);break;case"H":t=eg(Wf.Hours,1);break;case"HH":t=eg(Wf.Hours,2);break;case"m":t=eg(Wf.Minutes,1);break;case"mm":t=eg(Wf.Minutes,2);break;case"s":t=eg(Wf.Seconds,1);break;case"ss":t=eg(Wf.Seconds,2);break;case"S":t=eg(Wf.FractionalSeconds,1);break;case"SS":t=eg(Wf.FractionalSeconds,2);break;case"SSS":t=eg(Wf.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ng(Gf.Short);break;case"ZZZZZ":t=ng(Gf.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ng(Gf.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ng(Gf.Long);break;default:return null}return og[e]=t,t}(e);l+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Kf(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Zf(e,t){const n=function(e){return Object(i.Vb)(e)[i.Eb.LocaleId]}(e);if($f[n]=$f[n]||{},$f[n][t])return $f[n][t];let r="";switch(t){case"shortDate":r=Pf(e,Of.Short);break;case"mediumDate":r=Pf(e,Of.Medium);break;case"longDate":r=Pf(e,Of.Long);break;case"fullDate":r=Pf(e,Of.Full);break;case"shortTime":r=Mf(e,Of.Short);break;case"mediumTime":r=Mf(e,Of.Medium);break;case"longTime":r=Mf(e,Of.Long);break;case"fullTime":r=Mf(e,Of.Full);break;case"short":const t=Zf(e,"shortTime"),n=Zf(e,"shortDate");r=Qf(Rf(e,Of.Short),[t,n]);break;case"medium":const i=Zf(e,"mediumTime"),s=Zf(e,"mediumDate");r=Qf(Rf(e,Of.Medium),[i,s]);break;case"long":const o=Zf(e,"longTime"),a=Zf(e,"longDate");r=Qf(Rf(e,Of.Long),[o,a]);break;case"full":const l=Zf(e,"fullTime"),c=Zf(e,"fullDate");r=Qf(Rf(e,Of.Full),[l,c])}return r&&($f[n][t]=r),r}function Qf(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Jf(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function eg(e,t,n=0,r=!1,i=!1){return function(s,o){let a=function(e,t){switch(e){case Wf.FullYear:return t.getFullYear();case Wf.Month:return t.getMonth();case Wf.Date:return t.getDate();case Wf.Hours:return t.getHours();case Wf.Minutes:return t.getMinutes();case Wf.Seconds:return t.getSeconds();case Wf.FractionalSeconds:return t.getMilliseconds();case Wf.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||a>-n)&&(a+=n),e===Wf.Hours)0===a&&-12===n&&(a=12);else if(e===Wf.FractionalSeconds)return l=t,Jf(a,3).substr(0,l);var l;const c=Lf(o,If.MinusSign);return Jf(a,t,c,r,i)}}function tg(e,t,n=Af.Format,r=!1){return function(s,o){return function(e,t,n,r,s,o){switch(n){case Xf.Months:return function(e,t,n){const r=Object(i.Vb)(e),s=Vf([r[i.Eb.MonthsFormat],r[i.Eb.MonthsStandalone]],t);return Vf(s,n)}(t,s,r)[e.getMonth()];case Xf.Days:return function(e,t,n){const r=Object(i.Vb)(e),s=Vf([r[i.Eb.DaysFormat],r[i.Eb.DaysStandalone]],t);return Vf(s,n)}(t,s,r)[e.getDay()];case Xf.DayPeriods:const a=e.getHours(),l=e.getMinutes();if(o){const e=function(e){const t=Object(i.Vb)(e);return Bf(t),(t[i.Eb.ExtraData][2]||[]).map(e=>"string"==typeof e?zf(e):[zf(e[0]),zf(e[1])])}(t),n=function(e,t,n){const r=Object(i.Vb)(e);Bf(r);const s=Vf([r[i.Eb.ExtraData][0],r[i.Eb.ExtraData][1]],t)||[];return Vf(s,n)||[]}(t,s,r),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=a>=t.hours&&l>=t.minutes,i=a<n.hours||a===n.hours&&l<n.minutes;if(t.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(e.hours===a&&e.minutes===l)return!0;return!1});if(-1!==o)return n[o]}return function(e,t,n){const r=Object(i.Vb)(e),s=Vf([r[i.Eb.DayPeriodsFormat],r[i.Eb.DayPeriodsStandalone]],t);return Vf(s,n)}(t,s,r)[a<12?0:1];case Xf.Eras:return function(e,t){return Vf(Object(i.Vb)(e)[i.Eb.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,e,t,n,r)}}function ng(e){return function(t,n,r){const i=-1*r,s=Lf(n,If.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Gf.Short:return(i>=0?"+":"")+Jf(o,2,s)+Jf(Math.abs(i%60),2,s);case Gf.ShortGMT:return"GMT"+(i>=0?"+":"")+Jf(o,1,s);case Gf.Long:return"GMT"+(i>=0?"+":"")+Jf(o,2,s)+":"+Jf(Math.abs(i%60),2,s);case Gf.Extended:return 0===r?"Z":(i>=0?"+":"")+Jf(o,2,s)+":"+Jf(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}!function(e){e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended"}(Gf||(Gf={})),function(e){e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day"}(Wf||(Wf={})),function(e){e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras"}(Xf||(Xf={}));function rg(e){return Kf(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ig(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=rg(n),t=function(e){const t=Kf(e,0,1).getDay();return Kf(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();i=1+Math.round(r/6048e5)}return Jf(i,e,Lf(r,If.MinusSign))}}function sg(e,t=!1){return function(n,r){return Jf(rg(n).getFullYear(),e,Lf(r,If.MinusSign),t)}}const og={};function ag(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function lg(e){return e instanceof Date&&!isNaN(e.valueOf())}const cg=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ug=".",hg="0";function dg(e,t,n,r,i,s,o=!1){let a="",l=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,s,o=Math.abs(e)+"",a=0;(n=o.indexOf(ug))>-1&&(o=o.replace(ug,""));(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length);for(r=0;o.charAt(r)===hg;r++);if(r===(s=o.length))t=[0],n=1;else{for(s--;o.charAt(s)===hg;)s--;for(n-=r,t=[],i=0;r<=s;r++,i++)t[i]=Number(o.charAt(r))}n>22&&(t=t.splice(0,21),a=n-1,n=1);return{digits:t,exponent:a,integerLen:n}}(e);o&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2);return e}(c));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(s){const e=s.match(cg);if(null===e)throw new Error(`${s} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(u=gg(t)),null!=n&&(h=gg(n)),null!=r?d=gg(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const s=Math.min(Math.max(t,i),n);let o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=t+e.integerLen,u=r.reduceRight(function(e,t,n,r){return t+=e,r[n]=t<10?t:t-10,l&&(0===r[n]&&n>=c?r.pop():l=!1),t>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}(c,h,d);let p=c.digits,f=c.integerLen;const g=c.exponent;let m=[];for(l=p.every(e=>!e);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const v=[];for(p.length>=t.lgSize&&v.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)v.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&v.unshift(p.join("")),a=v.join(Lf(n,r)),m.length&&(a+=Lf(n,i)+m.join("")),g&&(a+=Lf(n,If.Exponential)+"+"+g)}else a=Lf(n,If.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function pg(e,t,n,r,i){const s=fg(Ff(t,kf.Currency),Lf(t,If.MinusSign));s.minFrac=function(e){let t;const n=Sf[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),s.maxFrac=s.minFrac;return dg(e,s,t,If.CurrencyGroup,If.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function fg(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(ug)?i.split(ug):[i.substring(0,i.lastIndexOf(hg)+1),i.substring(i.lastIndexOf(hg)+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const e=l.charAt(u);e===hg?n.minFrac=n.maxFrac=u+1:"#"===e?n.maxFrac=u+1:n.posSuf+=e}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const e=i.length-n.posPre.length-n.posSuf.length,t=s.indexOf("#");n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function gg(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class mg{}function vg(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}class yg extends mg{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(jf(t||this.locale)(e)){case Tf.Zero:return"zero";case Tf.One:return"one";case Tf.Two:return"two";case Tf.Few:return"few";case Tf.Many:return"many";default:return"other"}}}function _g(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}yg.\u0275fac=function(e){return new(e||yg)(i.Xc(i.L))},yg.\u0275prov=i.Jc({token:yg,factory:yg.\u0275fac}),yg.ctorParameters=()=>[{type:String,decorators:[{type:i.D,args:[i.L]}]}];class bg{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(i.dc)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(i.vc)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}bg.\u0275fac=function(e){return new(e||bg)(i.Nc(i.J),i.Nc(i.K),i.Nc(i.v),i.Nc(i.ab))},bg.\u0275dir=i.Ic({type:bg,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),bg.ctorParameters=()=>[{type:i.J},{type:i.K},{type:i.v},{type:i.ab}],bg.propDecorators={klass:[{type:i.I,args:["class"]}],ngClass:[{type:i.I,args:["ngClass"]}]};class wg{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(i.Q);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(i.p)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}wg.\u0275fac=function(e){return new(e||wg)(i.Nc(i.qb))},wg.\u0275dir=i.Ic({type:wg,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[i.Bc]}),wg.ctorParameters=()=>[{type:i.qb}],wg.propDecorators={ngComponentOutlet:[{type:i.I}],ngComponentOutletInjector:[{type:i.I}],ngComponentOutletContent:[{type:i.I}],ngComponentOutletNgModuleFactory:[{type:i.I}]};class xg{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Eg{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new xg(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Cg(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Cg(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}Eg.\u0275fac=function(e){return new(e||Eg)(i.Nc(i.qb),i.Nc(i.kb),i.Nc(i.J))},Eg.\u0275dir=i.Ic({type:Eg,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Eg.ctorParameters=()=>[{type:i.qb},{type:i.kb},{type:i.J}],Eg.propDecorators={ngForOf:[{type:i.I}],ngForTrackBy:[{type:i.I}],ngForTemplate:[{type:i.I}]};class Cg{constructor(e,t){this.record=e,this.view=t}}class Sg{constructor(e,t){this._viewContainer=e,this._context=new kg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Tg("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Tg("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}Sg.\u0275fac=function(e){return new(e||Sg)(i.Nc(i.qb),i.Nc(i.kb))},Sg.\u0275dir=i.Ic({type:Sg,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Sg.ctorParameters=()=>[{type:i.qb},{type:i.kb}],Sg.propDecorators={ngIf:[{type:i.I}],ngIfThen:[{type:i.I}],ngIfElse:[{type:i.I}]};class kg{constructor(){this.$implicit=null,this.ngIf=null}}function Tg(e,t){if(!!(t&&!t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Object(i.vc)(t)}'.`)}class Ag{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class Dg{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++){this._defaultViews[t].enforceState(e)}}}}Dg.\u0275fac=function(e){return new(e||Dg)},Dg.\u0275dir=i.Ic({type:Dg,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Dg.propDecorators={ngSwitch:[{type:i.I}]};class Og{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Ag(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}Og.\u0275fac=function(e){return new(e||Og)(i.Nc(i.qb),i.Nc(i.kb),i.Nc(Dg,9))},Og.\u0275dir=i.Ic({type:Og,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Og.ctorParameters=()=>[{type:i.qb},{type:i.kb},{type:Dg,decorators:[{type:i.T},{type:i.z}]}],Og.propDecorators={ngSwitchCase:[{type:i.I}]};class Ig{constructor(e,t,n){n._addDefault(new Ag(e,t))}}Ig.\u0275fac=function(e){return new(e||Ig)(i.Nc(i.qb),i.Nc(i.kb),i.Nc(Dg,9))},Ig.\u0275dir=i.Ic({type:Ig,selectors:[["","ngSwitchDefault",""]]}),Ig.ctorParameters=()=>[{type:i.qb},{type:i.kb},{type:Dg,decorators:[{type:i.T},{type:i.z}]}];class Ng{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=vg(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}Ng.\u0275fac=function(e){return new(e||Ng)(i.Nc(mg))},Ng.\u0275dir=i.Ic({type:Ng,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),Ng.ctorParameters=()=>[{type:mg}],Ng.propDecorators={ngPlural:[{type:i.I}]};class Pg{constructor(e,t,n,r){this.value=e;const i=!isNaN(Number(e));r.addCase(i?`=${e}`:e,new Ag(n,t))}}Pg.\u0275fac=function(e){return new(e||Pg)(i.Yc("ngPluralCase"),i.Nc(i.kb),i.Nc(i.qb),i.Nc(Ng,1))},Pg.\u0275dir=i.Ic({type:Pg,selectors:[["","ngPluralCase",""]]}),Pg.ctorParameters=()=>[{type:String,decorators:[{type:i.h,args:["ngPluralCase"]}]},{type:i.kb},{type:i.qb},{type:Ng,decorators:[{type:i.z}]}];class Mg{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}Mg.\u0275fac=function(e){return new(e||Mg)(i.Nc(i.v),i.Nc(i.K),i.Nc(i.ab))},Mg.\u0275dir=i.Ic({type:Mg,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Mg.ctorParameters=()=>[{type:i.v},{type:i.K},{type:i.ab}],Mg.propDecorators={ngStyle:[{type:i.I,args:["ngStyle"]}]};class Rg{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}Rg.\u0275fac=function(e){return new(e||Rg)(i.Nc(i.qb))},Rg.\u0275dir=i.Ic({type:Rg,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.Bc]}),Rg.ctorParameters=()=>[{type:i.qb}],Rg.propDecorators={ngTemplateOutletContext:[{type:i.I}],ngTemplateOutlet:[{type:i.I}]};function Lg(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(i.vc)(e)}'`)}const Fg=new class{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}},jg=new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}};class Bg{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Object(i.fc)(e))return Fg;if(Object(i.gc)(e))return jg;throw Lg(Bg,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}Bg.\u0275fac=function(e){return new(e||Bg)(i.Nc(i.k,16))},Bg.\u0275pipe=i.Mc({name:"async",type:Bg,pure:!1}),Bg.ctorParameters=()=>[{type:i.k}];class Vg{transform(e){if(null==e)return null;if("string"!=typeof e)throw Lg(Vg,e);return e.toLowerCase()}}Vg.\u0275fac=function(e){return new(e||Vg)},Vg.\u0275pipe=i.Mc({name:"lowercase",type:Vg,pure:!0});const zg=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class Ug{transform(e){if(null==e)return null;if("string"!=typeof e)throw Lg(Ug,e);return e.replace(zg,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}Ug.\u0275fac=function(e){return new(e||Ug)},Ug.\u0275pipe=i.Mc({name:"titlecase",type:Ug,pure:!0});class Hg{transform(e){if(null==e)return null;if("string"!=typeof e)throw Lg(Hg,e);return e.toUpperCase()}}Hg.\u0275fac=function(e){return new(e||Hg)},Hg.\u0275pipe=i.Mc({name:"uppercase",type:Hg,pure:!0});class $g{constructor(e){this.locale=e}transform(e,t="mediumDate",n,r){if(null==e||""===e||e!=e)return null;try{return Yf(e,t,r||this.locale,n)}catch(i){throw Lg($g,i.message)}}}$g.\u0275fac=function(e){return new(e||$g)(i.Nc(i.L,16))},$g.\u0275pipe=i.Mc({name:"date",type:$g,pure:!0}),$g.ctorParameters=()=>[{type:String,decorators:[{type:i.D,args:[i.L]}]}];const qg=/#/g;class Gg{constructor(e){this._localization=e}transform(e,t,n){if(null==e)return"";if("object"!=typeof t||null===t)throw Lg(Gg,t);return t[vg(e,Object.keys(t),this._localization,n)].replace(qg,e.toString())}}Gg.\u0275fac=function(e){return new(e||Gg)(i.Nc(mg,16))},Gg.\u0275pipe=i.Mc({name:"i18nPlural",type:Gg,pure:!0}),Gg.ctorParameters=()=>[{type:mg}];class Wg{transform(e,t){if(null==e)return"";if("object"!=typeof t||"string"!=typeof e)throw Lg(Wg,t);return t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("other")?t.other:""}}Wg.\u0275fac=function(e){return new(e||Wg)},Wg.\u0275pipe=i.Mc({name:"i18nSelect",type:Wg,pure:!0});class Xg{transform(e){return JSON.stringify(e,null,2)}}Xg.\u0275fac=function(e){return new(e||Xg)},Xg.\u0275pipe=i.Mc({name:"json",type:Xg,pure:!1});class Yg{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=Kg){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{var t,n;this.keyValues.push((t=e.key,n=e.currentValue,{key:t,value:n}))}),this.keyValues.sort(t)),this.keyValues}}function Kg(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}Yg.\u0275fac=function(e){return new(e||Yg)(i.Nc(i.K,16))},Yg.\u0275pipe=i.Mc({name:"keyvalue",type:Yg,pure:!1}),Yg.ctorParameters=()=>[{type:i.K}];class Zg{constructor(e){this._locale=e}transform(e,t,n){if(!em(e))return null;n=n||this._locale;try{return function(e,t,n){return dg(e,fg(Ff(t,kf.Decimal),Lf(t,If.MinusSign)),t,If.Group,If.Decimal,n)}(tm(e),n,t)}catch(r){throw Lg(Zg,r.message)}}}Zg.\u0275fac=function(e){return new(e||Zg)(i.Nc(i.L,16))},Zg.\u0275pipe=i.Mc({name:"number",type:Zg,pure:!0}),Zg.ctorParameters=()=>[{type:String,decorators:[{type:i.D,args:[i.L]}]}];class Qg{constructor(e){this._locale=e}transform(e,t,n){if(!em(e))return null;n=n||this._locale;try{return function(e,t,n){return dg(e,fg(Ff(t,kf.Percent),Lf(t,If.MinusSign)),t,If.Group,If.Decimal,n,!0).replace(new RegExp("%","g"),Lf(t,If.PercentSign))}(tm(e),n,t)}catch(r){throw Lg(Qg,r.message)}}}Qg.\u0275fac=function(e){return new(e||Qg)(i.Nc(i.L,16))},Qg.\u0275pipe=i.Mc({name:"percent",type:Qg,pure:!0}),Qg.ctorParameters=()=>[{type:String,decorators:[{type:i.D,args:[i.L]}]}];class Jg{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(e,t=this._defaultCurrencyCode,n="symbol",r,i){if(!em(e))return null;i=i||this._locale,"boolean"==typeof n&&(n=n?"symbol":"code");let s=t||this._defaultCurrencyCode;"code"!==n&&(s="symbol"===n||"symbol-narrow"===n?Uf(s,"symbol"===n?"wide":"narrow",i):n);try{return pg(tm(e),i,s,t,r)}catch(o){throw Lg(Jg,o.message)}}}function em(e){return!(null==e||""===e||e!=e)}function tm(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}Jg.\u0275fac=function(e){return new(e||Jg)(i.Nc(i.L,16),i.Nc(i.t,16))},Jg.\u0275pipe=i.Mc({name:"currency",type:Jg,pure:!0}),Jg.ctorParameters=()=>[{type:String,decorators:[{type:i.D,args:[i.L]}]},{type:String,decorators:[{type:i.D,args:[i.t]}]}];class nm{transform(e,t,n){if(null==e)return null;if(!this.supports(e))throw Lg(nm,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}nm.\u0275fac=function(e){return new(e||nm)},nm.\u0275pipe=i.Mc({name:"slice",type:nm,pure:!1});class rm{}rm.\u0275fac=function(e){return new(e||rm)},rm.\u0275mod=i.Lc({type:rm}),rm.\u0275inj=i.Kc({providers:[{provide:mg,useClass:yg}]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(rm,{declarations:[bg,wg,Eg,Sg,Rg,Mg,Dg,Og,Ig,Ng,Pg,Bg,Hg,Vg,Xg,nm,Zg,Qg,Ug,Jg,$g,Gg,Wg,Yg],exports:[bg,wg,Eg,Sg,Rg,Mg,Dg,Og,Ig,Ng,Pg,Bg,Hg,Vg,Xg,nm,Zg,Qg,Ug,Jg,$g,Gg,Wg,Yg]});const im="browser";new i.nb("12.0.4");class sm{}sm.\u0275prov=Object(i.Jc)({token:sm,providedIn:"root",factory:()=>new om(Object(i.Xc)(af),window)});class om{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=am(this.window.history)||am(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function am(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class lm{}class cm extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new cm,sf||(sf=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(hm=hm||document.querySelector("base"),hm?hm.getAttribute("href"):null);return null==t?null:function(e){um=um||document.createElement("a"),um.setAttribute("href",e);const t=um.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){hm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _g(document.cookie,e)}}let um,hm=null;const dm=new i.G("TRANSITION_ID");const pm=[{provide:i.d,useFactory:function(e,t,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=of();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[dm,af,i.H],multi:!0}];class fm{static init(){Object(i.yb)(new fm)}addToWindow(e){i.ac.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.ac.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.ac.getAllAngularRootElements=()=>e.getAllRootElements();i.ac.frameworkStabilizers||(i.ac.frameworkStabilizers=[]),i.ac.frameworkStabilizers.push(e=>{const t=i.ac.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?of().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}class gm{build(){return new XMLHttpRequest}}gm.\u0275fac=function(e){return new(e||gm)},gm.\u0275prov=i.Jc({token:gm,factory:gm.\u0275fac});function mm(e,t){if("undefined"==typeof COMPILED||!COMPILED){(i.ac.ng=i.ac.ng||{})[e]=t}}const vm={ApplicationRef:i.g,NgZone:i.S};function ym(e){return Object(i.Wb)(e)}i.d,i.R,new i.T;const _m=[],bm=new i.G("EventManagerPlugins");class wm{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}wm.\u0275fac=function(e){return new(e||wm)(i.Xc(bm),i.Xc(i.S))},wm.\u0275prov=i.Jc({token:wm,factory:wm.\u0275fac}),wm.ctorParameters=()=>[{type:Array,decorators:[{type:i.D,args:[bm]}]},{type:i.S}];class xm{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=of().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class Em{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}Em.\u0275fac=function(e){return new(e||Em)},Em.\u0275prov=i.Jc({token:Em,factory:Em.\u0275fac});class Cm extends Em{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(Sm),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Sm))}}function Sm(e){of().remove(e)}Cm.\u0275fac=function(e){return new(e||Cm)(i.Xc(af))},Cm.\u0275prov=i.Jc({token:Cm,factory:Cm.\u0275fac}),Cm.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];const km={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tm=/%COMP%/g,Am="_nghost-%COMP%",Dm="_ngcontent-%COMP%";function Om(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Om(e,i,n):(i=i.replace(Tm,e),n.push(i))}return n}function Im(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Nm{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Pm(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.rb.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Mm(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.rb.ShadowDom:return new Rm(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Om(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}Nm.\u0275fac=function(e){return new(e||Nm)(i.Xc(wm),i.Xc(Cm),i.Xc(i.c))},Nm.\u0275prov=i.Jc({token:Nm,factory:Nm.\u0275fac}),Nm.ctorParameters=()=>[{type:wm},{type:Cm},{type:String,decorators:[{type:i.D,args:[i.c]}]}];class Pm{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(km[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=km[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=km[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.cb.DashCase|i.cb.Important)?e.style.setProperty(t,n,r&i.cb.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.cb.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Im(n)):this.eventManager.addEventListener(e,t,Im(n))}}"@".charCodeAt(0);class Mm extends Pm{constructor(e,t,n,r){super(e),this.component=n;const i=Om(r+"-"+n.id,n.styles,[]);var s;t.addStyles(i),this.contentAttr=(s=r+"-"+n.id,Dm.replace(Tm,s)),this.hostAttr=function(e){return Am.replace(Tm,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Rm extends Pm{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Om(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}class Lm extends xm{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}Lm.\u0275fac=function(e){return new(e||Lm)(i.Xc(af))},Lm.\u0275prov=i.Jc({token:Lm,factory:Lm.\u0275fac}),Lm.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];const Fm={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},jm=new i.G("HammerGestureConfig"),Bm=new i.G("HammerLoader");class Vm{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}Vm.\u0275fac=function(e){return new(e||Vm)},Vm.\u0275prov=i.Jc({token:Vm,factory:Vm.\u0275fac});class zm extends xm{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r,this._loaderPromise=null}supports(e){return!(!Fm.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))&&!(!window.Hammer&&!this.loader)}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();let r=!1,i=()=>{r=!0};return this._loaderPromise.then(()=>{window.Hammer?r||(i=this.addEventListener(e,t,n)):i=()=>{}}).catch(()=>{i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),s=function(e){r.runGuarded(function(){n(e)})};return i.on(t,s),()=>{i.off(t,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}zm.\u0275fac=function(e){return new(e||zm)(i.Xc(af),i.Xc(jm),i.Xc(i.Ab),i.Xc(Bm,8))},zm.\u0275prov=i.Jc({token:zm,factory:zm.\u0275fac}),zm.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:Vm,decorators:[{type:i.D,args:[jm]}]},{type:i.Ab},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[Bm]}]}];const Um=[{provide:bm,useClass:zm,multi:!0,deps:[af,jm,i.Ab,[new i.T,Bm]]},{provide:jm,useClass:Vm,deps:[]}],Hm=[];class $m{}$m.\u0275fac=function(e){return new(e||$m)},$m.\u0275mod=i.Lc({type:$m}),$m.\u0275inj=i.Kc({providers:Um});const qm=["alt","control","meta","shift"],Gm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wm={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xm={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class Ym extends xm{constructor(e){super(e)}supports(e){return null!=Ym.parseEventName(e)}addEventListener(e,t,n){const r=Ym.parseEventName(t),i=Ym.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>of().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=Ym._normalizeKey(t.pop());let i="";if(qm.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Wm.hasOwnProperty(t)&&(t=Wm[t]))}return Gm[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),qm.forEach(r=>{if(r!=n){(0,Xm[r])(e)&&(t+=r+".")}}),t+=n,t}static eventCallback(e,t,n){return r=>{Ym.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}Ym.\u0275fac=function(e){return new(e||Ym)(i.Xc(af))},Ym.\u0275prov=i.Jc({token:Ym,factory:Ym.\u0275fac}),Ym.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];class Km{}function Zm(e){return new Qm(e.get(af))}Km.\u0275fac=function(e){return new(e||Km)},Km.\u0275prov=Object(i.Jc)({factory:function(){return Object(i.Xc)(Qm)},token:Km,providedIn:"root"});class Qm extends Km{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case i.eb.NONE:return t;case i.eb.HTML:return Object(i.Jb)(t,"HTML")?Object(i.yc)(t):Object(i.Hb)(this._doc,String(t)).toString();case i.eb.STYLE:return Object(i.Jb)(t,"Style")?Object(i.yc)(t):t;case i.eb.SCRIPT:if(Object(i.Jb)(t,"Script"))return Object(i.yc)(t);throw new Error("unsafe value used in a script context");case i.eb.URL:Object(i.Zb)(t);return Object(i.Jb)(t,"URL")?Object(i.yc)(t):Object(i.Ib)(String(t));case i.eb.RESOURCE_URL:if(Object(i.Jb)(t,"ResourceURL"))return Object(i.yc)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return Object(i.Lb)(e)}bypassSecurityTrustStyle(e){return Object(i.Ob)(e)}bypassSecurityTrustScript(e){return Object(i.Nb)(e)}bypassSecurityTrustUrl(e){return Object(i.Pb)(e)}bypassSecurityTrustResourceUrl(e){return Object(i.Mb)(e)}}Qm.\u0275fac=function(e){return new(e||Qm)(i.Xc(af))},Qm.\u0275prov=Object(i.Jc)({factory:function(){return Zm(Object(i.Xc)(i.C))},token:Qm,providedIn:"root"}),Qm.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];const Jm=[{provide:i.W,useValue:"browser"},{provide:i.X,useValue:function(){cm.makeCurrent(),fm.init()},multi:!0},{provide:af,useFactory:function(){return Object(i.uc)(document),document},deps:[]}],ev=(i.db,[]),tv=(Object(i.sb)(i.xb,"browser",Jm),[ev,{provide:i.Db,useValue:"root"},{provide:i.x,useFactory:function(){return new i.x},deps:[]},{provide:bm,useClass:Lm,multi:!0,deps:[af,i.S,i.W]},{provide:bm,useClass:Ym,multi:!0,deps:[af]},Hm,{provide:Nm,useClass:Nm,deps:[wm,Cm,i.c]},{provide:i.bb,useExisting:Nm},{provide:Em,useExisting:Cm},{provide:Cm,useClass:Cm,deps:[af]},{provide:i.lb,useClass:i.lb,deps:[i.S]},{provide:wm,useClass:wm,deps:[bm,i.S]},{provide:lm,useClass:gm,deps:[]},_m]);class nv{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:nv,providers:[{provide:i.c,useValue:e.appId},{provide:dm,useExisting:i.c},pm]}}}function rv(){return new iv(Object(i.Xc)(af))}nv.\u0275fac=function(e){return new(e||nv)(i.Xc(nv,12))},nv.\u0275mod=i.Lc({type:nv}),nv.\u0275inj=i.Kc({providers:tv,imports:[rm,i.f]}),nv.ctorParameters=()=>[{type:nv,decorators:[{type:i.T},{type:i.gb},{type:i.D,args:[nv]}]}],("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(nv,{exports:function(){return[rm,i.f]}});class iv{constructor(e){this._doc=e,this._dom=of()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._doc.querySelectorAll(`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);return this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>t.setAttribute(this._getMetaKeyMap(n),e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>t.getAttribute(this._getMetaKeyMap(n))===e[n])}_getMetaKeyMap(e){return sv[e]||e}}iv.\u0275fac=function(e){return new(e||iv)(i.Xc(af))},iv.\u0275prov=Object(i.Jc)({factory:rv,token:iv,providedIn:"root"}),iv.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];const sv={httpEquiv:"http-equiv"};function ov(){return new av(Object(i.Xc)(af))}class av{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}av.\u0275fac=function(e){return new(e||av)(i.Xc(af))},av.\u0275prov=Object(i.Jc)({factory:ov,token:av,providedIn:"root"}),av.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];"undefined"!=typeof window&&window;class lv{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const t=new lv;return t.store=e,t}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}function cv(e,t){const n=e.getElementById(t+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(e){const t={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return e.replace(/&[^;]+;/g,e=>t[e])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+t,i)}return lv.init(r)}lv.\u0275fac=function(e){return new(e||lv)},lv.\u0275prov=i.Jc({token:lv,factory:lv.\u0275fac});class uv{}uv.\u0275fac=function(e){return new(e||uv)},uv.\u0275mod=i.Lc({type:uv}),uv.\u0275inj=i.Kc({providers:[{provide:lv,useFactory:cv,deps:[af,i.c]}]});new i.nb("12.0.4");const hv=function(){const e=new Map;return e.set(No.ANALYZE_FOR_ENTRY_COMPONENTS,i.a),e.set(No.ElementRef,i.v),e.set(No.NgModuleRef,i.Q),e.set(No.ViewContainerRef,i.qb),e.set(No.ChangeDetectorRef,i.k),e.set(No.Renderer2,i.ab),e.set(No.QueryList,i.Z),e.set(No.TemplateRef,i.kb),e.set(No.CodegenComponentFactoryResolver,i.zb),e.set(No.ComponentFactoryResolver,i.p),e.set(No.ComponentFactory,i.o),e.set(No.ComponentRef,i.q),e.set(No.NgModuleFactory,i.O),e.set(No.createModuleFactory,i.Rb),e.set(No.moduleDef,i.hc),e.set(No.moduleProviderDef,i.ic),e.set(No.RegisterModuleFactoryFn,i.sc),e.set(No.Injector,i.H),e.set(No.ViewEncapsulation,i.rb),e.set(No.ChangeDetectionStrategy,i.j),e.set(No.SecurityContext,i.eb),e.set(No.LOCALE_ID,i.L),e.set(No.TRANSLATIONS_FORMAT,i.jb),e.set(No.inlineInterpolate,i.bc),e.set(No.interpolate,i.cc),e.set(No.EMPTY_ARRAY,i.Bb),e.set(No.EMPTY_MAP,i.Cb),e.set(No.viewDef,i.zc),e.set(No.elementDef,i.Ub),e.set(No.anchorDef,i.Kb),e.set(No.textDef,i.wc),e.set(No.directiveDef,i.Tb),e.set(No.providerDef,i.pc),e.set(No.queryDef,i.qc),e.set(No.pureArrayDef,i.lc),e.set(No.pureObjectDef,i.nc),e.set(No.purePipeDef,i.oc),e.set(No.pipeDef,i.mc),e.set(No.nodeValue,i.kc),e.set(No.ngContentDef,i.jc),e.set(No.unwrapValue,i.xc),e.set(No.createRendererType2,i.Sb),e.set(No.createComponentFactory,i.Qb),e}();const dv=new i.G("ErrorCollector"),pv={provide:i.V,useValue:"/"},fv={get(e){throw new Error(`No ResourceLoader implementation has been provided. Can't read the url "${e}"`)}},gv=new i.G("HtmlParser");const mv=new class{constructor(){this.reflectionCapabilities=new i.Fb}componentModuleUrl(e,t){const n=t.moduleId;if("string"==typeof n){return function(e){const t=nf(e);return t&&t[ef.Scheme]||""}(n)?n:`package:${n}`}if(null!=n)throw sn(`moduleId should be a string in "${Object(i.vc)(e)}". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.`);return`./${Object(i.vc)(e)}`}parameters(e){return this.reflectionCapabilities.parameters(e)}tryAnnotations(e){return this.annotations(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}shallowAnnotations(e){throw new Error("Not supported in JIT mode")}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}guards(e){return this.reflectionCapabilities.guards(e)}resolveExternalReference(e){return hv.get(e)||e.runtime}},vv=fv,yv=new td,_v=(i.Ab,new i.T,new i.D(i.ib),new i.T,new i.D(i.jb),i.Ab,i.Ab,i.Ab,i.T,i.T,i.l,i.H,i.Ab,i.V,[{provide:i.l,useFactory:()=>new i.l}]);function bv(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}function wv(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}const xv=Object(i.sb)(i.xb,"coreDynamic",[{provide:i.i,useValue:{},multi:!0},{provide:i.m,useClass:class{constructor(e){const t={useJit:!0,defaultEncapsulation:i.rb.Emulated,missingTranslation:i.M.Warning};this._defaultOptions=[t,...e]}createCompiler(e=[]){const t={useJit:bv((n=this._defaultOptions.concat(e)).map(e=>e.useJit)),defaultEncapsulation:bv(n.map(e=>e.defaultEncapsulation)),providers:wv(n.map(e=>e.providers)),missingTranslation:bv(n.map(e=>e.missingTranslation)),preserveWhitespaces:bv(n.map(e=>e.preserveWhitespaces))};var n;return i.H.create([_v,{provide:td,useFactory:()=>new td({useJit:t.useJit,jitDevMode:Object(i.wb)(),defaultEncapsulation:t.defaultEncapsulation,missingTranslation:t.missingTranslation,preserveWhitespaces:t.preserveWhitespaces}),deps:[]},t.providers]).get(i.l)}},deps:[i.i]}]);class Ev extends Oh{get(e){let t,n;const r=new Promise((e,r)=>{t=e,n=r}),i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="text",i.onload=function(){const r=i.response||i.responseText;let s=1223===i.status?204:i.status;0===s&&(s=r?200:0),200<=s&&s<=300?t(r):n(`Failed to load ${e}`)},i.onerror=function(){n(`Failed to load ${e}`)},i.send(),r}}Ev.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(Ev)))(t||Ev)}}(),Ev.\u0275prov=i.Jc({token:Ev,factory:Ev.\u0275fac});const Cv={providers:[{provide:Oh,useClass:Ev,deps:[]}]},Sv=[Jm,{provide:i.i,useValue:Cv,multi:!0},{provide:i.W,useValue:"browser"}];new i.nb("12.0.4");const kv=Object(i.sb)(xv,"browserDynamic",Sv);function Tv(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}Object.create;Object.create;var Av=n("Cfvw"),Dv=n("LRne"),Ov=n("2Vo4"),Iv=n("z+Ro"),Nv=n("DH7j"),Pv=n("l7GE"),Mv=n("ZUHj"),Rv=n("yCtX");const Lv={};function Fv(...e){let t,n;return Object(Iv.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(Nv.a)(e[0])&&(e=e[0]),Object(Rv.a)(e,n).lift(new jv(t))}class jv{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Bv(e,this.resultSelector))}}class Bv extends Pv.a{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Lv),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(Object(Mv.a)(this,t,void 0,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=r[n],s=this.toRespond?i===Lv?--this.toRespond:this.toRespond:0;r[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var Vv=n("HDdC");const zv=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Uv=n("bHdf");function Hv(...e){return Object(Uv.a)(1)(Object(Dv.a)(...e))}var $v=n("EY2u");function qv(e){return new Vv.a(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(Av.a)(n):Object($v.b)()).subscribe(t)})}var Gv=n("EQ5u"),Wv=n("XNiG"),Xv=n("lJxs"),Yv=n("eIep"),Kv=n("IzEk");function Zv(...e){const t=e[e.length-1];return Object(Iv.a)(t)?(e.pop(),n=>Hv(e,n,t)):t=>Hv(e,t)}var Qv=n("Kqap"),Jv=n("pLZG"),ey=n("JIr8"),ty=n("bOdf"),ny=n("7o/Q"),ry=n("4I5i");function iy(e){return function(t){return 0===e?Object($v.b)():t.lift(new sy(e))}}class sy{constructor(e){if(this.total=e,this.total<0)throw new ry.a}call(e,t){return t.subscribe(new oy(e,this.total))}}class oy extends ny.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;if(t.length<n)t.push(e);else{t[r%n]=e}}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function ay(e=uy){return t=>t.lift(new ly(e))}class ly{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new cy(e,this.errorFactory))}}class cy extends ny.a{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function uy(){return new zv}function hy(e=null){return t=>t.lift(new dy(e))}class dy{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new py(e,this.defaultValue))}}class py extends ny.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var fy=n("SpAZ");function gy(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Object(Jv.a)((t,n)=>e(t,n,r)):fy.a,Object(Kv.a)(1),n?hy(t):ay(()=>new zv))}var my=n("5+tZ");function vy(){}var yy=n("n6bG");function _y(e,t,n){return function(r){return r.lift(new by(e,t,n))}}class by{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new wy(e,this.nextOrObserver,this.error,this.complete))}}class wy extends ny.a{constructor(e,t,n,r){super(e),this._tapNext=vy,this._tapError=vy,this._tapComplete=vy,this._tapError=n||vy,this._tapComplete=r||vy,Object(yy.a)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||vy,this._tapError=t.error||vy,this._tapComplete=t.complete||vy)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var xy=n("x+ZX"),Ey=n("quSY");function Cy(e){return t=>t.lift(new Sy(e))}class Sy{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ky(e,this.callback))}}class ky extends ny.a{constructor(e,t){super(e),this.add(new Ey.a(t))}}class Ty{constructor(e,t){this.id=e,this.url=t}}class Ay extends Ty{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dy extends Ty{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oy extends Ty{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Iy extends Ty{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ny extends Ty{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Py extends Ty{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class My extends Ty{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ry extends Ty{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ly extends Ty{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fy{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jy{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class By{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vy{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zy{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uy{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hy{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){const e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}}const $y="primary";class qy{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gy(e){return new qy(e)}function Wy(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Xy(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Yy(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ky(e[i],t[i]))return!1;return!0}function Ky(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Zy(e){return Array.prototype.concat.apply([],e)}function Qy(e){return e.length>0?e[e.length-1]:null}function Jy(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function e_(e){return Object(i.ec)(e)?e:Object(i.fc)(e)?Object(Av.a)(Promise.resolve(e)):Object(Dv.a)(e)}const t_={exact:function e(t,n,r){if(!u_(t.segments,n.segments))return!1;if(!o_(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:i_},n_={exact:function(e,t){return Yy(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ky(e[n],t[n]))},ignored:()=>!0};function r_(e,t,n){return t_[n.paths](e.root,t.root,n.matrixParams)&&n_[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function i_(e,t,n){return s_(e,t,t.segments,n)}function s_(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!u_(i,n)&&(!t.hasChildren()&&!!o_(i,n,r))}if(e.segments.length===n.length){if(!u_(e.segments,n))return!1;if(!o_(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!i_(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!u_(e.segments,i)&&(!!o_(e.segments,i,r)&&(!!e.children.primary&&s_(e.children.primary,t,s,r)))}}function o_(e,t,n){return t.every((t,r)=>n_[n](e[r].parameters,t.parameters))}class a_{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gy(this.queryParams)),this._queryParamMap}toString(){return p_.serialize(this)}}class l_{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jy(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return f_(this)}}class c_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gy(this.parameters)),this._parameterMap}toString(){return w_(this)}}function u_(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class h_{}class d_{parse(e){const t=new k_(e);return new a_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${g_(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${v_(t)}=${v_(e)}`).join("&"):`${v_(t)}=${v_(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const p_=new d_;function f_(e){return e.segments.map(e=>w_(e)).join("/")}function g_(e,t){if(!e.hasChildren())return f_(e);if(t){const t=e.children.primary?g_(e.children.primary,!1):"",n=[];return Jy(e.children,(e,t)=>{t!==$y&&n.push(`${t}:${g_(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Jy(e.children,(e,r)=>{r===$y&&(n=n.concat(t(e,r)))}),Jy(e.children,(e,r)=>{r!==$y&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===$y?[g_(e.children.primary,!1)]:[`${n}:${g_(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${f_(e)}/${t[0]}`:`${f_(e)}/(${t.join("//")})`}}function m_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function v_(e){return m_(e).replace(/%3B/gi,";")}function y_(e){return m_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function __(e){return decodeURIComponent(e)}function b_(e){return __(e.replace(/\+/g,"%20"))}function w_(e){return`${y_(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${y_(e)}=${y_(t[e])}`).join("")}`;var t}const x_=/^[^\/()?;=#]+/;function E_(e){const t=e.match(x_);return t?t[0]:""}const C_=/^[^=?&#]+/;const S_=/^[^?&#]+/;class k_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new l_([],{}):new l_([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new l_(e,t)),n}parseSegment(){const e=E_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new c_(__(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=E_(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=E_(this.remaining);e&&(n=e,this.capture(n))}e[__(t)]=__(n)}parseQueryParam(e){const t=function(e){const t=e.match(C_);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(S_);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=b_(t),i=b_(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=E_(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=$y);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new l_([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class T_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=A_(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=A_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=D_(e,this._root);if(t.length<2)return[];return t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return D_(e,this._root).map(e=>e.value)}}function A_(e,t){if(e===t.value)return t;for(const n of t.children){const t=A_(e,n);if(t)return t}return null}function D_(e,t){if(e===t.value)return[t];for(const n of t.children){const r=D_(e,n);if(r.length)return r.unshift(t),r}return[]}class O_{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function I_(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class N_ extends T_{constructor(e,t){super(e),this.snapshot=t,j_(this,e)}toString(){return this.snapshot.toString()}}function P_(e,t){const n=function(e,t){const n=new L_([],{},{},"",{},$y,t,null,e.root,-1,{});return new F_("",new O_(n,[]))}(e,t),r=new Ov.a([new c_("",{})]),i=new Ov.a({}),s=new Ov.a({}),o=new Ov.a({}),a=new Ov.a(""),l=new M_(r,i,o,a,s,$y,t,n.root);return l.snapshot=n.root,new N_(new O_(l,[]),n)}class M_{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Xv.a)(e=>Gy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Xv.a)(e=>Gy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function R_(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class L_{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class F_ extends T_{constructor(e,t){super(t),this.url=e,j_(this,t)}toString(){return B_(this._root)}}function j_(e,t){t.value._routerState=e,t.children.forEach(t=>j_(e,t))}function B_(e){const t=e.children.length>0?` { ${e.children.map(B_).join(", ")} } `:"";return`${e.value}${t}`}function V_(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Yy(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Yy(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Yy(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Yy(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function z_(e,t){const n=Yy(e.params,t.params)&&(r=e.url,i=t.url,u_(r,i)&&r.every((e,t)=>Yy(e.parameters,i[t].parameters)));var r,i;const s=!e.parent!=!t.parent;return n&&!s&&(!e.parent||z_(e.parent,t.parent))}function U_(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return U_(e,t,r);return U_(e,t)})}(e,t,n);return new O_(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return H_(t,e),e}}const n=(r=t.value,new M_(new Ov.a(r.url),new Ov.a(r.params),new Ov.a(r.queryParams),new Ov.a(r.fragment),new Ov.a(r.data),r.outlet,r.component,r)),i=t.children.map(t=>U_(e,t));return new O_(n,i)}var r}function H_(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)H_(e.children[n],t.children[n])}function $_(e,t,n,r,i){if(0===n.length)return W_(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Y_(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Jy(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Y_(n,t,r)}(n);if(s.toRoot())return W_(t.root,new l_([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new K_(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment,r=e===t.root;return new K_(e,r,0)}const r=q_(e.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new K_(r,!1,i-s)}(n.snapshot._urlSegment,i,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Q_(o.segmentGroup,o.index,s.commands):Z_(o.segmentGroup,o.index,s.commands);return W_(o.segmentGroup,a,t,r,i)}function q_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function G_(e){return"object"==typeof e&&null!=e&&e.outlets}function W_(e,t,n,r,i){let s={};return r&&Jy(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),n.root===e?new a_(t,s,i):new a_(X_(n.root,e,t),s,i)}function X_(e,t,n){const r={};return Jy(e.children,(e,i)=>{r[i]=e===t?n:X_(e,t,n)}),new l_(e.segments,r)}class Y_{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&q_(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(G_);if(r&&r!==Qy(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class K_{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Z_(e,t,n){if(e||(e=new l_([],{})),0===e.segments.length&&e.hasChildren())return Q_(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(G_(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!nb(a,l,t))return s;r+=2}else{if(!nb(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new l_(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new l_(e.segments.slice(r.pathIndex),e.children),Q_(t,0,i)}return r.match&&0===i.length?new l_(e.segments,{}):r.match&&!e.hasChildren()?J_(e,t,n):r.match?Q_(e,0,i):J_(e,t,n)}function Q_(e,t,n){if(0===n.length)return new l_(e.segments,{});{const r=function(e){return G_(e[0])?e[0].outlets:{[$y]:e}}(n),i={};return Jy(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Z_(e.children[r],t,n))}),Jy(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new l_(e.segments,i)}}function J_(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(G_(s)){const e=eb(s.outlets);return new l_(r,e)}if(0===i&&q_(n[0])){const s=e.segments[t];r.push(new c_(s.path,tb(n[0]))),i++;continue}const o=G_(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&q_(a)?(r.push(new c_(o,tb(a))),i+=2):(r.push(new c_(o,{})),i++)}return new l_(r,{})}function eb(e){const t={};return Jy(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=J_(new l_([],{}),0,e))}),t}function tb(e){const t={};return Jy(e,(e,n)=>t[n]=`${e}`),t}function nb(e,t,n){return e==n.path&&Yy(t,n.parameters)}class rb{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),V_(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=I_(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Jy(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=I_(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=I_(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Uy(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Vy(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(V_(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),ib(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function ib(e){V_(e.value),e.children.forEach(ib)}class sb{constructor(e,t){this.routes=e,this.module=t}}function ob(e){return"function"==typeof e}function ab(e){return e instanceof a_}const lb=Symbol("INITIAL_VALUE");function cb(){return Object(Yv.a)(e=>Fv(e.map(e=>e.pipe(Object(Kv.a)(1),Zv(lb)))).pipe(Object(Qv.a)((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==lb)return e;if(r===lb&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||ab(r))return r}return e},e)},lb),Object(Jv.a)(e=>e!==lb),Object(Xv.a)(e=>ab(e)?e:!0===e),Object(Kv.a)(1)))}class ub{}function hb(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];db(r,pb(t,r))}}function db(e,t){e.children&&hb(e.children,t)}function pb(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function fb(e){const t=e.children&&e.children.map(fb),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==$y&&(n.component=ub),n}function gb(e){return e.outlet||$y}function mb(e,t){const n=e.filter(e=>gb(e)===t);return n.push(...e.filter(e=>gb(e)!==t)),n}ub.\u0275fac=function(e){return new(e||ub)},ub.\u0275cmp=i.Hc({type:ub,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i.Oc(0,"router-outlet")},directives:function(){return[dw]},encapsulation:2});const vb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yb(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},vb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Xy)(n,e,t);if(!i)return Object.assign({},vb);const s={};Jy(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function _b(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>bb(e,t,n)&&gb(n)!==$y)}(e,n,r)){const i=new l_(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&gb(s)!==$y){const n=new l_([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[gb(s)]=n}return i}(e,t,r,new l_(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>bb(e,t,n))}(e,n,r)){const s=new l_(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(bb(e,n,a)&&!i[gb(a)]){const n=new l_([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[gb(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new l_(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function bb(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function wb(e,t,n,r){return!!(gb(e)===r||r!==$y&&bb(t,n,e))&&("**"===e.path||yb(t,e,n).matched)}function xb(e,t,n){return 0===t.length&&!e.children[n]}class Eb{constructor(e){this.segmentGroup=e||null}}class Cb{constructor(e){this.urlTree=e}}function Sb(e){return new Vv.a(t=>t.error(new Eb(e)))}function kb(e){return new Vv.a(t=>t.error(new Cb(e)))}function Tb(e){return new Vv.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Ab{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.Q)}apply(){const e=_b(this.urlTree.root,[],[],this.config).segmentGroup,t=new l_(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$y).pipe(Object(Xv.a)(e=>this.createUrlTree(Db(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(ey.a)(e=>{if(e instanceof Cb)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Eb)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$y).pipe(Object(Xv.a)(t=>this.createUrlTree(Db(t),e.queryParams,e.fragment))).pipe(Object(ey.a)(e=>{if(e instanceof Eb)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new l_([],{[$y]:e}):e;return new a_(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(Xv.a)(e=>new l_([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Av.a)(r).pipe(Object(ty.a)(r=>{const i=n.children[r],s=mb(t,r);return this.expandSegmentGroup(e,s,i,r).pipe(Object(Xv.a)(e=>({segment:e,outlet:r})))}),Object(Qv.a)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Object(Jv.a)((t,n)=>e(t,n,r)):fy.a,iy(1),n?hy(t):ay(()=>new zv))}())}expandSegment(e,t,n,r,i,s){return Object(Av.a)(n).pipe(Object(ty.a)(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Object(ey.a)(e=>{if(e instanceof Eb)return Object(Dv.a)(null);throw e}))),gy(e=>!!e),Object(ey.a)((e,n)=>{if(e instanceof zv||"EmptyError"===e.name){if(xb(t,r,i))return Object(Dv.a)(new l_([],{}));throw new Eb(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return wb(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Sb(t):Sb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?kb(i):this.lineralizeSegments(n,i).pipe(Object(my.a)(n=>{const i=new l_(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=yb(t,r,i);if(!o)return Sb(t);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?kb(u):this.lineralizeSegments(r,u).pipe(Object(my.a)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path){if(n.loadChildren){return(n._loadedConfig?Object(Dv.a)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(Object(Xv.a)(e=>(n._loadedConfig=e,new l_(r,{}))))}return Object(Dv.a)(new l_(r,{}))}const{matched:s,consumedSegments:o,lastChild:a}=yb(t,n,r);if(!s)return Sb(t);const l=r.slice(a);return this.getChildConfig(e,n,r).pipe(Object(my.a)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=_b(t,o,l,s),u=new l_(a.segments,a.children);if(0===c.length&&u.hasChildren()){return this.expandChildren(r,s,u).pipe(Object(Xv.a)(e=>new l_(o,e)))}if(0===s.length&&0===c.length)return Object(Dv.a)(new l_(o,{}));const h=gb(n)===i;return this.expandSegment(r,u,s,c,h?$y:i,!0).pipe(Object(Xv.a)(e=>new l_(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Object(Dv.a)(new sb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(Dv.a)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(Object(my.a)(n=>n?this.configLoader.load(e.injector,t).pipe(Object(Xv.a)(e=>(t._loadedConfig=e,e))):function(e){return new Vv.a(t=>t.error(Wy(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Object(Dv.a)(new sb([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return Object(Dv.a)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&ob(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!ob(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return e_(s)});return Object(Dv.a)(i).pipe(cb(),_y(e=>{if(!ab(e))return;const t=Wy(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),Object(Xv.a)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Dv.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Tb(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new a_(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Jy(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Jy(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new l_(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Db(e){const t={};for(const n of Object.keys(e.children)){const r=Db(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new l_(e.segments.concat(t.segments),t.children)}return e}(new l_(e.segments,t))}function Ob(e,t,n,r){return Object(Yv.a)(i=>function(e,t,n,r,i){return new Ab(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(Object(Xv.a)(e=>Object.assign(Object.assign({},i),{urlAfterRedirects:e}))))}class Ib{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nb{constructor(e,t){this.component=e,this.route=t}}function Pb(e,t,n){const r=e._root;return Rb(r,t?t._root:null,n,[r.value])}function Mb(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Rb(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=I_(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!u_(e.url,t.url);case"pathParamsOrQueryParamsChange":return!u_(e.url,t.url)||!Yy(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!z_(e,t)||!Yy(e.queryParams,t.queryParams);case"paramsChange":default:return!z_(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ib(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Rb(e,t,a?a.children:null,r,i):Rb(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nb(a.outlet.component,o))}else o&&Lb(t,a,i),i.canActivateChecks.push(new Ib(r)),s.component?Rb(e,null,a?a.children:null,r,i):Rb(e,null,n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Jy(s,(e,t)=>Lb(e,n.getContext(t),i)),i}function Lb(e,t,n){const r=I_(e),i=e.value;Jy(r,(e,r)=>{i.component?Lb(e,t?t.children.getContext(r):null,n):Lb(e,t,n)}),i.component&&t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Nb(t.outlet.component,i)):n.canDeactivateChecks.push(new Nb(null,i))}function Fb(e,t){return Object(my.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Dv.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(Av.a)(e).pipe(Object(my.a)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Dv.a)(!0);const o=s.map(s=>{const o=Mb(s,t,i);let a;if(function(e){return e&&ob(e.canDeactivate)}(o))a=e_(o.canDeactivate(e,t,n,r));else{if(!ob(o))throw new Error("Invalid CanDeactivate guard");a=e_(o(e,t,n,r))}return a.pipe(gy())});return Object(Dv.a)(o).pipe(cb())}(e.component,e.route,n,t,r)),gy(e=>!0!==e,!0))}(o,r,i,e).pipe(Object(my.a)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return Object(Av.a)(t).pipe(Object(ty.a)(t=>Hv(function(e,t){null!==e&&t&&t(new By(e));return Object(Dv.a)(!0)}(t.route.parent,r),function(e,t){null!==e&&t&&t(new zy(e));return Object(Dv.a)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>qv(()=>{const i=t.guards.map(i=>{const s=Mb(i,t.node,n);let o;if(function(e){return e&&ob(e.canActivateChild)}(s))o=e_(s.canActivateChild(r,e));else{if(!ob(s))throw new Error("Invalid CanActivateChild guard");o=e_(s(r,e))}return o.pipe(gy())});return Object(Dv.a)(i).pipe(cb())}));return Object(Dv.a)(i).pipe(cb())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Dv.a)(!0);const i=r.map(r=>qv(()=>{const i=Mb(r,t,n);let s;if(function(e){return e&&ob(e.canActivate)}(i))s=e_(i.canActivate(t,e));else{if(!ob(i))throw new Error("Invalid CanActivate guard");s=e_(i(t,e))}return s.pipe(gy())}));return Object(Dv.a)(i).pipe(cb())}(e,t.route,n))),gy(e=>!0!==e,!0))}(r,s,e,t):Object(Dv.a)(n)),Object(Xv.a)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}class jb{}function Bb(e){return new Vv.a(t=>t.error(e))}class Vb{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=_b(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$y);if(null===t)return null;const n=new L_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$y,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new O_(n,t),i=new F_(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=R_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=mb(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Ub(n);return r.sort((e,t)=>e.value.outlet===$y?-1:t.value.outlet===$y?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return xb(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!wb(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Qy(n).parameters:{};i=new L_(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qb(e),gb(e),e.component,e,Hb(t),$b(t)+n.length,Gb(e))}else{const r=yb(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new L_(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qb(e),gb(e),e.component,e,Hb(t),$b(t)+s.length,Gb(e))}const a=function(e){if(e.children)return e.children;if(e.loadChildren)return e._loadedConfig.routes;return[]}(e),{segmentGroup:l,slicedSegments:c}=_b(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new O_(i,e)]}if(0===a.length&&0===c.length)return[new O_(i,[])];const u=gb(e)===r,h=this.processSegment(a,l,c,u?$y:r);return null===h?null:[new O_(i,h)]}}function zb(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ub(e){const t=[],n=new Set;for(const r of e){if(!zb(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Ub(r.children);t.push(new O_(r.value,e))}return t.filter(e=>!n.has(e))}function Hb(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function $b(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function qb(e){return e.data||{}}function Gb(e){return e.resolve||{}}function Wb(e,t,n,r,i){return Object(my.a)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new Vb(e,t,n,r,i,s).recognize();return null===o?Bb(new jb):Object(Dv.a)(o)}catch(o){return Bb(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Xv.a)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}function Xb(e,t){return Object(my.a)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Object(Dv.a)(n);let s=0;return Object(Av.a)(i).pipe(Object(ty.a)(n=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return Object(Dv.a)({});const s={};return Object(Av.a)(i).pipe(Object(my.a)(i=>function(e,t,n,r){const i=Mb(e,t,r);return i.resolve?e_(i.resolve(t,n)):e_(i(t,n))}(e[i],t,n,r).pipe(_y(e=>{s[i]=e}))),iy(1),Object(my.a)(()=>Object.keys(s).length===i.length?Object(Dv.a)(s):$v.a))}(e._resolve,e,t,r).pipe(Object(Xv.a)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),R_(e,n).resolve),null)))}(n.route,r,e,t)),_y(()=>s++),iy(1),Object(my.a)(e=>s===i.length?Object(Dv.a)(n):$v.a))})}function Yb(e){return Object(Yv.a)(t=>{const n=e(t);return n?Object(Av.a)(n).pipe(Object(Xv.a)(()=>t)):Object(Dv.a)(t)})}class Kb extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Zb=new i.G("ROUTES");class Qb{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe(Object(Xv.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new sb(Zy(r.injector.get(Zb,void 0,i.E.Self|i.E.Optional)).map(fb),r)}),Object(ey.a)(e=>{throw t._loader$=void 0,e}));return t._loader$=new Gv.a(n,()=>new Wv.a).pipe(Object(xy.a)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?Object(Av.a)(this.loader.load(e)):e_(e()).pipe(Object(my.a)(e=>e instanceof i.O?Object(Dv.a)(e):Object(Av.a)(this.compiler.compileModuleAsync(e))))}}class Jb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ew,this.attachRef=null}}class ew{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Jb,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class tw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function nw(e){throw e}function rw(e,t,n){return t.parse("/")}function iw(e,t){return Object(Dv.a)(null)}const sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ow={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};class aw{constructor(e,t,n,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Wv.a,this.errorHandler=nw,this.malformedUriErrorHandler=rw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:iw,afterPreactivation:iw},this.urlHandlingStrategy=new tw,this.routeReuseStrategy=new Kb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected";this.ngModule=s.get(i.Q),this.console=s.get(i.Ab);const c=s.get(i.S);this.isNgZoneEnabled=c instanceof i.S&&i.S.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new a_(new l_([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qb(o,a,e=>this.triggerEvent(new Fy(e)),e=>this.triggerEvent(new jy(e))),this.routerState=P_(this.currentUrlTree,this.rootComponentType),this.transitions=new Ov.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Object(Jv.a)(e=>0!==e.id),Object(Xv.a)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Object(Yv.a)(e=>{let n=!1,r=!1;return Object(Dv.a)(e).pipe(_y(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(Yv.a)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(Dv.a)(e).pipe(Object(Yv.a)(e=>{const n=this.transitions.getValue();return t.next(new Ay(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?$v.a:Promise.resolve(e)}),Ob(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_y(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),Wb(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),_y(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects);const n=new Ny(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Ay(n,this.serializeUrl(r),i,s);t.next(a);const l=P_(r,this.rootComponentType).snapshot;return Object(Dv.a)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),$v.a}),Yb(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),_y(e=>{const t=new Py(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(Xv.a)(e=>Object.assign(Object.assign({},e),{guards:Pb(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),Fb(this.ngModule.injector,e=>this.triggerEvent(e)),_y(e=>{if(ab(e.guardsResult)){const t=Wy(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new My(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Object(Jv.a)(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Oy(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Yb(e=>{if(e.guards.canActivateChecks.length)return Object(Dv.a)(e).pipe(_y(e=>{const t=new Ry(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(Yv.a)(e=>{let n=!1;return Object(Dv.a)(e).pipe(Xb(this.paramsInheritanceStrategy,this.ngModule.injector),_y({next:()=>n=!0,complete:()=>{if(!n){const n=new Oy(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}))}),_y(e=>{const t=new Ly(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Yb(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Xv.a)(e=>{const t=function(e,t,n){const r=U_(e,t._root,n?n._root:void 0);return new N_(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),_y(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),Object(Xv.a)(e=>(new rb(s,e.targetRouterState,e.currentRouterState,o).activate(i),e))),_y({next(){n=!0},complete(){n=!0}}),Cy(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Oy(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Object(ey.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ab(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new Oy(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy};this.scheduleNavigation(t,"imperative",null,r,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Iy(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var i;return $v.a}));var i,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId)||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){hb(e),this.config=e.map(fb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),$_(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=ab(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},sw):!1===t?Object.assign({},ow):t,ab(e))return r_(this.currentUrlTree,e,n);const r=this.parseUrl(e);return r_(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Dy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;i?(l=i.resolve,c=i.reject,u=i.promise):u=new Promise((e,t)=>{l=e,c=t});const h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}aw.\u0275fac=function(e){return new(e||aw)(i.Xc(i.mb),i.Xc(h_),i.Xc(ew),i.Xc(xf),i.Xc(i.H),i.Xc(i.P),i.Xc(i.l),i.Xc(void 0))},aw.\u0275prov=i.Jc({token:aw,factory:aw.\u0275fac}),aw.ctorParameters=()=>[{type:i.mb},{type:h_},{type:ew},{type:xf},{type:i.H},{type:i.P},{type:i.l},{type:void 0}];class lw{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new Wv.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:uw(this.skipLocationChange),replaceUrl:uw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:uw(this.preserveFragment)})}}lw.\u0275fac=function(e){return new(e||lw)(i.Nc(aw),i.Nc(M_),i.Yc("tabindex"),i.Nc(i.ab),i.Nc(i.v))},lw.\u0275dir=i.Ic({type:lw,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.Zc("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.Bc]}),lw.ctorParameters=()=>[{type:aw},{type:M_},{type:String,decorators:[{type:i.h,args:["tabindex"]}]},{type:i.ab},{type:i.v}],lw.propDecorators={queryParams:[{type:i.I}],fragment:[{type:i.I}],queryParamsHandling:[{type:i.I}],preserveFragment:[{type:i.I}],skipLocationChange:[{type:i.I}],replaceUrl:[{type:i.I}],state:[{type:i.I}],relativeTo:[{type:i.I}],routerLink:[{type:i.I}],onClick:[{type:i.B,args:["click"]}]};class cw{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new Wv.a,this.subscription=e.events.subscribe(e=>{e instanceof Dy&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:uw(this.skipLocationChange),replaceUrl:uw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:uw(this.preserveFragment)})}}function uw(e){return""===e||!!e}cw.\u0275fac=function(e){return new(e||cw)(i.Nc(aw),i.Nc(M_),i.Nc(vf))},cw.\u0275dir=i.Ic({type:cw,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.Zc("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(i.Wc("href",t.href,i.jd),i.Ec("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.Bc]}),cw.ctorParameters=()=>[{type:aw},{type:M_},{type:vf}],cw.propDecorators={target:[{type:i.A,args:["attr.target"]},{type:i.I}],queryParams:[{type:i.I}],fragment:[{type:i.I}],queryParamsHandling:[{type:i.I}],preserveFragment:[{type:i.I}],skipLocationChange:[{type:i.I}],replaceUrl:[{type:i.I}],state:[{type:i.I}],relativeTo:[{type:i.I}],href:[{type:i.A}],routerLink:[{type:i.I}],onClick:[{type:i.B,args:["click",["$event.button","$event.ctrlKey","$event.shiftKey","$event.altKey","$event.metaKey"]]}]};class hw{constructor(e,t,n,r,i,s){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof Dy&&this.update()})}ngAfterContentInit(){Object(Dv.a)(this.links.changes,this.linksWithHrefs.changes,Object(Dv.a)(null)).pipe(Object(Uv.a)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=Object(Av.a)(t).pipe(Object(Uv.a)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){const t="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>e.isActive(n.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}hw.\u0275fac=function(e){return new(e||hw)(i.Nc(aw),i.Nc(i.v),i.Nc(i.ab),i.Nc(i.k),i.Nc(lw,8),i.Nc(cw,8))},hw.\u0275dir=i.Ic({type:hw,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(i.Gc(n,lw,5),i.Gc(n,cw,5)),2&e){let e;i.gd(e=i.ad())&&(t.links=e),i.gd(e=i.ad())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.Bc]}),hw.ctorParameters=()=>[{type:aw},{type:i.v},{type:i.ab},{type:i.k},{type:lw,decorators:[{type:i.T}]},{type:cw,decorators:[{type:i.T}]}],hw.propDecorators={links:[{type:i.s,args:[lw,{descendants:!0}]}],linksWithHrefs:[{type:i.s,args:[cw,{descendants:!0}]}],routerLinkActiveOptions:[{type:i.I}],routerLinkActive:[{type:i.I}]};class dw{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.y,this.deactivateEvents=new i.y,this.name=r||$y,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=e._futureSnapshot.routeConfig.component,r=(t=t||this.resolver).resolveComponentFactory(n),i=this.parentContexts.getOrCreateContext(this.name).children,s=new pw(e,i,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}dw.\u0275fac=function(e){return new(e||dw)(i.Nc(ew),i.Nc(i.qb),i.Nc(i.p),i.Yc("name"),i.Nc(i.k))},dw.\u0275dir=i.Ic({type:dw,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),dw.ctorParameters=()=>[{type:ew},{type:i.qb},{type:i.p},{type:String,decorators:[{type:i.h,args:["name"]}]},{type:i.k}],dw.propDecorators={activateEvents:[{type:i.U,args:["activate"]}],deactivateEvents:[{type:i.U,args:["deactivate"]}]};class pw{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===M_?this.route:e===ew?this.childContexts:this.parent.get(e,t)}}class fw{}class gw{preload(e,t){return Object(Dv.a)(null)}}class mw{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i;this.loader=new Qb(t,n,t=>e.triggerEvent(new Fy(t)),t=>e.triggerEvent(new jy(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(Jv.a)(e=>e instanceof Dy),Object(ty.a)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.Q);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return Object(Av.a)(n).pipe(Object(Uv.a)(),Object(Xv.a)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?Object(Dv.a)(t._loadedConfig):this.loader.load(e.injector,t)).pipe(Object(my.a)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}mw.\u0275fac=function(e){return new(e||mw)(i.Xc(aw),i.Xc(i.P),i.Xc(i.l),i.Xc(i.H),i.Xc(fw))},mw.\u0275prov=i.Jc({token:mw,factory:mw.\u0275fac}),mw.ctorParameters=()=>[{type:aw},{type:i.P},{type:i.l},{type:i.H},{type:fw}];class vw{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ay?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dy&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Hy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}vw.\u0275fac=function(e){return new(e||vw)(i.Xc(aw),i.Xc(sm),i.Xc(void 0))},vw.\u0275prov=i.Jc({token:vw,factory:vw.\u0275fac}),vw.ctorParameters=()=>[{type:aw},{type:sm},{type:void 0}];const yw=new i.G("ROUTER_CONFIGURATION"),_w=new i.G("ROUTER_FORROOT_GUARD"),bw=[xf,{provide:h_,useClass:d_},{provide:aw,useFactory:function(e,t,n,r,i,s,o,a={},l,c){const u=new aw(null,e,t,n,r,i,s,Zy(o));l&&(u.urlHandlingStrategy=l);c&&(u.routeReuseStrategy=c);Tw(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)});return u},deps:[h_,ew,xf,i.H,i.P,i.l,Zb,yw,[class{},new i.T],[class{},new i.T]]},ew,{provide:M_,useFactory:function(e){return e.routerState.root},deps:[aw]},{provide:i.P,useClass:i.hb},mw,gw,class{preload(e,t){return t().pipe(Object(ey.a)(()=>Object(Dv.a)(null)))}},{provide:yw,useValue:{enableTracing:!1}}];function ww(){return new i.R("Router",aw)}class xw{constructor(e,t){}static forRoot(e,t){return{ngModule:xw,providers:[bw,kw(e),{provide:_w,useFactory:Sw,deps:[[aw,new i.T,new i.gb]]},{provide:yw,useValue:t||{}},{provide:vf,useFactory:Cw,deps:[lf,[new i.D(_f),new i.T],yw]},{provide:vw,useFactory:Ew,deps:[aw,sm,yw]},{provide:fw,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:gw},{provide:i.R,multi:!0,useFactory:ww},[Aw,{provide:i.d,multi:!0,useFactory:Dw,deps:[Aw]},{provide:Iw,useFactory:Ow,deps:[Aw]},{provide:i.b,multi:!0,useExisting:Iw}]]}}static forChild(e){return{ngModule:xw,providers:[kw(e)]}}}function Ew(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new vw(e,t,n)}function Cw(e,t,n={}){return n.useHash?new wf(e,t):new bf(e,t)}function Sw(e){return"guarded"}function kw(e){return[{provide:i.a,multi:!0,useValue:e},{provide:Zb,multi:!0,useValue:e}]}function Tw(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}xw.\u0275fac=function(e){return new(e||xw)(i.Xc(_w,8),i.Xc(aw,8))},xw.\u0275mod=i.Lc({type:xw}),xw.\u0275inj=i.Kc({}),xw.ctorParameters=()=>[{type:void 0,decorators:[{type:i.T},{type:i.D,args:[_w]}]},{type:aw,decorators:[{type:i.T}]}],("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(xw,{declarations:[dw,lw,cw,hw,ub],exports:[dw,lw,cw,hw,ub]});class Aw{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Wv.a}appInitializer(){return this.injector.get(uf,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(aw),r=this.injector.get(yw);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Dv.a)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(yw),n=this.injector.get(mw),r=this.injector.get(vw),s=this.injector.get(aw),o=this.injector.get(i.g);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}function Dw(e){return e.appInitializer.bind(e)}function Ow(e){return e.bootstrapListener.bind(e)}Aw.\u0275fac=function(e){return new(e||Aw)(i.Xc(i.H))},Aw.\u0275prov=i.Jc({token:Aw,factory:Aw.\u0275fac}),Aw.ctorParameters=()=>[{type:i.H}];const Iw=new i.G("Router Initializer");new i.nb("12.0.4");let Nw=class{constructor(){}ngOnInit(){}};Nw.ctorParameters=()=>[],Nw=Tv([Object(i.n)({selector:"app-main",template:'<div class="columns">\n  <div class="column has-text-centered">\n    <h1 class="is-title is-1">Willkommen zum Automaten-Simulator</h1>\n    <img src="assets/images/java_error_in_idea_5723.png" />\n  </div>\n</div>\n<div class="columns">\n  <div class="column">\n    <h2 class="is-title is-2">About Me</h2>\n    <p>\n      Meine Name ist Hicham Naoufal und ich gruesse euch zu diesem Simulator zum\n      Kurs Technische Informatik im SS21.\n    </p>\n    <hr />\n    <h2 class="is-title is-2">Zum Projekt</h2>\n    <p>\n      Dieses Projekt ist im Kurs Technische Informatik unter der Leitung von\n      <b>Prof. Dr. Felix Gers</b>\n      <a href="https://prof.beuth-hochschule.de/gers/" target="_blank">\n        (Link)</a\n      >\n      entstanden.\n    </p>\n    <p>Folgende 4 Projekte sind hier implementiert:</p>\n    <ul>\n      <li>Projektaufgabe P1: DEA</li>\n      <li>Projektaufgabe P2: Grammatik</li>\n      <li>Projektaufgabe P3: Kellerautomat</li>\n      <li>Projektaufgabe P4: TM</li>\n    </ul>\n    <hr />\n    <h2 class="is-title is-2"><a [routerLink]="[\'/dea\']">DEA</a></h2>\n    <h3>Aufgabenstellung:</h3>\n    Simulieren und visualisieren Sie die Reber Grammar (RG) als\n    Deterministischen Endlichen Automaten (DEA). Dabei sollen Sie zun\xe4chst\n    zuf\xe4llige Zeichenketten generieren. Mithilfe des DEA ist es leicht korrekte\n    Zeichenketten zu erstellen. Alternativ lassen sich auch falsche\n    Zeichenketten, die nicht erkannt werden, erzeugen. Modifizieren Sie dazu\n    mithilfe des Automaten eine korrekte Zeichenkette, indem Sie an einer\n    bestimmten Stelle eine fehlerhafte Eingabe anhand einer Kannte, die nicht\n    existiert, erzeugen, und diese gegen die korrekte austauschen. In einem\n    zweiten Schritt pr\xfcfen Sie die Eingabe mittels des DEA. ACHTUNG: Sie sollen\n    NICHT die Embedded Reber Grammar (ERG), sondern nur den inneren Teil, die\n    Reber Grammar (RG), betrachten. Anwendung und Abgabe: Es wird eine\n    Web-Anwendung erstellt, siehe Kursplan.\n    <br />\n    <br />\n    <h3>Visualisierung:</h3>\n    Stellen Sie den DEA als Tabelle und als Graph da. Die Verarbeitung der\n    Eingabe wird schrittweise angezeigt. Schlie\xdflich wird das Endzustand und das\n    Ergebnis (erkannt oder nicht erkannt) des Automaten dargestellt. Bei der\n    Umsetzung in HTML gibt es viele M\xf6glichkeiten. Sie k\xf6nnen eine SVG Grafik\n    nutzen, Sie k\xf6nnenden Canvas verwenden, Sie k\xf6nnen mit HTML Elementen oder\n    einer Image-Map arbeiten.\n    <br />\n    <br />\n    <h3>Interaktion:</h3>\n    Man kann in der Anwendung richtige und falsche Zeichenketten als Beispiel\n    erzeugen lassen. Auch die Eingabe einer Zeichenkette ist m\xf6glich. Diese kann\n    dann schrittweise oder automatisch animiert verarbeitet werden. Die\n    Animationsgeschwindigkeit ist einstellbar.\n    <br />\n    <br />\n    <h3>Gestaltung:</h3>\n    Achten Sie auf eine sinnvolle Semantik bei der Farbgestaltung und ein\n    \xfcbersichtliches Layout. Beachten Sie die Human/Mensch-Computer-Interaction\n    (HCI) Kriterien beim Interaktionsdesign: ISO 9241-11 Anforderungen an die\n    Gebrauchstauglichkeit und ISO 9241-110 Grunds\xe4tze der Dialoggestaltung:\n    https://de.wikipedia.org/wiki/ISO_9241. Ihre Anwendung sollte funktional\n    (Aufgabenangemessenheit) und benutzerfreundlich (Usability) und mit\n    angemessenem Feedback und einer [kontextsensitive] Hilfe ausgestattet sein.\n    <hr />\n    <h2 class="is-title is-2"><a [routerLink]="[\'/grammar\']">Grammatik</a></h2>\n    <h3>Aufgabenstellung:</h3>\n    Erzeugen Sie mit Hilfe eine Grammatik zuf\xe4llige arithmetische Ausdr\xfccke \xfcber einstelligen nat\xfcrlichen Zahlen mit den Operanden "+,-,*,/" und beliebig geschachtelten runden Klammeren, z.B.: 2*(3*(4+7)-9) oder 9+2 oder (3) oder nur 7 sind g\xfcltig, ung\xfcltig sind 12 oder () oder (+3) oder -1. Nutzen Sie die folgenden Abk\xfcrzungen: A = Ausdruck, O = Operator = + | - | * | / ,  Z = Zahl/Ziffer = 0 | 1| 2| ... | 9.\n    Es sollt auch m\xf6glich sein einen [wahrscheinlich] fehlerhaften Ausdruck zu erzeugen. Dazu l\xf6schen Sie einfach ein beliebiges Zeichen aus dem Ausdruck und kontrollieren das Resultat  Diese Kontrolle erfolgt direct in JS, z.B. mittels eval. Denn es l\xe4sst sich mittels einer Grammatik schwer nachweisen, dass man einen Ausdruck nicht erzeugen kann.\n    <br />\n    <br />\n    <h3>Visualisierung:</h3>\n    Die Generierung der Ausdr\xfccke mittels der Grammatik wird schrittweise angezeigt. Dabei soll ersichtlich sein welche Regel angewandt wird. Sie k\xf6nnen dabei mit Text [und CSS] als Darstellung arbeiten.\n    <br />\n    <br />\n    <h3>Interaktion:</h3>\n    Die Erzeugung kann schrittweise nachvollzogen oder automatisch animiert werden. Die Animationsgeschwindigkeit ist einstellbar.\n    <br />\n    <br />\n    <h3>Dokumentation:</h3>\n    Nutzen Sie eine separate HTML Seite, die \xfcber ein Link/Button von Ihrer Anwendung aus erreichbar ist, zur Dokumentation.\n\n    Technisch: Listen Sie alle verwendeten Frameworks auf und erkl\xe4ren Sie kurz (1-3 S\xe4tze) wozu Sie diese verwenden. Dokumentieren Sie technische Besonderheiten Ihrer L\xf6sung.\n\n    Fachlich: Erl\xe4utern Sie Ihre Implementierung der Logik. Wie haben Sie den Automaten bzw. die Grammatik im Code umgesetzt: Datenstrukturen und Algorithmus.\n    <br />\n    <br />\n    <h3>Gestaltung:</h3>\n    Achten Sie auf eine sinnvolle Semantik bei der Farbgestaltung und ein \xfcbersichtliches Layout. Beachten Sie die Human/Mensch-Computer-Interaktion (HCI) Kriterien (funktional und benutzerfreundlich, Feedback, Hilfe ) beim Interaktionsdesign.\n    <hr />\n    <h2 class="is-title is-2">Kellerautomat</h2>\n    TBD\n    <hr />\n    <h2 class="is-title is-2">TM</h2>\n    TBD\n  </div>\n</div>\n',styles:[""]})],Nw);function Pw(e){return null!=e&&"false"!=`${e}`}function Mw(e,t=0){return Rw(e)?Number(e):t}function Rw(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Lw(e){return Array.isArray(e)?e:[e]}function Fw(e){return null==e?"":"string"==typeof e?e:`${e}px`}function jw(e){return e instanceof i.v?e.nativeElement:e}Object.prototype.toString;function Bw(e,t,n,r){return Object(yy.a)(n)&&(r=n,n=void 0),r?Bw(e,t,n).pipe(Object(Xv.a)(e=>Object(Nv.a)(e)?r(...e):r(e))):new Vv.a(r=>{Vw(e,t,function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)},r,n)})}function Vw(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)Vw(e[s],t,n,r,i)}r.add(s)}var zw=n("3N8a");class Uw extends zw.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}var Hw=n("IjjT");class $w extends Hw.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const qw=new $w(Uw);let Gw=1;const Ww=Promise.resolve(),Xw={};function Yw(e){return e in Xw&&(delete Xw[e],!0)}const Kw={setImmediate(e){const t=Gw++;return Xw[t]=!0,Ww.then(()=>Yw(t)&&e()),t},clearImmediate(e){Yw(e)}};class Zw extends zw.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=Kw.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(Kw.clearImmediate(t),e.scheduled=void 0)}}class Qw extends Hw.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const Jw=new Qw(Zw);function ex(e){return!!e&&(e instanceof Vv.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var tx=n("/uUt"),nx=n("D0XW"),rx=n("zx2A");class ix{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new sx(e,this.durationSelector))}}class sx extends rx.b{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=Object(rx.c)(n,new rx.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function ox(e){return!Object(Nv.a)(e)&&e-parseFloat(e)+1>=0}function ax(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function lx(e,t=nx.a){return n=()=>function(e=0,t,n){let r=-1;return ox(t)?r=Number(t)<1?1:Number(t):Object(Iv.a)(t)&&(n=t),Object(Iv.a)(n)||(n=nx.a),new Vv.a(t=>{const i=ox(e)?e:+e-n.now();return n.schedule(ax,i,{index:0,period:r,subscriber:t})})}(e,t),function(e){return e.lift(new ix(n))};var n}var cx=n("1G5W");class ux{call(e,t){return t.subscribe(new hx(e))}}class hx extends ny.a{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var dx=n("jtHE");function px(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(c){let u;o++,!i||a?(a=!1,i=new dx.a(e,t,r),u=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){l=!0,s=void 0,i.complete()}}),l&&(s=void 0)):u=i.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}let fx,gx;try{fx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(lj){fx=!1}class mx{constructor(e){this._platformId=e,this.isBrowser=this._platformId?this._platformId===im:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}mx.\u0275fac=function(e){return new(e||mx)(i.Xc(i.W))},mx.\u0275prov=i.Jc({factory:function(){return new mx(i.Xc(i.W))},token:mx,providedIn:"root"}),mx.ctorParameters=()=>[{type:Object,decorators:[{type:i.D,args:[i.W]}]}];class vx{}vx.\u0275fac=function(e){return new(e||vx)},vx.\u0275mod=i.Lc({type:vx}),vx.\u0275inj=i.Kc({});const yx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _x(){if(gx)return gx;if("object"!=typeof document||!document)return gx=new Set(yx),gx;let e=document.createElement("input");return gx=new Set(yx.filter(t=>(e.setAttribute("type",t),e.type===t))),gx}let bx,wx,xx,Ex;function Cx(e){return function(){if(null==bx&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bx=!0}))}finally{bx=bx||!1}return bx}()?e:!!e.capture}function Sx(){if(null==xx){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return xx=!1,xx;if("scrollBehavior"in document.documentElement.style)xx=!0;else{const e=Element.prototype.scrollTo;xx=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return xx}function kx(){if("object"!=typeof document||!document)return 0;if(null==wx){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),wx=0,0===e.scrollLeft&&(e.scrollLeft=1,wx=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return wx}function Tx(e){if(function(){if(null==Ex){const e="undefined"!=typeof document?document.head:null;Ex=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Ex}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ax(){let e="undefined"!=typeof document&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}const Dx=new i.G("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.vb)(af)}});class Ox{constructor(e){if(this.value="ltr",this.change=new i.y,e){const t=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null,r=t||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}Ox.\u0275fac=function(e){return new(e||Ox)(i.Xc(Dx,8))},Ox.\u0275prov=i.Jc({factory:function(){return new Ox(i.Xc(Dx,8))},token:Ox,providedIn:"root"}),Ox.ctorParameters=()=>[{type:void 0,decorators:[{type:i.T},{type:i.D,args:[Dx]}]}];class Ix{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new i.y}get dir(){return this._dir}set dir(e){const t=this._dir,n=e?e.toLowerCase():e;this._rawDir=e,this._dir="ltr"===n||"rtl"===n?n:"ltr",t!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}Ix.\u0275fac=function(e){return new(e||Ix)},Ix.\u0275dir=i.Ic({type:Ix,selectors:[["","dir",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ec("dir",t._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[i.Cc([{provide:Ox,useExisting:Ix}])]}),Ix.propDecorators={change:[{type:i.U,args:["dirChange"]}],dir:[{type:i.I}]};class Nx{}Nx.\u0275fac=function(e){return new(e||Nx)},Nx.\u0275mod=i.Lc({type:Nx}),Nx.\u0275inj=i.Kc({}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(Nx,{declarations:[Ix],exports:[Ix]});class Px{}function Mx(e){return e&&"function"==typeof e.connect}class Rx extends Px{constructor(e){super(),this._data=e}connect(){return ex(this._data)?this._data:Object(Dv.a)(this._data)}disconnect(){}}class Lx{applyChanges(e,t,n,r,i){e.forEachOperation((e,r,s)=>{let o,a;if(null==e.previousIndex){const i=n(e,r,s);o=t.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(t.remove(r),a=3):(o=t.get(r),t.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:e})})}detach(){}}class Fx{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,n,r,i){e.forEachOperation((e,s,o)=>{let a,l;if(null==e.previousIndex){const i=()=>n(e,s,o);a=this._insertView(i,o,t,r(e)),l=a?1:0}else null==o?(this._detachAndCacheView(s,t),l=3):(a=this._moveView(s,o,t,r(e)),l=2);i&&i({context:null==a?void 0:a.context,operation:l,record:e})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,n,r){const i=this._insertViewFromCache(t,n);if(i)return void(i.context.$implicit=r);const s=e();return n.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,t){const n=t.detach(e);this._maybeCacheView(n,t)}_moveView(e,t,n,r){const i=n.get(e);return n.move(i,t),i.context.$implicit=r,i}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}_insertViewFromCache(e,t){const n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}class jx{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Wv.a,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple,0}}class Bx{constructor(){this._listeners=[]}notify(e,t){for(let n of this._listeners)n(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}}Bx.\u0275fac=function(e){return new(e||Bx)},Bx.\u0275prov=i.Jc({factory:function(){return new Bx},token:Bx,providedIn:"root"});const Vx=new i.G("_ViewRepeater"),zx=["contentWrapper"],Ux=new i.G("VIRTUAL_SCROLL_STRATEGY");class Hx{constructor(e,t,n){this._scrolledIndexChange=new Wv.a,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Object(tx.a)()),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,n){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},n=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let i=this._viewport.measureScrollOffset(),s=this._itemSize>0?i/this._itemSize:0;if(t.end>r){const e=Math.ceil(n/this._itemSize),o=Math.max(0,Math.min(s,r-e));s!=o&&(s=o,i=o*this._itemSize,t.start=Math.floor(s)),t.end=Math.max(0,Math.min(r,t.start+e))}const o=i-t.start*this._itemSize;if(o<this._minBufferPx&&0!=t.start){const e=Math.ceil((this._maxBufferPx-o)/this._itemSize);t.start=Math.max(0,t.start-e),t.end=Math.min(r,Math.ceil(s+(n+this._minBufferPx)/this._itemSize))}else{const e=t.end*this._itemSize-(i+n);if(e<this._minBufferPx&&t.end!=r){const n=Math.ceil((this._maxBufferPx-e)/this._itemSize);n>0&&(t.end=Math.min(r,t.end+n),t.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(s))}}function $x(e){return e._scrollStrategy}class qx{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Hx(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=Mw(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Mw(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Mw(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}qx.\u0275fac=function(e){return new(e||qx)},qx.\u0275dir=i.Ic({type:qx,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[i.Cc([{provide:Ux,useFactory:$x,deps:[Object(i.ub)(()=>qx)]}]),i.Bc]}),qx.propDecorators={itemSize:[{type:i.I}],minBufferPx:[{type:i.I}],maxBufferPx:[{type:i.I}]};class Gx{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new Wv.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Vv.a(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(lx(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Dv.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(Jv.a)(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=jw(t),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}Gx.\u0275fac=function(e){return new(e||Gx)(i.Xc(i.S),i.Xc(mx),i.Xc(af,8))},Gx.\u0275prov=i.Jc({factory:function(){return new Gx(i.Xc(i.S),i.Xc(mx),i.Xc(af,8))},token:Gx,providedIn:"root"}),Gx.ctorParameters=()=>[{type:i.S},{type:mx},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[af]}]}];class Wx{constructor(e,t,n,r){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=r,this._destroyed=new Wv.a,this._elementScrolled=new Vv.a(e=>this.ngZone.runOutsideAngular(()=>Bw(this.elementRef.nativeElement,"scroll").pipe(Object(cx.a)(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=kx()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==kx()?e.left=e.right:1==kx()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;Sx()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t="left",n="right",r=this.elementRef.nativeElement;if("top"==e)return r.scrollTop;if("bottom"==e)return r.scrollHeight-r.clientHeight-r.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==e?e=i?n:t:"end"==e&&(e=i?t:n),i&&2==kx()?e==t?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:i&&1==kx()?e==t?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==t?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}Wx.\u0275fac=function(e){return new(e||Wx)(i.Nc(i.v),i.Nc(Gx),i.Nc(i.S),i.Nc(Ox,8))},Wx.\u0275dir=i.Ic({type:Wx,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Wx.ctorParameters=()=>[{type:i.v},{type:Gx},{type:i.S},{type:Ox,decorators:[{type:i.T}]}];class Xx{constructor(e,t,n){this._platform=e,this._change=new Wv.a,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(lx(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}Xx.\u0275fac=function(e){return new(e||Xx)(i.Xc(mx),i.Xc(i.S),i.Xc(af,8))},Xx.\u0275prov=i.Jc({factory:function(){return new Xx(i.Xc(mx),i.Xc(i.S),i.Xc(af,8))},token:Xx,providedIn:"root"}),Xx.ctorParameters=()=>[{type:mx},{type:i.S},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[af]}]}];const Yx="undefined"!=typeof requestAnimationFrame?qw:Jw;class Kx extends Wx{constructor(e,t,n,r,i,s,o){super(e,s,n,i),this.elementRef=e,this._changeDetectorRef=t,this._scrollStrategy=r,this._detachedSubject=new Wv.a,this._renderedRangeSubject=new Wv.a,this._orientation="vertical",this.scrolledIndexChange=new Vv.a(e=>this._scrollStrategy.scrolledIndexChange.subscribe(t=>Promise.resolve().then(()=>this.ngZone.run(()=>e.next(t))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ey.a.EMPTY,this._viewportChanges=o.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Zv(null),lx(0,Yx)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Object(cx.a)(this._detachedSubject)).subscribe(e=>{const t=e.length;t!==this._dataLength&&(this._dataLength=t,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){var t,n;t=this._renderedRange,n=e,(t.start!=n.start||t.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,t="to-start"){const n=this.dir&&"rtl"==this.dir.value,r="horizontal"==this.orientation,i=r?"X":"Y";let s=`translate${i}(${Number((r&&n?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===t&&(s+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=s&&(this._renderedContentTransform=s,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,t="auto"){const n={behavior:t};"horizontal"===this.orientation?n.start=e:n.top=e,this.scrollTo(n)}scrollToIndex(e,t="auto"){this._scrollStrategy.scrollToIndex(e,t)}measureScrollOffset(e){return e?super.measureScrollOffset(e):super.measureScrollOffset("horizontal"===this.orientation?"start":"top")}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const t of e)t()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}function Zx(e,t,n){const r=n;if(!r.getBoundingClientRect)return 0;const i=r.getBoundingClientRect();return"horizontal"===e?"start"===t?i.left:i.right:"start"===t?i.top:i.bottom}Kx.\u0275fac=function(e){return new(e||Kx)(i.Nc(i.v),i.Nc(i.k),i.Nc(i.S),i.Nc(Ux,8),i.Nc(Ox,8),i.Nc(Gx),i.Nc(Xx))},Kx.\u0275cmp=i.Hc({type:Kx,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,t){if(1&e&&i.sd(zx,7),2&e){let e;i.gd(e=i.ad())&&(t._contentWrapper=e.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,t){2&e&&i.Fc("cdk-virtual-scroll-orientation-horizontal","horizontal"===t.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==t.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[i.Cc([{provide:Wx,useExisting:Kx}]),i.Ac],ngContentSelectors:["*"],decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,t){1&e&&(i.dd(),i.Tc(0,"div",0,1),i.cd(2),i.Sc(),i.Oc(3,"div",2)),2&e&&(i.Dc(3),i.ld("width",t._totalContentWidth)("height",t._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),Kx.ctorParameters=()=>[{type:i.v},{type:i.k},{type:i.S},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[Ux]}]},{type:Ox,decorators:[{type:i.T}]},{type:Gx},{type:Xx}],Kx.propDecorators={orientation:[{type:i.I}],scrolledIndexChange:[{type:i.U}],_contentWrapper:[{type:i.ob,args:["contentWrapper",{static:!0}]}]};class Qx{constructor(e,t,n,r,i,s){this._viewContainerRef=e,this._template=t,this._differs=n,this._viewRepeater=r,this._viewport=i,this.viewChange=new Wv.a,this._dataSourceChanges=new Wv.a,this.dataStream=this._dataSourceChanges.pipe(Zv(null),e=>e.lift(new ux),Object(Yv.a)(([e,t])=>this._changeDataSource(e,t)),px(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Wv.a,this.dataStream.subscribe(e=>{this._data=e,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Object(cx.a)(this._destroyed)).subscribe(e=>{this._renderedRange=e,s.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,Mx(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new Rx(ex(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(t,n)=>e(t+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=Mw(e)}measureRangeSize(e,t){if(e.start>=e.end)return 0;e.start<this._renderedRange.start||(e.end,this._renderedRange.end);const n=e.start-this._renderedRange.start,r=e.end-e.start;let i,s;for(let o=0;o<r;o++){const e=this._viewContainerRef.get(o+n);if(e&&e.rootNodes.length){i=s=e.rootNodes[0];break}}for(let o=r-1;o>-1;o--){const e=this._viewContainerRef.get(o+n);if(e&&e.rootNodes.length){s=e.rootNodes[e.rootNodes.length-1];break}}return i&&s?Zx(t,"end",s)-Zx(t,"start",i):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,t)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,t):t)),this._needsUpdate=!0)}_changeDataSource(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):Object(Dv.a)()}_updateContext(){const e=this._data.length;let t=this._viewContainerRef.length;for(;t--;){const n=this._viewContainerRef.get(t);n.context.index=this._renderedRange.start+t,n.context.count=e,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(e,t,n)=>this._getEmbeddedViewArgs(e,n),e=>e.item),e.forEachIdentityChange(e=>{this._viewContainerRef.get(e.currentIndex).context.$implicit=e.item});const t=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const e=this._viewContainerRef.get(n);e.context.index=this._renderedRange.start+n,e.context.count=t,this._updateComputedContextProperties(e.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,t){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:t}}}Qx.\u0275fac=function(e){return new(e||Qx)(i.Nc(i.qb),i.Nc(i.kb),i.Nc(i.J),i.Nc(Vx),i.Nc(Kx,4),i.Nc(i.S))},Qx.\u0275dir=i.Ic({type:Qx,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[i.Cc([{provide:Vx,useClass:Fx}])]}),Qx.ctorParameters=()=>[{type:i.qb},{type:i.kb},{type:i.J},{type:Fx,decorators:[{type:i.D,args:[Vx]}]},{type:Kx,decorators:[{type:i.gb}]},{type:i.S}],Qx.propDecorators={cdkVirtualForOf:[{type:i.I}],cdkVirtualForTrackBy:[{type:i.I}],cdkVirtualForTemplate:[{type:i.I}],cdkVirtualForTemplateCacheSize:[{type:i.I}]};class Jx{}Jx.\u0275fac=function(e){return new(e||Jx)},Jx.\u0275mod=i.Lc({type:Jx}),Jx.\u0275inj=i.Kc({}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(Jx,{declarations:[Wx],exports:[Wx]});class eE{}eE.\u0275fac=function(e){return new(e||eE)},eE.\u0275mod=i.Lc({type:eE}),eE.\u0275inj=i.Kc({imports:[[Nx,vx,Jx],Nx,Jx]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(eE,{declarations:function(){return[qx,Qx,Kx]},imports:function(){return[Nx,vx,Jx]},exports:function(){return[Nx,Jx,qx,Qx,Kx]}});class tE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nE extends tE{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class rE extends tE{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class iE extends tE{constructor(e){super(),this.element=e instanceof i.v?e.nativeElement:e}}class sE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof nE?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof rE?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof iE?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oE extends sE{constructor(e,t,n,r,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=e=>{this._document;const t=e.element;t.parentNode;const n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),this._attachedPortal=e,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class aE extends rE{constructor(e,t){super(e,t)}}aE.\u0275fac=function(e){return new(e||aE)(i.Nc(i.kb),i.Nc(i.qb))},aE.\u0275dir=i.Ic({type:aE,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[i.Ac]}),aE.ctorParameters=()=>[{type:i.kb},{type:i.qb}];class lE extends aE{}lE.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(lE)))(t||lE)}}(),lE.\u0275dir=i.Ic({type:lE,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[i.Cc([{provide:aE,useExisting:lE}]),i.Ac]});class cE extends sE{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new i.y,this.attachDomPortal=e=>{this._document;const t=e.element;t.parentNode;const n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}cE.\u0275fac=function(e){return new(e||cE)(i.Nc(i.p),i.Nc(i.qb),i.Nc(af))},cE.\u0275dir=i.Ic({type:cE,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.Ac]}),cE.ctorParameters=()=>[{type:i.p},{type:i.qb},{type:void 0,decorators:[{type:i.D,args:[af]}]}],cE.propDecorators={attached:[{type:i.U}]};class uE extends cE{}uE.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(uE)))(t||uE)}}(),uE.\u0275dir=i.Ic({type:uE,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[i.Cc([{provide:cE,useExisting:uE}]),i.Ac]});class hE{}hE.\u0275fac=function(e){return new(e||hE)},hE.\u0275mod=i.Lc({type:hE}),hE.\u0275inj=i.Kc({}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(hE,{declarations:[aE,cE,lE,uE],exports:[aE,cE,lE,uE]});var dE=n("VRyK");function pE(e,t=!1){return n=>n.lift(new fE(e,t))}class fE{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new gE(e,this.predicate,this.inclusive))}}class gE extends ny.a{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}function mE(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}const vE=Sx();class yE{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Fw(-this._previousScrollPosition.left),e.style.top=Fw(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=this._document.body,n=e.style,r=t.style,i=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),vE&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vE&&(n.scrollBehavior=i,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class _E{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bE{enable(){}disable(){}attach(){}}function wE(e,t){return t.some(t=>{const n=e.bottom<t.top,r=e.top>t.bottom,i=e.right<t.left,s=e.left>t.right;return n||r||i||s})}function xE(e,t){return t.some(t=>{const n=e.top<t.top,r=e.bottom>t.bottom,i=e.left<t.left,s=e.right>t.right;return n||r||i||s})}class EE{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){const e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();wE(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class CE{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new bE,this.close=e=>new _E(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new yE(this._viewportRuler,this._document),this.reposition=e=>new EE(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}CE.\u0275fac=function(e){return new(e||CE)(i.Xc(Gx),i.Xc(Xx),i.Xc(i.S),i.Xc(af))},CE.\u0275prov=i.Jc({factory:function(){return new CE(i.Xc(Gx),i.Xc(Xx),i.Xc(i.S),i.Xc(af))},token:CE,providedIn:"root"}),CE.ctorParameters=()=>[{type:Gx},{type:Xx},{type:i.S},{type:void 0,decorators:[{type:i.D,args:[af]}]}];class SE{constructor(e){if(this.scrollStrategy=new bE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class kE{constructor(e,t,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class TE{}class AE{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}AE.ctorParameters=()=>[{type:kE},{type:TE,decorators:[{type:i.T}]}];class DE{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}DE.\u0275fac=function(e){return new(e||DE)(i.Xc(af))},DE.\u0275prov=i.Jc({factory:function(){return new DE(i.Xc(af))},token:DE,providedIn:"root"}),DE.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];class OE extends DE{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}OE.\u0275fac=function(e){return new(e||OE)(i.Xc(af))},OE.\u0275prov=i.Jc({factory:function(){return new OE(i.Xc(af))},token:OE,providedIn:"root"}),OE.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];class IE extends DE{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(t))break;i._outsidePointerEvents.next(e)}}}}add(e){if(super.add(e),!this._isAttached){const e=this._document.body;e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}IE.\u0275fac=function(e){return new(e||IE)(i.Xc(af),i.Xc(mx))},IE.\u0275prov=i.Jc({factory:function(){return new IE(i.Xc(af),i.Xc(mx))},token:IE,providedIn:"root"}),IE.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:mx}];const NE=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);class PE{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||NE){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),NE?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}PE.\u0275fac=function(e){return new(e||PE)(i.Xc(af),i.Xc(mx))},PE.\u0275prov=i.Jc({factory:function(){return new PE(i.Xc(af),i.Xc(mx))},token:PE,providedIn:"root"}),PE.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:mx}];class ME{constructor(e,t,n,r,i,s,o,a,l){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new Wv.a,this._attachments=new Wv.a,this._detachments=new Wv.a,this._locationChanges=Ey.a.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new Wv.a,this._outsidePointerEvents=new Wv.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(Kv.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Fw(this._config.width),e.height=Fw(this._config.height),e.minWidth=Fw(this._config.minWidth),e.minHeight=Fw(this._config.minHeight),e.maxWidth=Fw(this._config.maxWidth),e.maxHeight=Fw(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=e.classList;Lw(t).forEach(e=>{e&&(n?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Object(cx.a)(Object(dE.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const RE="cdk-overlay-connected-position-bounding-box",LE=/([A-Za-z%]+)$/;class FE{constructor(e,t,n,r,i){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Wv.a,this._resizeSubscription=Ey.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(RE),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>t&&(t=r,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&jE(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(RE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}_getOverlayFit(e,t,n,r){const i=VE(t);let{x:s,y:o}=e,a=this._getOffset(r,"x"),l=this._getOffset(r,"y");a&&(s+=a),l&&(o+=l);let c=0-s,u=s+i.width-n.width,h=0-o,d=o+i.height-n.height,p=this._subtractOverflows(i.width,c,u),f=this._subtractOverflows(i.height,h,d),g=p*f;return{visibleArea:g,isCompletelyWithinViewport:i.width*i.height===g,fitsInViewportVertically:f===i.height,fitsInViewportHorizontally:p==i.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,i=n.right-t.x,s=BE(this._overlayRef.getConfig().minHeight),o=BE(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportVertically||null!=s&&s<=r,l=e.fitsInViewportHorizontally||null!=o&&o<=i;return a&&l}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=VE(t),i=this._viewportRect,s=Math.max(e.x+r.width-i.width,0),o=Math.max(e.y+r.height-i.height,0),a=Math.max(i.top-n.top-e.y,0),l=Math.max(i.left-n.left-e.x,0);let c=0,u=0;return c=r.width<=i.width?l||-s:e.x<this._viewportMargin?i.left-n.left-e.x:0,u=r.height<=i.height?a||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:c,y:u},{x:e.x+c,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new AE(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let i,s,o;if("top"===t.overlayY)s=e.y,i=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),r=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}const a="start"===t.overlayX&&!r||"end"===t.overlayX&&r;let l,c,u;if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)u=n.width-e.x+this._viewportMargin,l=e.x-this._viewportMargin;else if(a)c=e.x,l=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),r=this._lastBoundingBoxSize.width;l=2*t,c=e.x-t,l>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:l,height:i}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Fw(n.height),r.top=Fw(n.top),r.bottom=Fw(n.bottom),r.width=Fw(n.width),r.left=Fw(n.left),r.right=Fw(n.right),"center"===t.overlayX?r.alignItems="center":r.alignItems="end"===t.overlayX?"flex-end":"flex-start","center"===t.overlayY?r.justifyContent="center":r.justifyContent="bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=Fw(e)),i&&(r.maxWidth=Fw(i))}this._lastBoundingBoxSize=n,jE(this._boundingBox.style,r)}_resetBoundingBoxStyles(){jE(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){jE(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();jE(n,this._getExactOverlayY(t,e,r)),jE(n,this._getExactOverlayX(t,e,r))}else n.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Fw(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Fw(s.maxWidth):i&&(n.maxWidth="")),jE(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;if(i.y-=s,"bottom"===e.overlayY){const e=this._document.documentElement.clientHeight;r.bottom=e-(i.y+this._overlayRect.height)+"px"}else r.top=Fw(i.y);return r}_getExactOverlayX(e,t,n){let r,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r){const e=this._document.documentElement.clientWidth;i.right=e-(s.x+this._overlayRect.width)+"px"}else i.left=Fw(s.x);return i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xE(e,n),isOriginOutsideView:wE(e,n),isOverlayClipped:xE(t,n),isOverlayOutsideView:wE(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){0}_addPanelClasses(e){this._pane&&Lw(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof i.v)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function jE(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function BE(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(LE);return n&&"px"!==n?null:parseFloat(t)}return e||null}function VE(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class zE{constructor(e,t,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new FE(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,r){const i=new kE(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const UE="cdk-global-overlay-wrapper";class HE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(UE),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(UE),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}class $E{constructor(e,t,n,r){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=r}global(){return new HE}connectedTo(e,t,n){return new zE(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new FE(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}$E.\u0275fac=function(e){return new(e||$E)(i.Xc(Xx),i.Xc(af),i.Xc(mx),i.Xc(PE))},$E.\u0275prov=i.Jc({factory:function(){return new $E(i.Xc(Xx),i.Xc(af),i.Xc(mx),i.Xc(PE))},token:$E,providedIn:"root"}),$E.ctorParameters=()=>[{type:Xx},{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:mx},{type:PE}];let qE=0;class GE{constructor(e,t,n,r,i,s,o,a,l,c,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new SE(e);return i.direction=i.direction||this._directionality.value,new ME(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+qE++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(i.g)),new oE(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}GE.\u0275fac=function(e){return new(e||GE)(i.Xc(CE),i.Xc(PE),i.Xc(i.p),i.Xc($E),i.Xc(OE),i.Xc(i.H),i.Xc(i.S),i.Xc(af),i.Xc(Ox),i.Xc(xf),i.Xc(IE))},GE.\u0275prov=i.Jc({token:GE,factory:GE.\u0275fac}),GE.ctorParameters=()=>[{type:CE},{type:PE},{type:i.p},{type:$E},{type:OE},{type:i.H},{type:i.S},{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:Ox},{type:xf},{type:IE}];const WE=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],XE=new i.G("cdk-connected-overlay-scroll-strategy");class YE{constructor(e){this.elementRef=e}}YE.\u0275fac=function(e){return new(e||YE)(i.Nc(i.v))},YE.\u0275dir=i.Ic({type:YE,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),YE.ctorParameters=()=>[{type:i.v}];class KE{constructor(e,t,n,r,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ey.a.EMPTY,this._attachSubscription=Ey.a.EMPTY,this._detachSubscription=Ey.a.EMPTY,this._positionSubscription=Ey.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.y,this.positionChange=new i.y,this.attach=new i.y,this.detach=new i.y,this.overlayKeydown=new i.y,this.overlayOutsideClick=new i.y,this._templatePortal=new rE(t,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Pw(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Pw(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Pw(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Pw(e)}get push(){return this._push}set push(e){this._push=Pw(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=WE);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||this.disableClose||mE(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new SE({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(pE(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}KE.\u0275fac=function(e){return new(e||KE)(i.Nc(GE),i.Nc(i.kb),i.Nc(i.qb),i.Nc(XE),i.Nc(Ox,8))},KE.\u0275dir=i.Ic({type:KE,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.Bc]}),KE.ctorParameters=()=>[{type:GE},{type:i.kb},{type:i.qb},{type:void 0,decorators:[{type:i.D,args:[XE]}]},{type:Ox,decorators:[{type:i.T}]}],KE.propDecorators={origin:[{type:i.I,args:["cdkConnectedOverlayOrigin"]}],positions:[{type:i.I,args:["cdkConnectedOverlayPositions"]}],positionStrategy:[{type:i.I,args:["cdkConnectedOverlayPositionStrategy"]}],offsetX:[{type:i.I,args:["cdkConnectedOverlayOffsetX"]}],offsetY:[{type:i.I,args:["cdkConnectedOverlayOffsetY"]}],width:[{type:i.I,args:["cdkConnectedOverlayWidth"]}],height:[{type:i.I,args:["cdkConnectedOverlayHeight"]}],minWidth:[{type:i.I,args:["cdkConnectedOverlayMinWidth"]}],minHeight:[{type:i.I,args:["cdkConnectedOverlayMinHeight"]}],backdropClass:[{type:i.I,args:["cdkConnectedOverlayBackdropClass"]}],panelClass:[{type:i.I,args:["cdkConnectedOverlayPanelClass"]}],viewportMargin:[{type:i.I,args:["cdkConnectedOverlayViewportMargin"]}],scrollStrategy:[{type:i.I,args:["cdkConnectedOverlayScrollStrategy"]}],open:[{type:i.I,args:["cdkConnectedOverlayOpen"]}],disableClose:[{type:i.I,args:["cdkConnectedOverlayDisableClose"]}],transformOriginSelector:[{type:i.I,args:["cdkConnectedOverlayTransformOriginOn"]}],hasBackdrop:[{type:i.I,args:["cdkConnectedOverlayHasBackdrop"]}],lockPosition:[{type:i.I,args:["cdkConnectedOverlayLockPosition"]}],flexibleDimensions:[{type:i.I,args:["cdkConnectedOverlayFlexibleDimensions"]}],growAfterOpen:[{type:i.I,args:["cdkConnectedOverlayGrowAfterOpen"]}],push:[{type:i.I,args:["cdkConnectedOverlayPush"]}],backdropClick:[{type:i.U}],positionChange:[{type:i.U}],attach:[{type:i.U}],detach:[{type:i.U}],overlayKeydown:[{type:i.U}],overlayOutsideClick:[{type:i.U}]};const ZE={provide:XE,deps:[GE],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class QE{}QE.\u0275fac=function(e){return new(e||QE)},QE.\u0275mod=i.Lc({type:QE}),QE.\u0275inj=i.Kc({providers:[GE,ZE],imports:[[Nx,hE,eE],eE]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(QE,{declarations:function(){return[KE,YE]},imports:function(){return[Nx,hE,eE]},exports:function(){return[KE,YE,eE]}});class JE extends PE{constructor(e,t){super(e,t)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){if(!this._containerElement)return;(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(e){const t=this._getEventName();t&&(this._fullScreenListener&&this._document.removeEventListener(t,this._fullScreenListener),this._document.addEventListener(t,e),this._fullScreenListener=e)}_getEventName(){if(!this._fullScreenEventName){const e=this._document;e.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":e.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":e.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":e.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const e=this._document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null}}JE.\u0275fac=function(e){return new(e||JE)(i.Xc(af),i.Xc(mx))},JE.\u0275prov=i.Jc({factory:function(){return new JE(i.Xc(af),i.Xc(mx))},token:JE,providedIn:"root"}),JE.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:mx}];var eC=n("Kj3r");class tC{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}tC.\u0275fac=function(e){return new(e||tC)},tC.\u0275prov=i.Jc({factory:function(){return new tC},token:tC,providedIn:"root"});class nC{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=jw(e);return new Vv.a(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new Wv.a,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}nC.\u0275fac=function(e){return new(e||nC)(i.Xc(tC))},nC.\u0275prov=i.Jc({factory:function(){return new nC(i.Xc(tC))},token:nC,providedIn:"root"}),nC.ctorParameters=()=>[{type:tC}];class rC{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new i.y,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Pw(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Mw(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Object(eC.a)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}rC.\u0275fac=function(e){return new(e||rC)(i.Nc(nC),i.Nc(i.v),i.Nc(i.S))},rC.\u0275dir=i.Ic({type:rC,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),rC.ctorParameters=()=>[{type:nC},{type:i.v},{type:i.S}],rC.propDecorators={event:[{type:i.U,args:["cdkObserveContent"]}],disabled:[{type:i.I,args:["cdkObserveContentDisabled"]}],debounce:[{type:i.I}]};class iC{}iC.\u0275fac=function(e){return new(e||iC)},iC.\u0275mod=i.Lc({type:iC}),iC.\u0275inj=i.Kc({providers:[tC]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(iC,{declarations:[rC],exports:[rC]});function sC(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}const oC="cdk-describedby-message-container",aC="cdk-describedby-message",lC="cdk-describedby-host";let cC=0;const uC=new Map;let hC=null;class dC{constructor(e){this._document=e}describe(e,t,n){if(!this._canBeDescribed(e,t))return;const r=pC(t,n);"string"!=typeof t?(fC(t),uC.set(r,{messageElement:t,referenceCount:0})):uC.has(r)||this._createMessageElement(t,n),this._isElementDescribedByMessage(e,r)||this._addMessageReference(e,r)}removeDescription(e,t,n){if(!t||!this._isElementNode(e))return;const r=pC(t,n);if(this._isElementDescribedByMessage(e,r)&&this._removeMessageReference(e,r),"string"==typeof t){const e=uC.get(r);e&&0===e.referenceCount&&this._deleteMessageElement(r)}hC&&0===hC.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll("[cdk-describedby-host]");for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(lC);hC&&this._deleteMessagesContainer(),uC.clear()}_createMessageElement(e,t){const n=this._document.createElement("div");fC(n),n.textContent=e,t&&n.setAttribute("role",t),this._createMessagesContainer(),hC.appendChild(n),uC.set(pC(e,t),{messageElement:n,referenceCount:0})}_deleteMessageElement(e){const t=uC.get(e),n=t&&t.messageElement;hC&&n&&hC.removeChild(n),uC.delete(e)}_createMessagesContainer(){if(!hC){const e=this._document.getElementById(oC);e&&e.parentNode&&e.parentNode.removeChild(e),hC=this._document.createElement("div"),hC.id=oC,hC.style.visibility="hidden",hC.classList.add("cdk-visually-hidden"),this._document.body.appendChild(hC)}}_deleteMessagesContainer(){hC&&hC.parentNode&&(hC.parentNode.removeChild(hC),hC=null)}_removeCdkDescribedByReferenceIds(e){const t=sC(e,"aria-describedby").filter(e=>0!=e.indexOf(aC));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const n=uC.get(t);!function(e,t,n){const r=sC(e,t);r.some(e=>e.trim()==n.trim())||(r.push(n.trim()),e.setAttribute(t,r.join(" ")))}(e,"aria-describedby",n.messageElement.id),e.setAttribute(lC,""),n.referenceCount++}_removeMessageReference(e,t){const n=uC.get(t);n.referenceCount--,function(e,t,n){const r=sC(e,t).filter(e=>e!=n.trim());r.length?e.setAttribute(t,r.join(" ")):e.removeAttribute(t)}(e,"aria-describedby",n.messageElement.id),e.removeAttribute(lC)}_isElementDescribedByMessage(e,t){const n=sC(e,"aria-describedby"),r=uC.get(t),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;const n=null==t?"":`${t}`.trim(),r=e.getAttribute("aria-label");return!!n&&(!r||r.trim()!==n)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}function pC(e,t){return"string"==typeof e?`${t||""}/${e}`:e}function fC(e){e.id||(e.id="cdk-describedby-message-"+cC++)}dC.\u0275fac=function(e){return new(e||dC)(i.Xc(af))},dC.\u0275prov=i.Jc({factory:function(){return new dC(i.Xc(af))},token:dC,providedIn:"root"}),dC.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]}];class gC{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(lj){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){if(-1===vC(t))return!1;if(!this.isVisible(t))return!1}let r=e.nodeName.toLowerCase(),i=vC(e);return e.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&(!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||(this._platform.FIREFOX||e.hasAttribute("controls"))):e.tabIndex>=0))}isFocusable(e,t){return function(e){if(function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e))return!1;return function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||mC(e)}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}function mC(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function vC(e){if(!mC(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}gC.\u0275fac=function(e){return new(e||gC)(i.Xc(mx))},gC.\u0275prov=i.Jc({factory:function(){return new gC(i.Xc(mx))},token:gC,providedIn:"root"}),gC.ctorParameters=()=>[{type:mx}];class yC{constructor(e,t,n,r,i=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Object(Kv.a)(1)).subscribe(e)}}class _C{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new yC(e,this._checker,this._ngZone,this._document,t)}}_C.\u0275fac=function(e){return new(e||_C)(i.Xc(gC),i.Xc(i.S),i.Xc(af))},_C.\u0275prov=i.Jc({factory:function(){return new _C(i.Xc(gC),i.Xc(i.S),i.Xc(af))},token:_C,providedIn:"root"}),_C.ctorParameters=()=>[{type:gC},{type:i.S},{type:void 0,decorators:[{type:i.D,args:[af]}]}];class bC{constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Pw(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Pw(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Ax(),this.focusTrap.focusInitialElementWhenReady()}}bC.\u0275fac=function(e){return new(e||bC)(i.Nc(i.v),i.Nc(_C),i.Nc(af))},bC.\u0275dir=i.Ic({type:bC,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[i.Bc]}),bC.ctorParameters=()=>[{type:i.v},{type:_C},{type:void 0,decorators:[{type:i.D,args:[af]}]}],bC.propDecorators={enabled:[{type:i.I,args:["cdkTrapFocus"]}],autoCapture:[{type:i.I,args:["cdkTrapFocusAutoCapture"]}]};class wC extends yC{constructor(e,t,n,r,i,s,o){super(e,t,n,r,o.defer),this._focusTrapManager=i,this._inertStrategy=s,this._focusTrapManager.register(this)}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const xC=new i.G("FOCUS_TRAP_INERT_STRATEGY");function EC(e,t){if(!(e instanceof Node))return null;let n=e;for(;null!=n&&!(n instanceof Element);)n=n.parentNode;return n&&(CC?n.closest(t):function(e,t){let n=e;for(;null!=n&&!(n instanceof Element&&SC(n,t));)n=n.parentNode;return n||null}(n,t))}const CC="undefined"!=typeof Element&&!!Element.prototype.closest;function SC(e,t){return e.matches?e.matches(t):e.msMatchesSelector(t)}class kC{constructor(){this._listener=null}preventFocus(e){this._listener&&e._document.removeEventListener("focus",this._listener,!0),this._listener=t=>this._trapFocus(e,t),e._ngZone.runOutsideAngular(()=>{e._document.addEventListener("focus",this._listener,!0)})}allowFocus(e){this._listener&&(e._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(e,t){const n=t.target,r=e._element;r.contains(n)||null!==EC(n,"div.cdk-overlay-pane")||setTimeout(()=>{e.enabled&&!r.contains(e._document.activeElement)&&e.focusFirstTabbableElement()})}}class TC{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(t=>t!==e);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();const t=this._focusTrapStack,n=t.indexOf(e);-1!==n&&(t.splice(n,1),t.length&&t[t.length-1]._enable())}}TC.\u0275fac=function(e){return new(e||TC)},TC.\u0275prov=i.Jc({factory:function(){return new TC},token:TC,providedIn:"root"});class AC{constructor(e,t,n,r,i){this._checker=e,this._ngZone=t,this._focusTrapManager=n,this._document=r,this._inertStrategy=i||new kC}create(e,t={defer:!1}){let n;return n="boolean"==typeof t?{defer:t}:t,new wC(e,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,n)}}AC.\u0275fac=function(e){return new(e||AC)(i.Xc(gC),i.Xc(i.S),i.Xc(TC),i.Xc(af),i.Xc(xC,8))},AC.\u0275prov=i.Jc({factory:function(){return new AC(i.Xc(gC),i.Xc(i.S),i.Xc(TC),i.Xc(af),i.Xc(xC,8))},token:AC,providedIn:"root"}),AC.ctorParameters=()=>[{type:gC},{type:i.S},{type:TC},{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[xC]}]}];const DC=new i.G("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});const OC=new i.G("LIVE_ANNOUNCER_DEFAULT_OPTIONS");class IC{constructor(e,t,n,r){this._ngZone=t,this._defaultOptions=r,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let r,i;return 1===t.length&&"number"==typeof t[0]?i=t[0]:[r,i]=t,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}IC.\u0275fac=function(e){return new(e||IC)(i.Xc(DC,8),i.Xc(i.S),i.Xc(af),i.Xc(OC,8))},IC.\u0275prov=i.Jc({factory:function(){return new IC(i.Xc(DC,8),i.Xc(i.S),i.Xc(af),i.Xc(OC,8))},token:IC,providedIn:"root"}),IC.ctorParameters=()=>[{type:void 0,decorators:[{type:i.T},{type:i.D,args:[DC]}]},{type:i.S},{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[OC]}]}];class NC{constructor(e,t,n,r){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=n,this._ngZone=r,this._politeness="polite"}get politeness(){return this._politeness}set politeness(e){this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const e=this._elementRef.nativeElement.textContent;e!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(e,this._politeness),this._previousAnnouncedText=e)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}function PC(e){return 0===e.buttons}function MC(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}NC.\u0275fac=function(e){return new(e||NC)(i.Nc(i.v),i.Nc(IC),i.Nc(nC),i.Nc(i.S))},NC.\u0275dir=i.Ic({type:NC,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),NC.ctorParameters=()=>[{type:i.v},{type:IC},{type:nC},{type:i.S}],NC.propDecorators={politeness:[{type:i.I,args:["cdkAriaLive"]}]};const RC=new i.G("cdk-focus-monitor-default-options"),LC=Cx({passive:!0,capture:!0});class FC{constructor(e,t,n,r){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=PC(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{MC(e)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=jC(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=jC(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)n.call(this,e,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(e,t=!1){const n=jw(e);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Dv.a)(null);const r=Tx(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;const s={checkChildren:t,subject:new Wv.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const t=jw(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const r=jw(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([e,n])=>this._originChanged(e,t,n)):(this._setOriginForCurrentEventQueue(t),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=jC(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);n&&(n.checkChildren||t===jC(e))&&this._originChanged(t,this._getFocusOrigin(e),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,LC),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,LC)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,LC),e.addEventListener("mousedown",this._documentMousedownListener,LC),e.addEventListener("touchstart",this._documentTouchstartListener,LC),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,LC),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,LC),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,LC),e.removeEventListener("mousedown",this._documentMousedownListener,LC),e.removeEventListener("touchstart",this._documentTouchstartListener,LC),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,r)=>{(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}function jC(e){return e.composedPath?e.composedPath()[0]:e.target}FC.\u0275fac=function(e){return new(e||FC)(i.Xc(i.S),i.Xc(mx),i.Xc(af,8),i.Xc(RC,8))},FC.\u0275prov=i.Jc({factory:function(){return new FC(i.Xc(i.S),i.Xc(mx),i.Xc(af,8),i.Xc(RC,8))},token:FC,providedIn:"root"}),FC.ctorParameters=()=>[{type:i.S},{type:mx},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[af]}]},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[RC]}]}];class BC{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new i.y}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}BC.\u0275fac=function(e){return new(e||BC)(i.Nc(i.v),i.Nc(FC))},BC.\u0275dir=i.Ic({type:BC,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),BC.ctorParameters=()=>[{type:i.v},{type:FC}],BC.propDecorators={cdkFocusChange:[{type:i.U}]};const VC="cdk-high-contrast-black-on-white",zC="cdk-high-contrast-white-on-black",UC="cdk-high-contrast-active";class HC{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(UC),e.remove(VC),e.remove(zC),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(UC),e.add(VC)):2===t&&(e.add(UC),e.add(zC))}}}HC.\u0275fac=function(e){return new(e||HC)(i.Xc(mx),i.Xc(af))},HC.\u0275prov=i.Jc({factory:function(){return new HC(i.Xc(mx),i.Xc(af))},token:HC,providedIn:"root"}),HC.ctorParameters=()=>[{type:mx},{type:void 0,decorators:[{type:i.D,args:[af]}]}];class $C{constructor(e){e._applyBodyHighContrastModeCssClasses()}}$C.\u0275fac=function(e){return new(e||$C)(i.Xc(HC))},$C.\u0275mod=i.Lc({type:$C}),$C.\u0275inj=i.Kc({imports:[[vx,iC]]}),$C.ctorParameters=()=>[{type:HC}],("undefined"==typeof ngJitMode||ngJitMode)&&i.kd($C,{declarations:function(){return[NC,bC,BC]},imports:function(){return[vx,iC]},exports:function(){return[NC,bC,BC]}});const qC=new i.nb("12.0.4");class GC{}const WC="*";function XC(e,t){return{type:7,name:e,definitions:t,options:{}}}function YC(e,t=null){return{type:4,styles:t,timings:e}}function KC(e,t=null){return{type:2,steps:e,options:t}}function ZC(e){return{type:6,styles:e,offset:null}}function QC(e,t,n){return{type:0,name:e,styles:t,options:n}}function JC(e){return{type:5,steps:e}}function eS(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function tS(e){Promise.resolve(null).then(e)}class nS{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class rS{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?tS(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function iS(){return"undefined"!=typeof window&&void 0!==window.document}function sS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function oS(e){switch(e.length){case 0:return new nS;case 1:return e[0];default:return new rS(e)}}function aS(e,t,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(e=>{const n=e.offset,r=n==l,u=r&&c||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),a){case"!":a=i[n];break;case WC:a=s[n];break;default:a=t.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function lS(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&cS(n,"start",e)));break;case"done":e.onDone(()=>r(n&&cS(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&cS(n,"destroy",e)))}}function cS(e,t,n){const r=n.totalTime,i=!!n.disabled,s=uS(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,i),o=e._data;return null!=o&&(s._data=o),s}function uS(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function hS(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function dS(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let pS=(e,t)=>!1;let fS=(e,t)=>!1;let gS=(e,t,n)=>[];const mS=sS();(mS||"undefined"!=typeof Element)&&(pS=iS()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),fS=(()=>{if(mS||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):fS}})(),gS=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let vS=null,yS=!1;function _S(e){vS||(vS=function(){if("undefined"!=typeof document)return document.body;return null}()||{},yS=!!vS.style&&"WebkitAppearance"in vS.style);let t=!0;if(vS.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in vS.style,!t&&yS)){t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in vS.style}return t}const bS=fS,wS=pS,xS=gS;function ES(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}class CS{validateStyleProperty(e){return _S(e)}matchesElement(e,t){return bS(e,t)}containsElement(e,t){return wS(e,t)}query(e,t,n){return xS(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,s=[],o){return new nS(n,r)}}CS.\u0275fac=function(e){return new(e||CS)},CS.\u0275prov=i.Jc({token:CS,factory:CS.\u0275fac});class SS{}SS.NOOP=new CS;const kS="ng-enter",TS="ng-leave",AS="ng-trigger",DS=".ng-trigger",OS="ng-animating",IS=".ng-animating";function NS(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:PS(parseFloat(t[1]),t[2])}function PS(e,t){switch(t){case"s":return 1e3*e;default:return e}}function MS(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){const r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let i,s=0,o="";if("string"==typeof e){const n=e.match(r);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=PS(parseFloat(n[1]),n[2]);const a=n[3];null!=a&&(s=PS(parseFloat(a),n[4]));const l=n[5];l&&(o=l)}else i=e;if(!n){let n=!1,r=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:s,easing:o}}(e,t,n)}function RS(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function LS(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else RS(e,n);return n}function FS(e,t,n){return n?t+":"+n+";":""}function jS(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=FS(0,r,e.style.getPropertyValue(r))}for(const n in e.style){if(!e.style.hasOwnProperty(n)||n.startsWith("_"))continue;t+=FS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n])}e.setAttribute("style",t)}function BS(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=WS(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),sS()&&jS(e))}function VS(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=WS(t);e.style[n]=""}),sS()&&jS(e))}function zS(e){return Array.isArray(e)?1==e.length?e[0]:KC(e):e}const US=new RegExp("{{\\s*(.+?)\\s*}}","g");function HS(e){let t=[];if("string"==typeof e){let n;for(;n=US.exec(e);)t.push(n[1]);US.lastIndex=0}return t}function $S(e,t,n){const r=e.toString(),i=r.replace(US,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function qS(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const GS=/-+([a-z0-9])/g;function WS(e){return e.replace(GS,(...e)=>e[1].toUpperCase())}function XS(e,t){return 0===e||0===t}function YS(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=ZS(e,t)})}}return t}function KS(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function ZS(e,t){return window.getComputedStyle(e)[t]}const QS="*";function JS(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(nk(i,o));const a=i==QS&&o==QS;"<"!=s[0]||a||t.push(nk(o,i))}(e,n,t)):n.push(e),n}const ek=new Set(["true","1"]),tk=new Set(["false","0"]);function nk(e,t){const n=ek.has(e)||tk.has(e),r=ek.has(t)||tk.has(t);return(i,s)=>{let o=e==QS||e==i,a=t==QS||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?ek.has(e):tk.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?ek.has(t):tk.has(t)),o&&a}}const rk=":self",ik=new RegExp("s*:selfs*,?","g");function sk(e,t,n){return new ok(e).build(t,n)}class ok{constructor(e){this._driver=e}build(e,t){const n=new ak(t);return this._resetContextStyleTimingState(n),KS(this,zS(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(lk(e)){const t=e;Object.keys(t).forEach(e=>{HS(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=qS(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=KS(this,zS(e.animation),t);return{type:1,matchers:JS(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:ck(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>KS(this,e,t)),options:ck(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=KS(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:ck(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e){return uk(MS(e,t).duration,0,"")}const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=uk(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||MS(r,t),uk(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:ZC({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=ZC(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==WC?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(lk(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t){if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=HS(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(lk(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(lk(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:KS(this,zS(e.animation),t),options:ck(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ck(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ck(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>e==rk);t&&(e=e.replace(ik,""));return[e=e.replace(/@\*/g,DS).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,IS),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,hS(t.collectedStyles,t.currentQuerySelector,{});const o=KS(this,zS(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:ck(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:MS(e.timings,t.errors,!0);return{type:12,animation:KS(this,zS(e.animation),t),timings:n,options:null}}}class ak{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function lk(e){return!Array.isArray(e)&&"object"==typeof e}function ck(e){var t;return e?(e=RS(e)).params&&(e.params=(t=e.params)?RS(t):null):e={},e}function uk(e,t,n){return{duration:e,delay:t,easing:n}}function hk(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class dk{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const pk=new RegExp(":enter","g"),fk=new RegExp(":leave","g");function gk(e,t,n,r,i,s={},o={},a,l,c=[]){return(new mk).buildKeyframes(e,t,n,r,i,s,o,a,l,c)}class mk{buildKeyframes(e,t,n,r,i,s,o,a,l,c=[]){l=l||new dk;const u=new yk(e,t,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),KS(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[hk(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?NS(n.duration):null,s=null!=n.delay?NS(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),KS(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vk);const e=NS(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>KS(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?NS(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),KS(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return MS(t.params?$S(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{const n=e.offset||0;s.forwardTime(n*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?NS(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vk);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),KS(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();const l=o.currentTimeline.currentTime;s=Math.max(s,l)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;KS(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const vk={};class yk{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new _k(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=NS(n.duration)),null!=n.delay&&(r.delay=NS(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=$S(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new yk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=vk,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new bk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(pk,"."+this._enterClassName)).replace(fk,"."+this._leaveClassName);const t=1!=n;let r=this._driver.query(this.element,e,t);0!==n&&(r=n<0?r.slice(r.length+n,r.length):r.slice(0,n)),o.push(...r)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class _k{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _k(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||WC,this._currentKeyframe[e]=WC}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},s=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=WC})):LS(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=$S(s[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:WC),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{const n=e[t];this._currentKeyframe[t]=n}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=LS(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?e.add(n):r==WC&&t.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=e.size?qS(e.values()):[],s=t.size?qS(t.values()):[];if(n){const e=r[0],t=RS(e);e.offset=0,t.offset=1,r=[e,t]}return hk(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class bk extends _k{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=LS(e[0],!1);a.offset=0,i.push(a);const l=LS(e[0],!1);l.offset=wk(o),i.push(l);const c=e.length-1;for(let r=1;r<=c;r++){let o=LS(e[r],!1);const a=t+o.offset*n;o.offset=wk(a/s),i.push(o)}n=s,t=0,r="",e=i}return hk(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function wk(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class xk{}class Ek extends xk{normalizePropertyName(e,t){return WS(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(Ck[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const Ck=function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Sk(e,t,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const kk={};class Tk{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||kk,d=o&&o.params||kk,p=this.buildStyles(n,d,u),f=a&&a.params||kk,g=this.buildStyles(r,f,u),m=new Set,v=new Map,y=new Map,_="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:gk(e,t,this.ast.animation,i,s,p,g,b,l,u);let x=0;if(w.forEach(e=>{x=Math.max(e.duration+e.delay,x)}),u.length)return Sk(t,this._triggerName,n,r,_,p,g,[],[],v,y,x,u);w.forEach(e=>{const n=e.element,r=hS(v,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=hS(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&m.add(n)});const E=qS(m.values());return Sk(t,this._triggerName,n,r,_,p,g,w,E,v,y,x)}}class Ak{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},r=RS(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=$S(s,r,t)),n[e]=s})}}),n}}class Dk{constructor(e,t){var n,r;this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{const t=e.options&&e.options.params||{};this.states[e.name]=new Ak(e.style,t)}),Ok(this.states,"true","1"),Ok(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Tk(e,t,this.states))}),this.fallbackTransition=(n=e,r=this.states,new Tk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},r))}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Ok(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Ik=new dk;class Nk{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=sk(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=aS(this._driver,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let s;const o=new Map;if(i?(s=gk(this._driver,t,i,kS,TS,{},{},n,Ik,r),s.forEach(e=>{const t=hS(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,WC)})});const a=oS(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=uS(t,"","","");return lS(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n){const n=r[0]||{};return void this.create(e,t,n)}const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Pk="ng-animate-queued",Mk="ng-animate-disabled",Rk=".ng-animate-disabled",Lk=[],Fk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Bk{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=function(e){return null!=e?e:null}(r),n){const t=RS(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const Vk="void",zk=new Bk(Vk);class Uk{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Yk(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=hS(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=hS(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Yk(e,AS),Yk(e,"ng-trigger-"+t),a[t]=zk),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new $k(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(Yk(e,AS),Yk(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new Bk(n,this.id);!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=zk);if(!(l.value===Vk)&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{VS(e,n),BS(e,r)})}return}const c=hS(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Yk(e,Pk),s.onStart(()=>{Kk(e,Pk)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,DS,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,Vk,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&oS(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||zk,a=new Bk(Vk),l=new $k(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;){if(n.statesByElement.get(t)){r=!0;break}}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==Fk||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Yk(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=uS(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,lS(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class Hk{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new Uk(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--){const n=this._namespaceList[i];if(this.driver.containsElement(n.hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(qk(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!qk(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yk(e,Mk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kk(e,Mk))}removeNode(e,t,n,r){if(qk(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return qk(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,DS,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,IS,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return oS(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=Fk,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Rk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Rk,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){Yk(this.collectedEnterElements[n],"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){const e=this.collectedLeaveElements[n];this.processLeaveNode(e)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?oS(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new dk,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Xk(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n=kS+f++;p.set(t,n),e.forEach(e=>Yk(e,n))});const g=[],m=new Set,v=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const e=this.collectedLeaveElements[O],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):v.add(e))}const y=new Map,_=Xk(h,Array.from(m));_.forEach((e,t)=>{const n=TS+f++;y.set(t,n),e.forEach(e=>Yk(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>Kk(e,n))}),_.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>Kk(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--){this._namespaceList[O].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(b.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,i),h=y.get(i),d=p.get(i),f=this._buildInstruction(e,n,d,h,c);if(f.errors&&f.errors.length)return void w.push(f);if(c)return t.onStart(()=>VS(i,f.fromStyles)),t.onDestroy(()=>BS(i,f.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>VS(i,f.fromStyles)),t.onDestroy(()=>BS(i,f.toStyles)),void r.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,f.timelines);const g={instruction:f,player:t,element:i};s.push(g),f.queriedElements.forEach(e=>hS(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=l.get(t);r||l.set(t,r=new Set),n.forEach(e=>r.add(e))})})}if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,E=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(E.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{hS(x,t,[]).push(e),e.destroy()})});const C=g.filter(e=>Jk(e,a,l)),S=new Map;Wk(S,this.driver,v,l,WC).forEach(e=>{Jk(e,a,l)&&C.push(e)});const k=new Map;d.forEach((e,t)=>{Wk(k,this.driver,new Set(e),a,"!")}),C.forEach(e=>{const t=S.get(e),n=k.get(e);S.set(e,Object.assign(Object.assign({},t),n))});const T=[],A=[],D={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(c.has(t))return s.onDestroy(()=>BS(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=D;if(E.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=E.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>E.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,x,i,k,S);if(s.setRealPlayer(n),e===D)T.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=oS(t)),r.push(s)}}else VS(t,o.fromStyles),s.onDestroy(()=>BS(t,o.toStyles)),A.push(s),c.has(t)&&r.push(s)}),A.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=oS(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let O=0;O<g.length;O++){const e=g[O],t=e.__ng_removed;if(Kk(e,TS),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,IS,!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?Zk(this,e,r):this.processLeaveNode(e)}return g.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==Vk;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(n||r)&&(s=s.filter(e=>(!n||n==e.namespaceId)&&(!r||r==e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.triggerName,i=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:r;for(const a of t.timelines){const e=a.element,r=e!==i,l=hS(n,e,[]);this._getPreviousPlayers(e,r,s,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}VS(i,t.fromStyles)}_buildAnimation(e,t,n,r,i,s){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new nS(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return Qk(e,t),t}((n.get(h)||Lk).map(e=>e.getRealPlayer())).filter(e=>{const t=e;return!!t.element&&t.element===h}),g=i.get(h),m=s.get(h),v=aS(this.driver,this._normalizer,0,t.keyframes,g,m),y=this._buildPlayer(t,v,f);if(t.subTimeline&&r&&u.add(h),p){const t=new $k(e,o,h);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{hS(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>Yk(e,OS));const d=oS(h);return d.onDestroy(()=>{c.forEach(e=>Kk(e,OS)),BS(a,t.toStyles)}),u.forEach(e=>{hS(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new nS(e.duration,e.delay)}}class $k{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new nS,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>lS(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hS(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qk(e){return e&&1===e.nodeType}function Gk(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Wk(e,t,n,r,i){const s=[];n.forEach(e=>s.push(Gk(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=jk,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>Gk(e,s[a++])),o}function Xk(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}function Yk(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Kk(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Zk(e,t,n){oS(n).onDone(()=>e.processLeaveNode(t))}function Qk(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof rS?Qk(r.players,t):t.push(r)}}function Jk(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class eT{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Hk(e,t,n),this._timelineEngine=new Nk(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=sk(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new Dk(e,t)}(r,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=dS(n),s=r;this._timelineEngine.command(e,t,i,s)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=dS(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function tT(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=rT(t[0]),t.length>1&&(r=rT(t[t.length-1]))):t&&(n=rT(t)),n||r?new nT(e,n,r):null}class nT{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let r=nT.initialStylesByElement.get(e);r||nT.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&BS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(BS(this._element,this._initialStyles),this._endStyles&&(BS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(nT.initialStylesByElement.delete(this._element),this._startStyles&&(VS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(VS(this._element,this._endStyles),this._endStyles=null),BS(this._element,this._initialStyles),this._state=3)}}function rT(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];iT(i)&&(t=t||{},t[i]=e[i])}return t}function iT(e){return"display"===e||"position"===e}nT.initialStylesByElement=new WeakMap;const sT="animation",oT="animationend";class aT{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=pT(e,"").trim();let r=0;n.length&&(r=function(e,t){let n=0;for(let r=0;r<e.length;r++){e.charAt(r)===t&&n++}return n}(n,",")+1,t=`${n}, ${t}`);dT(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),hT(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){lT(this._element,this._name,"paused")}resume(){lT(this._element,this._name,"running")}setPosition(e){const t=cT(this._element,this._name);this._position=e*this._duration,dT(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),hT(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=pT(e,"").split(","),r=uT(n,t);if(r>=0){n.splice(r,1);dT(e,"",n.join(","))}}(this._element,this._name))}}function lT(e,t,n){dT(e,"PlayState",n,cT(e,t))}function cT(e,t){const n=pT(e,"");if(n.indexOf(",")>0){return uT(n.split(","),t)}return uT([n],t)}function uT(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function hT(e,t,n){n?e.removeEventListener(oT,t):e.addEventListener(oT,t)}function dT(e,t,n,r){const i=sT+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function pT(e,t){return e.style[sT+t]||""}class fT{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){if(this._state>=1)return;this._state=1;this.element;this._styler.apply(),this._delay&&this._styler.pause()}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new aT(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:ZS(this.element,n))})}this.currentSnapshot=e}}class gT extends nS{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=ES(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class mT{constructor(){this._count=0}validateStyleProperty(e){return _S(e)}matchesElement(e,t){return bS(e,t)}containsElement(e,t){return wS(e,t)}query(e,t,n){return xS(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>ES(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof fT),l={};XS(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};if(e){(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})})}return t}(t=YS(e,t,l));if(0==n)return new gT(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot)return n;return document.head})(e).appendChild(h);const d=tT(e,t),p=new fT(e,t,u,n,r,i,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}}class vT{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:ZS(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class yT{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_T().toString()),this._cssKeyframesDriver=new mT}validateStyleProperty(e){return _S(e)}matchesElement(e,t){return bS(e,t)}containsElement(e,t){return wS(e,t)}query(e,t,n){return xS(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(e=>e instanceof vT);XS(n,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=tT(e,t=YS(e,t=t.map(e=>LS(e,!1)),l));return new vT(e,t,a,u)}}function _T(){return iS()&&Element.prototype.animate||{}}class bT extends GC{constructor(e,t){super(),this._nextAnimationId=0;const n={id:"0",encapsulation:i.rb.None,styles:[],data:{animation:[]}};this._renderer=e.createRenderer(t.body,n)}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?KC(e):e;return ET(this._renderer,null,t,"register",[n]),new wT(t,this._renderer)}}bT.\u0275fac=function(e){return new(e||bT)(i.Xc(i.bb),i.Xc(af))},bT.\u0275prov=i.Jc({token:bT,factory:bT.\u0275fac}),bT.ctorParameters=()=>[{type:i.bb},{type:void 0,decorators:[{type:i.D,args:[af]}]}];class wT extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xT(this._id,e,t||{},this._renderer)}}class xT{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ET(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ET(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const CT="@",ST="@.disabled";class kT{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new TT("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new AT(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}kT.\u0275fac=function(e){return new(e||kT)(i.Xc(i.bb),i.Xc(eT),i.Xc(i.S))},kT.\u0275prov=i.Jc({token:kT,factory:kT.\u0275fac}),kT.ctorParameters=()=>[{type:i.bb},{type:eT},{type:i.S}];class TT{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==CT&&t==ST?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class AT extends TT{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==CT?"."==t.charAt(1)&&t==ST?(n=void 0===n||!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==CT){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return i.charAt(0)!=CT&&([i,s]=function(e){const t=e.indexOf("."),n=e.substring(0,t),r=e.substr(t+1);return[n,r]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{const t=e._data||-1;this.factory.scheduleListenerCallback(t,n,e)})}return this.delegate.listen(e,t,n)}}class DT extends eT{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}DT.\u0275fac=function(e){return new(e||DT)(i.Xc(af),i.Xc(SS),i.Xc(xk))},DT.\u0275prov=i.Jc({token:DT,factory:DT.\u0275fac}),DT.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:SS},{type:xk}];const OT=new i.G("AnimationModuleType"),IT=[{provide:GC,useClass:bT},{provide:xk,useFactory:function(){return new Ek}},{provide:eT,useClass:DT},{provide:i.bb,useFactory:function(e,t,n){return new kT(e,t,n)},deps:[Nm,eT,i.S]}],NT=[{provide:SS,useFactory:function(){return"function"==typeof _T()?new yT:new mT}},{provide:OT,useValue:"BrowserAnimations"},...IT],PT=[{provide:SS,useClass:CS},{provide:OT,useValue:"NoopAnimations"},...IT];class MT{static withConfig(e){return{ngModule:MT,providers:e.disableAnimations?PT:NT}}}MT.\u0275fac=function(e){return new(e||MT)},MT.\u0275mod=i.Lc({type:MT}),MT.\u0275inj=i.Kc({providers:NT,imports:[nv]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(MT,{exports:function(){return[nv]}});class RT{}RT.\u0275fac=function(e){return new(e||RT)},RT.\u0275mod=i.Lc({type:RT}),RT.\u0275inj=i.Kc({providers:PT,imports:[nv]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(RT,{exports:function(){return[nv]}});const LT=["*",[["mat-option"],["ng-container"]]];function FT(e,t){if(1&e&&i.Oc(0,"mat-pseudo-checkbox",4),2&e){const e=i.bd();i.ed("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function jT(e,t){if(1&e&&(i.Tc(0,"span",5),i.pd(1),i.Sc()),2&e){const e=i.bd();i.Dc(1),i.rd("(",e.group.label,")")}}new i.nb("12.0.4");class BT{}BT.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",BT.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",BT.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",BT.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class VT{}VT.COMPLEX="375ms",VT.ENTERING="225ms",VT.EXITING="195ms";const zT=new i.nb("12.0.4");const UT=new i.G("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class HT{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(i.wb)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&zT.full!==qC.full&&console.warn("The Angular Material version ("+zT.full+") does not match the Angular CDK version ("+qC.full+").\nPlease ensure the versions of these two packages exactly match.")}}function $T(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Pw(e)}}}function qT(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function GT(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Pw(e)}}}function WT(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Mw(e):this.defaultTabIndex}}}HT.\u0275fac=function(e){return new(e||HT)(i.Xc(HC),i.Xc(UT,8),i.Xc(af))},HT.\u0275mod=i.Lc({type:HT}),HT.\u0275inj=i.Kc({imports:[[Nx],Nx]}),HT.ctorParameters=()=>[{type:HC},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[UT]}]},{type:void 0,decorators:[{type:i.D,args:[af]}]}],("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(HT,{imports:function(){return[Nx]},exports:function(){return[Nx]}});const XT=new i.G("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(i.vb)(i.L)}});class YT{constructor(){this._localeChanges=new Wv.a,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const KT=new i.G("mat-date-formats");let ZT;try{ZT="undefined"!=typeof Intl}catch(lj){ZT=!1}const QT={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},JT=nA(31,e=>String(e+1)),eA={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},tA=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function nA(e,t){const n=Array(e);for(let r=0;r<e;r++)n[r]=t(r);return n}class rA extends YT{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(ZT){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return nA(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return QT[e]}getDateNames(){if(ZT){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return nA(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return JT}getDayOfWeekNames(e){if(ZT){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return nA(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return eA[e]}getYearName(e){if(ZT){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){let r=this._createDateWithOverflow(e,t,n);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(ZT){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(tA.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const r=new Date;return r.setFullYear(e,t,n),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date;return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(n)}}rA.\u0275fac=function(e){return new(e||rA)(i.Xc(XT,8),i.Xc(mx))},rA.\u0275prov=i.Jc({token:rA,factory:rA.\u0275fac}),rA.ctorParameters=()=>[{type:String,decorators:[{type:i.T},{type:i.D,args:[XT]}]},{type:mx}];class iA{}iA.\u0275fac=function(e){return new(e||iA)},iA.\u0275mod=i.Lc({type:iA}),iA.\u0275inj=i.Kc({providers:[{provide:YT,useClass:rA}],imports:[[vx]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(iA,{imports:function(){return[vx]}});const sA={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class oA{}oA.\u0275fac=function(e){return new(e||oA)},oA.\u0275mod=i.Lc({type:oA}),oA.\u0275inj=i.Kc({providers:[{provide:KT,useValue:sA}],imports:[[iA]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(oA,{imports:[iA]});class aA{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||t&&t.submitted))}}aA.\u0275fac=function(e){return new(e||aA)},aA.\u0275prov=i.Jc({token:aA,factory:aA.\u0275fac});class lA{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}lA.\u0275fac=function(e){return new(e||lA)},lA.\u0275prov=i.Jc({factory:function(){return new lA},token:lA,providedIn:"root"});class cA{}cA.\u0275fac=function(e){return new(e||cA)},cA.\u0275dir=i.Ic({type:cA,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]});class uA{}uA.\u0275fac=function(e){return new(e||uA)},uA.\u0275mod=i.Lc({type:uA}),uA.\u0275inj=i.Kc({imports:[[HT],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(uA,{declarations:[cA],imports:[HT],exports:[cA,HT]});class hA{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const dA={enterDuration:450,exitDuration:400},pA=Cx({passive:!0}),fA=["mousedown","touchstart"],gA=["mouseup","mouseleave","touchend","touchcancel"];class mA{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=jw(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},dA),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,l=i.enterDuration,c=document.createElement("div");var u;c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),u=c,window.getComputedStyle(u).getPropertyValue("opacity"),c.style.transform="scale(1)";const h=new hA(this,c,n);return h.state=0,this._activeRipples.add(h),n.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const e=h===this._mostRecentTransientRipple;h.state=1,n.persistent||e&&this._isPointerDown||h.fadeOut()},l),h}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},dA),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=jw(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(fA))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(gA),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=PC(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!MC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{const t=1===e.state||e.config.terminateOnPointerUp&&0===e.state;!e.config.persistent&&t&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,pA)})})}_removeTriggerEvents(){this._triggerElement&&(fA.forEach(e=>{this._triggerElement.removeEventListener(e,this,pA)}),this._pointerUpEventsRegistered&&gA.forEach(e=>{this._triggerElement.removeEventListener(e,this,pA)}))}}const vA=new i.G("mat-ripple-global-options");class yA{constructor(e,t,n,r,i){this._elementRef=e,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new mA(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}yA.\u0275fac=function(e){return new(e||yA)(i.Nc(i.v),i.Nc(i.S),i.Nc(mx),i.Nc(vA,8),i.Nc(OT,8))},yA.\u0275dir=i.Ic({type:yA,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&i.Fc("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),yA.ctorParameters=()=>[{type:i.v},{type:i.S},{type:mx},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[vA]}]},{type:String,decorators:[{type:i.T},{type:i.D,args:[OT]}]}],yA.propDecorators={color:[{type:i.I,args:["matRippleColor"]}],unbounded:[{type:i.I,args:["matRippleUnbounded"]}],centered:[{type:i.I,args:["matRippleCentered"]}],radius:[{type:i.I,args:["matRippleRadius"]}],animation:[{type:i.I,args:["matRippleAnimation"]}],disabled:[{type:i.I,args:["matRippleDisabled"]}],trigger:[{type:i.I,args:["matRippleTrigger"]}]};class _A{}_A.\u0275fac=function(e){return new(e||_A)},_A.\u0275mod=i.Lc({type:_A}),_A.\u0275inj=i.Kc({imports:[[HT,vx],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(_A,{declarations:function(){return[yA]},imports:function(){return[HT,vx]},exports:function(){return[yA,HT]}});class bA{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}bA.\u0275fac=function(e){return new(e||bA)(i.Nc(OT,8))},bA.\u0275cmp=i.Hc({type:bA,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&i.Fc("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),bA.ctorParameters=()=>[{type:String,decorators:[{type:i.T},{type:i.D,args:[OT]}]}],bA.propDecorators={state:[{type:i.I}],disabled:[{type:i.I}]};class wA{}wA.\u0275fac=function(e){return new(e||wA)},wA.\u0275mod=i.Lc({type:wA}),wA.\u0275inj=i.Kc({imports:[[HT]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(wA,{declarations:[bA],imports:[HT],exports:[bA]});const xA=new i.G("MAT_OPTION_PARENT_COMPONENT");const EA=$T(class{});let CA=0;class SA extends EA{constructor(e){var t;super(),this._labelId="mat-optgroup-label-"+CA++,this._inert=null!==(t=null==e?void 0:e.inertGroups)&&void 0!==t&&t}}SA.\u0275fac=function(e){return new(e||SA)(i.Nc(xA,8))},SA.\u0275dir=i.Ic({type:SA,inputs:{label:"label"},features:[i.Ac]}),SA.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[xA]},{type:i.T}]}],SA.propDecorators={label:[{type:i.I}]};const kA=new i.G("MatOptgroup");class TA extends SA{}TA.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(TA)))(t||TA)}}(),TA.\u0275cmp=i.Hc({type:TA,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(e,t){2&e&&(i.Ec("role",t._inert?null:"group")("aria-disabled",t._inert?null:t.disabled.toString())("aria-labelledby",t._inert?null:t._labelId),i.Fc("mat-optgroup-disabled",t.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[i.Cc([{provide:kA,useExisting:TA}]),i.Ac],ngContentSelectors:["*","mat-option, ng-container"],decls:4,vars:2,consts:[["aria-hidden","true",1,"mat-optgroup-label",3,"id"]],template:function(e,t){1&e&&(i.dd(LT),i.Tc(0,"span",0),i.pd(1),i.cd(2),i.Sc(),i.cd(3,1)),2&e&&(i.ed("id",t._labelId),i.Dc(1),i.rd("",t.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0});let AA=0;class DA{constructor(e,t=!1){this.source=e,this.isUserInput=t}}class OA{constructor(e,t,n,r){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+AA++,this.onSelectionChange=new i.y,this._stateChanges=new Wv.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Pw(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){13!==e.keyCode&&32!==e.keyCode||mE(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new DA(this,e))}}OA.\u0275fac=function(e){return new(e||OA)(i.Nc(i.v),i.Nc(i.k),i.Nc(void 0),i.Nc(SA))},OA.\u0275dir=i.Ic({type:OA,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),OA.ctorParameters=()=>[{type:i.v},{type:i.k},{type:void 0},{type:SA}],OA.propDecorators={value:[{type:i.I}],id:[{type:i.I}],disabled:[{type:i.I}],onSelectionChange:[{type:i.U}]};class IA extends OA{constructor(e,t,n,r){super(e,t,n,r)}}IA.\u0275fac=function(e){return new(e||IA)(i.Nc(i.v),i.Nc(i.k),i.Nc(xA,8),i.Nc(kA,8))},IA.\u0275cmp=i.Hc({type:IA,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&i.Zc("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(i.Wc("id",t.id),i.Ec("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),i.Fc("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[i.Ac],ngContentSelectors:["*"],decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(i.dd(),i.od(0,FT,1,2,"mat-pseudo-checkbox",0),i.Tc(1,"span",1),i.cd(2),i.Sc(),i.od(3,jT,2,1,"span",2),i.Oc(4,"div",3)),2&e&&(i.ed("ngIf",t.multiple),i.Dc(3),i.ed("ngIf",t.group&&t.group._inert),i.Dc(1),i.ed("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[Sg,yA,bA],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),IA.ctorParameters=()=>[{type:i.v},{type:i.k},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[xA]}]},{type:TA,decorators:[{type:i.T},{type:i.D,args:[kA]}]}];class NA{}function PA(e,t){}NA.\u0275fac=function(e){return new(e||NA)},NA.\u0275mod=i.Lc({type:NA}),NA.\u0275inj=i.Kc({imports:[[_A,rm,HT,wA]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(NA,{declarations:function(){return[IA,TA]},imports:function(){return[_A,rm,HT,wA]},exports:function(){return[IA,TA]}});class MA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const RA={dialogContainer:XC("dialogContainer",[QC("void, exit",ZC({opacity:0,transform:"scale(0.7)"})),QC("enter",ZC({transform:"none"})),eS("* => enter",YC("150ms cubic-bezier(0, 0, 0.2, 1)",ZC({transform:"none",opacity:1}))),eS("* => void, * => exit",YC("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ZC({opacity:0})))])};class LA extends sE{constructor(e,t,n,r,s,o){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new i.y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){if(!this._containsFocus()){(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=Ax(),n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ax())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=Ax();return e===t||e.contains(t)}}LA.\u0275fac=function(e){return new(e||LA)(i.Nc(i.v),i.Nc(_C),i.Nc(i.k),i.Nc(af,8),i.Nc(MA),i.Nc(FC))},LA.\u0275dir=i.Ic({type:LA,viewQuery:function(e,t){if(1&e&&i.sd(cE,7),2&e){let e;i.gd(e=i.ad())&&(t._portalOutlet=e.first)}},features:[i.Ac]}),LA.ctorParameters=()=>[{type:i.v},{type:_C},{type:i.k},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[af]}]},{type:MA},{type:FC}],LA.propDecorators={_portalOutlet:[{type:i.ob,args:[cE,{static:!0}]}]};class FA extends LA{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}FA.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(FA)))(t||FA)}}(),FA.\u0275cmp=i.Hc({type:FA,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&i.md("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(i.Wc("id",t._id),i.Ec("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),i.nd("@dialogContainer",t._state))},features:[i.Ac],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&i.od(0,PA,0,0,"ng-template",0)},directives:[cE],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[RA.dialogContainer]}});let jA=0;class BA{constructor(e,t,n="mat-dialog-"+jA++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Wv.a,this._afterClosed=new Wv.a,this._beforeClosed=new Wv.a,this._state=0,t._id=n,t._animationStateChanged.pipe(Object(Jv.a)(e=>"opened"===e.state),Object(Kv.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(Jv.a)(e=>"closed"===e.state),Object(Kv.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Object(Jv.a)(e=>27===e.keyCode&&!this.disableClose&&!mE(e))).subscribe(e=>{e.preventDefault(),VA(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():VA(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Object(Jv.a)(e=>"closing"===e.state),Object(Kv.a)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function VA(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const zA=new i.G("MatDialogData"),UA=new i.G("mat-dialog-default-options"),HA=new i.G("mat-dialog-scroll-strategy");const $A={provide:HA,deps:[GE],useFactory:function(e){return()=>e.scrollStrategies.block()}};class qA{constructor(e,t,n,r,i,s,o,a,l){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Wv.a,this._afterOpenedAtThisLevel=new Wv.a,this._ariaHiddenElements=new Map,this.afterAllClosed=qv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zv(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new MA)).id&&this.getDialogById(t.id);const n=this._createOverlay(t),r=this._attachDialogContainer(n,t),i=this._attachDialogContent(e,r,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new SE({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=i.H.create({parent:n||this._injector,providers:[{provide:MA,useValue:t}]}),s=new nE(this._dialogContainerType,t.viewContainerRef,r,t.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,t,n,r){const s=new this._dialogRefConstructor(n,t,r.id);if(e instanceof i.kb)t.attachTemplatePortal(new rE(e,null,{$implicit:r.data,dialogRef:s}));else{const n=this._createInjector(r,s,t),i=t.attachComponentPortal(new nE(e,r.viewContainerRef,n));s.componentInstance=i.instance}return s.updateSize(r.width,r.height).updatePosition(r.position),s}_createInjector(e,t,n){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||r&&r.get(Ox,null)||s.push({provide:Ox,useValue:{value:e.direction,change:Object(Dv.a)()}}),i.H.create({parent:r||this._injector,providers:s})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let r=t[n];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}qA.\u0275fac=function(e){return new(e||qA)(i.Nc(GE),i.Nc(i.H),i.Nc(void 0),i.Nc(void 0),i.Nc(PE),i.Nc(void 0),i.Nc(i.mb),i.Nc(i.mb),i.Nc(i.G))},qA.\u0275dir=i.Ic({type:qA}),qA.ctorParameters=()=>[{type:GE},{type:i.H},{type:void 0},{type:void 0},{type:PE},{type:void 0},{type:i.mb},{type:i.mb},{type:i.G}];class GA extends qA{constructor(e,t,n,r,i,s,o){super(e,t,r,s,o,i,BA,FA,zA)}}GA.\u0275fac=function(e){return new(e||GA)(i.Xc(GE),i.Xc(i.H),i.Xc(xf,8),i.Xc(UA,8),i.Xc(HA),i.Xc(GA,12),i.Xc(PE))},GA.\u0275prov=i.Jc({token:GA,factory:GA.\u0275fac}),GA.ctorParameters=()=>[{type:GE},{type:i.H},{type:xf,decorators:[{type:i.T}]},{type:MA,decorators:[{type:i.T},{type:i.D,args:[UA]}]},{type:void 0,decorators:[{type:i.D,args:[HA]}]},{type:GA,decorators:[{type:i.T},{type:i.gb}]},{type:PE}];let WA=0;class XA{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=QA(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){VA(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}XA.\u0275fac=function(e){return new(e||XA)(i.Nc(BA,8),i.Nc(i.v),i.Nc(GA))},XA.\u0275dir=i.Ic({type:XA,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.Zc("click",function(e){return t._onButtonClick(e)}),2&e&&i.Ec("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[i.Bc]}),XA.ctorParameters=()=>[{type:BA,decorators:[{type:i.T}]},{type:i.v},{type:GA}],XA.propDecorators={ariaLabel:[{type:i.I,args:["aria-label"]}],type:[{type:i.I}],dialogResult:[{type:i.I,args:["mat-dialog-close"]}],_matDialogClose:[{type:i.I,args:["matDialogClose"]}]};class YA{constructor(e,t,n){this._dialogRef=e,this._elementRef=t,this._dialog=n,this.id="mat-dialog-title-"+WA++}ngOnInit(){this._dialogRef||(this._dialogRef=QA(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}YA.\u0275fac=function(e){return new(e||YA)(i.Nc(BA,8),i.Nc(i.v),i.Nc(GA))},YA.\u0275dir=i.Ic({type:YA,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,t){2&e&&i.Wc("id",t.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),YA.ctorParameters=()=>[{type:BA,decorators:[{type:i.T}]},{type:i.v},{type:GA}],YA.propDecorators={id:[{type:i.I}]};class KA{}KA.\u0275fac=function(e){return new(e||KA)},KA.\u0275dir=i.Ic({type:KA,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]});class ZA{}function QA(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(e=>e.id===n.id):null}ZA.\u0275fac=function(e){return new(e||ZA)},ZA.\u0275dir=i.Ic({type:ZA,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]});class JA{}JA.\u0275fac=function(e){return new(e||JA)},JA.\u0275mod=i.Lc({type:JA}),JA.\u0275inj=i.Kc({providers:[GA,$A],imports:[[QE,hE,HT],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(JA,{declarations:function(){return[FA,XA,YA,ZA,KA]},imports:function(){return[QE,hE,HT]},exports:function(){return[FA,XA,YA,KA,ZA,HT]}});let eD=class{constructor(e,t){this.dialogRef=e,this.data=t}onNoClick(){this.dialogRef.close()}};eD.ctorParameters=()=>[{type:BA},{type:void 0,decorators:[{type:i.D,args:[zA]}]}],eD=Tv([Object(i.n)({selector:"app-dialog",template:'<h1 mat-dialog-title>Tech-Stack</h1>\n<div mat-dialog-content>\n  <p>Diese App ist mit folgenden Tools erstellt worden:</p>\n  <ul>\n    <li>Angular</li>\n    <li>Angular Material</li>\n    <li>Bulma</li>\n    <li>Canvas</li>\n    <li>xState</li>\n    <li>Intro.JS</li>\n  </ul>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)="onNoClick()">OK</button>\n</div>\n',styles:[""]})],eD);var tD=n("R5/Y");const nD={steps:[{element:"#tool0",intro:"\n        <p><b>Generiere korrektes Reber-Wort:</b> Erzeugt durch die DEA ein zufaelliges Wort, welches ein Reber Wort ist</p>\n        <p><b>Generiere falsches Reber-Wort:</b> Erzeugt durch die DEA ein zufaelliges Wort, welches KEIN Reber Wort ist</p>\n        <p><b>Tech-Stack:</b> Zeigt die Tools an, womit diese Seite implementiert wurde</p>\n        <p><b>Theorie:</b> Wiki Artikel zu dem Thema DEA</p>\n        <p><b>Starte Tour!:</b> Startet eine Tour</p>\n          ",position:"left"},{element:"#tool1",intro:"<p><b>Eingabe:</b> Manuelle Eingabe des Strings</p><p><b>Ausgabe:</b> Auswertung des Wortes (automatisch)</p>",position:"left"},{element:"#tool2",intro:"Die Tabelle zeigt die Zustaende und das Eingabealphabet in Zusammenhang mit der \xdcbergangsfunktion. Beim Ausfuehren des Codes, werden die Zeilen markiert",position:"right"},{element:"#tool3",intro:"Canvas man kann intuitiv durch gedrueckt halten und bewegen, oder mit scroll sowohl zoomen, als auch den Graphen bewegen. Beim starten der Animation, werden die Zustaende animiert",position:"right"},{element:"#tool4",intro:"Zeigt die Zustandsmenge (Q), das Eingabealphabet (E) und die Finalzustaende (F) an",position:"right"},{element:"#tool5",intro:"Steuerung der Animation (zum start, ein schritt zurueck, abspielen, pause, ein schritt nach vor, zum Ende)",position:"right"},{element:"#tool6",intro:"Einstellung der Animationsgeschwindigkeit",position:"right"}],showBullets:!0,showButtons:!0,exitOnOverlayClick:!1,keyboardNavigation:!0},rD=[{q0:"1",e:"B",q1:"2"},{q0:"2",e:"T",q1:"3"},{q0:"2",e:"P",q1:"4"},{q0:"3",e:"S",q1:"3"},{q0:"3",e:"X",q1:"6"},{q0:"4",e:"T",q1:"4"},{q0:"4",e:"V",q1:"5"},{q0:"5",e:"P",q1:"6"},{q0:"5",e:"V",q1:"7"},{q0:"6",e:"X",q1:"4"},{q0:"6",e:"S",q1:"7"},{q0:"7",e:"E",q1:"8"}],iD={elements:{nodes:[{data:{id:"start"},position:{x:-700,y:50},classes:"inv"},{data:{id:"1"},position:{x:-600,y:50}},{data:{id:"2"},position:{x:-470,y:50}},{data:{id:"3"},position:{x:-300,y:-100}},{data:{id:"4"},position:{x:-300,y:200}},{data:{id:"5"},position:{x:-100,y:200}},{data:{id:"6"},position:{x:-100,y:-100}},{data:{id:"7"},position:{x:70,y:50}},{data:{id:"8"},position:{x:200,y:50},classes:"double"}],edges:[{data:{id:"2_3",source:"2",target:"3",label:"T"},classes:"font"},{data:{id:"2_4",source:"2",target:"4",label:"P"}},{data:{id:"4_5",source:"4",target:"5",label:"V"}},{data:{id:"3_6",source:"3",target:"6",label:"X"}},{data:{id:"6_7",source:"6",target:"7",label:"S"}},{data:{id:"5_7",source:"5",target:"7",label:"V"}},{data:{id:"5_6",source:"5",target:"6",label:"P"}},{data:{id:"6_4",source:"6",target:"4",label:"X"}},{data:{id:"7_8",source:"7",target:"8",label:"E"}},{data:{id:"start_1",source:"start",target:"1",label:""}},{data:{id:"1_2",source:"1",target:"2",label:"B"}},{data:{id:"BB",source:"3",target:"3",type:"loop",label:"S"}},{data:{id:"CC",source:"4",target:"4",type:"loop",flipLabel:!0,label:"T"},classes:"loop"}]},style:[{selector:"node",style:{"background-color":"#fff",color:"#000",label:"data(id)","text-valign":"center",width:"38px",height:"38px","text-halign":"center","border-color":"black","border-opacity":"1","border-width":"1"}},{selector:"edge",style:{width:3,"line-color":"#ccc",color:"#000","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)","text-background-color":"white","text-background-opacity":"1","text-background-shape":"rectangle","text-background-padding":"3px"}},{selector:".double",style:{"border-color":"#000","border-opacity":"1","border-style":"double","border-width":"3"}},{selector:".inv",style:{"background-color":"#fff","line-color":"#ccc",color:"#fff","border-color":"white","border-opacity":"0"}},{selector:".loop",style:{"loop-direction":"-130deg","loop-sweep":"90deg","target-endpoint":"outside-to-line","source-endpoint":"outside-to-line"}}],layout:{name:"preset",padding:5},autoungrabify:!0,autolock:!0,userPanningEnabled:!1};function sD(e=0,t=nx.a){return(!ox(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=nx.a),new Vv.a(n=>(n.add(t.schedule(oD,e,{subscriber:n,counter:0,period:e})),n))}function oD(e){const{subscriber:t,counter:n,period:r}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}let aD=class{constructor(){this.previousElements=[],this.lastNode=null,this.errorSate=new Ov.a({state:!1,msg:""})}setInstance(e){this.cy=e}resetAnimation(){for(const e of this.cy.edges().toArray()){const t=e.connectedNodes().toArray(),n=t[0]&&t[0],r=t[1]?t[1]:t[0];"start"!==n.id()&&n.style({lineColor:"black",color:"black","border-width":"1px","border-color":"black"}),r.style({lineColor:"black","border-width":"1px",color:"black","border-color":"black"}),e.style({lineColor:"#ccc",opacity:1,width:"3px",color:"black","border-color":"black"})}this.errorSate.next({state:!1,msg:""})}animateStep(e,t=1e3){if(t/=15,"error"!==e){this.errorSate.next({state:!1,msg:""});for(const n of this.cy.edges().toArray()){const r=n.connectedNodes().toArray(),i=r[0]&&r[0],s=r[1]?r[1]:r[0];i.id()+n.data("label")+s.id()!==e&&setTimeout(()=>{"start"!==i.id()&&i.style({lineColor:"black",color:"black","border-width":"1px","border-color":"black"}),s.style({lineColor:"black","border-width":"1px",color:"black","border-color":"black"}),n.style({lineColor:"#ccc",opacity:1,width:"3px",color:"black","border-color":"black"})},t/1.5),setTimeout(()=>{i.id()+n.data("label")+s.id()===e&&(i.animate({style:{lineColor:"#3f51b5",color:"#3f51b5","border-color":"#3f51b5"}}),this.previousElements.push(i))},t/3),setTimeout(()=>{i.id()+n.data("label")+s.id()===e&&(n.animate({style:{lineColor:"#3f51b5",width:"4px",color:"#3f51b5","border-color":"#3f51b5"}}),this.previousElements.push(n))},2*t/3),setTimeout(()=>{i.id()+n.data("label")+s.id()===e&&("8"===s.id()?s.animate({style:{lineColor:"green","border-width":"4px",color:"green","border-color":"green"}}):(this.lastNode=s,s.animate({style:{lineColor:"#ff4081","border-width":"4px",color:"#ff4081","border-color":"#ff4081"}})),this.previousElements.push(s))},+t)}}else{const e=this.lastNode.connectedEdges(`edge[source = "${this.lastNode.id()}"]`).toArray();console.log(e),this.lastNode.animate({style:{lineColor:"red","border-width":"5px",color:"red","border-color":"red"}}),e[0].style({lineColor:"green",opacity:.2,width:"3px",color:"black","border-color":"black"}),e[1].style({lineColor:"green",width:"3px",opacity:.2,color:"black","border-color":"black"}),this.errorSate.next({state:!0,msg:`Nur die Uebergaenge <span class="green">${e[0].data("label")}</span> und <span class="green">${e[1].data("label")}</span> sind definiert.`})}}};aD.ctorParameters=()=>[],aD=Tv([Object(i.F)({providedIn:"root"})],aD);const lD={5:1e3,4:2e3,3:3e3,2:4e3,1:5e3},cD={width:"450px",data:{}};var uD=function(){return(uD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function hD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function dD(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pD(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function fD(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var gD={},mD="xstate.guard";function vD(e){return Object.keys(e)}function yD(e,t,n){void 0===n&&(n=".");var r=wD(e,n),i=wD(t,n);return LD(i)?!!LD(r)&&i===r:LD(r)?r in i:vD(r).every(function(e){return e in i&&yD(r[e],i[e])})}function _D(e){try{return LD(e)||"number"==typeof e?""+e:e.type}catch(t){throw new Error("Events must be strings or objects with a string event.type property.")}}function bD(e,t){try{return MD(e)?e:e.toString().split(t)}catch(n){throw new Error("'"+e+"' is not a valid state path.")}}function wD(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:MD(e)?xD(e):"string"!=typeof e?e:xD(bD(e,t));var n}function xD(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function ED(e,t){for(var n={},r=vD(e),i=0;i<r.length;i++){var s=r[i];n[s]=t(e[s],s,e,i)}return n}function CD(e,t,n){var r,i,s={};try{for(var o=dD(vD(e)),a=o.next();!a.done;a=o.next()){var l=a.value,c=e[l];n(c)&&(s[l]=t(c,l,e))}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}var SD=function(e){return function(t){var n,r,i=t;try{for(var s=dD(e),o=s.next();!o.done;o=s.next()){i=i[o.value]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}};function kD(e){return e?LD(e)?[[e]]:TD(vD(e).map(function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?kD(e[t]).map(function(e){return[t].concat(e)}):[[t]]})):[[]]}function TD(e){var t;return(t=[]).concat.apply(t,fD([],pD(e)))}function AD(e){return MD(e)?e:[e]}function DD(e){return void 0===e?[]:AD(e)}function OD(e,t,n){var r,i;if(RD(e))return e(t,n.data);var s={};try{for(var o=dD(Object.keys(e)),a=o.next();!a.done;a=o.next()){var l=a.value,c=e[l];RD(c)?s[l]=c(t,n.data):s[l]=c}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function ID(e){return e instanceof Promise||!(null===e||!RD(e)&&"object"!=typeof e||!RD(e.then))}function ND(e,t){var n,r,i=pD([[],[]],2),s=i[0],o=i[1];try{for(var a=dD(e),l=a.next();!l.done;l=a.next()){var c=l.value;t(c)?s.push(c):o.push(c)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[s,o]}function PD(e,t){return ED(e.states,function(e,n){if(e){var r=(LD(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:PD(e,r)}}})}function MD(e){return Array.isArray(e)}function RD(e){return"function"==typeof e}function LD(e){return"string"==typeof e}function FD(e,t){if(e)return LD(e)?{type:mD,name:e,predicate:t?t[e]:void 0}:RD(e)?{type:mD,name:e.name,predicate:e}:e}function jD(e){try{return"subscribe"in e&&RD(e.subscribe)}catch(t){return!1}}var BD=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function VD(e){try{return"__xstatenode"in e}catch(t){return!1}}var zD,UD;function HD(e,t){return LD(e)||"number"==typeof e?uD({type:e},t):e}function $D(e,t){if(!LD(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=HD(e);return uD({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function qD(e,t){return AD(t).map(function(t){return void 0===t||"string"==typeof t||VD(t)?{target:t,event:e}:uD(uD({},t),{event:e})})}function GD(e,t,n,r,i){var s=e.options.guards,o={state:i,cond:t,_event:r};if(t.type===mD)return t.predicate(n,r.data,o);var a=s[t.type];if(!a)throw new Error("Guard '"+t.type+"' is not implemented on machine '"+e.id+"'.");return a(n,r.data,o)}function WD(e){return"string"==typeof e?{type:e}:e}!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(zD||(zD={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(UD||(UD={}));var XD=function(e){return"atomic"===e.type||"final"===e.type};function YD(e){return vD(e.states).map(function(t){return e.states[t]})}function KD(e){var t=[e];return XD(e)?t:t.concat(TD(YD(e).map(KD)))}function ZD(e,t){var n,r,i,s,o,a,l,c,u=JD(new Set(e)),h=new Set(t);try{for(var d=dD(h),p=d.next();!p.done;p=d.next())for(var f=(E=p.value).parent;f&&!h.has(f);)h.add(f),f=f.parent}catch(C){n={error:C}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var g=JD(h);try{for(var m=dD(h),v=m.next();!v.done;v=m.next()){if("compound"!==(E=v.value).type||g.get(E)&&g.get(E).length){if("parallel"===E.type)try{for(var y=(o=void 0,dD(YD(E))),_=y.next();!_.done;_=y.next()){var b=_.value;"history"!==b.type&&(h.has(b)||(h.add(b),u.get(b)?u.get(b).forEach(function(e){return h.add(e)}):b.initialStateNodes.forEach(function(e){return h.add(e)})))}}catch(S){o={error:S}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}}else u.get(E)?u.get(E).forEach(function(e){return h.add(e)}):E.initialStateNodes.forEach(function(e){return h.add(e)})}}catch(k){i={error:k}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}try{for(var w=dD(h),x=w.next();!x.done;x=w.next()){var E;for(f=(E=x.value).parent;f&&!h.has(f);)h.add(f),f=f.parent}}catch(T){l={error:T}}finally{try{x&&!x.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}return h}function QD(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(XD(r))return r.key}var i={};return n.forEach(function(e){i[e.key]=QD(e,t)}),i}function JD(e){var t,n,r=new Map;try{for(var i=dD(e),s=i.next();!s.done;s=i.next()){var o=s.value;r.has(o)||r.set(o,[]),o.parent&&(r.has(o.parent)||r.set(o.parent,[]),r.get(o.parent).push(o))}}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function eO(e,t){return QD(e,JD(ZD([e],t)))}function tO(e,t){return Array.isArray(e)?e.some(function(e){return e===t}):e instanceof Set&&e.has(t)}function nO(e,t){return"compound"===t.type?YD(t).some(function(t){return"final"===t.type&&tO(e,t)}):"parallel"===t.type&&YD(t).every(function(t){return nO(e,t)})}var rO=zD.Start,iO=zD.Stop,sO=zD.Raise,oO=zD.Send,aO=zD.Cancel,lO=zD.NullEvent,cO=zD.Assign,uO=(zD.After,zD.DoneState,zD.Log),hO=zD.Init,dO=zD.Invoke,pO=(zD.ErrorExecution,zD.ErrorPlatform),fO=zD.ErrorCustom,gO=zD.Update,mO=zD.Choose,vO=zD.Pure,yO=$D({type:hO});function _O(e,t){return t&&t[e]||void 0}function bO(e,t){var n;if(LD(e)||"number"==typeof e){var r=_O(e,t);n=RD(r)?{type:e,exec:r}:r||{type:e,exec:void 0}}else if(RD(e))n={type:e.name||e.toString(),exec:e};else{if(RD(r=_O(e.type,t)))n=uD(uD({},e),{exec:r});else if(r){var i=r.type||e.type;n=uD(uD(uD({},r),e),{type:i})}else n=e}return Object.defineProperty(n,"toString",{value:function(){return n.type},enumerable:!1,configurable:!0}),n}var wO=function(e,t){return e?(MD(e)?e:[e]).map(function(e){return bO(e,t)}):[]};function xO(e){var t=bO(e);return uD(uD({id:LD(e)?e:t.id},t),{type:t.type})}function EO(e){return LD(e)?{type:sO,event:e}:CO(e,{to:UD.Internal})}function CO(e,t){return{to:t?t.to:void 0,type:oO,event:RD(e)?e:HD(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:RD(e)?e.name:_D(e)}}function SO(e,t){var n=zD.DoneState+"."+e,r={type:n,data:t,toString:function(){return n}};return r}function kO(e,t){var n=zD.DoneInvoke+"."+e,r={type:n,data:t,toString:function(){return n}};return r}function TO(e,t){var n=zD.ErrorPlatform+"."+e,r={type:n,data:t,toString:function(){return n}};return r}function AO(e,t,n,r,i){var s=pD(ND(i,function(e){return e.type===cO}),2),o=s[0],a=s[1],l=o.length?function(e,t,n,r){return e?n.reduce(function(e,n){var i,s,o=n.assignment,a={state:r,action:n,_event:t},l={};if(RD(o))l=o(e,t.data,a);else try{for(var c=dD(vD(o)),u=c.next();!u.done;u=c.next()){var h=u.value,d=o[h];l[h]=RD(d)?d(e,t.data,a):d}}catch(p){i={error:p}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return Object.assign({},e,l)},e):e}(n,r,o,t):n;return[TD(a.map(function(n){var i;switch(n.type){case sO:return{type:sO,_event:$D(n.event)};case oO:var s=function(e,t,n,r){var i,s={_event:n},o=$D(RD(e.event)?e.event(t,n.data,s):e.event);if(LD(e.delay)){var a=r&&r[e.delay];i=RD(a)?a(t,n.data,s):a}else i=RD(e.delay)?e.delay(t,n.data,s):e.delay;var l=RD(e.to)?e.to(t,n.data,s):e.to;return uD(uD({},e),{to:l,_event:o,event:o.data,delay:i})}(n,l,r,e.options.delays);return s;case uO:return function(e,t,n){return uD(uD({},e),{value:LD(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(n,l,r);case mO:if(!(a=null===(i=n.conds.find(function(n){var i=FD(n.cond,e.options.guards);return!i||GD(e,i,l,r,t)}))||void 0===i?void 0:i.actions))return[];var o=AO(e,t,l,r,wO(DD(a),e.options.actions));return l=o[1],o[0];case vO:var a;if(!(a=n.get(l,r.data)))return[];o=AO(e,t,l,r,wO(DD(a),e.options.actions));return l=o[1],o[0];case iO:return function(e,t,n){var r=RD(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:zD.Stop,activity:i}}(n,l,r);default:return bO(n,e.options.actions)}})),l]}function DO(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(LD(e)||LD(t))return e===t;var n=vD(e),r=vD(t);return n.length===r.length&&n.every(function(n){return DO(e[n],t[n])})}var OO=function(){function e(e){var t,n=this;this.actions=[],this.activities=gD,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||gD,this.meta=e.meta||{},this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=e.tags)&&void 0!==t?t:new Set,Object.defineProperty(this,"nextEvents",{get:function(){return e=n.configuration,fD([],pD(new Set(TD(fD([],pD(e.map(function(e){return e.ownEvents})))))));var e}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:yO,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=yO;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),LD(e))return[e];var r=vD(e);return r.concat.apply(r,fD([],pD(r.map(function(r){return n.toStrings(e[r],t).map(function(e){return r+t+e})}))))},e.prototype.toJSON=function(){var e=this,t=(e.configuration,e.transitions,e.tags),n=hD(e,["configuration","transitions","tags"]);return uD(uD({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return yD(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e}(),IO=[],NO=function(e,t){IO.push(e);var n=t(e);return IO.pop(),n};function PO(e){return{id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}}}function MO(e,t,n){var r=PO(t);return r.deferred=!0,VD(e)&&(r.state=NO(void 0,function(){return(n?e.withContext(n):e).initialState})),r}var RO={deferEvents:!1},LO=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=uD(uD({},RO),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(t){throw this.clear(),t}finally{this.processingEvent=!1}},e}(),FO=new Map,jO=0,BO=function(){return"x:"+jO++},VO=function(e,t){return FO.set(e,t),e},zO=function(e){return FO.get(e)},UO=function(e){FO.delete(e)};function HO(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0}function $O(e){if(HO()){var t=function(){var e=HO();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}var qO,GO={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(qO||(qO={}));var WO=function(){function e(t,n){var r=this;void 0===n&&(n=e.defaultOptions),this.machine=t,this.scheduler=new LO,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=qO.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(e,t){if(MD(e))return r.batch(e),r.state;var n=$D(HD(e,t));if(r.status===qO.Stopped)return r.state;if(r.status!==qO.Running&&!r.options.deferEvents)throw new Error('Event "'+n.name+'" was sent to uninitialized service "'+r.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: '+JSON.stringify(n.data));return r.scheduler.schedule(function(){r.forward(n);var e=r.nextState(n);r.update(e,n)}),r._state},this.sendTo=function(e,t){var n,i=r.parent&&(t===UD.Parent||r.parent.id===t),s=i?r.parent:LD(t)?r.children.get(t)||zO(t):(n=t)&&"function"==typeof n.send?t:void 0;if(s)"machine"in s?s.send(uD(uD({},e),{name:e.name===fO?""+TO(r.id):e.name,origin:r.sessionId})):s.send(e.data);else if(!i)throw new Error("Unable to send event to child '"+t+"' from service '"+r.id+"'.")};var i=uD(uD({},e.defaultOptions),n),s=i.clock,o=i.logger,a=i.parent,l=i.id,c=void 0!==l?l:t.id;this.id=c,this.logger=o,this.clock=s,this.parent=a,this.options=i,this.scheduler=new LO({deferEvents:this.options.deferEvents}),this.sessionId=BO()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:NO(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=dD(e.actions),s=i.next();!s.done;s=i.next()){var o=s.value;this.exec(o,e,t)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,s,o,a,l,c,u=this;if(e._sessionid=this.sessionId,this._state=e,this.options.execute&&this.execute(this.state),this.children.forEach(function(e){u.state.children[e.id]=e}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var h=dD(this.eventListeners),d=h.next();!d.done;d=h.next()){(0,d.value)(e.event)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var p=dD(this.listeners),f=p.next();!f.done;f=p.next()){(0,f.value)(e,e.event)}}catch(E){i={error:E}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}try{for(var g=dD(this.contextListeners),m=g.next();!m.done;m=g.next()){(0,m.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(C){o={error:C}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}var v=nO(e.configuration||[],this.machine);if(this.state.configuration&&v){var y=e.configuration.find(function(e){return"final"===e.type&&e.parent===u.machine}),_=y&&y.doneData?OD(y.doneData,e.context,t):void 0;try{for(var b=dD(this.doneListeners),w=b.next();!w.done;w=b.next()){(0,w.value)(kO(this.id,_))}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}this.stop()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===qO.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r,i=this;if(!e)return{unsubscribe:function(){}};var s=n;return"function"==typeof e?r=e:(r=e.next.bind(e),s=e.complete.bind(e)),this.listeners.add(r),this.status===qO.Running&&r(this.state),s&&this.onDone(s),{unsubscribe:function(){r&&i.listeners.delete(r),s&&i.doneListeners.delete(s)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===qO.Running)return this;VO(this.sessionId,this),this.initialized=!0,this.status=qO.Running;var n=void 0===e?this.initialState:NO(this,function(){return!LD(n=e)&&"value"in n&&"history"in n?t.machine.resolveState(e):t.machine.resolveState(OO.from(e,t.machine.context));var n});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(n,yO)}),this},e.prototype.stop=function(){var e,t,n,r,i,s,o,a,l,c,u=this;try{for(var h=dD(this.listeners),d=h.next();!d.done;d=h.next()){var p=d.value;this.listeners.delete(p)}}catch(E){e={error:E}}finally{try{d&&!d.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}try{for(var f=dD(this.stopListeners),g=f.next();!g.done;g=f.next()){(p=g.value)(),this.stopListeners.delete(p)}}catch(C){n={error:C}}finally{try{g&&!g.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var m=dD(this.contextListeners),v=m.next();!v.done;v=m.next()){p=v.value;this.contextListeners.delete(p)}}catch(S){i={error:S}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}try{for(var y=dD(this.doneListeners),_=y.next();!_.done;_=y.next()){p=_.value;this.doneListeners.delete(p)}}catch(k){o={error:k}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}if(!this.initialized)return this;this.state.configuration.forEach(function(e){var t,n;try{for(var r=dD(e.definition.exit),i=r.next();!i.done;i=r.next()){var s=i.value;u.exec(s,u.state)}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}),this.children.forEach(function(e){RD(e.stop)&&e.stop()});try{for(var b=dD(vD(this.delayedEventsMap)),w=b.next();!w.done;w=b.next()){var x=w.value;this.clock.clearTimeout(this.delayedEventsMap[x])}}catch(T){l={error:T}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}return this.scheduler.clear(),this.initialized=!1,this.status=qO.Stopped,UO(this.sessionId),this},e.prototype.batch=function(e){var t=this;if(this.status===qO.NotStarted&&this.options.deferEvents)0;else if(this.status!==qO.Running)throw new Error(e.length+' event(s) were sent to uninitialized service "'+this.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.');this.scheduler.schedule(function(){var n,r,i=t.state,s=!1,o=[],a=function(e){var n=$D(e);t.forward(n),i=NO(t,function(){return t.machine.transition(i,n)}),o.push.apply(o,fD([],pD(i.actions.map(function(e){return n=i,r=(t=e).exec,uD(uD({},t),{exec:void 0!==r?function(){return r(n.context,n.event,{action:t,state:n,_event:n._event})}:void 0});var t,n,r})))),s=s||!!i.changed};try{for(var l=dD(e),c=l.next();!c.done;c=l.next()){a(c.value)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}i.changed=s,i.actions=o,t.update(i,$D(e[e.length-1]))})},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype.nextState=function(e){var t=this,n=$D(e);if(0===n.name.indexOf(pO)&&!this.state.nextEvents.some(function(e){return 0===e.indexOf(pO)}))throw n.data.data;return NO(this,function(){return t.machine.transition(t.state,n)})},e.prototype.forward=function(e){var t,n;try{for(var r=dD(this.forwardTo),i=r.next();!i.done;i=r.next()){var s=i.value,o=this.children.get(s);if(!o)throw new Error("Unable to forward event '"+e+"' from interpreter '"+this.id+"' to nonexistant child '"+s+"'.");o.send(e)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout(function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)},e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions);var r=t.context,i=t._event,s=e.exec||_O(e.type,n),o=RD(s)?s:s?s.exec:e.exec;if(o)try{return o(r,i.data,{action:e,state:this.state,_event:i})}catch(y){throw this.parent&&this.parent.send({type:"xstate.error",data:y}),y}switch(e.type){case oO:var a=e;if("number"==typeof a.delay)return void this.defer(a);a.to?this.sendTo(a._event,a.to):this.send(a._event);break;case aO:this.cancel(e.sendId);break;case rO:var l=e.activity;if(!this.state.activities[l.id||l.type])break;if(l.type===zD.Invoke){var c=WD(l.src),u=this.machine.options.services?this.machine.options.services[c.type]:void 0,h=l.id,d=l.data;0;var p="autoForward"in l?l.autoForward:!!l.forward;if(!u)return void 0;var f=d?OD(d,r,i):void 0,g=RD(u)?u(r,i.data,{data:f,src:c}):u;ID(g)?this.spawnPromise(Promise.resolve(g),h):RD(g)?this.spawnCallback(g,h):jD(g)?this.spawnObservable(g,h):VD(g)&&this.spawnMachine(f?g.withContext(f):g,{id:h,autoForward:p})}else this.spawnActivity(l);break;case iO:this.stopChild(e.activity.id);break;case uO:var m=e.label,v=e.value;m?this.logger(m,v):this.logger(v);break;default:0}},e.prototype.removeChild=function(e){this.children.delete(e),this.forwardTo.delete(e),delete this.state.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),RD(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(ID(e))return this.spawnPromise(Promise.resolve(e),t);if(RD(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(t){return!1}}(r=e)&&"id"in r)return this.spawnActor(e);if(jD(e))return this.spawnObservable(e,t);if(VD(e))return this.spawnMachine(e,uD(uD({},n),{id:t}));throw new Error('Unable to spawn entity "'+t+'" of type "'+typeof e+'".');var r},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,uD(uD({},this.options),{parent:this,id:n.id||t.id})),s=uD(uD({},GO),n);s.sync&&i.onTransition(function(e){r.send(gO,{state:e,id:i.id})});var o=i;return this.children.set(i.id,o),s.autoForward&&this.forwardTo.add(i.id),i.onDone(function(e){r.removeChild(i.id),r.send($D(e,{origin:i.id}))}).start(),o},e.prototype.spawnPromise=function(e,t){var n=this,r=!1,i=void 0;e.then(function(e){r||(i=e,n.removeChild(t),n.send($D(kO(t,e),{origin:t})))},function(e){if(!r){n.removeChild(t);var i=TO(t,e);try{n.send($D(i,{origin:t}))}catch(s){n.devTools&&n.devTools.send(i,n.state),n.machine.strict&&n.stop()}}});var s={id:t,send:function(){},subscribe:function(t,n,r){var i=function(e,t,n){if("object"==typeof e)return e;var r=function(){};return{next:e,error:t||r,complete:n||r}}(t,n,r),s=!1;return e.then(function(e){s||(i.next(e),s||i.complete())},function(e){s||i.error(e)}),{unsubscribe:function(){return s=!0}}},stop:function(){r=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return i}};return this.children.set(t,s),s},e.prototype.spawnCallback=function(e,t){var n,r=this,i=!1,s=new Set,o=new Set,a=void 0;try{n=e(function(e){a=e,o.forEach(function(t){return t(e)}),i||r.send($D(e,{origin:t}))},function(e){s.add(e)})}catch(c){this.send(TO(t,c))}if(ID(n))return this.spawnPromise(n,t);var l={id:t,send:function(e){return s.forEach(function(t){return t(e)})},subscribe:function(e){return o.add(e),{unsubscribe:function(){o.delete(e)}}},stop:function(){i=!0,RD(n)&&n()},toJSON:function(){return{id:t}},getSnapshot:function(){return a}};return this.children.set(t,l),l},e.prototype.spawnObservable=function(e,t){var n=this,r=void 0,i=e.subscribe(function(e){r=e,n.send($D(e,{origin:t}))},function(e){n.removeChild(t),n.send($D(TO(t,e),{origin:t}))},function(){n.removeChild(t),n.send($D(kO(t),{origin:t}))}),s={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}};return this.children.set(t,s),s},e.prototype.spawnActor=function(e){return this.children.set(e.id,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){this.children.set(e,{id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})},e.prototype.attachDev=function(){var e=HO();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(uD(uD({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:uD({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}$O(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[BD]=function(){return this},e.prototype.getSnapshot=function(){return this._state},e.defaultOptions=function(e){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:e.console.log.bind(console),devTools:!1}}("undefined"!=typeof self?self:global),e.interpret=XO,e}();function XO(e,t){return new WO(e,t)}function YO(e){if("string"==typeof e){var t={type:e,toString:function(){return e}};return t}return e}function KO(e){return uD(uD({type:dO},e),{toJSON:function(){e.onDone,e.onError;var t=hD(e,["onDone","onError"]);return uD(uD({},t),{type:dO,src:YO(e.src)})}})}var ZO="*",QO={},JO=function(e){return"#"===e[0]},eI=function(){function e(t,n,r){var i,s=this;void 0===r&&(r=void 0),this.config=t,this.context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||fD([this.machine.key],pD(this.path)).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&vD(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(i=this.config.schema)&&void 0!==i?i:{},this.initial=this.config.initial,this.states=this.config.states?ED(this.config.states,function(t,n){var r,i=new e(t,{_parent:s,_key:n});return Object.assign(s.idMap,uD(((r={})[i.id]=i,r),i.idMap)),i}):QO;var o=0;!function e(t){var n,r;t.order=o++;try{for(var i=dD(YD(t)),s=i.next();!s.done;s=i.next()){e(s.value)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(e){return""===e.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=DD(this.config.entry||this.config.onEntry).map(function(e){return bO(e)}),this.onExit=DD(this.config.exit||this.config.onExit).map(function(e){return bO(e)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=DD(this.config.invoke).map(function(e,t){var n,r;if(VD(e))return s.machine.options.services=uD(((n={})[e.id]=e,n),s.machine.options.services),KO({src:e.id,id:e.id});if(LD(e.src))return KO(uD(uD({},e),{id:e.id||e.src,src:e.src}));if(VD(e.src)||RD(e.src)){var i=s.id+":invocation["+t+"]";return s.machine.options.services=uD(((r={})[i]=e.src,r),s.machine.options.services),KO(uD(uD({id:i},e),{src:i}))}var o=e.src;return KO(uD(uD({id:o.type},e),{src:o}))}),this.activities=DD(this.config.activities).concat(this.invoke).map(function(e){return xO(e)}),this.transition=this.transition.bind(this),this.tags=DD(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||KD(this).forEach(function(e){return e.on})},e.prototype.withConfig=function(t,n){void 0===n&&(n=this.context);var r=this.options,i=r.actions,s=r.activities,o=r.guards,a=r.services,l=r.delays;return new e(this.config,{actions:uD(uD({},i),t.actions),activities:uD(uD({},s),t.activities),guards:uD(uD({},o),t.guards),services:uD(uD({},a),t.services),delays:uD(uD({},l),t.delays)},n)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:ED(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter(function(n){var r=n.eventType===e;return t?r:r||n.eventType===ZO});return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=function(e,t){var n=t?"#"+t:"";return zD.After+"("+e+")"+n}(RD(t)?e.id+":delay["+n+"]":t,e.id);return e.onEntry.push(CO(r,{delay:t})),e.onExit.push({type:aO,sendId:r}),r};return(MD(t)?t.map(function(e,t){var r=n(e.delay,t);return uD(uD({},e),{event:r})}):TD(vD(t).map(function(e,r){var i=t[e],s=LD(i)?{target:i}:i,o=isNaN(+e)?e:+e,a=n(o,r);return DD(s).map(function(e){return uD(uD({},e),{event:a,delay:o})})}))).map(function(t){var n=t.delay;return uD(uD({},e.formatTransition(t)),{delay:n})})},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof OO?e.value:wD(e,this.delimiter);if(LD(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var s=vD(r),o=s.map(function(e){return n.getStateNode(e)});return o.push(this),o.concat(s.reduce(function(e,t){var i=n.getStateNode(t).getStateNodes(r[t]);return e.concat(i)},[]))},e.prototype.handles=function(e){var t=_D(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=Array.from(ZD([],this.getStateNodes(e.value)));return new OO(uD(uD({},e),{value:this.resolve(e.value),configuration:t,done:nO(t,this)}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=vD(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,s={};try{for(var o=dD(vD(e)),a=o.next();!a.done;a=o.next()){var l=a.value,c=e[l];if(c){var u=this.getStateNode(l)._transition(c,t,n);u&&(s[l]=u)}}}catch(g){r={error:g}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}var h=vD(s).map(function(e){return s[e]}),d=TD(h.map(function(e){return e.transitions}));if(!h.some(function(e){return e.transitions.length>0}))return this.next(t,n);var p=TD(h.map(function(e){return e.entrySet})),f=TD(vD(s).map(function(e){return s[e].configuration}));return{transitions:d,entrySet:p,exitSet:TD(h.map(function(e){return e.exitSet})),configuration:f,source:t,actions:TD(vD(s).map(function(e){return s[e].actions}))}},e.prototype._transition=function(e,t,n){return LD(e)?this.transitionLeafNode(e,t,n):1===vD(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.next=function(e,t){var n,r,i,s=this,o=t.name,a=[],l=[];try{for(var c=dD(this.getCandidates(o)),u=c.next();!u.done;u=c.next()){var h=u.value,d=h.cond,p=h.in,f=e.context,g=!p||(LD(p)&&JO(p)?e.matches(wD(this.getStateNodeById(p).path,this.delimiter)):yD(wD(p,this.delimiter),SD(this.path.slice(0,-2))(e.value))),m=!1;try{m=!d||GD(this.machine,d,f,t,e)}catch(_){throw new Error("Unable to evaluate guard '"+(d.name||d.type)+"' in transition for event '"+o+"' in state node '"+this.id+"':\n"+_.message)}if(m&&g){void 0!==h.target&&(l=h.target),a.push.apply(a,fD([],pD(h.actions))),i=h;break}}}catch(b){n={error:b}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(i){if(!l.length)return{transitions:[i],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var v=TD(l.map(function(t){return s.getRelativeStateNodes(t,e.historyValue)})),y=!!i.internal;return{transitions:[i],entrySet:y?[]:TD(v.map(function(e){return s.nodesFromChild(e)})),exitSet:y?[]:[this],configuration:v,source:e,actions:a}}},e.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var t=[],n=e;n&&n!==this;)t.push(n),n=n.parent;return t.push(this),t},e.prototype.escapes=function(e){if(this===e)return!1;for(var t=this.parent;t;){if(t===e)return!1;t=t.parent}return!0},e.prototype.getActions=function(e,t,n,r){var i,s,o,a,l=ZD([],r?this.getStateNodes(r.value):[this]),c=e.configuration.length?ZD(l,e.configuration):l;try{for(var u=dD(c),h=u.next();!h.done;h=u.next()){tO(l,f=h.value)||e.entrySet.push(f)}}catch(w){i={error:w}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}try{for(var d=dD(l),p=d.next();!p.done;p=d.next()){var f;tO(c,f=p.value)&&!tO(e.exitSet,f.parent)||e.exitSet.push(f)}}catch(x){o={error:x}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}e.source||(e.exitSet=[],e.entrySet.push(this));var g=TD(e.entrySet.map(function(r){var i=[];if("final"!==r.type)return i;var s=r.parent;if(!s.parent)return i;i.push(SO(r.id,r.doneData),SO(s.id,r.doneData?OD(r.doneData,t,n):void 0));var o=s.parent;return"parallel"===o.type&&YD(o).every(function(t){return nO(e.configuration,t)})&&i.push(SO(o.id)),i}));e.exitSet.sort(function(e,t){return t.order-e.order}),e.entrySet.sort(function(e,t){return e.order-t.order});var m=new Set(e.entrySet),v=new Set(e.exitSet),y=pD([TD(Array.from(m).map(function(e){return fD(fD([],pD(e.activities.map(function(e){return function(e){var t=xO(e);return{type:zD.Start,activity:t,exec:void 0}}(e)}))),pD(e.onEntry))})).concat(g.map(EO)),TD(Array.from(v).map(function(e){return fD(fD([],pD(e.onExit)),pD(e.activities.map(function(e){return function(e){var t=RD(e)?e:xO(e);return{type:zD.Stop,activity:t,exec:void 0}}(e)})))}))],2),_=y[0],b=y[1];return wO(b.concat(e.actions).concat(_),this.machine.options.actions)},e.prototype.transition=function(e,t,n){void 0===e&&(e=this.initialState);var r,i,s=$D(t);if(e instanceof OO)r=void 0===n?e:this.resolveState(OO.from(e,n));else{var o=LD(e)?this.resolve(xD(this.getResolvedPath(e))):this.resolve(e),a=n||this.machine.context;r=this.resolveState(OO.from(o,a))}if(this.strict&&!this.events.includes(s.name)&&(i=s.name,!/^(done|error)\./.test(i)))throw new Error("Machine '"+this.id+"' does not accept event '"+s.name+"'");var l=this._transition(r.value,r,s)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:r,actions:[]},c=ZD([],this.getStateNodes(r.value)),u=l.configuration.length?ZD(c,l.configuration):c;return l.configuration=fD([],pD(u)),this.resolveTransition(l,r,s)},e.prototype.resolveRaisedTransition=function(e,t,n){var r,i=e.actions;return(e=this.transition(e,t))._event=n,e.event=n.data,(r=e.actions).unshift.apply(r,fD([],pD(i))),e},e.prototype.resolveTransition=function(e,t,n,r){var i,s,o=this;void 0===n&&(n=yO),void 0===r&&(r=this.machine.context);var a=e.configuration,l=!t||e.transitions.length>0?eO(this.machine,a):void 0,c=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,u=t?t.context:r,h=this.getActions(e,u,n,t),d=t?uD({},t.activities):{};try{for(var p=dD(h),f=p.next();!f.done;f=p.next()){var g=f.value;g.type===rO?d[g.activity.id||g.activity.type]=g:g.type===iO&&(d[g.activity.id||g.activity.type]=!1)}}catch(M){i={error:M}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}var m,v,y=pD(AO(this,t,u,n,h),2),_=y[0],b=y[1],w=pD(ND(_,function(e){return e.type===sO||e.type===oO&&e.to===UD.Internal}),2),x=w[0],E=w[1],C=_.filter(function(e){var t;return e.type===rO&&(null===(t=e.activity)||void 0===t?void 0:t.type)===dO}).reduce(function(e,t){return e[t.activity.id]=function(e,t,n,r){var i,s=WD(e.src),o=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[s.type],a=e.data?OD(e.data,n,r):void 0,l=o?MO(o,e.id,a):PO(e.id);return l.meta=e,l}(t.activity,o.machine,b,n),e},t?uD({},t.children):{}),S=l?e.configuration:t?t.configuration:[],k=S.reduce(function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e},{}),T=nO(S,this),A=new OO({value:l||t.value,context:b,_event:n,_sessionid:t?t._sessionid:null,historyValue:l?c?(m=c,v=l,{current:v,states:PD(m,v)}):void 0:t?t.historyValue:void 0,history:!l||e.source?t:void 0,actions:l?E:[],activities:l?d:t?t.activities:{},meta:l?k:t?t.meta:void 0,events:[],configuration:S,transitions:e.transitions,children:C,done:T,tags:null==t?void 0:t.tags}),D=u!==b;A.changed=n.name===gO||D;var O=A.history;if(O&&delete O.history,!l)return A;var I=A;if(!T)for((this._transient||a.some(function(e){return e._transient}))&&(I=this.resolveRaisedTransition(I,{type:lO},n));x.length;){var N=x.shift();I=this.resolveRaisedTransition(I,N._event,n)}var P=I.changed||(O?!!I.actions.length||D||typeof O.value!=typeof I.value||!DO(I.value,O.value):void 0);return I.changed=P,I.history=O,I.tags=new Set(TD(I.configuration.map(function(e){return e.tags}))),I},e.prototype.getStateNode=function(e){if(JO(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '"+e+"' from '"+this.id+"'; no child states exist.");var t=this.states[e];if(!t)throw new Error("Child state '"+e+"' does not exist on '"+this.id+"'");return t},e.prototype.getStateNodeById=function(e){var t=JO(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#"+t+"' does not exist on machine '"+this.id+"'");return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&JO(e))try{return this.getStateNodeById(e.slice(1))}catch(i){}for(var t=bD(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||QO;switch(this.type){case"parallel":return ED(this.initialStateValue,function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):QO});case"compound":if(LD(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return vD(e).length?ED(e,function(e,t){return e?n.getStateNode(t).resolve(e):QO}):this.initialStateValue||{};default:return e||QO}},e.prototype.getResolvedPath=function(e){if(JO(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '"+e+"'");return t.path}return bD(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=CD(this.states,function(e){return e.initialStateValue||QO},function(e){return!("history"===e.type)});else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '"+this.initial+"' not found on '"+this.key+"'");t=XD(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,void 0,t)},Object.defineProperty(e.prototype,"initialState",{get:function(){this._init();var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '"+this.id+"'.");return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=LD(t.target)&&JO(t.target)?xD(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return XD(this)?[this]:"compound"!==this.type||this.initial?TD(kD(this.initialStateValue).map(function(t){return e.getFromRelativePath(t)})):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=pD(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '"+n+"' from node with no states");var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '"+n+"' does not exist on '"+this.id+"'");return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(vD(this.states).length)return{current:e||this.initialStateValue,states:CD(this.states,function(t,n){if(!e)return t.historyValue();var r=LD(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)},function(e){return!e.history})}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?TD(kD(r).map(function(e){return n.getFromRelativePath(e)})):n.initialStateNodes}var i,s,o=(i=n.path,s="states",function(e){var t,n,r=e;try{for(var o=dD(i),a=o.next();!a.done;a=o.next()){var l=a.value;r=r[s][l]}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r})(e).current;return LD(o)?[n.getStateNode(o)]:TD(kD(o).map(function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=TD(vD(this.states).map(function(t){return e.states[t].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,s=new Set(this.ownEvents);if(i)try{for(var o=dD(vD(i)),a=o.next();!a.done;a=o.next()){var l=i[a.value];if(l.states)try{for(var c=(n=void 0,dD(l.events)),u=c.next();!u.done;u=c.next()){var h=u.value;s.add(""+h)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(e){return!(!e.target&&!e.actions.length&&e.internal)}).map(function(e){return e.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map(function(e){if(!LD(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(i){throw new Error("Invalid transition definition for state node '"+t.id+"':\n"+i.message)}})},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return DD(e)}(e.target),r="internal"in e?e.internal:!n||n.some(function(e){return LD(e)&&e[0]===t.delimiter}),i=this.machine.options.guards,s=this.resolveTarget(n),o=uD(uD({},e),{actions:wO(DD(e.actions)),cond:FD(e.cond,i),target:s,source:this,internal:r,eventType:e.event,toJSON:function(){return uD(uD({},o),{target:o.target?o.target.map(function(e){return"#"+e.id}):void 0,source:"#"+t.id})}});return o},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,s=ZO,o=i[s],a=void 0===o?[]:o,l=hD(i,["*"]);n=TD(vD(l).map(function(e){var t=qD(e,l[e]);return t}).concat(qD(ZO,a)))}else n=[];var c=this.config.always?qD("",this.config.always):[],u=this.config.onDone?qD(String(SO(this.id)),this.config.onDone):[];var h=TD(this.invoke.map(function(e){var t=[];return e.onDone&&t.push.apply(t,fD([],pD(qD(String(kO(e.id)),e.onDone)))),e.onError&&t.push.apply(t,fD([],pD(qD(String(TO(e.id)),e.onError)))),t})),d=this.after,p=TD(fD(fD(fD(fD([],pD(u)),pD(h)),pD(n)),pD(c)).map(function(e){return DD(e).map(function(e){return r.formatTransition(e)})}));try{for(var f=dD(d),g=f.next();!g.done;g=f.next()){var m=g.value;p.push(m)}}catch(v){e={error:v}}finally{try{g&&!g.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return p},e}();function tI(e,t){var n="function"==typeof e.context?e.context():e.context;return new eI(e,t,n)}const nI=(...e)=>1===e.length||Math.random()<.5?e[0]:e[1];class rI extends Error{constructor(e,t,n){super(n),this.reberString=e,this.ausgabeString=t,this.msg=n,console.error(n)}}let iI=class{genFSM(e,t){return XO(e).onTransition(t).start()}createReberMachine(){return tI({id:"reber-dea",initial:"1",states:{1:{on:{B:"2","*":"9"}},2:{on:{T:"3",P:"4","*":"9"}},3:{on:{S:"3",X:"6","*":"9"}},4:{on:{T:"4",V:"5","*":"9"}},5:{on:{P:"6",V:"7","*":"9"}},6:{on:{X:"4",S:"7","*":"9"}},7:{on:{E:"8","*":"9"}},8:{type:"final"},9:{type:"final"}}})}createDefaultReberFSM(){return this.genFSM(this.createReberMachine(),e=>{if("9"===e.value)throw new Error("Transition nicht erlaubt");if("8"===e.value&&!e.changed)throw new Error("Ist bereits zuende")})}generateReberString(){const e=[{id:"2",s:"B",trans:"1B2"}],t=this.createDefaultReberFSM(),n=this.createReberMachine();let r=t.send("B");for(;8!==r.event;){const i=r.value,s=n.states[r.value.toString()].config.on;if(!s)break;{const n=nI(...Object.keys(s).filter(e=>"*"!==e));if(void 0===n)break;r=t.send(n),e.push({id:r.value.toString(),s:n,trans:i+n+r.value.toString()})}}return{reberString:e.reduce((e,t)=>e+t.s,""),reberConstruct:e}}generateNonReber(){const e=["B","T","P","S","X","V","B","T","P","S","X","E"];let t=!1;const{reberConstruct:n}=this.generateReberString();return{reberString:n.map(n=>{const r=Math.floor(10*Math.random());return"2"===n.id?n:(r>3&&(t=!0),t||"8"!==n.id?{id:n.id,s:r<3?n.s:e[r],trans:"1B"}:{id:n.id,s:"P",trans:"1B"})}).reduce((e,t)=>e+t.s,""),reberConstruct:n}}_validateReberString(e){const t=this.createReberMachine();let n;"E"===e.slice(-1)&&(n="Korrekt");const r=this.genFSM(t,t=>{if("9"===t.value)throw new rI(e,"Falsch","Transition nicht erlaubt");if([...e].filter(e=>"E"===e).length>1)throw new rI(e,"Falsch","Endzustand erreicht")});for(const s of e)try{r.send(s)}catch(i){n="Falsch"}return r.stop(),{ausgabeString:n,reberString:e}}evaluateString(e,t=""){let n,r;try{const{reberString:i,ausgabeString:s}=this._validateReberString(e);n=s||t,r=i||e}catch(i){r=i.reberString,n=i.ausgabeString}return{ausgabeString:n,reberString:r}}generateReberConstruct(e){const t=this.createReberMachine();let n,r=e.substring(1);if("B"===e[0]){n=[{id:"2",s:"B",trans:"1B2"}];let e=!0;const i=this.genFSM(t,t=>{"9"===t.value&&(e=!1),"8"!==t.value||t.changed||(e=!1)});let s=i.send("B");for(let t of r){const r=s.value;s=i.send(t),e?n.push({id:s.value.toString(),s:t,trans:r+t+s.value.toString()}):n.push({id:"error",s:t,trans:"error",error:"error"})}let o=!0;return n.filter(e=>"error"===e.id&&o?(o=!1,!0):"error"!==e.id)}return[{error:"B",id:"",s:"",trans:"error"}]}};iI=Tv([Object(i.F)({providedIn:"root"})],iI);let sI=class{constructor(e,t,n,r){this.dialog=e,this.renderer=t,this.deaService=n,this.cytoService=r,this.displayedColumns=["q0","e","q1"],this.dataSource=rD,this.cyConfig=iD,this.speed=4,this.reberConstruct=[],this.animationObject={current:-1},this.endState=new Ov.a("stop"),this.reberString="",this.ausgabeString="",this.xState=this.deaService.createReberMachine(),this.cytoService.errorSate.subscribe(e=>{this.errorState=Object.assign(Object.assign({},e),{hm:`Das Reberwort ${this.reberString.substring(0,this.reberConstruct.length-1)}<span class="red">${this.reberString.substring(this.reberConstruct.length-1,this.reberConstruct.length)}</span>${this.reberString.substring(this.reberConstruct.length,this.reberString.length)} ist an der Stelle ${this.reberString.slice(this.reberConstruct.length-1,this.reberConstruct.length)} nicht definiert. ${e.msg}`})})}ngOnInit(){this.toggleService=this.deaService.createDefaultReberFSM()}openDialog(){this.dialog.open(eD,cD)}startTour(){tD().setOptions(nD).start()}generateReberString(){const{reberConstruct:e,reberString:t}=this.deaService.generateReberString();this.evaluateString(t,"Korrekt"),this.reberString=t,this.reberConstruct=e,this.onStart()}generateNonReberString(){const{reberConstruct:e,reberString:t}=this.deaService.generateNonReber();this.reberConstruct=e,this.evaluateString(t,"Falsch"),this.reberString=t,this.onStart()}animateStep(){this.cytoService.animateStep(this.reberConstruct[this.animationObject.current].trans,lD[this.speed])}evaluateString(e,t){const{reberString:n,ausgabeString:r}=this.deaService.evaluateString(e,t);this._resetAnimationObject(),this.reberString=n,this.ausgabeString=r,this.renderer.addClass(this.tableMain.nativeElement,"active"),this.reberConstruct=this.deaService.generateReberConstruct(n)}onNext(e=!1){this.renderer.removeClass(this.tableMain.nativeElement,"active"),this.animationObject.current<this.reberConstruct.length-1&&this.animationObject.current++,this.animateStep(),this.renderTableRows(),e||this.endState.next("stop")}renderTableRows(){this.matRows.forEach(e=>{const t=this.reberConstruct[this.animationObject.current].trans;"error"!==t&&(t===e.nativeElement.id?this.renderer.addClass(e.nativeElement,"active"):this.renderer.removeClass(e.nativeElement,"active"))})}onPrevious(){if(this.animationObject.current<1)return this.renderer.addClass(this.tableMain.nativeElement,"active"),this.renderer.removeClass(this.matRows.first.nativeElement,"active"),this.cytoService.resetAnimation(),void(-1!==this.animationObject.current&&--this.animationObject.current);--this.animationObject.current,this.animateStep(),this.renderTableRows(),this.endState.next("stop")}onStart(){this.onStop()}onEnd(){this.animationObject.current=this.reberConstruct.length-1,this.renderer.removeClass(this.tableMain.nativeElement,"active"),this.matRows.forEach(e=>{this.renderer.removeClass(e.nativeElement,"active"),this.reberConstruct[this.animationObject.current].trans===e.nativeElement.id?this.renderer.addClass(e.nativeElement,"active"):this.renderer.removeClass(e.nativeElement,"active")}),this.animateStep(),this.endState.next("stop")}onStop(){this._resetAnimationObject(),this.cytoService.resetAnimation(),this.renderer.addClass(this.tableMain.nativeElement,"active"),this.matRows.forEach(e=>{this.renderer.removeClass(e.nativeElement,"active")}),this.endState.next("stop")}onPlay(){this.timer=sD(5e3/this.speed);const e=this.timer;this.animationObject.current===this.reberConstruct.length-1&&this.onStop(),this.endState.next("start"),e.pipe(pE(()=>"stop"!==this.endState.value)).subscribe(()=>{this.onNext(!0),this.animationObject.current===this.reberConstruct.length-1&&this.endState.next("stop")})}onPause(){this.endState.next("stop")}_resetAnimationObject(){this.animationObject.current=-1}};sI.ctorParameters=()=>[{type:GA},{type:i.ab},{type:iI},{type:aD}],sI.propDecorators={reberString:[{type:i.I}],ausgabeString:[{type:i.I}],matRows:[{type:i.pb,args:["matRows",{read:i.v}]}],tableMain:[{type:i.ob,args:["tableMain",{read:i.v}]}]},sI=Tv([Object(i.n)({selector:"app-dea",template:'<h3 class="title is-3 has-text-centered">DEA (Reber Grammar)</h3>\n<nav id="tool0" class="level">\n  <div class="level-left">\n    <button\n      (click)="generateReberString()"\n      class="action-button"\n      mat-stroked-button\n      color="primary"\n    >\n      Generiere korrektes Reber-Wort\n    </button>\n    <button\n      (click)="generateNonReberString()"\n      class="action-button"\n      mat-stroked-button\n      color="primary"\n    >\n      Generiere falsches Reber-Wort\n    </button>\n  </div>\n  <div class="level-right">\n    <button\n      class="action-button"\n      mat-stroked-button\n      color="primary"\n      (click)="openDialog()"\n    >\n      Tech-Stack\n    </button>\n    <a\n      href="https://de.wikipedia.org/wiki/Deterministischer_endlicher_Automat"\n      target="_blank"\n      class="action-button"\n      mat-stroked-button\n      color="primary"\n    >Theorie</a\n    >\n    <button\n      (click)="startTour()"\n      class="action-button"\n      mat-stroked-button\n      color="accent"\n    >\n      Tour starten!\n    </button>\n  </div>\n</nav>\n<section class="main-content columns is-fullheight">\n  <aside class="column is-3 is-narrow-mobile is-fullheight is-hidden-mobile">\n    <p class="menu-label is-hidden-touch">Eingabe</p>\n    <form id="tool1" class="example-form">\n      <mat-form-field class="example-full-width">\n        <mat-label>Eingabe der Zeichen</mat-label>\n        <input\n          [ngModel]="reberString"\n          (ngModelChange)="evaluateString($event)"\n          matInput\n          placeholder="Ex. EEhhHbccd"\n          name="reber-string"\n        />\n      </mat-form-field>\n\n      <mat-form-field class="example-full-width">\n        <mat-label>Ausgabe</mat-label>\n        <input\n          [value]="ausgabeString"\n          matInput\n          placeholder=""\n          [ngClass]="ausgabeString === \'Korrekt\' ? \'green\' : \'red\'"\n          disabled\n        />\n      </mat-form-field>\n    </form>\n    <hr />\n    <table\n      id="tool2"\n      #tableMain\n      mat-table\n      [dataSource]="dataSource"\n      class="mat-elevation-z8"\n    >\n      <caption>\n        <p class="menu-label has-text-left">\n          Tabelle (<img\n          src="https://wikimedia.org/api/rest_v1/media/math/render/svg/cb300facd9d5abda700b72af073fb1233de7b885"\n          class="mwe-math-fallback-image-inline"\n          aria-hidden="true"\n          style="vertical-align: -0.671ex; width: 13.892ex; height: 2.676ex"\n          alt="{\\displaystyle \\delta \\colon Q\\times \\Sigma \\rightarrow Q}"\n        />)\n        </p>\n      </caption>\n      <ng-container matColumnDef="q0">\n        <th mat-header-cell *matHeaderCellDef>Q</th>\n        <td mat-cell *matCellDef="let element">\n          {{ element.q0 === "1" ? "&#8594; 1" : element.q0 }}\n        </td>\n      </ng-container>\n      <ng-container matColumnDef="e">\n        <th mat-header-cell *matHeaderCellDef>\u2211</th>\n        <td mat-cell *matCellDef="let element">{{ element.e }}</td>\n      </ng-container>\n      <ng-container matColumnDef="q1">\n        <th mat-header-cell *matHeaderCellDef>Q</th>\n        <td mat-cell *matCellDef="let element">\n          {{ element.q1 === "8" ? "* 8" : element.q1 }}\n        </td>\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n      <tr\n        [attr.data-after-content]="this.animationObject.current + 1"\n        #matRows\n        [id]="row.q0 + row.e + row.q1"\n        mat-row\n        *matRowDef="let row; columns: displayedColumns"\n      ></tr>\n    </table>\n  </aside>\n\n  <div id="tool3" class="container column is-9">\n    <div id="tool4" class="overlay">\n      <p>Q = {{ "{ 1, 2, 3, 4, 5, 6, 7, 8 }" }}</p>\n      <p>\u2211 = {{ "{ B, T, S, V, X, P, E }" }}</p>\n      <p>\u03b4 = siehe Tabelle</p>\n      <p>q0 = {{ "{ 1 }" }}</p>\n      <p>F = {{ "{ 8 }" }}</p>\n    </div>\n    <div id="tool5" class="button-group">\n      <mat-button-toggle-group name="fontStyle" aria-label="Font Style">\n        <mat-button-toggle\n          title="Start"\n          [disabled]="\n            reberString.length < 1 ||\n            endState.getValue() !== \'stop\' ||\n            this.animationObject.current < 0\n          "\n          (change)="onStart()"\n          value="bold"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >first_page</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Zurueck"\n          [disabled]="\n            reberString.length < 1 ||\n            endState.getValue() !== \'stop\' ||\n            this.animationObject.current < 0\n          "\n          (change)="onPrevious()"\n          value="bold"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >chevron_left</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Abspielen"\n          *ngIf="endState.getValue() === \'stop\'"\n          [disabled]="reberString.length < 1"\n          (change)="onPlay()"\n          value="bold"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >play_circle_filled</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Resetten"\n          *ngIf="endState.getValue() === \'start\'"\n          [disabled]="reberString.length < 1"\n          (change)="onStop()"\n          value="bold"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >stop_circle_filled</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Pause"\n          [disabled]="reberString.length < 1 || endState.getValue() === \'stop\'"\n          (change)="onPause()"\n          value="bold"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >pause_circle_filled</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Vor"\n          [disabled]="\n            reberString.length < 1 ||\n            endState.getValue() !== \'stop\' ||\n            this.animationObject.current === this.reberConstruct.length - 1\n          "\n          (change)="onNext()"\n          value="underline"\n        ><mat-icon aria-hidden="false" aria-label="chevron_right icon"\n        >chevron_right</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Ende"\n          [disabled]="\n            reberString.length < 1 ||\n            endState.getValue() !== \'stop\' ||\n            this.animationObject.current === this.reberConstruct.length - 1\n          "\n          (change)="onEnd()"\n          value="underline"\n        ><mat-icon aria-hidden="false" aria-label="chevron_right icon"\n        >last_page</mat-icon\n        ></mat-button-toggle\n        >\n      </mat-button-toggle-group>\n    </div>\n    <app-cyto-graph [cyConfig]="cyConfig"></app-cyto-graph>\n    <div\n      title="Geschwindigkeit der Animation"\n      id="tool6"\n      class="slider-wrapper"\n    >\n      <mat-slider\n        class="example-margin"\n        [max]="5"\n        [min]="1"\n        [step]="1"\n        thumbLabel="Speed"\n        [(ngModel)]="speed"\n        [disabled]="reberString.length < 1 || endState.getValue() === \'start\'"\n        vertical="true"\n      >\n      </mat-slider>\n      <mat-icon aria-hidden="false" aria-label="chevron_right icon"\n      >speed</mat-icon\n      >\n    </div>\n    <div class="error-box" *ngIf="errorState.state === true" [innerHTML]="errorState.hm"></div>\n  </div>\n</section>\n',styles:[".main-content {\n  height: 550px;\n  margin-bottom: 100px;\n}\n\n.left-bar {\n  background-color: blue;\n  height: 100%;\n  width: 20%;\n}\n\n.container {\n  border: 2px solid lightgray;\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  justify-content: center;\n  position: relative;\n}\n\n.example-form {\n  min-width: 150px;\n  max-width: 500px;\n  width: 100%;\n}\n\n.example-full-width {\n  width: 100%;\n}\n\ntable {\n  width: 100%;\n  text-align: center;\n}\n\ntd,\nth {\n  vertical-align: middle;\n}\n\ntr.mat-row {\n  height: 0px !important;\n}\n\ntr:nth-child(even) {\n  background-color: rgba(238, 240, 253, 0.84);\n}\n\n.headline {\n  margin-bottom: 5rem;\n}\n\n.button-group {\n  align-self: flex-end;\n  z-index: 100;\n}\n\n.slider-wrapper {\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.cy-wrapper {\n  display: none;\n  background: whitesmoke;\n  width: 700px;\n  height: 300px;\n  border: 1px solid black;\n}\n\n.overlay {\n  border: 1px solid #3f51b5;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  padding: 5px;\n}\n\n.action-button {\n  margin-left: 12px;\n}\n\n.green {\n  color: green;\n}\n\n.red {\n  color: red;\n}\n\ntr.active {\n  border: 2px dashed #ff4081;\n}\n\ntr.active:last-child {\n  border: 3px dashed green;\n}\n\nth,\ntd {\n  padding: 0 !important;\n  width: 33%;\n}\n\nth:nth-child(2),\ntd:nth-child(2) {\n  border-right: 1px solid lightgray;\n}\n\ntr.active::after {\n  content: attr(data-after-content);\n  background-color: #ff4081;\n  margin-left: -16px;\n  margin-top: 0.3px;\n  width: 19px;\n  height: 19px;\n  position: absolute;\n  font-size: 12px;\n  color: white;\n}\n\ntr:last-child.active::after {\n  content: attr(data-after-content);\n  background-color: green;\n  margin-left: -16px;\n  margin-top: 0.3px;\n  width: 19px;\n  height: 19px;\n  position: absolute;\n  font-size: 12px;\n  color: white;\n}\n\n.error-box {\n  position: absolute;\n  bottom: -50px;\n  left: 0;\n  border: 1px solid red;\n  background-color: lightgoldenrodyellow;\n  padding: 7px;\n}"]})],sI);var oI=n("JAaw");const aI={boxSelectionEnabled:!1,autounselectify:!0,layout:{name:"dagre",nodeDimensionsIncludeLabels:!0},style:[{selector:"node",style:{label:"data(label)","background-color":"white","text-valign":"center",width:"30px",height:"30px","text-halign":"center","border-color":"black","border-opacity":"1","border-width":"1"}},{selector:"edge",style:{width:4,"target-arrow-shape":"triangle",padding:"50px","line-color":"#9dbaea","target-arrow-color":"#9dbaea","curve-style":"bezier"}}],elements:{nodes:[{data:{id:"nx",label:"A"}},{data:{id:"n0",label:"A"}},{data:{id:"n1",label:"A"}},{data:{id:"n2",label:"A"}},{data:{id:"n3",label:"A"}},{data:{id:"n4",label:"A"}},{data:{id:"n5",label:"A"}}],edges:[{data:{source:"nx",target:"n0"}},{data:{source:"n0",target:"n1"}},{data:{source:"n0",target:"n2"}},{data:{source:"n2",target:"n3"}},{data:{source:"n2",target:"n4"}},{data:{source:"n2",target:"n5"}}]}};let lI=class{constructor(){this.previousElements=[],this.lastNode=null,this.errorSate=new Ov.a({state:!1,msg:""})}setInstance(e){this.cy=e}resetAnimation(){for(const e of this.cy.edges().toArray()){const t=e.connectedNodes().toArray(),n=t[0]&&t[0],r=t[1]?t[1]:t[0];"start"!==n.id()&&n.style({lineColor:"black",color:"black","border-width":"1px","border-color":"black"}),r.style({lineColor:"black","border-width":"1px",color:"black","border-color":"black"}),e.style({lineColor:"#ccc",opacity:1,width:"3px",color:"black","border-color":"black"})}this.errorSate.next({state:!1,msg:""})}animateStep(e,t=1e3){if(t/=15,"error"!==e){this.errorSate.next({state:!1,msg:""});for(const n of this.cy.edges().toArray()){const r=n.connectedNodes().toArray(),i=r[0]&&r[0],s=r[1]?r[1]:r[0];i.id()+n.data("label")+s.id()!==e&&setTimeout(()=>{"start"!==i.id()&&i.style({lineColor:"black",color:"black","border-width":"1px","border-color":"black"}),s.style({lineColor:"black","border-width":"1px",color:"black","border-color":"black"}),n.style({lineColor:"#ccc",opacity:1,width:"3px",color:"black","border-color":"black"})},t/1.5),setTimeout(()=>{i.id()+n.data("label")+s.id()===e&&(i.animate({style:{lineColor:"#3f51b5",color:"#3f51b5","border-color":"#3f51b5"}}),this.previousElements.push(i))},t/3),setTimeout(()=>{i.id()+n.data("label")+s.id()===e&&(n.animate({style:{lineColor:"#3f51b5",width:"4px",color:"#3f51b5","border-color":"#3f51b5"}}),this.previousElements.push(n))},2*t/3),setTimeout(()=>{i.id()+n.data("label")+s.id()===e&&("8"===s.id()?s.animate({style:{lineColor:"green","border-width":"4px",color:"green","border-color":"green"}}):(this.lastNode=s,s.animate({style:{lineColor:"#ff4081","border-width":"4px",color:"#ff4081","border-color":"#ff4081"}})),this.previousElements.push(s))},+t)}}else{const e=this.lastNode.connectedEdges(`edge[source = "${this.lastNode.id()}"]`).toArray();console.log(e),this.lastNode.animate({style:{lineColor:"red","border-width":"5px",color:"red","border-color":"red"}}),e[0].style({lineColor:"green",opacity:.2,width:"3px",color:"black","border-color":"black"}),e[1].style({lineColor:"green",width:"3px",opacity:.2,color:"black","border-color":"black"}),this.errorSate.next({state:!0,msg:`Nur die Uebergaenge <span class="green">${e[0].data("label")}</span> und <span class="green">${e[1].data("label")}</span> sind definiert.`})}}};lI.ctorParameters=()=>[],lI=Tv([Object(i.F)({providedIn:"root"})],lI);let cI=class{constructor(){this.rules=[],this.animatedRulesStream=new Wv.a,this.speed=new Ov.a(2),this.state=new Ov.a("stop"),this.currentIndex=-1,this.speed.subscribe(e=>{this.timer=sD(lD[e])})}init(e){this.rules=e}onPlay(){this.speed.pipe(Object(Yv.a)(e=>sD(lD[e])),pE(()=>"start"===this.state.value),_y(e=>{})).subscribe(()=>{setTimeout(()=>{this.currentIndex===this.rules.length-1?this.onEnd():this.onNext()})}),this.state.next("start")}onPause(){this.state.next("stop")}onReset(){this.currentIndex=-1,this.state.next("stop"),this.animatedRulesStream.next([])}onNext(){this.currentIndex<this.rules.length-1&&this.currentIndex++,-1===this.currentIndex&&this.currentIndex++,this.animatedRulesStream.next(this.rules.slice(0,this.currentIndex+1))}onPrevious(){this.currentIndex>-1&&this.currentIndex--,this.animatedRulesStream.next(this.rules.slice(0,this.currentIndex+1))}onBegin(){this.onReset()}onEnd(){this.state.next("stop"),this.animatedRulesStream.next(this.rules),this.currentIndex=this.rules.length-1}};cI.ctorParameters=()=>[],cI=Tv([Object(i.F)({providedIn:"root"})],cI);const uI=["","2","3"].map(e=>XC(`onVisible${e}`,[eS(":enter",[YC("{{speed1}}s 0s ease-in-out",JC([ZC({transform:"translateY(-30%)",color:"black",opacity:0}),ZC({transform:"translateY(0%)",color:"black",opacity:1})])),YC("{{speed2}}s 0s ease-in-out",JC([ZC({color:"blue","font-weight":"bold"}),ZC({color:"black","font-weight":"normal"})]))]),eS(":leave",[YC("0.2s 0s ease-out",JC([ZC({transform:"translateY(0%)",opacity:1}),ZC({transform:"translateY(-30%)",opacity:0})]))])])),hI={steps:[{element:"#tool0",intro:"\n        <p><b>Starte Tour!:</b> Startet eine Tour</p>\n        <p><b>Dokumentation:</b> Externer Link zur Dokumentation</p>\n          ",position:"left"},{element:"#tool1",intro:"\n        <p><b>Generiere korrekten Ausdruck:</b> Erzeugt ein zuf&auml;lligen richtigen Ausdruck</p>\n        <p><b>Generiere falschen Ausdruck:</b> Erzeugt ein zuf&auml;lligen falschen Ausdruck</p>\n          ",position:"left"},{element:"#tool2",intro:"<p><b>Eingabe:</b> Manuelle Eingabe des Strings</p><p><b>Auswertung:</b> Auswertung des Ausdrucks (automatisch). Erscheint erst nach Eingabe!</p>",position:"left"},{element:"#tool3",intro:"Zeigt das 4-Tuple an mit: G = Grammatik, V = Nicht-Terminalzeichen, \u03a3 = Terminalzeichen, R = Regeln",position:"right"},{element:"#tool4",intro:"Animation der Ableitungen. Text kann markiert und kopiert werden. Zudem kann auch hier ein Ausdruck erzeugt werden. Bei falscher Eingabe wird der reverse Modus angezeigt",position:"right"},{element:"#tool5",intro:"Steuerung der Animation (zum start, ein schritt zurueck, abspielen, pause, ein schritt nach vor, zum Ende)",position:"right"},{element:"#tool6",intro:"Einstellung der Animationsgeschwindigkeit",position:"right"}],showBullets:!0,showButtons:!0,exitOnOverlayClick:!1,keyboardNavigation:!0,nextLabel:"Weiter",prevLabel:"Zur&uuml;ck",doneLabel:"Fertig"};let dI=class{constructor(e,t){this.grammarGraphService=e,this.grammerService=t,this.modes=["Ableitung","Ableitungsbaum (falls Zeit bleibt)"],this.mode="Ableitung",this.code="\n  G = ( V, \u03a3, R, A ):\n\n  V = { A, O, Z },\n  \u03a3 = { 0 ... 9, +, -, \u2217, /, (, ) },\n  R = {\n\n      A \u2192 A O A | ( A ) | Z ,\n\n      O \u2192 * | + | - | / ,\n\n      Z \u2192 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9\n\n  }.\n",this.expressionGrammar=new oI.a(""),this.state="stop",this.SPEED=lD,this.speed=2,this.rules=[]}ngOnInit(){this.grammerService.state.subscribe(e=>{this.state=e})}ngAfterViewInit(){this.grammerService.animatedRulesStream.subscribe(e=>{if(this.rules=e,this.listElement){const e=this.listElement.nativeElement,t=e.parentNode,n=e.children;t.scrollTop=n[n.length-1].offsetTop-20}})}ngOnSpeedChange(e){this.grammerService.speed.next(e),this.speed=e}generateExpression(e=!0){e?(this.expressionGrammar.generateCorrectExpression(),this.cyConfig=aI):this.expressionGrammar.generateWrongExpression(),this.grammerService.init(this.expressionGrammar.ruleSet),this.onBegin()}startTour(){tD().setOptions(hI).start()}onNext(e=!1){this.grammerService.onNext()}onPrevious(){this.grammerService.onPrevious()}onBegin(){this.grammerService.onBegin()}onEnd(){this.grammerService.onEnd()}onStop(){this.grammerService.onReset()}onPlay(){"start"!==this.state&&this.grammerService.onPlay()}onReset(){this.grammerService.onReset()}onPause(){this.grammerService.onPause()}onManualExpressionChange(e){this.grammerService.onReset(),this.expressionGrammar.Expression=e,this.grammerService.init(this.expressionGrammar.ruleSet)}};dI.ctorParameters=()=>[{type:lI},{type:cI}],dI.propDecorators={listElement:[{type:i.ob,args:["listElement"]}]},dI=Tv([Object(i.n)({selector:"app-grammar",template:'<h3 class="title is-3 has-text-centered">Grammatik (Mathematische Ausdr\xfccke)</h3>\n<nav class="level">\n  <div id="tool1" class="level-left">\n    Ausdruck erzeugen:\n    <button\n      class="action-button success"\n      mat-raised-button\n      (click)="generateExpression()"\n    >\n      <mat-icon class="button-icon" aria-hidden="false" aria-label="chevron_left icon"\n      >repeat</mat-icon>\n      Korrekt\n    </button>\n    <button\n      class="action-button"\n      mat-raised-button\n      color="warn"\n      (click)="generateExpression(false)"\n    >\n      <mat-icon class="button-icon" aria-hidden="false" aria-label="chevron_left icon"\n      >repeat</mat-icon>\n      Falsch\n    </button>\n  </div>\n  <div id="tool0" class="level-right">\n    <a\n      href="https://hnaoufal.github.io/beuth/assets/docs/index.html"\n      target="_blank"\n      class="action-button"\n      mat-button\n      color="primary"\n    >Dokumentation</a\n    >\n    <button\n      class="action-button"\n      mat-button\n      color="primary"\n      (click)="startTour()"\n    >\n      Tour starten!\n    </button>\n  </div>\n</nav>\n<section class="main-content columns is-fullheight">\n  <aside class="column is-5 is-narrow-mobile is-fullheight is-hidden-mobile">\n    <form id="tool2" class="input-form">\n      <div class="columns">\n        <div class="column is-7">\n          <mat-form-field class="example-full-width">\n            <mat-label>Manuelle Eingabe des Ausdrucks</mat-label>\n            <input\n              matInput\n              placeholder="Bsp. (1 * 2) + 3 - 5 + (6 * 3)"\n              name="reber-string"\n              [(ngModel)]="expressionGrammar.Expression"\n              (ngModelChange)="onManualExpressionChange($event)"\n            />\n          </mat-form-field>\n        </div>\n        <div *ngIf="expressionGrammar.Expression.length > 0" [ngClass]="{correct: expressionGrammar.value || expressionGrammar.value === 0 || expressionGrammar.value === \'infinity\' }" class="column is-5 auswertung">\n          <span>Auswertung:</span>\n          <mat-icon aria-hidden="false" aria-label="chevron_left icon"\n          >{{(expressionGrammar.value || expressionGrammar.value === 0 || expressionGrammar.value === \'infinity\') ? \'check\' : \'warning\'}}</mat-icon> <span class="ellipsis">( = {{(expressionGrammar.value || expressionGrammar.value ===0 || expressionGrammar.value === \'infinity\') ? expressionGrammar.value : \'Falsch\' }}</span>)\n        </div>\n      </div>\n      <div class="columns">\n        <div class="column">\n          <label class="radio-label" id="example-radio-group-label">Animationsmodus:</label>\n          <mat-radio-group\n            name="mode"\n            aria-labelledby="example-radio-group-label"\n            class="radio-button-group"\n            [(ngModel)]="mode">\n            <mat-radio-button class="radio-button" *ngFor="let sMode of modes" [value]="sMode" [disabled]="sMode !== \'Ableitung\'">\n              {{sMode}}\n            </mat-radio-button>\n          </mat-radio-group>\n        </div>\n      </div>\n    </form>\n    <div id="tool3" class="columns">\n      <div class="column">\n        <p>Grammatik:</p>\n        <code class="code code-black" [innerHTML]="code"></code>\n      </div>\n    </div>\n  </aside>\n  <div id="tool4" class="container column is-7" [ngClass]="{error: !(expressionGrammar.value || expressionGrammar.value === 0 || expressionGrammar.value === \'infinity\') && expressionGrammar.Expression.length > 0}">\n    <div *ngIf="(!(expressionGrammar.value || expressionGrammar.value === 0 || expressionGrammar.value === \'infinity\') && expressionGrammar.Expression.length > 0)" class="columns">\n      <div class="column error-exp-help">\n        Reverser Modus:\n      </div>\n    </div>\n    <div *ngIf="expressionGrammar.Expression.length > 0" class="columns">\n      <div class="column is-4"><code>R: {{ rules.length === 0 ? \'Start\' : rules[rules.length -1].rule }} ({{ rules.length }}) </code></div>\n      <div class="column is-8"><span class="exp-int">{{ rules.length === 0 ? expressionGrammar.Valid ? \'A\' : expressionGrammar.Expression : rules[rules.length -1].prevExp}}</span></div>\n    </div>\n    <div *ngIf="expressionGrammar.Expression.length === 0" class="no-exp-containter">\n      <div>\n        <mat-icon class="info-icon" aria-hidden="false" aria-label="chevron_left icon"\n        >info</mat-icon>\n        <h3>Noch keine Ausdruck erzeugt. Bitte zuerst ein Ausdruck automatisch generieren (<span>\n    <button\n      class="action-button success basic"\n      mat-button\n      (click)="generateExpression()"\n    >\n      <mat-icon class="button-icon" aria-hidden="false" aria-label="chevron_left icon">\n        add\n      </mat-icon>Korrekt</button></span>,\n      <span><button class="action-button" mat-button color="warn" (click)="generateExpression(false)">\n      <mat-icon class="button-icon" aria-hidden="false" aria-label="chevron_left icon">\n        add\n      </mat-icon>Falsch</button></span>) oder eine manuelle Eingabe t\xe4tigen.</h3>\n      </div>\n    </div>\n    <div *ngIf="expressionGrammar.Expression.length > 0 && mode === \'Ableitung\'" class="ableitungsliste">\n      <div class="table-container" #listElement>\n          <div class="col">Start</div>\n          <div class="col-w">Regel</div>\n          <div class="col">Resultat</div>\n        <ng-container *ngIf="rules.length === 0">\n          <div class="col"> {{ expressionGrammar.value || expressionGrammar.value === 0 || expressionGrammar.value === \'infinity\' ? \'A\' : expressionGrammar.ruleSet.length === 0 ? \'Keine Regel anwendbar: " \' +  expressionGrammar.Expression + \' " kann nicht weiter reduziert werden\' : \'Falscher Ausdruck! Reverse Herleitung animieren\' }}</div>\n          <div class="col-w"></div>\n          <div class="col"></div>\n        </ng-container>\n        <ng-container *ngFor="let exp of rules; let i=index" class="row">\n          <div [@onVisible]="{ value: true, params: { speed1: 0.2, speed2: speed / 2 }}" class="col" [attr.data-scroll]="i">{{ exp.afterExp }}</div>\n          <div [@onVisible2]="{ value: true, params: { speed1: 0.2, speed2: speed / 2 }}"  class="col-w animate-step-2">: {{ exp.rule }}</div>\n          <div [@onVisible3]="{ value: true, params: { speed1: 0.2, speed2: speed / 2 }}"  class="col animate-step-3">\u21d2 {{exp.prevExp }}</div>\n        </ng-container>\n      </div>\n    </div>\n    <div *ngIf="expressionGrammar.Expression.length > 0 && mode === \'Ableitungsbaum\'" class="ableitungsbaum">\n      <app-cyto-graph [cyConfig]="cyConfig"></app-cyto-graph>\n    </div>\n  </div>\n</section>\n<div class="columns is-centered">\n  <div class="column control-wrapper is-5">\n    <div class="button-group">\n      <mat-button-toggle-group id="tool5" name="fontStyle" aria-label="Font Style">\n        <mat-button-toggle\n          title="anfang"\n          value="bold"\n          [disabled]="expressionGrammar.Expression.length < 1 || state === \'start\' || expressionGrammar.ruleSet.length === 0"\n          (click)="onBegin()"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >first_page</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Zurueck"\n          value="bold"\n          [disabled]="expressionGrammar.Expression.length < 1 || state === \'start\' || expressionGrammar.ruleSet.length === 0"\n          (click)="onPrevious()"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >chevron_left</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Abspielen"\n          [disabled]="expressionGrammar.Expression.length < 1 || state === \'start\' || rules.length === expressionGrammar.ruleSet.length"\n          (click)="onPlay()"\n          value="bold"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >play_circle_filled</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Pause"\n          value="bold"\n          (click)="onPause()"\n          [disabled]="state === \'stop\'"\n        ><mat-icon aria-hidden="false" aria-label="chevron_left icon"\n        >pause_circle_filled</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Vor"\n          value="underline"\n          [disabled]="expressionGrammar.Expression.length < 1 || state === \'start\'"\n          (click)="onNext()"\n        ><mat-icon aria-hidden="false" aria-label="chevron_right icon"\n        >chevron_right</mat-icon\n        ></mat-button-toggle\n        >\n        <mat-button-toggle\n          title="Ende"\n          value="underline"\n          [disabled]="expressionGrammar.Expression.length < 1 || state === \'start\'"\n          (click)="onEnd()"\n        ><mat-icon aria-hidden="false" aria-label="chevron_right icon"\n        >last_page</mat-icon\n        ></mat-button-toggle\n        >\n      </mat-button-toggle-group>\n      <div\n        title="Geschwindigkeit der Animation"\n        id="tool6"\n        class="slider-wrapper"\n      >\n        <mat-icon aria-hidden="false" aria-label="chevron_right icon">speed</mat-icon>\n        <mat-slider\n          class="example-margin"\n          [max]="5"\n          [min]="1"\n          [step]="1"\n          thumbLabel="Speed"\n          [(ngModel)]="speed"\n          (ngModelChange)="ngOnSpeedChange($event)"\n        >\n        </mat-slider>\n      </div>\n    </div>\n  </div>\n</div>\n',animations:uI,styles:[".main-content {\n  height: 480px;\n}\n\n.left-bar {\n  background-color: blue;\n  height: 100%;\n  width: 20%;\n}\n\n.container {\n  border-left: 2px solid lightgray;\n}\n\n.example-form {\n  min-width: 150px;\n  max-width: 500px;\n  width: 100%;\n}\n\n.example-full-width {\n  width: 100%;\n}\n\ntable {\n  width: 100%;\n  text-align: center;\n}\n\ntd,\nth {\n  vertical-align: middle;\n}\n\ntr.mat-row {\n  height: 0px !important;\n}\n\ntr:nth-child(even) {\n  background-color: rgba(238, 240, 253, 0.84);\n}\n\n.headline {\n  margin-bottom: 5rem;\n}\n\n.slider-wrapper {\n  display: inline-flex;\n  align-items: center;\n  margin-left: 1rem;\n}\n\n.cy-wrapper {\n  display: none;\n  background: whitesmoke;\n  width: 700px;\n  height: 300px;\n  border: 1px solid black;\n}\n\n.overlay {\n  border: 1px solid #3f51b5;\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  padding: 5px;\n}\n\n.action-button {\n  margin-left: 12px;\n}\n\n.green {\n  color: green;\n}\n\n.red {\n  color: red;\n}\n\ntr.active {\n  border: 2px dashed #ff4081;\n}\n\ntr.active:last-child {\n  border: 3px dashed green;\n}\n\nth,\ntd {\n  padding: 0 !important;\n  width: 33%;\n}\n\nth:nth-child(2),\ntd:nth-child(2) {\n  border-right: 1px solid lightgray;\n}\n\ntr.active::after {\n  content: attr(data-after-content);\n  background-color: #ff4081;\n  margin-left: -16px;\n  margin-top: 0.3px;\n  width: 19px;\n  height: 19px;\n  position: absolute;\n  font-size: 12px;\n  color: white;\n}\n\ntr:last-child.active::after {\n  content: attr(data-after-content);\n  background-color: green;\n  margin-left: -16px;\n  margin-top: 0.3px;\n  width: 19px;\n  height: 19px;\n  position: absolute;\n  font-size: 12px;\n  color: white;\n}\n\n.error-box {\n  position: absolute;\n  bottom: -50px;\n  left: 0;\n  border: 1px solid red;\n  background-color: lightgoldenrodyellow;\n  padding: 7px;\n}\n\n.button-group {\n  display: flex;\n}\n\n.control-wrapper {\n  display: flex;\n  justify-content: center;\n}\n\n.button-icon {\n  transform: scale(0.8);\n}\n\n.success {\n  background-color: #00796B;\n  color: white;\n}\n\n.success.basic {\n  background-color: white;\n  color: #00796B;\n}\n\n.auswertung {\n  display: inline-flex;\n  align-items: center;\n  color: red;\n}\n\n.ellipsis {\n  white-space: nowrap;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.mat-radio-button {\n  margin-left: 16px;\n}\n\ncode {\n  display: block;\n  white-space: pre-wrap;\n  font-size: 1rem;\n  color: #3f51b5;\n}\n\ncode.code-black {\n  color: black;\n}\n\n.e1 {\n  color: blue;\n}\n\n.no-exp-containter {\n  text-align: center;\n  color: rgba(128, 128, 128, 0.71);\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.no-exp-containter .info-icon {\n  transform: scale(7);\n  margin-bottom: 100px;\n  color: rgba(251, 192, 45, 0.44);\n}\n\n.no-exp-containter h3 {\n  font-size: 26px;\n}\n\n.exp-int {\n  text-align: center;\n  background-color: rgba(211, 211, 211, 0.22);\n  display: flex;\n  justify-content: center;\n  font-size: 1.2rem;\n  padding: 5px;\n}\n\n.correct {\n  color: green;\n}\n\n.ableitungsliste {\n  overflow-y: scroll;\n  height: calc(100% - 100px);\n}\n\n.table-container {\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 0 3em 0;\n  padding: 0;\n}\n\n.table-container div:nth-last-child(-n+3) {\n  color: green;\n}\n\n.error .table-container div:nth-last-child(-n+3) {\n  color: red;\n}\n\n.table-container div:nth-child(-n+3) {\n  color: black;\n}\n\n.col {\n  box-sizing: border-box;\n  flex-grow: 1;\n  padding: 0.8em 1.2em;\n  overflow: hidden;\n  width: 33.33%;\n}\n\n.col-w {\n  box-sizing: border-box;\n  flex-grow: 1;\n  padding: 0.8em 1.2em;\n  overflow: hidden;\n  width: 106px;\n}\n\n.error-exp-help {\n  transform: translate(11px);\n  border: 2px solid red;\n  background-color: wheat;\n  padding: 8px;\n  max-width: 130px;\n}"]})],dI);const pI={steps:[{element:"#tool0",intro:"\n        <p><b>Generiere korrektes Reber-Wort:</b> Erzeugt durch die DEA ein zufaelliges Wort, welches ein Reber Wort ist</p>\n        <p><b>Generiere falsches Reber-Wort:</b> Erzeugt durch die DEA ein zufaelliges Wort, welches KEIN Reber Wort ist</p>\n        <p><b>Tech-Stack:</b> Zeigt die Tools an, womit diese Seite implementiert wurde</p>\n        <p><b>Theorie:</b> Wiki Artikel zu dem Thema DEA</p>\n        <p><b>Starte Tour!:</b> Startet eine Tour</p>\n          ",position:"left"},{element:"#tool1",intro:"<p><b>Eingabe:</b> Manuelle Eingabe des Strings</p><p><b>Ausgabe:</b> Auswertung des Wortes (automatisch)</p>",position:"left"},{element:"#tool2",intro:"Die Tabelle zeigt die Zustaende und das Eingabealphabet in Zusammenhang mit der \xdcbergangsfunktion. Beim Ausfuehren des Codes, werden die Zeilen markiert",position:"right"},{element:"#tool3",intro:"Canvas man kann intuitiv durch gedrueckt halten und bewegen, oder mit scroll sowohl zoomen, als auch den Graphen bewegen. Beim starten der Animation, werden die Zustaende animiert",position:"right"},{element:"#tool4",intro:"Zeigt die Zustandsmenge (Q), das Eingabealphabet (E) und die Finalzustaende (F) an",position:"right"},{element:"#tool5",intro:"Steuerung der Animation (zum start, ein schritt zurueck, abspielen, pause, ein schritt nach vor, zum Ende)",position:"right"},{element:"#tool6",intro:"Einstellung der Animationsgeschwindigkeit",position:"right"}],showBullets:!0,showButtons:!0,exitOnOverlayClick:!1,keyboardNavigation:!0},fI=[{q:"q0",e:"\u0190",s:"\u0190",p:"{(q1, $)}",id:"q0_q1"},{q:"q1",e:"(",s:"\u0190",p:"{(q2, X)}",id:"q1_q2"},{q:"q1",e:"\u0190",s:"\u0190",p:"{(q3, \u0190)}",id:"q1_q3"},{q:"q2",e:"(",s:"\u0190",p:"{(q2, X)}",id:"q2_q2"},{q:"q2",e:"Z",s:"\u0190",p:"{(q4, \u0190)}",id:"q2_q4"},{q:"q4",e:")",s:"X",p:"{(q4, \u0190)}",id:"q4_q4"},{q:"q4",e:"\u0190",s:"$",p:"{(q6, \u0190)}",id:"q4_q6"},{q:"q4",e:"O",s:"\u0190",p:"{(q3, \u0190)}",id:"q4_q3"},{q:"q3",e:"Z",s:"\u0190",p:"{(q5, \u0190)}",id:"q3_q5"},{q:"q3",e:"(",s:"\u0190",p:"{(q2, X)}",id:"q3_q2"},{q:"q5",e:"\u0190",s:"$",p:"{(q6, \u0190)}",id:"q5_q6"},{q:"q5",e:")",s:"X",p:"{(q4, \u0190)}",id:"q5_q4"},{q:"q5",e:"O",s:"\u0190",p:"{(q3, \u0190)}",id:"q5_q3"}],gI={elements:{nodes:[{data:{id:"start"},position:{x:-670,y:50},classes:"inv"},{data:{id:"q0"},position:{x:-600,y:50}},{data:{id:"q1"},position:{x:-470,y:50}},{data:{id:"q2"},position:{x:-350,y:200}},{data:{id:"q3"},position:{x:-350,y:-100}},{data:{id:"q4"},position:{x:-100,y:200}},{data:{id:"q5"},position:{x:-100,y:-100}},{data:{id:"q6"},position:{x:50,y:50},classes:"double"}],edges:[{data:{id:"q0_q1",source:"q0",target:"q1",label:"\u0190, \u0190 \u2192 $"}},{data:{id:"q1_q2",source:"q1",target:"q2",label:"(, \u0190 \u2192 X"}},{data:{id:"q1_q3",source:"q1",target:"q3",label:"\u0190, \u0190 \u2192 \u0190"}},{data:{id:"q2_q4",source:"q2",target:"q4",label:"Z, \u0190 \u2192 \u0190"}},{data:{id:"q4_q3",source:"q4",target:"q3",label:"O, \u0190 \u2192 \u0190"}},{data:{id:"q5_q3",source:"q5",target:"q3",label:"O, \u0190 \u2192 \u0190"}},{data:{id:"q5_q4",source:"q5",target:"q4",label:"), X \u2192 \u0190"}},{data:{id:"q3_q5",source:"q3",target:"q5",label:"Z, \u0190 \u2192 \u0190"}},{data:{id:"q3_q2",source:"q3",target:"q2",label:"(, \u0190 \u2192 X"}},{data:{id:"q4_q6",source:"q4",target:"q6",label:"\u0190, $ \u2192 \u0190"}},{data:{id:"q5_q6",source:"q5",target:"q6",label:"\u0190, $ \u2192 \u0190"}},{data:{id:"start_q0",source:"start",target:"q0",label:""}},{data:{id:"q4_q4",source:"q4",target:"q4",type:"loop",flipLabel:!0,label:"), X \u2192 \u0190"},classes:"loop2"},{data:{id:"q2_q2",source:"q2",target:"q2",type:"loop",flipLabel:!0,label:"(, \u0190 \u2192 X"},classes:"loop"}]},style:[{selector:"node",style:{"background-color":"#fff",color:"#000",label:"data(id)","font-size":"14px","text-valign":"center",width:"38px",height:"38px","text-halign":"center","border-color":"black","border-opacity":"1","border-width":"1"}},{selector:"edge",style:{width:3,"line-color":"#ccc","font-size":"13px",color:"#000","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier","control-point-step-size":62,label:"data(label)","text-background-color":"white","text-background-opacity":"1","text-background-shape":"rectangle","text-background-padding":"3px"}},{selector:".double",style:{"border-color":"#000","border-opacity":"1","border-style":"double","border-width":"3"}},{selector:".inv",style:{"background-color":"#fff","line-color":"#ccc",width:"1px","font-size":"0px",color:"#fff","border-color":"white","border-opacity":"0"}},{selector:".loop2",style:{"loop-direction":"130deg","loop-sweep":"-100deg","control-point-step-size":62,"target-endpoint":"outside-to-line","source-endpoint":"outside-to-line"}},{selector:".loop",style:{"loop-direction":"-130deg","loop-sweep":"90deg","control-point-step-size":62,"target-endpoint":"outside-to-line","source-endpoint":"outside-to-line"}}],layout:{name:"preset",padding:5,animate:!1,fit:!0,center:!0},autoungrabify:!0,center:!0,fit:!0,autolock:!0,userPanningEnabled:!1};let mI=class{constructor(){this.lastNode=null,this.errorSate=new Ov.a({state:!1,msg:""})}setInstance(e){this.cy=e}resetAnimation(){for(const e of this.cy.edges().toArray()){const t=e.connectedNodes().toArray(),n=t[0]&&t[0],r=t[1]?t[1]:t[0];n.stop(),r.stop(),e.stop(),"start"!==n.id()&&n.style({lineColor:"black",color:"black","border-width":"1px","border-color":"black"}),"q6"!==r.id()?r.style({lineColor:"black","border-width":"1px",color:"black","border-color":"black"}):r.style({lineColor:"black","border-width":"3",color:"black","border-color":"black"}),e.style({lineColor:"#ccc",opacity:1,width:"3px",color:"black","border-color":"black"})}this.errorSate.next({state:!1,msg:""})}animateStep(e,t=1e3){const n=this.cy.nodes("#"+e.source),r=this.cy.nodes("#"+e.target),i=this.cy.edges("#"+e.source+"_"+e.target);if(e.error)return this.lastNode.animate({style:{lineColor:"red",color:"red","border-color":"red"}},{duration:t/3}),this.errorSate.next({state:!0,msg:"Folgendes ist erlaubt: "+e.correct.filter(e=>"*"!==e).join(" und ")});this.resetAnimation(),n.animate({style:{lineColor:"#3f51b5",color:"#3f51b5","border-color":"#3f51b5"}},{duration:t/3}),i.animate({style:{lineColor:"#3f51b5",color:"#3f51b5","border-color":"#3f51b5"}},{durtation:2*t/3}),r.animate({style:{lineColor:"#10aa5a","border-width":"4px",color:"#10aa5a","border-color":"#10aa5a"}},{duration:3*t/4}),this.lastNode=r}};mI.ctorParameters=()=>[],mI=Tv([Object(i.F)({providedIn:"root"})],mI);let vI=class{constructor(){this.kellerXStates=gI.elements.edges.reduce((e,t)=>{var n;return e[t.data.source]={on:Object.assign(Object.assign({[t.data.label]:t.data.target},null===(n=e[t.data.source])||void 0===n?void 0:n.on),{"*":7})},e},{q6:{type:"final"},7:{type:"final"}})}genFSM(e,t){return XO(e).onTransition(t).start()}createKellerMachine(){return tI({id:"keller-graph",initial:"q0",history:!0,states:this.kellerXStates})}genKellerExpConstruct(e){const t=this.createKellerMachine(),n=e.replace(/ /g,""),r=[{source:"q0",trans:Object.keys(this.kellerXStates.q0.on)[0],target:Object.values(this.kellerXStates.q0.on)[0],stack:["$"]}];let i="q1",s=t.transition(i,Object.keys(this.kellerXStates.q0.on)[0]);for(let u=0;u<n.length;u++){const e=Object.keys(this.kellerXStates[s.value.toString()].on),c=s.value,h=e.map(e=>e.split(",")[0]).filter(e=>"*"!==e);let d="",p=r[u].stack;const f=(o=n[u],a=void 0,l=void 0,"("===o||")"===o?o:(a=o,["1","2","3","4","5","6","7","8","9","0"].includes(a)?"Z":(l=o,["+","-","*","/"].includes(l)?"O":"")));if(h.includes(f))d=e.find(e=>e.includes(f))||"",s=t.transition(i,d);else if(e.includes("\u0190, \u0190 \u2192 \u0190"))d="\u0190, \u0190 \u2192 \u0190",s=t.transition(i,"\u0190, \u0190 \u2192 \u0190"),--u;else if(!e.includes("\u0190, $ \u2192 \u0190")||1!==p.length||n.length-1!==u)return r.push({source:"error",trans:"",target:"",stack:p,correct:e,error:!0}),r;i=s.value.toString(),d.includes("\u0190 \u2192 X")?p=[...p,"X"]:d.includes("X \u2192 \u0190")&&(p=[...p],p.pop()),r.push({source:c.toString(),trans:s.event.type,target:s.value,stack:p})}var o,a,l;const c=Object.keys(this.kellerXStates[s.value.toString()].on);if(c.includes("\u0190, $ \u2192 \u0190")){const e=t.transition(i,"\u0190, $ \u2192 \u0190");r.push({source:s.value.toString(),trans:e.event.type,target:e.value.toString(),stack:[]})}return r[r.length-1].stack.length>0&&r.push({source:"error",trans:"",target:"",stack:r[r.length-1].stack,correct:c,error:!0}),r}};vI=Tv([Object(i.F)({providedIn:"root"})],vI);let yI=class{constructor(e,t,n,r){this.dialog=e,this.renderer=t,this.kellerService=n,this.kellerGraphService=r,this.displayedColumns=["q","e","s","p"],this.dataSource=fI,this.cyConfig=gI,this.speed=4,this.exprConstruct=[],this.animationObject={current:-1},this.endState=new Ov.a("stop"),this.expressionGrammar=new oI.a(""),this.reberString="",this.ausgabeString="",this.kellerRules="K = ( Q, \u03a3, \u0393, \u03b4, q0, F ) mit:\n  Q = { q0, q1, q2, q3, q4, q5, q6 }\n  \u03a3 = { Z, O, (, ), \u0190 }\n  \u0393 = { \u0190, X }\n  \u03b4 = s. Tabelle\n  F = { q6 }",this.stack=[],this.kellerMachine=this.kellerService.createKellerMachine(),this.kellerGraphService.errorSate.subscribe(e=>{this.expressionGrammar.Expression.replace(/ /g,"");this.errorState=Object.assign(Object.assign({},e),{hm:`Der Ausdruck definiert an dieser Stelle kein g&uuml;ltigen &Uuml;bergang. ${e.msg}`})})}generateExpression(e=!0){this.onStop(),e?this.expressionGrammar.generateCorrectExpression():this.expressionGrammar.generateWrongExpression(),this.exprConstruct=this.kellerService.genKellerExpConstruct(this.expressionGrammar.Expression)}ngOnInit(){}openDialog(){this.dialog.open(eD,cD)}startTour(){tD().setOptions(pI).start()}animateStep(){this.stack=this.exprConstruct[this.animationObject.current].stack,this.kellerGraphService.animateStep(this.exprConstruct[this.animationObject.current],lD[this.speed])}evaluateString(e){this.onStop(),this.expressionGrammar.Expression=e;try{this.exprConstruct=this.kellerService.genKellerExpConstruct(this.expressionGrammar.Expression)}catch(lj){}}onNext(e=!1){this.renderer.removeClass(this.tableMain.nativeElement,"active"),this.animationObject.current<this.exprConstruct.length-1&&this.animationObject.current++,this.animateStep(),this.renderTableRows(),e||this.endState.next("stop")}renderTableRows(){this.matRows.forEach(e=>{const t=this.exprConstruct[this.animationObject.current].trans;"error"!==t&&(t===e.nativeElement.id?this.renderer.addClass(e.nativeElement,"active"):this.renderer.removeClass(e.nativeElement,"active"))})}onPrevious(){if(this.animationObject.current<1)return this.renderer.addClass(this.tableMain.nativeElement,"active"),this.renderer.removeClass(this.matRows.first.nativeElement,"active"),this.kellerGraphService.resetAnimation(),void(-1!==this.animationObject.current&&--this.animationObject.current);--this.animationObject.current,this.animateStep(),this.renderTableRows(),this.endState.next("stop")}onStart(){this.onStop()}onEnd(){this.animationObject.current=this.exprConstruct.length-1,this.renderer.removeClass(this.tableMain.nativeElement,"active"),this.matRows.forEach(e=>{this.renderer.removeClass(e.nativeElement,"active"),this.exprConstruct[this.animationObject.current].trans===e.nativeElement.id?this.renderer.addClass(e.nativeElement,"active"):this.renderer.removeClass(e.nativeElement,"active")}),this.animateStep(),this.endState.next("stop")}onStop(){this._resetAnimationObject(),this.kellerGraphService.resetAnimation(),this.renderer.addClass(this.tableMain.nativeElement,"active"),this.matRows.forEach(e=>{this.renderer.removeClass(e.nativeElement,"active")}),this.endState.next("stop")}onPlay(){if("start"===this.endState.value)return;this.timer=sD(5e3/this.speed);const e=this.timer;this.animationObject.current===this.exprConstruct.length-1&&this.onStop(),this.endState.next("start"),e.pipe(pE(()=>"stop"!==this.endState.value)).subscribe(()=>{this.onNext(!0),this.animationObject.current===this.exprConstruct.length-1&&this.endState.next("stop")})}onPause(){this.endState.next("stop")}ngOnSpeedChange(e){}_resetAnimationObject(){this.animationObject.current=-1}};yI.ctorParameters=()=>[{type:GA},{type:i.ab},{type:vI},{type:mI}],yI.propDecorators={reberString:[{type:i.I}],ausgabeString:[{type:i.I}],matRows:[{type:i.pb,args:["matRows",{read:i.v}]}],tableMain:[{type:i.ob,args:["tableMain",{read:i.v}]}]},yI=Tv([Object(i.n)({selector:"app-keller",template:'<h3 class="title is-3 has-text-centered">Keller-Automat (Mathematischer Ausdruck)</h3>\n<nav class="level">\n  <div class="level-left" id="tool0">\n    Ausdruck erzeugen:\n    <button\n      (click)="generateExpression(true)"\n      class="action-button success"\n      mat-raised-button\n    >\n      <mat-icon aria-hidden="false" aria-label="chevron_left icon" class="button-icon"\n      >repeat\n      </mat-icon>\n      Korrekt\n    </button>\n    <button\n      (click)="generateExpression(false)"\n      class="action-button success"\n      class="action-button"\n      color="warn"\n      mat-raised-button\n    >\n      <mat-icon aria-hidden="false" aria-label="chevron_left icon" class="button-icon"\n      >repeat\n      </mat-icon>\n      Falsch\n    </button>\n  </div>\n  <div class="level-right">\n    <a\n      class="action-button"\n      color="primary"\n      href="https://hnaoufal.github.io/beuth/assets/docs/index.html"\n      mat-button\n      target="_blank"\n    >Dokumentation</a\n    >\n    <button\n      (click)="startTour()"\n      class="action-button"\n      color="primary"\n      mat-button\n    >\n      Tour starten!\n    </button>\n  </div>\n</nav>\n<section class="main-content columns is-fullheight">\n  <aside class="column is-3 is-narrow-mobile is-fullheight is-hidden-mobile">\n    <div class="columns">\n      <div class="column is-9">\n        <form class="example-form" id="tool1">\n          <mat-form-field class="example-full-width">\n            <mat-label>Manuelle Eingabe</mat-label>\n            <input\n              [(ngModel)]="expressionGrammar.Expression"\n              (ngModelChange)="evaluateString($event)"\n              matInput\n              name="expression-string"\n              placeholder="z.B. 4 + 3"\n            />\n          </mat-form-field>\n        </form>\n      </div>\n      <div *ngIf="expressionGrammar.Expression.length > 0" [ngClass]="{ correct: expressionGrammar.Valid }"\n           class="column auswertung">\n        {{ expressionGrammar.Valid ? \'OK\' : \'Falsch\' }}\n      </div>\n    </div>\n    <table\n      #tableMain\n      [dataSource]="dataSource"\n      class="mat-elevation-z8"\n      id="tool2"\n      mat-table\n    >\n      <caption>\n        <p class="menu-label has-text-left">\n          &Uuml;bertragungsfunktionen:\n        </p>\n      </caption>\n      <ng-container matColumnDef="q">\n        <th *matHeaderCellDef mat-header-cell>Q</th>\n        <td *matCellDef="let element" [ngSwitch]="element.q" mat-cell>\n          <ng-container *ngSwitchCase="\'q0\'">\n            {{ "&#8594; q0" }}\n          </ng-container>\n          <ng-container *ngSwitchCase="\'q7\'">\n            {{ "* q7" }}\n          </ng-container>\n          <ng-container *ngSwitchDefault>\n            {{ element.q }}\n          </ng-container>\n        </td>\n      </ng-container>\n      <ng-container matColumnDef="e">\n        <th *matHeaderCellDef mat-header-cell>\u03a3e</th>\n        <td *matCellDef="let element" mat-cell>{{ element.e }}</td>\n      </ng-container>\n      <ng-container matColumnDef="s">\n        <th *matHeaderCellDef mat-header-cell>\u0393e</th>\n        <td *matCellDef="let element" mat-cell>\n          {{ element.s }}\n        </td>\n      </ng-container>\n      <ng-container matColumnDef="p">\n        <th *matHeaderCellDef mat-header-cell>P(Q \xd7 \u0393e)</th>\n        <td *matCellDef="let element" [ngSwitch]="element.p" mat-cell>\n          <ng-container *ngSwitchCase="\'{(q7, \u0190)}\'">\n            {{ "{(* q7, \u0190)}" }}\n          </ng-container>\n          <ng-container *ngSwitchDefault>\n            {{ element.p }}\n          </ng-container>\n        </td>\n      </ng-container>\n      <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>\n      <tr\n        #matRows\n        *matRowDef="let row; columns: displayedColumns"\n        [attr.data-after-content]="this.animationObject.current + 1"\n        [attr.data-test]="exprConstruct[animationObject.current]?.source+ \'_\' + exprConstruct[animationObject.current]?.target + \' - \' + row.id"\n        [id]="row.q + row.e + row.p"\n        [ngClass]="{\n          active: row.id === (exprConstruct[animationObject.current]?.source+ \'_\' + exprConstruct[animationObject.current]?.target),\n          error: exprConstruct[animationObject.current]?.error ? row.id === (exprConstruct[animationObject.current -1]?.source+ \'_\' + exprConstruct[animationObject.current -1]?.target) : false\n        }"\n        mat-row\n      ></tr>\n    </table>\n  </aside>\n  <div class="container column is-8" id="tool3">\n    <div class="overlay" id="tool4">\n      <code [innerHTML]="kellerRules">\n      </code>\n    </div>\n    <app-cyto-graph [cyConfig]="cyConfig"></app-cyto-graph>\n    <div *ngIf="errorState.state === true" [innerHTML]="errorState.hm" class="error-box"></div>\n  </div>\n  <div class="column is-1">\n    <div class="stack">\n      <ul class="stack-container">\n        <li class="stack-text">Stack</li>\n        <li *ngFor="let a of stack" class="stack-list">{{ a }}</li>\n      </ul>\n    </div>\n  </div>\n</section>\n<div class="columns is-centered bott">\n  <div class="column control-wrapper is-5">\n    <div class="button-group">\n      <mat-button-toggle-group aria-label="Font Style" id="tool5" name="fontStyle">\n        <mat-button-toggle\n          (click)="onStart()"\n          [disabled]="\n            expressionGrammar.Expression.length < 1 ||\n            endState.getValue() !== \'stop\' ||\n            this.animationObject.current < 0\n          "\n          title="anfang"\n          value="bold"\n        >\n          <mat-icon aria-hidden="false" aria-label="chevron_left icon"\n          >first_page\n          </mat-icon\n          >\n        </mat-button-toggle\n        >\n        <mat-button-toggle\n          (click)="onPrevious()"\n          [disabled]="\n            expressionGrammar.Expression.length < 1 ||\n            endState.getValue() !== \'stop\' ||\n            this.animationObject.current < 0\n          "\n          title="Zurueck"\n          value="bold"\n        >\n          <mat-icon aria-hidden="false" aria-label="chevron_left icon"\n          >chevron_left\n          </mat-icon\n          >\n        </mat-button-toggle\n        >\n        <mat-button-toggle\n          (click)="onPlay()"\n          [disabled]="expressionGrammar.Expression.length < 1"\n          title="Abspielen"\n          value="bold"\n        >\n          <mat-icon aria-hidden="false" aria-label="chevron_left icon"\n          >play_circle_filled\n          </mat-icon\n          >\n        </mat-button-toggle\n        >\n        <mat-button-toggle\n          (click)="onPause()"\n          [disabled]="expressionGrammar.Expression.length < 1 || endState.getValue() === \'stop\'"\n          title="Pause"\n          value="bold"\n        >\n          <mat-icon aria-hidden="false" aria-label="chevron_left icon"\n          >pause_circle_filled\n          </mat-icon\n          >\n        </mat-button-toggle\n        >\n        <mat-button-toggle\n          (click)="onNext()"\n          [disabled]="\n            expressionGrammar.Expression.length < 1 ||\n            endState.getValue() !== \'stop\' ||\n            this.animationObject.current === this.exprConstruct.length - 1\n          "\n          title="Vor"\n          value="underline"\n        >\n          <mat-icon aria-hidden="false" aria-label="chevron_right icon"\n          >chevron_right\n          </mat-icon\n          >\n        </mat-button-toggle\n        >\n        <mat-button-toggle\n          (click)="onEnd()"\n          [disabled]="\n            expressionGrammar.Expression.length < 1 ||\n            endState.getValue() !== \'stop\' ||\n            this.animationObject.current === this.exprConstruct.length - 1\n          "\n          title="Ende"\n          value="underline"\n        >\n          <mat-icon aria-hidden="false" aria-label="chevron_right icon"\n          >last_page\n          </mat-icon\n          >\n        </mat-button-toggle\n        >\n      </mat-button-toggle-group>\n      <div\n        class="slider-wrapper"\n        id="tool6"\n        title="Geschwindigkeit der Animation"\n      >\n        <mat-icon aria-hidden="false" aria-label="chevron_right icon">speed</mat-icon>\n        <mat-slider\n          (ngModelChange)="ngOnSpeedChange($event)"\n          [(ngModel)]="speed"\n          [disabled]="expressionGrammar.Expression.length < 1 || endState.getValue() === \'start\'"\n          [max]="5"\n          [min]="1"\n          [step]="1"\n          class="example-margin"\n          thumbLabel="Speed"\n        >\n        </mat-slider>\n      </div>\n    </div>\n  </div>\n</div>\n',styles:[".main-content {\n  height: 640px;\n}\n\n.left-bar {\n  background-color: blue;\n  height: 100%;\n  width: 20%;\n}\n\n.container {\n  border: 2px solid lightgray;\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  justify-content: center;\n  position: relative;\n  height: calc(100% - 0.75rem);\n}\n\n.example-full-width {\n  width: 100%;\n}\n\ntable {\n  width: 100%;\n  text-align: center;\n}\n\ntd,\nth {\n  vertical-align: middle;\n}\n\ntr.mat-row {\n  height: 0px !important;\n}\n\ntr:nth-child(even) {\n  background-color: rgba(238, 240, 253, 0.84);\n}\n\n.headline {\n  margin-bottom: 5rem;\n}\n\n.cy-wrapper {\n  display: none;\n  background: whitesmoke;\n  width: 700px;\n  height: 300px;\n  border: 1px solid black;\n}\n\n.overlay {\n  position: absolute;\n  left: 2px;\n  top: 2px;\n}\n\n.action-button {\n  margin-left: 12px;\n}\n\n.green {\n  color: green;\n}\n\n.red {\n  color: red;\n}\n\ntr.active {\n  border: 2px dashed green;\n}\n\ntr.active:last-child {\n  border: 3px dashed green;\n}\n\ntr.error {\n  border: 2px dashed red;\n}\n\nth,\ntd {\n  padding: 5px 0 !important;\n  width: 25%;\n}\n\ntr.active::after {\n  content: attr(data-after-content);\n  background-color: green;\n  margin-top: 6px;\n  width: 19px;\n  height: 19px;\n  position: absolute;\n  font-size: 12px;\n  color: white;\n  left: 11px;\n}\n\n.error-box {\n  position: absolute;\n  bottom: -50px;\n  left: 0;\n  border: 1px solid red;\n  background-color: lightgoldenrodyellow;\n  padding: 7px;\n}\n\n.success {\n  background-color: #00796B;\n  color: white;\n}\n\n.success.basic {\n  background-color: white;\n  color: #00796B;\n}\n\n.button-group {\n  display: flex;\n}\n\n.control-wrapper {\n  display: flex;\n  justify-content: center;\n}\n\n.slider-wrapper {\n  display: inline-flex;\n  align-items: center;\n  margin-left: 1rem;\n}\n\n.auswertung {\n  display: inline-flex;\n  align-items: center;\n  color: red;\n}\n\n.auswertung.correct {\n  color: green;\n}\n\ncode {\n  display: block;\n  white-space: pre-wrap;\n  color: #3f51b5;\n}\n\ncode.code-black {\n  color: black;\n}\n\n.stack-container {\n  border-left: 1px solid #3f51b5;\n  border-bottom: 1px solid #3f51b5;\n  border-right: 1px solid #3f51b5;\n  height: 100%;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column-reverse;\n}\n\n.stack-container li {\n  text-align: center;\n  padding: 5px 0;\n  border-top: 1px solid lightgray;\n}\n\n.stack-text {\n  font-weight: bold;\n  font-size: 16px;\n  text-align: center;\n}\n\n.stack {\n  height: 100%;\n}\n\naside {\n  display: flex;\n  justify-content: flex-end;\n  flex-direction: column;\n}\n\n.bott {\n  margin-top: 40px;\n}"]})],yI);let _I=class{constructor(){}ngOnInit(){}};_I.ctorParameters=()=>[],_I=Tv([Object(i.n)({selector:"app-tm",template:"<p>tm works!</p>\n",styles:[""]})],_I);const bI=[{path:"",component:Nw,canActivate:[]},{path:"dea",component:sI,canActivate:[]},{path:"grammar",component:dI,canActivate:[]},{path:"keller",component:yI,canActivate:[]},{path:"tm",component:_I,canActivate:[]}];let wI=class{};wI=Tv([Object(i.N)({imports:[xw.forRoot(bI,{useHash:!0})],exports:[xw]})],wI);let xI=class{constructor(){this.title="machine"}};xI=Tv([Object(i.n)({selector:"app-root",template:'<p>\n  <mat-toolbar color="primary">\n    <button\n      mat-icon-button\n      class="example-icon"\n      aria-label="Example icon-button with menu icon"\n    >\n      <mat-icon>menu</mat-icon>\n    </button>\n    <span>Automaten-Simulator</span>\n    <span class="divider"> | </span>\n    <a\n      [routerLink]="[\'/\']"\n      [routerLinkActive]="[\'active\']"\n      [routerLinkActiveOptions]="{ exact: true }"\n      mat-button\n      class="menu-link"\n    >\n      Home\n    </a>\n    <a\n      [routerLink]="[\'/dea\']"\n      [routerLinkActive]="[\'active\']"\n      mat-button\n      class="menu-link"\n    >\n      DEA\n    </a>\n    <a\n      [routerLink]="[\'/grammar\']"\n      [routerLinkActive]="[\'active\']"\n      mat-button\n      class="menu-link"\n    >\n      Grammatik\n    </a>\n    <a\n      [routerLink]="[\'/keller\']"\n      [routerLinkActive]="[\'active\']"\n      mat-button\n      class="menu-link"\n    >\n      Kellerautomat\n    </a>\n    <a\n      [routerLink]="[\'/tm\']"\n      [routerLinkActive]="[\'active\']"\n      mat-button\n      href="/tm"\n      class="menu-link"\n    >\n      TM\n    </a>\n  </mat-toolbar>\n</p>\n\n<div class="container">\n  <div class="box">\n    <nav class="breadcrumb" aria-label="breadcrumbs">\n      <ul>\n        <li><a [routerLink]="[\'/\']">Automation-Simulator</a></li>\n        <li class="is-active"><a href="#">Home</a></li>\n      </ul>\n    </nav>\n\n    <router-outlet></router-outlet>\n  </div>\n</div>\n\n<footer class="footer">\n  <div class="content has-text-centered">\n    <p>\n      <strong>Automaten-Simulator</strong> by\n      <a href="https://hnaoufal.de">Hicham Naoufal</a>. The source code is\n      licensed <a href="http://opensource.org/licenses/mit-license.php">MIT</a>.\n      The website content is licensed\n      <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"\n        >CC BY NC SA 4.0</a\n      >.\n    </p>\n  </div>\n</footer>\n',encapsulation:i.rb.None,styles:[".divider {\n  margin: 0 12px;\n}\n\n.menu-link {\n  cursor: pointer;\n  font-size: 0.9rem;\n  margin-right: 12px;\n}\n\n.active {\n  color: rgba(0, 0, 0, 0.87);\n  background-color: white;\n}\n\n.error-box .red {\n  color: red;\n  font-weight: bold;\n}\n\n.error-box .green {\n  color: green;\n  font-weight: bold;\n}"]})],xI);const EI=["*",[["mat-toolbar-row"]]];const CI=qT(class{constructor(e){this._elementRef=e}});class SI{}SI.\u0275fac=function(e){return new(e||SI)},SI.\u0275dir=i.Ic({type:SI,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]});class kI extends CI{constructor(e,t,n){super(e),this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length,0}}kI.\u0275fac=function(e){return new(e||kI)(i.Nc(i.v),i.Nc(mx),i.Nc(af))},kI.\u0275cmp=i.Hc({type:kI,selectors:[["mat-toolbar"]],contentQueries:function(e,t,n){if(1&e&&i.Gc(n,SI,5),2&e){let e;i.gd(e=i.ad())&&(t._toolbarRows=e)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&i.Fc("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[i.Ac],ngContentSelectors:["*","mat-toolbar-row"],decls:2,vars:0,template:function(e,t){1&e&&(i.dd(EI),i.cd(0),i.cd(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),kI.ctorParameters=()=>[{type:i.v},{type:mx},{type:void 0,decorators:[{type:i.D,args:[af]}]}],kI.propDecorators={_toolbarRows:[{type:i.s,args:[SI,{descendants:!0}]}]};class TI{}TI.\u0275fac=function(e){return new(e||TI)},TI.\u0275mod=i.Lc({type:TI}),TI.\u0275inj=i.Kc({imports:[[HT],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(TI,{declarations:function(){return[kI,SI]},imports:function(){return[HT]},exports:function(){return[kI,SI,HT]}});var AI=n("z6cu"),DI=n("XoHu");function OI(...e){if(1===e.length){const t=e[0];if(Object(Nv.a)(t))return II(t,null);if(Object(DI.a)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return II(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return II(e=1===e.length&&Object(Nv.a)(e[0])?e[0]:e,null).pipe(Object(Xv.a)(e=>t(...e)))}return II(e,null)}function II(e,t){return new Vv.a(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=Object(Av.a)(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&c||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}var NI,PI=n("w1tV");class MI{}class RI{}class LI{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof LI?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new LI;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof LI?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class FI{encodeKey(e){return jI(e)}encodeValue(e){return jI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function jI(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function BI(e){return`${e}`}class VI{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new FI,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)});return n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new VI({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(BI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(BI(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zI{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function UI(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function HI(e){return"undefined"!=typeof Blob&&e instanceof Blob}function $I(e){return"undefined"!=typeof FormData&&e instanceof FormData}class qI{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new LI),this.context||(this.context=new zI),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),r=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+r+e}}else this.params=new VI,this.urlWithParams=t}serializeBody(){return null===this.body?null:UI(this.body)||HI(this.body)||$I(this.body)||"string"==typeof this.body?this.body:this.body instanceof VI?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$I(this.body)?null:HI(this.body)?this.body.type||null:UI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof VI?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new qI(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}!function(e){e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User"}(NI||(NI={}));class GI{constructor(e,t=200,n="OK"){this.headers=e.headers||new LI,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class WI extends GI{constructor(e={}){super(e),this.type=NI.ResponseHeader}clone(e={}){return new WI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class XI extends GI{constructor(e={}){super(e),this.type=NI.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new XI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class YI extends GI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function KI(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class ZI{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof qI)r=e;else{let i,s;i=n.headers instanceof LI?n.headers:new LI(n.headers),n.params&&(s=n.params instanceof VI?n.params:new VI({fromObject:n.params})),r=new qI(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Dv.a)(r).pipe(Object(ty.a)(e=>this.handler.handle(e)));if(e instanceof qI||"events"===n.observe)return i;const s=i.pipe(Object(Jv.a)(e=>e instanceof XI));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Xv.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(Object(Xv.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(Object(Xv.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(Object(Xv.a)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new VI).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,KI(n,t))}post(e,t,n={}){return this.request("POST",e,KI(n,t))}put(e,t,n={}){return this.request("PUT",e,KI(n,t))}}ZI.\u0275fac=function(e){return new(e||ZI)(i.Xc(MI))},ZI.\u0275prov=i.Jc({token:ZI,factory:ZI.\u0275fac}),ZI.ctorParameters=()=>[{type:MI}];class QI{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const JI=new i.G("HTTP_INTERCEPTORS");class eN{intercept(e,t){return t.handle(e)}}eN.\u0275fac=function(e){return new(e||eN)},eN.\u0275prov=i.Jc({token:eN,factory:eN.\u0275fac});let tN=0;class nN{}class rN{constructor(e,t){this.callbackMap=e,this.document=t,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+tN++}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");return new Vv.a(t=>{const n=this.nextCallback(),r=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let s=null,o=!1,a=!1;this.callbackMap[n]=e=>{delete this.callbackMap[n],a||(s=e,o=!0)};const l=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]},c=e=>{a||this.resolvedPromise.then(()=>{l(),o?(t.next(new XI({body:s,status:200,statusText:"OK",url:r})),t.complete()):t.error(new YI({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},u=e=>{a||(l(),t.error(new YI({error:e,status:0,statusText:"JSONP Error",url:r})))};return i.addEventListener("load",c),i.addEventListener("error",u),this.document.body.appendChild(i),t.next({type:NI.Sent}),()=>{a=!0,i.removeEventListener("load",c),i.removeEventListener("error",u),l()}})}}rN.\u0275fac=function(e){return new(e||rN)(i.Xc(nN),i.Xc(af))},rN.\u0275prov=i.Jc({token:rN,factory:rN.\u0275fac}),rN.ctorParameters=()=>[{type:nN},{type:void 0,decorators:[{type:i.D,args:[af]}]}];class iN{constructor(e){this.jsonp=e}intercept(e,t){return"JSONP"===e.method?this.jsonp.handle(e):t.handle(e)}}iN.\u0275fac=function(e){return new(e||iN)(i.Xc(rN))},iN.\u0275prov=i.Jc({token:iN,factory:iN.\u0275fac}),iN.ctorParameters=()=>[{type:rN}];const sN=/^\)\]\}',?\n/;class oN{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vv.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new LI(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new WI({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(sN,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new XI({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new YI({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new YI({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:NI.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:NI.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:NI.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}oN.\u0275fac=function(e){return new(e||oN)(i.Xc(lm))},oN.\u0275prov=i.Jc({token:oN,factory:oN.\u0275fac}),oN.ctorParameters=()=>[{type:lm}];const aN=new i.G("XSRF_COOKIE_NAME"),lN=new i.G("XSRF_HEADER_NAME");class cN{}class uN{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=_g(e,this.cookieName),this.lastCookieString=e),this.lastToken}}uN.\u0275fac=function(e){return new(e||uN)(i.Xc(af),i.Xc(i.W),i.Xc(aN))},uN.\u0275prov=i.Jc({token:uN,factory:uN.\u0275fac}),uN.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:String,decorators:[{type:i.D,args:[i.W]}]},{type:String,decorators:[{type:i.D,args:[aN]}]}];class hN{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}hN.\u0275fac=function(e){return new(e||hN)(i.Xc(cN),i.Xc(lN))},hN.\u0275prov=i.Jc({token:hN,factory:hN.\u0275fac}),hN.ctorParameters=()=>[{type:cN},{type:String,decorators:[{type:i.D,args:[lN]}]}];class dN{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(JI,[]);this.chain=e.reduceRight((e,t)=>new QI(e,t),this.backend)}return this.chain.handle(e)}}function pN(){return"object"==typeof window?window:{}}dN.\u0275fac=function(e){return new(e||dN)(i.Xc(RI),i.Xc(i.H))},dN.\u0275prov=i.Jc({token:dN,factory:dN.\u0275fac}),dN.ctorParameters=()=>[{type:RI},{type:i.H}];class fN{static disable(){return{ngModule:fN,providers:[{provide:hN,useClass:eN}]}}static withOptions(e={}){return{ngModule:fN,providers:[e.cookieName?{provide:aN,useValue:e.cookieName}:[],e.headerName?{provide:lN,useValue:e.headerName}:[]]}}}fN.\u0275fac=function(e){return new(e||fN)},fN.\u0275mod=i.Lc({type:fN}),fN.\u0275inj=i.Kc({providers:[hN,{provide:JI,useExisting:hN,multi:!0},{provide:cN,useClass:uN},{provide:aN,useValue:"XSRF-TOKEN"},{provide:lN,useValue:"X-XSRF-TOKEN"}]});class gN{}gN.\u0275fac=function(e){return new(e||gN)},gN.\u0275mod=i.Lc({type:gN}),gN.\u0275inj=i.Kc({providers:[ZI,{provide:MI,useClass:dN},oN,{provide:RI,useExisting:oN}],imports:[[fN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(gN,{imports:[fN]});class mN{}mN.\u0275fac=function(e){return new(e||mN)},mN.\u0275mod=i.Lc({type:mN}),mN.\u0275inj=i.Kc({providers:[rN,{provide:nN,useFactory:pN},{provide:JI,useClass:iN,multi:!0}]});function vN(e){return Error(`Unable to find icon with the name "${e}"`)}function yN(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function _N(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class bN{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}class wN{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new bN(n,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,n,r){const s=this._sanitizer.sanitize(i.eb.HTML,n);if(!s)throw _N(n);return this._addSvgIconConfig(e,t,new bN("",s,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new bN(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const r=this._sanitizer.sanitize(i.eb.HTML,t);if(!r)throw _N(t);return this._addSvgIconSetConfig(e,new bN("",r,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(i.eb.RESOURCE_URL,e);if(!t)throw yN(e);const n=this._cachedIconsByUrl.get(t);return n?Object(Dv.a)(xN(n)):this._loadSvgIconFromConfig(new bN(e,null)).pipe(_y(e=>this._cachedIconsByUrl.set(t,e)),Object(Xv.a)(e=>xN(e)))}getNamedSvgIcon(e,t=""){const n=EN(t,e);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):Object(AI.a)(vN(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Object(Dv.a)(xN(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Object(Xv.a)(e=>xN(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);if(n)return Object(Dv.a)(n);return OI(t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe(Object(ey.a)(t=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(i.eb.RESOURCE_URL,e.url)} failed: ${t.message}`;return this._errorHandler.handleError(new Error(n)),Object(Dv.a)(null)})))).pipe(Object(Xv.a)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw vN(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(t,e,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(_y(t=>e.svgText=t),Object(Xv.a)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Object(Dv.a)(null):this._fetchIcon(e).pipe(_y(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:r}=e,s=null!==(t=null==r?void 0:r.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(i.eb.RESOURCE_URL,n);if(!o)throw yN(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Cy(()=>this._inProgressUrlFetches.delete(o)),Object(PI.a)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(EN(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](t,e);if(i)return(n=i).url&&n.options?new bN(i.url,null,i.options):new bN(i,null)}var n}}wN.\u0275fac=function(e){return new(e||wN)(i.Xc(ZI,8),i.Xc(Km),i.Xc(af,8),i.Xc(i.x))},wN.\u0275prov=i.Jc({factory:function(){return new wN(i.Xc(ZI,8),i.Xc(Km),i.Xc(af,8),i.Xc(i.x))},token:wN,providedIn:"root"}),wN.ctorParameters=()=>[{type:ZI,decorators:[{type:i.T}]},{type:Km},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[af]}]},{type:i.x}];new i.T,new i.gb,new i.T,i.x,new i.T;function xN(e){return e.cloneNode(!0)}function EN(e,t){return e+":"+t}const CN=qT(class{constructor(e){this._elementRef=e}}),SN=new i.G("mat-icon-location",{providedIn:"root",factory:function(){const e=Object(i.vb)(af),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}});const kN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],TN=kN.map(e=>`[${e}]`).join(", "),AN=/^url\(['"]?#(.*?)['"]?\)$/;class DN extends CN{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Ey.a.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Pw(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let r=0;r<t.length;r++)t[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(TN),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)kN.forEach(e=>{const i=t[r],s=i.getAttribute(e),o=s?s.match(AN):null;if(o){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:o[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe(Object(Kv.a)(1)).subscribe(e=>this._setSvgElement(e),e=>{const r=`Error retrieving icon ${t}:${n}! ${e.message}`;this._errorHandler.handleError(new Error(r))})}}}DN.\u0275fac=function(e){return new(e||DN)(i.Nc(i.v),i.Nc(wN),i.Yc("aria-hidden"),i.Nc(SN),i.Nc(i.x))},DN.\u0275cmp=i.Hc({type:DN,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(i.Ec("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),i.Fc("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.Ac],ngContentSelectors:["*"],decls:1,vars:0,template:function(e,t){1&e&&(i.dd(),i.cd(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),DN.ctorParameters=()=>[{type:i.v},{type:wN},{type:String,decorators:[{type:i.h,args:["aria-hidden"]}]},{type:void 0,decorators:[{type:i.D,args:[SN]}]},{type:i.x}],DN.propDecorators={inline:[{type:i.I}],svgIcon:[{type:i.I}],fontSet:[{type:i.I}],fontIcon:[{type:i.I}]};class ON{}ON.\u0275fac=function(e){return new(e||ON)},ON.\u0275mod=i.Lc({type:ON}),ON.\u0275inj=i.Kc({imports:[[HT],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(ON,{declarations:function(){return[DN]},imports:function(){return[HT]},exports:function(){return[DN,HT]}});const IN=["mat-button",""],NN=["*"],PN=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",MN=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];const RN=qT($T(GT(class{constructor(e){this._elementRef=e}})));class LN extends RN{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of MN)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}LN.\u0275fac=function(e){return new(e||LN)(i.Nc(i.v),i.Nc(FC),i.Nc(OT,8))},LN.\u0275cmp=i.Hc({type:LN,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&i.sd(yA,5),2&e){let e;i.gd(e=i.ad())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(i.Ec("disabled",t.disabled||null),i.Fc("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.Ac],attrs:IN,ngContentSelectors:NN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(i.dd(),i.Tc(0,"span",0),i.cd(1),i.Sc(),i.Oc(2,"span",1),i.Oc(3,"span",2)),2&e&&(i.Dc(2),i.Fc("mat-button-ripple-round",t.isRoundButton||t.isIconButton),i.ed("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[yA],styles:[PN],encapsulation:2,changeDetection:0}),LN.ctorParameters=()=>[{type:i.v},{type:FC},{type:String,decorators:[{type:i.T},{type:i.D,args:[OT]}]}],LN.propDecorators={ripple:[{type:i.ob,args:[yA]}]};class FN extends LN{constructor(e,t,n){super(t,e,n)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}FN.\u0275fac=function(e){return new(e||FN)(i.Nc(FC),i.Nc(i.v),i.Nc(OT,8))},FN.\u0275cmp=i.Hc({type:FN,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,t){1&e&&i.Zc("click",function(e){return t._haltDisabledEvents(e)}),2&e&&(i.Ec("tabindex",t.disabled?-1:t.tabIndex||0)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString()),i.Fc("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[i.Ac],attrs:IN,ngContentSelectors:NN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(i.dd(),i.Tc(0,"span",0),i.cd(1),i.Sc(),i.Oc(2,"span",1),i.Oc(3,"span",2)),2&e&&(i.Dc(2),i.Fc("mat-button-ripple-round",t.isRoundButton||t.isIconButton),i.ed("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[yA],styles:[PN],encapsulation:2,changeDetection:0}),FN.ctorParameters=()=>[{type:FC},{type:i.v},{type:String,decorators:[{type:i.T},{type:i.D,args:[OT]}]}],FN.propDecorators={tabIndex:[{type:i.I}]};class jN{}jN.\u0275fac=function(e){return new(e||jN)},jN.\u0275mod=i.Lc({type:jN}),jN.\u0275inj=i.Kc({imports:[[_A,HT],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(jN,{declarations:function(){return[LN,FN]},imports:function(){return[_A,HT]},exports:function(){return[LN,FN,HT]}});let BN=class{};BN=Tv([Object(i.N)({declarations:[Nw],imports:[rm,wI]})],BN);const VN=["underline"],zN=["connectionContainer"],UN=["inputContainer"],HN=["label"];function $N(e,t){1&e&&(i.Rc(0),i.Tc(1,"div",14),i.Oc(2,"div",15),i.Oc(3,"div",16),i.Oc(4,"div",17),i.Sc(),i.Tc(5,"div",18),i.Oc(6,"div",15),i.Oc(7,"div",16),i.Oc(8,"div",17),i.Sc(),i.Qc())}function qN(e,t){1&e&&(i.Tc(0,"div",19),i.cd(1,1),i.Sc())}function GN(e,t){if(1&e&&(i.Rc(0),i.cd(1,2),i.Tc(2,"span"),i.pd(3),i.Sc(),i.Qc()),2&e){const e=i.bd(2);i.Dc(3),i.qd(e._control.placeholder)}}function WN(e,t){1&e&&i.cd(0,3,["*ngSwitchCase","true"])}function XN(e,t){1&e&&(i.Tc(0,"span",23),i.pd(1," *"),i.Sc())}function YN(e,t){if(1&e){const e=i.Uc();i.Tc(0,"label",20,21),i.Zc("cdkObserveContent",function(){i.id(e);return i.bd().updateOutlineGap()}),i.od(2,GN,4,1,"ng-container",12),i.od(3,WN,1,0,"ng-content",12),i.od(4,XN,2,0,"span",22),i.Sc()}if(2&e){const e=i.bd();i.Fc("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),i.ed("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),i.Ec("for",e._control.id)("aria-owns",e._control.id),i.Dc(2),i.ed("ngSwitchCase",!1),i.Dc(1),i.ed("ngSwitchCase",!0),i.Dc(1),i.ed("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function KN(e,t){1&e&&(i.Tc(0,"div",24),i.cd(1,4),i.Sc())}function ZN(e,t){if(1&e&&(i.Tc(0,"div",25,26),i.Oc(2,"span",27),i.Sc()),2&e){const e=i.bd();i.Dc(2),i.Fc("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function QN(e,t){if(1&e&&(i.Tc(0,"div"),i.cd(1,5),i.Sc()),2&e){const e=i.bd();i.ed("@transitionMessages",e._subscriptAnimationState)}}function JN(e,t){if(1&e&&(i.Tc(0,"div",31),i.pd(1),i.Sc()),2&e){const e=i.bd(2);i.ed("id",e._hintLabelId),i.Dc(1),i.qd(e.hintLabel)}}function eP(e,t){if(1&e&&(i.Tc(0,"div",28),i.od(1,JN,2,2,"div",29),i.cd(2,6),i.Oc(3,"div",30),i.cd(4,7),i.Sc()),2&e){const e=i.bd();i.ed("@transitionMessages",e._subscriptAnimationState),i.Dc(1),i.ed("ngIf",e.hintLabel)}}const tP=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]];let nP=0;const rP=new i.G("MatError");class iP{constructor(e,t){this.id="mat-error-"+nP++,e||t.nativeElement.setAttribute("aria-live","polite")}}iP.\u0275fac=function(e){return new(e||iP)(i.Yc("aria-live"),i.Nc(i.v))},iP.\u0275dir=i.Ic({type:iP,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,t){2&e&&i.Ec("id",t.id)},inputs:{id:"id"},features:[i.Cc([{provide:rP,useExisting:iP}])]}),iP.ctorParameters=()=>[{type:String,decorators:[{type:i.h,args:["aria-live"]}]},{type:i.v}],iP.propDecorators={id:[{type:i.I}]};const sP={transitionMessages:XC("transitionMessages",[QC("enter",ZC({opacity:1,transform:"translateY(0%)"})),eS("void => enter",[ZC({opacity:0,transform:"translateY(-5px)"}),YC("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};class oP{}oP.\u0275fac=function(e){return new(e||oP)},oP.\u0275dir=i.Ic({type:oP});let aP=0;const lP=new i.G("MatHint");class cP{constructor(){this.align="start",this.id="mat-hint-"+aP++}}cP.\u0275fac=function(e){return new(e||cP)},cP.\u0275dir=i.Ic({type:cP,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,t){2&e&&(i.Ec("id",t.id)("align",null),i.Fc("mat-form-field-hint-end","end"===t.align))},inputs:{align:"align",id:"id"},features:[i.Cc([{provide:lP,useExisting:cP}])]}),cP.propDecorators={align:[{type:i.I}],id:[{type:i.I}]};class uP{}uP.\u0275fac=function(e){return new(e||uP)},uP.\u0275dir=i.Ic({type:uP,selectors:[["mat-label"]]});class hP{}hP.\u0275fac=function(e){return new(e||hP)},hP.\u0275dir=i.Ic({type:hP,selectors:[["mat-placeholder"]]});const dP=new i.G("MatPrefix");class pP{}pP.\u0275fac=function(e){return new(e||pP)},pP.\u0275dir=i.Ic({type:pP,selectors:[["","matPrefix",""]],features:[i.Cc([{provide:dP,useExisting:pP}])]});const fP=new i.G("MatSuffix");class gP{}gP.\u0275fac=function(e){return new(e||gP)},gP.\u0275dir=i.Ic({type:gP,selectors:[["","matSuffix",""]],features:[i.Cc([{provide:fP,useExisting:gP}])]});let mP=0;const vP=qT(class{constructor(e){this._elementRef=e}},"primary"),yP=new i.G("MAT_FORM_FIELD_DEFAULT_OPTIONS"),_P=new i.G("MatFormField");class bP extends vP{constructor(e,t,n,r,i,s,o,a){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Wv.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+mP++,this._labelId="mat-form-field-label-"+mP++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Pw(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Zv(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Object(cx.a)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Object(cx.a)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(dE.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Zv(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Zv(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Object(cx.a)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Bw(this._label.nativeElement,"transitionend").pipe(Object(Kv.a)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){this._control.placeholder&&this._placeholderChild,0}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren,0}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){this._control,0}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let e=0;e<o.length;e++)l+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${t}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}bP.\u0275fac=function(e){return new(e||bP)(i.Nc(i.v),i.Nc(i.k),i.Nc(i.v),i.Nc(Ox,8),i.Nc(yP,8),i.Nc(mx),i.Nc(i.S),i.Nc(OT,8))},bP.\u0275cmp=i.Hc({type:bP,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(i.Gc(n,oP,5),i.Gc(n,oP,7),i.Gc(n,uP,5),i.Gc(n,uP,7),i.Gc(n,hP,5),i.Gc(n,rP,5),i.Gc(n,lP,5),i.Gc(n,dP,5),i.Gc(n,fP,5)),2&e){let e;i.gd(e=i.ad())&&(t._controlNonStatic=e.first),i.gd(e=i.ad())&&(t._controlStatic=e.first),i.gd(e=i.ad())&&(t._labelChildNonStatic=e.first),i.gd(e=i.ad())&&(t._labelChildStatic=e.first),i.gd(e=i.ad())&&(t._placeholderChild=e.first),i.gd(e=i.ad())&&(t._errorChildren=e),i.gd(e=i.ad())&&(t._hintChildren=e),i.gd(e=i.ad())&&(t._prefixChildren=e),i.gd(e=i.ad())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(i.sd(VN,5),i.sd(zN,7),i.sd(UN,5),i.sd(HN,5)),2&e){let e;i.gd(e=i.ad())&&(t.underlineRef=e.first),i.gd(e=i.ad())&&(t._connectionContainerRef=e.first),i.gd(e=i.ad())&&(t._inputContainerRef=e.first),i.gd(e=i.ad())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&i.Fc("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i.Cc([{provide:_P,useExisting:bP}]),i.Ac],ngContentSelectors:["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(i.dd(tP),i.Tc(0,"div",0),i.Tc(1,"div",1,2),i.Zc("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),i.od(3,$N,9,0,"ng-container",3),i.od(4,qN,2,0,"div",4),i.Tc(5,"div",5,6),i.cd(7),i.Tc(8,"span",7),i.od(9,YN,5,16,"label",8),i.Sc(),i.Sc(),i.od(10,KN,2,0,"div",9),i.Sc(),i.od(11,ZN,3,4,"div",10),i.Tc(12,"div",11),i.od(13,QN,2,1,"div",12),i.od(14,eP,5,2,"div",13),i.Sc(),i.Sc()),2&e&&(i.Dc(3),i.ed("ngIf","outline"==t.appearance),i.Dc(1),i.ed("ngIf",t._prefixChildren.length),i.Dc(5),i.ed("ngIf",t._hasFloatingLabel()),i.Dc(1),i.ed("ngIf",t._suffixChildren.length),i.Dc(1),i.ed("ngIf","outline"!=t.appearance),i.Dc(1),i.ed("ngSwitch",t._getDisplayedMessages()),i.Dc(1),i.ed("ngSwitchCase","error"),i.Dc(1),i.ed("ngSwitchCase","hint"))},directives:[Sg,Dg,Og,rC],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[sP.transitionMessages]},changeDetection:0}),bP.ctorParameters=()=>[{type:i.v},{type:i.k},{type:void 0,decorators:[{type:i.D,args:[i.v]}]},{type:Ox,decorators:[{type:i.T}]},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[yP]}]},{type:mx},{type:i.S},{type:String,decorators:[{type:i.T},{type:i.D,args:[OT]}]}],bP.propDecorators={appearance:[{type:i.I}],hideRequiredMarker:[{type:i.I}],hintLabel:[{type:i.I}],floatLabel:[{type:i.I}],underlineRef:[{type:i.ob,args:["underline"]}],_connectionContainerRef:[{type:i.ob,args:["connectionContainer",{static:!0}]}],_inputContainerRef:[{type:i.ob,args:["inputContainer"]}],_label:[{type:i.ob,args:["label"]}],_controlNonStatic:[{type:i.r,args:[oP]}],_controlStatic:[{type:i.r,args:[oP,{static:!0}]}],_labelChildNonStatic:[{type:i.r,args:[uP]}],_labelChildStatic:[{type:i.r,args:[uP,{static:!0}]}],_placeholderChild:[{type:i.r,args:[hP]}],_errorChildren:[{type:i.s,args:[rP,{descendants:!0}]}],_hintChildren:[{type:i.s,args:[lP,{descendants:!0}]}],_prefixChildren:[{type:i.s,args:[dP,{descendants:!0}]}],_suffixChildren:[{type:i.s,args:[fP,{descendants:!0}]}]};class wP{}wP.\u0275fac=function(e){return new(e||wP)},wP.\u0275mod=i.Lc({type:wP}),wP.\u0275inj=i.Kc({imports:[[rm,HT,iC],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(wP,{declarations:function(){return[iP,bP,cP,uP,hP,pP,gP]},imports:function(){return[rm,HT,iC]},exports:function(){return[HT,iP,bP,cP,uP,hP,pP,gP]}});const xP=Cx({passive:!0});class EP{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return $v.a;const t=jw(e),n=this._monitoredElements.get(t);if(n)return n.subject;const r=new Wv.a,i="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,xP),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",s,xP)}}),r}stopMonitoring(e){const t=jw(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}EP.\u0275fac=function(e){return new(e||EP)(i.Xc(mx),i.Xc(i.S))},EP.\u0275prov=i.Jc({factory:function(){return new EP(i.Xc(mx),i.Xc(i.S))},token:EP,providedIn:"root"}),EP.ctorParameters=()=>[{type:mx},{type:i.S}];class CP{constructor(e,t){this._elementRef=e,this._autofillMonitor=t,this.cdkAutofill=new i.y}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(e=>this.cdkAutofill.emit(e))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}CP.\u0275fac=function(e){return new(e||CP)(i.Nc(i.v),i.Nc(EP))},CP.\u0275dir=i.Ic({type:CP,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),CP.ctorParameters=()=>[{type:i.v},{type:EP}],CP.propDecorators={cdkAutofill:[{type:i.U}]};class SP{constructor(e,t,n,r){this._elementRef=e,this._platform=t,this._ngZone=n,this._destroyed=new Wv.a,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._document=r,this._textareaElement=this._elementRef.nativeElement,this._measuringClass=t.FIREFOX?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring"}get minRows(){return this._minRows}set minRows(e){this._minRows=Mw(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=Mw(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=Pw(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,this._textareaElement.placeholder=e,this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Bw(this._getWindow(),"resize").pipe(lx(16),Object(cx.a)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,this._textareaElement.parentNode.removeChild(e),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){this._textareaElement.classList.add(this._measuringClass);const e=this._textareaElement.scrollHeight-4;return this._textareaElement.classList.remove(this._measuringClass),e}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight)return;const t=this._elementRef.nativeElement,n=t.value;if(!e&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const r=this._measureScrollHeight(),i=Math.max(r,this._cachedPlaceholderHeight||0);t.style.height=`${i}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(t)):setTimeout(()=>this._scrollToCaretPosition(t))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:t,selectionEnd:n}=e,r=this._getDocument();this._destroyed.isStopped||r.activeElement!==e||e.setSelectionRange(t,n)}}SP.\u0275fac=function(e){return new(e||SP)(i.Nc(i.v),i.Nc(mx),i.Nc(i.S),i.Nc(af,8))},SP.\u0275dir=i.Ic({type:SP,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,t){1&e&&i.Zc("input",function(){return t._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),SP.ctorParameters=()=>[{type:i.v},{type:mx},{type:i.S},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[af]}]}],SP.propDecorators={minRows:[{type:i.I,args:["cdkAutosizeMinRows"]}],maxRows:[{type:i.I,args:["cdkAutosizeMaxRows"]}],enabled:[{type:i.I,args:["cdkTextareaAutosize"]}],placeholder:[{type:i.I}],_noopInputHandler:[{type:i.B,args:["input"]}]};class kP{}kP.\u0275fac=function(e){return new(e||kP)},kP.\u0275mod=i.Lc({type:kP}),kP.\u0275inj=i.Kc({imports:[[vx]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(kP,{declarations:function(){return[CP,SP]},imports:function(){return[vx]},exports:function(){return[CP,SP]}});class TP{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}TP.\u0275fac=function(e){return new(e||TP)(i.Nc(i.ab),i.Nc(i.v))},TP.\u0275dir=i.Ic({type:TP}),TP.ctorParameters=()=>[{type:i.ab},{type:i.v}];class AP extends TP{}AP.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(AP)))(t||AP)}}(),AP.\u0275dir=i.Ic({type:AP,features:[i.Ac]});const DP=new i.G("NgValueAccessor"),OP={provide:DP,useExisting:Object(i.ub)(()=>IP),multi:!0};class IP extends AP{writeValue(e){this.setProperty("checked",e)}}IP.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(IP)))(t||IP)}}(),IP.\u0275dir=i.Ic({type:IP,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&i.Zc("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[i.Cc([OP]),i.Ac]});const NP={provide:DP,useExisting:Object(i.ub)(()=>MP),multi:!0};const PP=new i.G("CompositionEventMode");class MP extends TP{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=of()?of().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){const t=null==e?"":e;this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}function RP(e){return null==e||0===e.length}function LP(e){return null!=e&&"number"==typeof e.length}MP.\u0275fac=function(e){return new(e||MP)(i.Nc(i.ab),i.Nc(i.v),i.Nc(PP,8))},MP.\u0275dir=i.Ic({type:MP,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i.Zc("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[i.Cc([NP]),i.Ac]}),MP.ctorParameters=()=>[{type:i.ab},{type:i.v},{type:Boolean,decorators:[{type:i.T},{type:i.D,args:[PP]}]}];const FP=new i.G("NgValidators"),jP=new i.G("NgAsyncValidators"),BP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function VP(e){return t=>{if(RP(t.value)||RP(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function zP(e){return t=>{if(RP(t.value)||RP(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function UP(e){return RP(e.value)?{required:!0}:null}function HP(e){return!0===e.value?null:{required:!0}}function $P(e){return RP(e.value)||BP.test(e.value)?null:{email:!0}}function qP(e){return t=>RP(t.value)||!LP(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function GP(e){return t=>LP(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function WP(e){if(!e)return XP;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(RP(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function XP(e){return null}function YP(e){return null!=e}function KP(e){const t=Object(i.fc)(e)?Object(Av.a)(e):e;return Object(i.ec)(t),t}function ZP(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function QP(e,t){return t.map(t=>t(e))}function JP(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function eM(e){if(!e)return null;const t=e.filter(YP);return 0==t.length?null:function(e){return ZP(QP(e,t))}}function tM(e){return null!=e?eM(JP(e)):null}function nM(e){if(!e)return null;const t=e.filter(YP);return 0==t.length?null:function(e){return OI(QP(e,t).map(KP)).pipe(Object(Xv.a)(ZP))}}function rM(e){return null!=e?nM(JP(e)):null}function iM(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function sM(e){return e._rawValidators}function oM(e){return e._rawAsyncValidators}class aM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}aM.\u0275fac=function(e){return new(e||aM)},aM.\u0275dir=i.Ic({type:aM});class lM extends aM{get formDirective(){return null}get path(){return null}}lM.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(lM)))(t||lM)}}(),lM.\u0275dir=i.Ic({type:lM,features:[i.Ac]});class cM extends aM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uM{constructor(e){this._cd=e}is(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}class hM extends uM{constructor(e){super(e)}}hM.\u0275fac=function(e){return new(e||hM)(i.Nc(cM,2))},hM.\u0275dir=i.Ic({type:hM,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Fc("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[i.Ac]}),hM.ctorParameters=()=>[{type:cM,decorators:[{type:i.fb}]}];class dM extends uM{constructor(e){super(e)}}dM.\u0275fac=function(e){return new(e||dM)(i.Nc(lM,10))},dM.\u0275dir=i.Ic({type:dM,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&i.Fc("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[i.Ac]}),dM.ctorParameters=()=>[{type:lM,decorators:[{type:i.T},{type:i.fb}]}];function pM(e,t){return[...t.path,e]}function fM(e,t){vM(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&_M(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&_M(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function gM(e,t,n=!0){const r=()=>{0};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),yM(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function mM(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function vM(e,t){const n=sM(e);null!==t.validator?e.setValidators(iM(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=oM(e);null!==t.asyncValidator?e.setAsyncValidators(iM(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();mM(t._rawValidators,i),mM(t._rawAsyncValidators,i)}function yM(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=sM(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=oM(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return mM(t._rawValidators,r),mM(t._rawAsyncValidators,r),n}function _M(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function bM(e,t){vM(e,t)}function wM(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function xM(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function EM(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{var t;e.constructor===MP?n=e:(t=e,Object.getPrototypeOf(t.constructor)===AP?r=e:i=e)}),i||(r||(n||null))}function CM(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const SM="VALID",kM="INVALID",TM="PENDING",AM="DISABLED";function DM(e){return(PM(e)?e.validators:e)||null}function OM(e){return Array.isArray(e)?tM(e):e||null}function IM(e,t){return(PM(t)?t.asyncValidators:e)||null}function NM(e){return Array.isArray(e)?rM(e):e||null}function PM(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class MM{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=OM(this._rawValidators),this._composedAsyncValidatorFn=NM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===SM}get invalid(){return this.status===kM}get pending(){return this.status==TM}get disabled(){return this.status===AM}get enabled(){return this.status!==AM}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=OM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=NM(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=TM,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=AM,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=SM,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==SM&&this.status!==TM||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?AM:SM}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=TM,this._hasOwnPendingAsyncValidator=!0;const t=KP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(n)),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof LM?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof FM&&r.at(e)||null}),r}(this,e,".")}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.y,this.statusChanges=new i.y}_calculateStatus(){return this._allControlsDisabled()?AM:this.errors?kM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(TM)?TM:this._anyControlsHaveStatus(kM)?kM:SM}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){PM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){const t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}}class RM extends MM{constructor(e=null,t,n){super(DM(t),IM(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class LM extends MM{constructor(e,t,n){super(DM(t),IM(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof RM?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class FM extends MM{constructor(e,t,n){super(DM(t),IM(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof RM?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const jM={provide:lM,useExisting:Object(i.ub)(()=>VM)},BM=Promise.resolve(null);class VM extends lM{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.y,this.form=new LM({},tM(e),rM(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){BM.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),fM(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){BM.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),CM(this._directives,e)})}addFormGroup(e){BM.then(()=>{const t=this._findContainer(e.path),n=new LM({});bM(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){BM.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){BM.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,xM(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}VM.\u0275fac=function(e){return new(e||VM)(i.Nc(FP,10),i.Nc(jP,10))},VM.\u0275dir=i.Ic({type:VM,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i.Zc("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Cc([jM]),i.Ac]}),VM.ctorParameters=()=>[{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[FP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[jP]}]}],VM.propDecorators={options:[{type:i.I,args:["ngFormOptions"]}]};class zM extends lM{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return pM(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}zM.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(zM)))(t||zM)}}(),zM.\u0275dir=i.Ic({type:zM,features:[i.Ac]});const UM={provide:lM,useExisting:Object(i.ub)(()=>HM)};class HM extends zM{constructor(e,t,n){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(n)}_checkParentType(){!(this._parent instanceof HM)&&this._parent,0}}HM.\u0275fac=function(e){return new(e||HM)(i.Nc(lM,5),i.Nc(FP,10),i.Nc(jP,10))},HM.\u0275dir=i.Ic({type:HM,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Cc([UM]),i.Ac]}),HM.ctorParameters=()=>[{type:lM,decorators:[{type:i.z},{type:i.gb}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[FP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[jP]}]}],HM.propDecorators={name:[{type:i.I,args:["ngModelGroup"]}]};const $M={provide:cM,useExisting:Object(i.ub)(()=>GM)},qM=Promise.resolve(null);class GM extends cM{constructor(e,t,n,r){super(),this.control=new RM,this._registered=!1,this.update=new i.y,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=EM(0,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),wM(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?pM(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fM(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){0}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){qM.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;qM.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}GM.\u0275fac=function(e){return new(e||GM)(i.Nc(lM,9),i.Nc(FP,10),i.Nc(jP,10),i.Nc(DP,10))},GM.\u0275dir=i.Ic({type:GM,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Cc([$M]),i.Ac,i.Bc]}),GM.ctorParameters=()=>[{type:lM,decorators:[{type:i.T},{type:i.z}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[FP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[jP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[DP]}]}],GM.propDecorators={name:[{type:i.I}],isDisabled:[{type:i.I,args:["disabled"]}],model:[{type:i.I,args:["ngModel"]}],options:[{type:i.I,args:["ngModelOptions"]}],update:[{type:i.U,args:["ngModelChange"]}]};class WM{}WM.\u0275fac=function(e){return new(e||WM)},WM.\u0275dir=i.Ic({type:WM,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});const XM={provide:DP,useExisting:Object(i.ub)(()=>YM),multi:!0};class YM extends AP{writeValue(e){const t=null==e?"":e;this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}YM.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(YM)))(t||YM)}}(),YM.\u0275dir=i.Ic({type:YM,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&i.Zc("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[i.Cc([XM]),i.Ac]});const KM={provide:DP,useExisting:Object(i.ub)(()=>JM),multi:!0};class ZM{}ZM.\u0275fac=function(e){return new(e||ZM)},ZM.\u0275mod=i.Lc({type:ZM}),ZM.\u0275inj=i.Kc({});class QM{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)}}QM.\u0275fac=function(e){return new(e||QM)},QM.\u0275prov=Object(i.Jc)({factory:function(){return new QM},token:QM,providedIn:ZM});class JM extends AP{constructor(e,t,n,r){super(e,t),this._registry=n,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(cM),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}}JM.\u0275fac=function(e){return new(e||JM)(i.Nc(i.ab),i.Nc(i.v),i.Nc(QM),i.Nc(i.H))},JM.\u0275dir=i.Ic({type:JM,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&i.Zc("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Cc([KM]),i.Ac]}),JM.ctorParameters=()=>[{type:i.ab},{type:i.v},{type:QM},{type:i.H}],JM.propDecorators={name:[{type:i.I}],formControlName:[{type:i.I}],value:[{type:i.I}]};const eR={provide:DP,useExisting:Object(i.ub)(()=>tR),multi:!0};class tR extends AP{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}tR.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(tR)))(t||tR)}}(),tR.\u0275dir=i.Ic({type:tR,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&i.Zc("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[i.Cc([eR]),i.Ac]});const nR=new i.G("NgModelWithFormControlWarning"),rR={provide:cM,useExisting:Object(i.ub)(()=>iR)};class iR extends cM{constructor(e,t,n,r){super(),this._ngModelWarningConfig=r,this.update=new i.y,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=EM(0,n)}set isDisabled(e){0}ngOnChanges(e){if(this._isControlChanged(e)){const t=e.form.previousValue;t&&gM(t,this,!1),fM(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}wM(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&gM(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}iR.\u0275fac=function(e){return new(e||iR)(i.Nc(FP,10),i.Nc(jP,10),i.Nc(DP,10),i.Nc(nR,8))},iR.\u0275dir=i.Ic({type:iR,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Cc([rR]),i.Ac,i.Bc]}),iR._ngModelWarningSentOnce=!1,iR.ctorParameters=()=>[{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[FP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[jP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[DP]}]},{type:String,decorators:[{type:i.T},{type:i.D,args:[nR]}]}],iR.propDecorators={form:[{type:i.I,args:["formControl"]}],isDisabled:[{type:i.I,args:["disabled"]}],model:[{type:i.I,args:["ngModel"]}],update:[{type:i.U,args:["ngModelChange"]}]};const sR={provide:lM,useExisting:Object(i.ub)(()=>oR)};class oR extends lM{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.y,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return fM(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){gM(e.control||null,e,!1),CM(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,xM(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(gM(t||null,e),n instanceof RM&&(fM(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);bM(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);if(t){(function(e,t){return yM(e,t)})(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vM(this.form,this),this._oldForm&&yM(this._oldForm,this)}_checkFormPresent(){this.form,0}}oR.\u0275fac=function(e){return new(e||oR)(i.Nc(FP,10),i.Nc(jP,10))},oR.\u0275dir=i.Ic({type:oR,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&i.Zc("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Cc([sR]),i.Ac,i.Bc]}),oR.ctorParameters=()=>[{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[FP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[jP]}]}],oR.propDecorators={form:[{type:i.I,args:["formGroup"]}],ngSubmit:[{type:i.U}]};const aR={provide:lM,useExisting:Object(i.ub)(()=>lR)};class lR extends zM{constructor(e,t,n){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(n)}_checkParentType(){hR(this._parent),0}}lR.\u0275fac=function(e){return new(e||lR)(i.Nc(lM,13),i.Nc(FP,10),i.Nc(jP,10))},lR.\u0275dir=i.Ic({type:lR,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.Cc([aR]),i.Ac]}),lR.ctorParameters=()=>[{type:lM,decorators:[{type:i.T},{type:i.z},{type:i.gb}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[FP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[jP]}]}],lR.propDecorators={name:[{type:i.I,args:["formGroupName"]}]};const cR={provide:lM,useExisting:Object(i.ub)(()=>uR)};class uR extends lM{constructor(e,t,n){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return pM(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){hR(this._parent),0}}function hR(e){return!(e instanceof lR||e instanceof oR||e instanceof uR)}uR.\u0275fac=function(e){return new(e||uR)(i.Nc(lM,13),i.Nc(FP,10),i.Nc(jP,10))},uR.\u0275dir=i.Ic({type:uR,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.Cc([cR]),i.Ac]}),uR.ctorParameters=()=>[{type:lM,decorators:[{type:i.T},{type:i.z},{type:i.gb}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[FP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[jP]}]}],uR.propDecorators={name:[{type:i.I,args:["formArrayName"]}]};const dR={provide:cM,useExisting:Object(i.ub)(()=>pR)};class pR extends cM{constructor(e,t,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new i.y,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=EM(0,r)}set isDisabled(e){0}ngOnChanges(e){this._added||this._setUpControl(),wM(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return pM(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){0}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}pR.\u0275fac=function(e){return new(e||pR)(i.Nc(lM,13),i.Nc(FP,10),i.Nc(jP,10),i.Nc(DP,10),i.Nc(nR,8))},pR.\u0275dir=i.Ic({type:pR,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Cc([dR]),i.Ac,i.Bc]}),pR._ngModelWarningSentOnce=!1,pR.ctorParameters=()=>[{type:lM,decorators:[{type:i.T},{type:i.z},{type:i.gb}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[FP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[jP]}]},{type:Array,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[DP]}]},{type:String,decorators:[{type:i.T},{type:i.D,args:[nR]}]}],pR.propDecorators={name:[{type:i.I,args:["formControlName"]}],isDisabled:[{type:i.I,args:["disabled"]}],model:[{type:i.I,args:["ngModel"]}],update:[{type:i.U,args:["ngModelChange"]}]};const fR={provide:DP,useExisting:Object(i.ub)(()=>mR),multi:!0};function gR(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class mR extends AP{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this.setProperty("selectedIndex",-1);const n=gR(t,e);this.setProperty("value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}mR.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(mR)))(t||mR)}}(),mR.\u0275dir=i.Ic({type:mR,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&i.Zc("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Cc([fR]),i.Ac]}),mR.propDecorators={compareWith:[{type:i.I}]};class vR{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(gR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}vR.\u0275fac=function(e){return new(e||vR)(i.Nc(i.v),i.Nc(i.ab),i.Nc(mR,9))},vR.\u0275dir=i.Ic({type:vR,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),vR.ctorParameters=()=>[{type:i.v},{type:i.ab},{type:mR,decorators:[{type:i.T},{type:i.z}]}],vR.propDecorators={ngValue:[{type:i.I,args:["ngValue"]}],value:[{type:i.I,args:["value"]}]};const yR={provide:DP,useExisting:Object(i.ub)(()=>bR),multi:!0};function _R(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class bR extends AP{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}bR.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(bR)))(t||bR)}}(),bR.\u0275dir=i.Ic({type:bR,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&i.Zc("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Cc([yR]),i.Ac]}),bR.propDecorators={compareWith:[{type:i.I}]};class wR{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(_R(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(_R(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}wR.\u0275fac=function(e){return new(e||wR)(i.Nc(i.v),i.Nc(i.ab),i.Nc(bR,9))},wR.\u0275dir=i.Ic({type:wR,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),wR.ctorParameters=()=>[{type:i.v},{type:i.ab},{type:bR,decorators:[{type:i.T},{type:i.z}]}],wR.propDecorators={ngValue:[{type:i.I,args:["ngValue"]}],value:[{type:i.I,args:["value"]}]};class xR{constructor(){this._validator=XP}handleChanges(e){if(this.inputName in e){const t=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(t),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}xR.\u0275fac=function(e){return new(e||xR)},xR.\u0275dir=i.Ic({type:xR});const ER={provide:FP,useExisting:Object(i.ub)(()=>CR),multi:!0};class CR extends xR{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>zP(e)}ngOnChanges(e){this.handleChanges(e)}}CR.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(CR)))(t||CR)}}(),CR.\u0275dir=i.Ic({type:CR,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,t){if(2&e){let e;i.Ec("max",null!==(e=t.max)&&void 0!==e?e:null)}},inputs:{max:"max"},features:[i.Cc([ER]),i.Ac,i.Bc]}),CR.propDecorators={max:[{type:i.I}]};const SR={provide:FP,useExisting:Object(i.ub)(()=>kR),multi:!0};class kR extends xR{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>VP(e)}ngOnChanges(e){this.handleChanges(e)}}kR.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(kR)))(t||kR)}}(),kR.\u0275dir=i.Ic({type:kR,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,t){if(2&e){let e;i.Ec("min",null!==(e=t.min)&&void 0!==e?e:null)}},inputs:{min:"min"},features:[i.Cc([SR]),i.Ac,i.Bc]}),kR.propDecorators={min:[{type:i.I}]};const TR={provide:FP,useExisting:Object(i.ub)(()=>DR),multi:!0},AR={provide:FP,useExisting:Object(i.ub)(()=>OR),multi:!0};class DR{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?UP(e):null}registerOnValidatorChange(e){this._onChange=e}}DR.\u0275fac=function(e){return new(e||DR)},DR.\u0275dir=i.Ic({type:DR,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ec("required",t.required?"":null)},inputs:{required:"required"},features:[i.Cc([TR])]}),DR.propDecorators={required:[{type:i.I}]};class OR extends DR{validate(e){return this.required?HP(e):null}}OR.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(OR)))(t||OR)}}(),OR.\u0275dir=i.Ic({type:OR,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ec("required",t.required?"":null)},features:[i.Cc([AR]),i.Ac]});const IR={provide:FP,useExisting:Object(i.ub)(()=>NR),multi:!0};class NR{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?$P(e):null}registerOnValidatorChange(e){this._onChange=e}}NR.\u0275fac=function(e){return new(e||NR)},NR.\u0275dir=i.Ic({type:NR,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[i.Cc([IR])]}),NR.propDecorators={email:[{type:i.I}]};const PR={provide:FP,useExisting:Object(i.ub)(()=>MR),multi:!0};class MR{constructor(){this._validator=XP}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=qP("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}MR.\u0275fac=function(e){return new(e||MR)},MR.\u0275dir=i.Ic({type:MR,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ec("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[i.Cc([PR]),i.Bc]}),MR.propDecorators={minlength:[{type:i.I}]};const RR={provide:FP,useExisting:Object(i.ub)(()=>LR),multi:!0};class LR{constructor(){this._validator=XP}ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=GP("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}LR.\u0275fac=function(e){return new(e||LR)},LR.\u0275dir=i.Ic({type:LR,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ec("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Cc([RR]),i.Bc]}),LR.propDecorators={maxlength:[{type:i.I}]};const FR={provide:FP,useExisting:Object(i.ub)(()=>jR),multi:!0};class jR{constructor(){this._validator=XP}ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=WP(this.pattern)}}jR.\u0275fac=function(e){return new(e||jR)},jR.\u0275dir=i.Ic({type:jR,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i.Ec("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[i.Cc([FR]),i.Bc]}),jR.propDecorators={pattern:[{type:i.I}]};class BR{}BR.\u0275fac=function(e){return new(e||BR)},BR.\u0275mod=i.Lc({type:BR}),BR.\u0275inj=i.Kc({imports:[[ZM]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(BR,{declarations:[WM,vR,wR,MP,YM,tR,IP,mR,bR,JM,hM,dM,DR,MR,LR,jR,OR,NR,kR,CR],imports:[ZM],exports:[WM,vR,wR,MP,YM,tR,IP,mR,bR,JM,hM,dM,DR,MR,LR,jR,OR,NR,kR,CR]});class VR{}VR.\u0275fac=function(e){return new(e||VR)},VR.\u0275mod=i.Lc({type:VR}),VR.\u0275inj=i.Kc({imports:[BR]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(VR,{declarations:[GM,HM,VM],exports:[BR,GM,HM,VM]});class zR{static withConfig(e){return{ngModule:zR,providers:[{provide:nR,useValue:e.warnOnNgModelWithFormControl}]}}}zR.\u0275fac=function(e){return new(e||zR)},zR.\u0275mod=i.Lc({type:zR}),zR.\u0275inj=i.Kc({imports:[BR]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(zR,{declarations:[iR,oR,pR,lR,uR],exports:[BR,iR,oR,pR,lR,uR]});class UR{group(e,t=null){const n=this._reduceControls(e);let r,i=null,s=null;return null!=t&&(!function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null):(i=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0)),new LM(n,{asyncValidators:s,updateOn:r,validators:i})}control(e,t,n){return new RM(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new FM(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){if(e instanceof RM||e instanceof LM||e instanceof FM)return e;if(Array.isArray(e)){const t=e[0],n=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,n,r)}return this.control(e)}}UR.\u0275fac=function(e){return new(e||UR)},UR.\u0275prov=Object(i.Jc)({factory:function(){return new UR},token:UR,providedIn:zR});new i.nb("12.0.4");class HR extends SP{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(e){this.minRows=e}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(e){this.maxRows=e}get matAutosize(){return this.enabled}set matAutosize(e){this.enabled=e}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(e){this.enabled=e}}HR.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(HR)))(t||HR)}}(),HR.\u0275dir=i.Ic({type:HR,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[i.Ac]}),HR.propDecorators={matAutosizeMinRows:[{type:i.I}],matAutosizeMaxRows:[{type:i.I}],matAutosize:[{type:i.I,args:["mat-autosize"]}],matTextareaAutosize:[{type:i.I}]};const $R=new i.G("MAT_INPUT_VALUE_ACCESSOR"),qR=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let GR=0;const WR=(XR=class{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}},class extends XR{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new Wv.a}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.errorStateMatcher||this._defaultErrorStateMatcher,r=this.ngControl?this.ngControl.control:null,i=n.isErrorState(r,t);i!==e&&(this.errorState=i,this.stateChanges.next())}});var XR;class YR extends WR{constructor(e,t,n,r,i,s,o,a,l,c){super(s,r,i,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+GR++,this.focused=!1,this.stateChanges=new Wv.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>_x().has(e));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{const t=e.target;t.value||0!==t.selectionStart||0!==t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Pw(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Pw(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&_x().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Pw(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){qR.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}YR.\u0275fac=function(e){return new(e||YR)(i.Nc(i.v),i.Nc(mx),i.Nc(cM,10),i.Nc(VM,8),i.Nc(oR,8),i.Nc(lA),i.Nc($R,10),i.Nc(EP),i.Nc(i.S),i.Nc(_P,8))},YR.\u0275dir=i.Ic({type:YR,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&i.Zc("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(i.Wc("disabled",t.disabled)("required",t.required),i.Ec("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required),i.Fc("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i.Cc([{provide:oP,useExisting:YR}]),i.Ac,i.Bc]}),YR.ctorParameters=()=>[{type:i.v},{type:mx},{type:cM,decorators:[{type:i.T},{type:i.fb}]},{type:VM,decorators:[{type:i.T}]},{type:oR,decorators:[{type:i.T}]},{type:lA},{type:void 0,decorators:[{type:i.T},{type:i.fb},{type:i.D,args:[$R]}]},{type:EP},{type:i.S},{type:bP,decorators:[{type:i.T},{type:i.D,args:[_P]}]}],YR.propDecorators={disabled:[{type:i.I}],id:[{type:i.I}],placeholder:[{type:i.I}],required:[{type:i.I}],type:[{type:i.I}],errorStateMatcher:[{type:i.I}],userAriaDescribedBy:[{type:i.I,args:["aria-describedby"]}],value:[{type:i.I}],readonly:[{type:i.I}],_focusChanged:[{type:i.B,args:["focus",["true"]]},{type:i.B,args:["blur",["false"]]}],_onInput:[{type:i.B,args:["input"]}]};class KR{}KR.\u0275fac=function(e){return new(e||KR)},KR.\u0275mod=i.Lc({type:KR}),KR.\u0275inj=i.Kc({providers:[lA],imports:[[kP,wP,HT],kP,wP]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(KR,{declarations:function(){return[YR,HR]},imports:function(){return[kP,wP,HT]},exports:function(){return[kP,wP,YR,HR]}});const ZR=[[["caption"]],[["colgroup"],["col"]]];function QR(e,t){if(1&e&&(i.Tc(0,"th",3),i.pd(1),i.Sc()),2&e){const e=i.bd();i.ld("text-align",e.justify),i.Dc(1),i.rd(" ",e.headerText," ")}}function JR(e,t){if(1&e&&(i.Tc(0,"td",4),i.pd(1),i.Sc()),2&e){const e=t.$implicit,n=i.bd();i.ld("text-align",n.justify),i.Dc(1),i.rd(" ",n.dataAccessor(e,n.name)," ")}}function eL(e){return class extends e{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Pw(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const tL=new i.G("CDK_TABLE"),nL=new i.G("text-column-options");class rL{constructor(e){this.template=e}}rL.\u0275fac=function(e){return new(e||rL)(i.Nc(i.kb))},rL.\u0275dir=i.Ic({type:rL,selectors:[["","cdkCellDef",""]]}),rL.ctorParameters=()=>[{type:i.kb}];class iL{constructor(e){this.template=e}}iL.\u0275fac=function(e){return new(e||iL)(i.Nc(i.kb))},iL.\u0275dir=i.Ic({type:iL,selectors:[["","cdkHeaderCellDef",""]]}),iL.ctorParameters=()=>[{type:i.kb}];class sL{constructor(e){this.template=e}}sL.\u0275fac=function(e){return new(e||sL)(i.Nc(i.kb))},sL.\u0275dir=i.Ic({type:sL,selectors:[["","cdkFooterCellDef",""]]}),sL.ctorParameters=()=>[{type:i.kb}];const oL=eL(class{});class aL extends oL{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const t=this._stickyEnd;this._stickyEnd=Pw(e),this._hasStickyChanged=t!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}aL.\u0275fac=function(e){return new(e||aL)(i.Nc(tL,8))},aL.\u0275dir=i.Ic({type:aL,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,n){if(1&e&&(i.Gc(n,rL,5),i.Gc(n,iL,5),i.Gc(n,sL,5)),2&e){let e;i.gd(e=i.ad())&&(t.cell=e.first),i.gd(e=i.ad())&&(t.headerCell=e.first),i.gd(e=i.ad())&&(t.footerCell=e.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[i.Cc([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:aL}]),i.Ac]}),aL.ctorParameters=()=>[{type:void 0,decorators:[{type:i.D,args:[tL]},{type:i.T}]}],aL.propDecorators={name:[{type:i.I,args:["cdkColumnDef"]}],stickyEnd:[{type:i.I,args:["stickyEnd"]}],cell:[{type:i.r,args:[rL]}],headerCell:[{type:i.r,args:[iL]}],footerCell:[{type:i.r,args:[sL]}]};class lL{constructor(e,t){const n=t.nativeElement.classList;for(const r of e._columnCssClassName)n.add(r)}}class cL extends lL{constructor(e,t){super(e,t)}}cL.\u0275fac=function(e){return new(e||cL)(i.Nc(aL),i.Nc(i.v))},cL.\u0275dir=i.Ic({type:cL,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[i.Ac]}),cL.ctorParameters=()=>[{type:aL},{type:i.v}];class uL extends lL{constructor(e,t){super(e,t)}}uL.\u0275fac=function(e){return new(e||uL)(i.Nc(aL),i.Nc(i.v))},uL.\u0275dir=i.Ic({type:uL,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:["role","gridcell",1,"cdk-footer-cell"],features:[i.Ac]}),uL.ctorParameters=()=>[{type:aL},{type:i.v}];class hL extends lL{constructor(e,t){super(e,t)}}hL.\u0275fac=function(e){return new(e||hL)(i.Nc(aL),i.Nc(i.v))},hL.\u0275dir=i.Ic({type:hL,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[i.Ac]}),hL.ctorParameters=()=>[{type:aL},{type:i.v}];class dL{constructor(){this.tasks=[],this.endTasks=[]}}const pL=new i.G("_COALESCED_STYLE_SCHEDULER");class fL{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Wv.a}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new dL,this._getScheduleObservable().pipe(Object(cx.a)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new dL;for(const t of e.tasks)t();for(const t of e.endTasks)t()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object(Av.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Object(Kv.a)(1))}}fL.\u0275fac=function(e){return new(e||fL)(i.Xc(i.S))},fL.\u0275prov=i.Jc({token:fL,factory:fL.\u0275fac}),fL.ctorParameters=()=>[{type:i.S}];class gL{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){const t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof vL?e.headerCell.template:this instanceof _L?e.footerCell.template:e.cell.template}}gL.\u0275fac=function(e){return new(e||gL)(i.Nc(i.kb),i.Nc(i.J))},gL.\u0275dir=i.Ic({type:gL,features:[i.Bc]}),gL.ctorParameters=()=>[{type:i.kb},{type:i.J}];const mL=eL(class extends gL{});class vL extends mL{constructor(e,t,n){super(e,t),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}}vL.\u0275fac=function(e){return new(e||vL)(i.Nc(i.kb),i.Nc(i.J),i.Nc(tL,8))},vL.\u0275dir=i.Ic({type:vL,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[i.Ac,i.Bc]}),vL.ctorParameters=()=>[{type:i.kb},{type:i.J},{type:void 0,decorators:[{type:i.D,args:[tL]},{type:i.T}]}];const yL=eL(class extends gL{});class _L extends yL{constructor(e,t,n){super(e,t),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}}_L.\u0275fac=function(e){return new(e||_L)(i.Nc(i.kb),i.Nc(i.J),i.Nc(tL,8))},_L.\u0275dir=i.Ic({type:_L,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[i.Ac,i.Bc]}),_L.ctorParameters=()=>[{type:i.kb},{type:i.J},{type:void 0,decorators:[{type:i.D,args:[tL]},{type:i.T}]}];class bL extends gL{constructor(e,t,n){super(e,t),this._table=n}}bL.\u0275fac=function(e){return new(e||bL)(i.Nc(i.kb),i.Nc(i.J),i.Nc(tL,8))},bL.\u0275dir=i.Ic({type:bL,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[i.Ac]}),bL.ctorParameters=()=>[{type:i.kb},{type:i.J},{type:void 0,decorators:[{type:i.D,args:[tL]},{type:i.T}]}];class wL{constructor(e){this._viewContainer=e,wL.mostRecentCellOutlet=this}ngOnDestroy(){wL.mostRecentCellOutlet===this&&(wL.mostRecentCellOutlet=null)}}wL.\u0275fac=function(e){return new(e||wL)(i.Nc(i.qb))},wL.\u0275dir=i.Ic({type:wL,selectors:[["","cdkCellOutlet",""]]}),wL.mostRecentCellOutlet=null,wL.ctorParameters=()=>[{type:i.qb}];class xL{}xL.\u0275fac=function(e){return new(e||xL)},xL.\u0275cmp=i.Hc({type:xL,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.Pc(0,0)},directives:[wL],encapsulation:2});class EL{}EL.\u0275fac=function(e){return new(e||EL)},EL.\u0275cmp=i.Hc({type:EL,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.Pc(0,0)},directives:[wL],encapsulation:2});class CL{}CL.\u0275fac=function(e){return new(e||CL)},CL.\u0275cmp=i.Hc({type:CL,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.Pc(0,0)},directives:[wL],encapsulation:2});class SL{constructor(e){this.templateRef=e}}SL.\u0275fac=function(e){return new(e||SL)(i.Nc(i.kb))},SL.\u0275dir=i.Ic({type:SL,selectors:[["ng-template","cdkNoDataRow",""]]}),SL.ctorParameters=()=>[{type:i.kb}];const kL=["top","bottom","left","right"];class TL{constructor(e,t,n,r,i=!0,s=!0,o){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const n=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let e=0;e<r.children.length;e++)n.push(r.children[e])}this._coalescedStyleScheduler.schedule(()=>{for(const e of n)this._removeStickyStyle(e,t)})}updateStickyColumns(e,t,n,r=!0){if(!e.length||!this._isBrowser||!t.some(e=>e)&&!n.some(e=>e))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const i=e[0],s=i.children.length,o=this._getCellWidths(i,r),a=this._getStickyStartColumnPositions(o,t),l=this._getStickyEndColumnPositions(o,n),c=t.lastIndexOf(!0),u=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const r="rtl"===this.direction,i=r?"right":"left",h=r?"left":"right";for(const o of e)for(let e=0;e<s;e++){const r=o.children[e];t[e]&&this._addStickyStyle(r,i,a[e],e===c),n[e]&&this._addStickyStyle(r,h,l[e],e===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===c?[]:o.slice(0,c+1).map((e,n)=>t[n]?e:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((e,t)=>n[t+u]?e:null).reverse()}))})}stickRows(e,t,n){if(!this._isBrowser)return;const r="bottom"===n?e.slice().reverse():e,i="bottom"===n?t.slice().reverse():t,s=[],o=[],a=[];for(let c=0,u=0;c<r.length;c++){if(!i[c])continue;s[c]=u;const e=r[c];a[c]=this._isNativeHtmlTable?Array.from(e.children):[e];const t=e.getBoundingClientRect().height;u+=t,o[c]=t}const l=i.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var e,t;for(let o=0;o<r.length;o++){if(!i[o])continue;const e=s[o],t=o===l;for(const r of a[o])this._addStickyStyle(r,n,e,t)}"top"===n?null===(e=this._positionListener)||void 0===e||e.stickyHeaderRowsUpdated({sizes:o,offsets:s,elements:a}):null===(t=this._positionListener)||void 0===t||t.stickyFooterRowsUpdated({sizes:o,offsets:s,elements:a})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const n=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(e=>!e)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const n of t)e.style[n]="",e.classList.remove(this._borderCellCss[n]);kL.some(n=>-1===t.indexOf(n)&&e.style[n])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,n,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${n}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const r of kL)e.style[r]&&(n+=t[r]);return n?`${n}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=e.children;for(let i=0;i<r.length;i++){let e=r[i];n.push(e.getBoundingClientRect().width)}return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(e,t){const n=[];let r=0;for(let i=0;i<e.length;i++)t[i]&&(n[i]=r,r+=e[i]);return n}_getStickyEndColumnPositions(e,t){const n=[];let r=0;for(let i=e.length;i>0;i--)t[i]&&(n[i]=r,r+=e[i]);return n}}const AL=new i.G("CDK_SPL");class DL{}DL.\u0275fac=function(e){return new(e||DL)},DL.\u0275dir=i.Ic({type:DL,selectors:[["cdk-table","recycleRows",""],["table","cdk-table","","recycleRows",""]],features:[i.Cc([{provide:Vx,useClass:Fx}])]});class OL{constructor(e,t){this.viewContainer=e,this.elementRef=t}}OL.\u0275fac=function(e){return new(e||OL)(i.Nc(i.qb),i.Nc(i.v))},OL.\u0275dir=i.Ic({type:OL,selectors:[["","rowOutlet",""]]}),OL.ctorParameters=()=>[{type:i.qb},{type:i.v}];class IL{constructor(e,t){this.viewContainer=e,this.elementRef=t}}IL.\u0275fac=function(e){return new(e||IL)(i.Nc(i.qb),i.Nc(i.v))},IL.\u0275dir=i.Ic({type:IL,selectors:[["","headerRowOutlet",""]]}),IL.ctorParameters=()=>[{type:i.qb},{type:i.v}];class NL{constructor(e,t){this.viewContainer=e,this.elementRef=t}}NL.\u0275fac=function(e){return new(e||NL)(i.Nc(i.qb),i.Nc(i.v))},NL.\u0275dir=i.Ic({type:NL,selectors:[["","footerRowOutlet",""]]}),NL.ctorParameters=()=>[{type:i.qb},{type:i.v}];class PL{constructor(e,t){this.viewContainer=e,this.elementRef=t}}PL.\u0275fac=function(e){return new(e||PL)(i.Nc(i.qb),i.Nc(i.v))},PL.\u0275dir=i.Ic({type:PL,selectors:[["","noDataRowOutlet",""]]}),PL.ctorParameters=()=>[{type:i.qb},{type:i.v}];i.w;class ML{constructor(e,t,n,r,i,s,o,a,l,c,u){this._differs=e,this._changeDetectorRef=t,this._elementRef=n,this._dir=i,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=l,this._viewportRuler=c,this._stickyPositioningListener=u,this._onDestroy=new Wv.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new Ov.a({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Pw(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Pw(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe(Object(cx.a)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;const e=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||e,this._forceRecalculateCellWidths=e,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Mx(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return void this._updateNoDataRow();const t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(e,t,n)=>this._getEmbeddedViewArgs(e.item,n),e=>e.item.data,e=>{1===e.operation&&e.context&&this._renderCellTemplateForItem(e.record.item.rowDef,e.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(e=>{t.get(e.currentIndex).context.$implicit=e.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._elementRef.nativeElement.querySelector("thead");t&&(t.style.display=e.length?"":"none");const n=this._headerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),t=this._elementRef.nativeElement.querySelector("tfoot");t&&(t.style.display=e.length?"":"none");const n=this._footerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((e,t)=>{this._addStickyColumnStyles([e],this._headerRowDefs[t])}),this._rowDefs.forEach(e=>{const n=[];for(let r=0;r<t.length;r++)this._renderRows[r].rowDef===e&&n.push(t[r]);this._addStickyColumnStyles(n,e)}),n.forEach((e,t)=>{this._addStickyColumnStyles([e],this._footerRowDefs[t])}),Array.from(this._columnDefsByName.values()).forEach(e=>e.resetStickyChanged())}_getAllRenderRows(){const e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,t.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let t=0;t<i.length;t++){let n=i[t];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),e.push(n)}}return e}_getRenderRowsForData(e,t,n){return this._getRowDefs(e,t).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const e=i.shift();return e.dataIndex=t,e}return{data:e,rowDef:r,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear();RL(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(e=>{this._columnDefsByName.has(e.name),this._columnDefsByName.set(e.name,e)})}_cacheRowDefs(){this._headerRowDefs=RL(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=RL(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=RL(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(e=>!e.when);!this.multiTemplateDataRows&&e.length,this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(e,t)=>e||!!t.getColumnsDiff(),t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),t||n||r}_switchDataSource(e){this._data=[],Mx(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Mx(this.dataSource)?e=this.dataSource.connect(this):ex(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Object(Dv.a)(this.dataSource)),this._renderChangeSubscription=e.pipe(Object(cx.a)(this._onDestroy)).subscribe(e=>{this._data=e||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){const n=Array.from(t.columns||[]).map(e=>{const t=this._columnDefsByName.get(e);return t}),r=n.map(e=>e.sticky),i=n.map(e=>e.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,i,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const t=[];for(let n=0;n<e.viewContainer.length;n++){const r=e.viewContainer.get(n);t.push(r.rootNodes[0])}return t}_getRowDefs(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(t,e));else{let r=this._rowDefs.find(n=>n.when&&n.when(t,e))||this._defaultRowDef;r&&n.push(r)}return n.length,n}_getEmbeddedViewArgs(e,t){const n=e.rowDef,r={$implicit:e.data};return{templateRef:n.template,context:r,index:t}}_renderRow(e,t,n,r={}){const i=e.viewContainer.createEmbeddedView(t.template,r,n);return this._renderCellTemplateForItem(t,r),i}_renderCellTemplateForItem(e,t){for(let n of this._getCellTemplates(e))wL.mostRecentCellOutlet&&wL.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let t=0,n=e.length;t<n;t++){const r=e.get(t).context;r.count=n,r.first=0===t,r.last=t===n-1,r.even=t%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[t].dataIndex,r.renderIndex=t):r.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,t=>{const n=this._columnDefsByName.get(t);return e.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),t=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of t){const t=this._document.createElement(n.tag);t.setAttribute("role","rowgroup");for(const e of n.outlets)t.appendChild(e.elementRef.nativeElement);e.appendChild(t)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(e,t)=>e||t.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){const e=this._dir?this._dir.value:"ltr";this._stickyStyler=new TL(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Object(Dv.a)()).pipe(Object(cx.a)(this._onDestroy)).subscribe(e=>{this._stickyStyler.direction=e,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(e=>!e._table||e._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(e){const t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;t?n.createEmbeddedView(e.templateRef):n.clear(),this._isShowingNoDataRow=t}}}}function RL(e,t){return e.concat(Array.from(t))}ML.\u0275fac=function(e){return new(e||ML)(i.Nc(i.J),i.Nc(i.k),i.Nc(i.v),i.Yc("role"),i.Nc(Ox,8),i.Nc(af),i.Nc(mx),i.Nc(Vx),i.Nc(pL),i.Nc(Xx),i.Nc(AL,12))},ML.\u0275cmp=i.Hc({type:ML,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,n){if(1&e&&(i.Gc(n,SL,5),i.Gc(n,aL,5),i.Gc(n,bL,5),i.Gc(n,vL,5),i.Gc(n,_L,5)),2&e){let e;i.gd(e=i.ad())&&(t._noDataRow=e.first),i.gd(e=i.ad())&&(t._contentColumnDefs=e),i.gd(e=i.ad())&&(t._contentRowDefs=e),i.gd(e=i.ad())&&(t._contentHeaderRowDefs=e),i.gd(e=i.ad())&&(t._contentFooterRowDefs=e)}},viewQuery:function(e,t){if(1&e&&(i.sd(OL,7),i.sd(IL,7),i.sd(NL,7),i.sd(PL,7)),2&e){let e;i.gd(e=i.ad())&&(t._rowOutlet=e.first),i.gd(e=i.ad())&&(t._headerRowOutlet=e.first),i.gd(e=i.ad())&&(t._footerRowOutlet=e.first),i.gd(e=i.ad())&&(t._noDataRowOutlet=e.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,t){2&e&&i.Fc("cdk-table-fixed-layout",t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[i.Cc([{provide:tL,useExisting:ML},{provide:Vx,useClass:Lx},{provide:pL,useClass:fL},{provide:AL,useValue:null}])],ngContentSelectors:["caption","colgroup, col"],decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(i.dd(ZR),i.cd(0),i.cd(1,1),i.Pc(2,0),i.Pc(3,1),i.Pc(4,2),i.Pc(5,3))},directives:[IL,OL,PL,NL],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),ML.ctorParameters=()=>[{type:i.J},{type:i.k},{type:i.v},{type:String,decorators:[{type:i.h,args:["role"]}]},{type:Ox,decorators:[{type:i.T}]},{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:mx},{type:void 0,decorators:[{type:i.D,args:[Vx]}]},{type:fL,decorators:[{type:i.D,args:[pL]}]},{type:Xx},{type:void 0,decorators:[{type:i.T},{type:i.gb},{type:i.D,args:[AL]}]}],ML.propDecorators={trackBy:[{type:i.I}],dataSource:[{type:i.I}],multiTemplateDataRows:[{type:i.I}],fixedLayout:[{type:i.I}],_rowOutlet:[{type:i.ob,args:[OL,{static:!0}]}],_headerRowOutlet:[{type:i.ob,args:[IL,{static:!0}]}],_footerRowOutlet:[{type:i.ob,args:[NL,{static:!0}]}],_noDataRowOutlet:[{type:i.ob,args:[PL,{static:!0}]}],_contentColumnDefs:[{type:i.s,args:[aL,{descendants:!0}]}],_contentRowDefs:[{type:i.s,args:[bL,{descendants:!0}]}],_contentHeaderRowDefs:[{type:i.s,args:[vL,{descendants:!0}]}],_contentFooterRowDefs:[{type:i.s,args:[_L,{descendants:!0}]}],_noDataRow:[{type:i.r,args:[SL]}]};class LL{constructor(e,t){this._table=e,this._options=t,this.justify="start",this._options=t||{}}get name(){return this._name}set name(e){this._name=e,this._syncColumnDefName()}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((e,t)=>e[t])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const e=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(e):e[0].toUpperCase()+e.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}}LL.\u0275fac=function(e){return new(e||LL)(i.Nc(ML,8),i.Nc(nL,8))},LL.\u0275cmp=i.Hc({type:LL,selectors:[["cdk-text-column"]],viewQuery:function(e,t){if(1&e&&(i.sd(aL,7),i.sd(rL,7),i.sd(iL,7)),2&e){let e;i.gd(e=i.ad())&&(t.columnDef=e.first),i.gd(e=i.ad())&&(t.cell=e.first),i.gd(e=i.ad())&&(t.headerCell=e.first)}},inputs:{justify:"justify",name:"name",headerText:"headerText",dataAccessor:"dataAccessor"},decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(e,t){1&e&&(i.Rc(0,0),i.od(1,QR,2,3,"th",1),i.od(2,JR,2,3,"td",2),i.Qc())},directives:[aL,iL,rL,cL,hL],encapsulation:2}),LL.ctorParameters=()=>[{type:ML,decorators:[{type:i.T}]},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[nL]}]}],LL.propDecorators={name:[{type:i.I}],headerText:[{type:i.I}],dataAccessor:[{type:i.I}],justify:[{type:i.I}],columnDef:[{type:i.ob,args:[aL,{static:!0}]}],cell:[{type:i.ob,args:[rL,{static:!0}]}],headerCell:[{type:i.ob,args:[iL,{static:!0}]}]};class FL{}FL.\u0275fac=function(e){return new(e||FL)},FL.\u0275mod=i.Lc({type:FL}),FL.\u0275inj=i.Kc({imports:[[eE]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(FL,{declarations:function(){return[ML,bL,rL,wL,iL,sL,aL,hL,CL,cL,uL,xL,vL,EL,_L,OL,IL,NL,LL,SL,DL,PL]},imports:function(){return[eE]},exports:function(){return[ML,bL,rL,wL,iL,sL,aL,hL,CL,cL,uL,xL,vL,EL,_L,OL,IL,NL,LL,SL,DL,PL]}});const jL=[[["caption"]],[["colgroup"],["col"]]];function BL(e,t){if(1&e&&(i.Tc(0,"th",3),i.pd(1),i.Sc()),2&e){const e=i.bd();i.ld("text-align",e.justify),i.Dc(1),i.rd(" ",e.headerText," ")}}function VL(e,t){if(1&e&&(i.Tc(0,"td",4),i.pd(1),i.Sc()),2&e){const e=t.$implicit,n=i.bd();i.ld("text-align",n.justify),i.Dc(1),i.rd(" ",n.dataAccessor(e,n.name)," ")}}class zL{}zL.\u0275fac=function(e){return new(e||zL)},zL.\u0275dir=i.Ic({type:zL,selectors:[["mat-table","recycleRows",""],["table","mat-table","","recycleRows",""]],features:[i.Cc([{provide:Vx,useClass:Fx}])]});class UL extends ML{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}UL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(UL)))(t||UL)}}(),UL.\u0275cmp=i.Hc({type:UL,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,t){2&e&&i.Fc("mat-table-fixed-layout",t.fixedLayout)},exportAs:["matTable"],features:[i.Cc([{provide:Vx,useClass:Lx},{provide:ML,useExisting:UL},{provide:tL,useExisting:UL},{provide:pL,useClass:fL},{provide:AL,useValue:null}]),i.Ac],ngContentSelectors:["caption","colgroup, col"],decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(i.dd(jL),i.cd(0),i.cd(1,1),i.Pc(2,0),i.Pc(3,1),i.Pc(4,2),i.Pc(5,3))},directives:[IL,OL,PL,NL],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2});class HL extends rL{}HL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(HL)))(t||HL)}}(),HL.\u0275dir=i.Ic({type:HL,selectors:[["","matCellDef",""]],features:[i.Cc([{provide:rL,useExisting:HL}]),i.Ac]});class $L extends iL{}$L.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc($L)))(t||$L)}}(),$L.\u0275dir=i.Ic({type:$L,selectors:[["","matHeaderCellDef",""]],features:[i.Cc([{provide:iL,useExisting:$L}]),i.Ac]});class qL extends sL{}qL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(qL)))(t||qL)}}(),qL.\u0275dir=i.Ic({type:qL,selectors:[["","matFooterCellDef",""]],features:[i.Cc([{provide:sL,useExisting:qL}]),i.Ac]});class GL extends aL{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}GL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(GL)))(t||GL)}}(),GL.\u0275dir=i.Ic({type:GL,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[i.Cc([{provide:aL,useExisting:GL},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:GL}]),i.Ac]}),GL.propDecorators={name:[{type:i.I,args:["matColumnDef"]}]};class WL extends cL{}WL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(WL)))(t||WL)}}(),WL.\u0275dir=i.Ic({type:WL,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[i.Ac]});class XL extends uL{}XL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(XL)))(t||XL)}}(),XL.\u0275dir=i.Ic({type:XL,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:["role","gridcell",1,"mat-footer-cell"],features:[i.Ac]});class YL extends hL{}YL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(YL)))(t||YL)}}(),YL.\u0275dir=i.Ic({type:YL,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[i.Ac]});class KL extends vL{}KL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(KL)))(t||KL)}}(),KL.\u0275dir=i.Ic({type:KL,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[i.Cc([{provide:vL,useExisting:KL}]),i.Ac]});class ZL extends _L{}ZL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(ZL)))(t||ZL)}}(),ZL.\u0275dir=i.Ic({type:ZL,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[i.Cc([{provide:_L,useExisting:ZL}]),i.Ac]});class QL extends bL{}QL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(QL)))(t||QL)}}(),QL.\u0275dir=i.Ic({type:QL,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[i.Cc([{provide:bL,useExisting:QL}]),i.Ac]});class JL extends xL{}JL.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(JL)))(t||JL)}}(),JL.\u0275cmp=i.Hc({type:JL,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[i.Cc([{provide:xL,useExisting:JL}]),i.Ac],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.Pc(0,0)},directives:[wL],encapsulation:2});class eF extends EL{}eF.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(eF)))(t||eF)}}(),eF.\u0275cmp=i.Hc({type:eF,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-footer-row"],exportAs:["matFooterRow"],features:[i.Cc([{provide:EL,useExisting:eF}]),i.Ac],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.Pc(0,0)},directives:[wL],encapsulation:2});class tF extends CL{}tF.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(tF)))(t||tF)}}(),tF.\u0275cmp=i.Hc({type:tF,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[i.Cc([{provide:CL,useExisting:tF}]),i.Ac],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&i.Pc(0,0)},directives:[wL],encapsulation:2});class nF extends SL{}nF.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(nF)))(t||nF)}}(),nF.\u0275dir=i.Ic({type:nF,selectors:[["ng-template","matNoDataRow",""]],features:[i.Cc([{provide:SL,useExisting:nF}]),i.Ac]});class rF extends LL{}rF.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(rF)))(t||rF)}}(),rF.\u0275cmp=i.Hc({type:rF,selectors:[["mat-text-column"]],features:[i.Ac],decls:3,vars:0,consts:[["matColumnDef",""],["mat-header-cell","",3,"text-align",4,"matHeaderCellDef"],["mat-cell","",3,"text-align",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""]],template:function(e,t){1&e&&(i.Rc(0,0),i.od(1,BL,2,3,"th",1),i.od(2,VL,2,3,"td",2),i.Qc())},directives:[GL,$L,HL,WL,YL],encapsulation:2});class iF{}iF.\u0275fac=function(e){return new(e||iF)},iF.\u0275mod=i.Lc({type:iF}),iF.\u0275inj=i.Kc({imports:[[FL,HT],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(iF,{declarations:function(){return[UL,zL,$L,KL,GL,HL,QL,qL,ZL,WL,YL,XL,JL,tF,eF,nF,rF]},imports:function(){return[FL,HT]},exports:function(){return[HT,UL,zL,$L,KL,GL,HL,QL,qL,ZL,WL,YL,XL,JL,tF,eF,nF,rF]}});const sF=["button"],oF=new i.G("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),aF=new i.G("MatButtonToggleGroup"),lF={provide:DP,useExisting:Object(i.ub)(()=>hF),multi:!0};let cF=0;class uF{constructor(e,t){this.source=e,this.value=t}}class hF{constructor(e,t){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+cF++,this.valueChange=new i.y,this.change=new i.y,this.appearance=t&&t.appearance?t.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(e=>{e.name=this._name,e._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=Pw(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(e=>e.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Pw(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Pw(e),this._buttonToggles&&this._buttonToggles.forEach(e=>e._markForCheck())}ngOnInit(){this._selectionModel=new jx(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,t=Array.isArray(e)?e[e.length-1]:e,n=new uF(t,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(e,t,n=!1,r=!1){this.multiple||!this.selected||e.checked||(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):r=!0,r?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>null!=e.value&&t===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(e=>this._selectValue(e))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const t=this._buttonToggles.find(t=>null!=t.value&&t.value===e);t&&(t.checked=!0,this._selectionModel.select(t))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}hF.\u0275fac=function(e){return new(e||hF)(i.Nc(i.k),i.Nc(oF,8))},hF.\u0275dir=i.Ic({type:hF,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,t,n){if(1&e&&i.Gc(n,pF,5),2&e){let e;i.gd(e=i.ad())&&(t._buttonToggles=e)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,t){2&e&&(i.Ec("aria-disabled",t.disabled),i.Fc("mat-button-toggle-vertical",t.vertical)("mat-button-toggle-group-appearance-standard","standard"===t.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[i.Cc([lF,{provide:aF,useExisting:hF}])]}),hF.ctorParameters=()=>[{type:i.k},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[oF]}]}],hF.propDecorators={_buttonToggles:[{type:i.s,args:[Object(i.ub)(()=>pF),{descendants:!0}]}],appearance:[{type:i.I}],name:[{type:i.I}],vertical:[{type:i.I}],value:[{type:i.I}],valueChange:[{type:i.U}],multiple:[{type:i.I}],disabled:[{type:i.I}],change:[{type:i.U}]};const dF=GT(class{});class pF extends dF{constructor(e,t,n,r,s,o){super(),this._changeDetectorRef=t,this._elementRef=n,this._focusMonitor=r,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new i.y;const a=Number(s);this.tabIndex=a||0===a?a:null,this.buttonToggleGroup=e,this.appearance=o&&o.appearance?o.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const t=Pw(e);t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Pw(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+cF++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new uF(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}pF.\u0275fac=function(e){return new(e||pF)(i.Nc(aF,8),i.Nc(i.k),i.Nc(i.v),i.Nc(FC),i.Yc("tabindex"),i.Nc(oF,8))},pF.\u0275cmp=i.Hc({type:pF,selectors:[["mat-button-toggle"]],viewQuery:function(e,t){if(1&e&&i.sd(sF,5),2&e){let e;i.gd(e=i.ad())&&(t._buttonElement=e.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,t){1&e&&i.Zc("focus",function(){return t.focus()}),2&e&&(i.Ec("aria-label",null)("aria-labelledby",null)("id",t.id)("name",null),i.Fc("mat-button-toggle-standalone",!t.buttonToggleGroup)("mat-button-toggle-checked",t.checked)("mat-button-toggle-disabled",t.disabled)("mat-button-toggle-appearance-standard","standard"===t.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[i.Ac],ngContentSelectors:["*"],decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,t){if(1&e&&(i.dd(),i.Tc(0,"button",0,1),i.Zc("click",function(){return t._onButtonClick()}),i.Tc(2,"span",2),i.cd(3),i.Sc(),i.Sc(),i.Oc(4,"span",3),i.Oc(5,"span",4)),2&e){const e=i.hd(1);i.ed("id",t.buttonId)("disabled",t.disabled||null),i.Ec("tabindex",t.disabled?-1:t.tabIndex)("aria-pressed",t.checked)("name",t.name||null)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),i.Dc(5),i.ed("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)}},directives:[yA],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),pF.ctorParameters=()=>[{type:hF,decorators:[{type:i.T},{type:i.D,args:[aF]}]},{type:i.k},{type:i.v},{type:FC},{type:String,decorators:[{type:i.h,args:["tabindex"]}]},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[oF]}]}],pF.propDecorators={ariaLabel:[{type:i.I,args:["aria-label"]}],ariaLabelledby:[{type:i.I,args:["aria-labelledby"]}],_buttonElement:[{type:i.ob,args:["button"]}],id:[{type:i.I}],name:[{type:i.I}],value:[{type:i.I}],tabIndex:[{type:i.I}],appearance:[{type:i.I}],checked:[{type:i.I}],disabled:[{type:i.I}],change:[{type:i.U}]};class fF{}fF.\u0275fac=function(e){return new(e||fF)},fF.\u0275mod=i.Lc({type:fF}),fF.\u0275inj=i.Kc({imports:[[HT,_A],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(fF,{declarations:function(){return[hF,pF]},imports:function(){return[HT,_A]},exports:function(){return[HT,hF,pF]}});const gF=["sliderWrapper"],mF=Cx({passive:!1}),vF={provide:DP,useExisting:Object(i.ub)(()=>bF),multi:!0};class yF{}const _F=WT(qT($T(class{constructor(e){this._elementRef=e}}),"accent"));class bF extends _F{constructor(e,t,n,r,s,o,a,l){super(e),this._focusMonitor=t,this._changeDetectorRef=n,this._dir=r,this._ngZone=o,this._animationMode=l,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new i.y,this.input=new i.y,this.valueChange=new i.y,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Ey.a.EMPTY,this._pointerDown=e=>{this.disabled||this._isSliding||!wF(e)&&0!==e.button||this._ngZone.run(()=>{const t=this.value,n=xF(e);this._isSliding=!0,this._lastPointerEvent=e,e.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(e),this._focusHostElement(),this._updateValueFromPosition(n),this._valueOnSlideStart=t,t!=this.value&&this._emitInputEvent()})},this._pointerMove=e=>{if(this._isSliding){e.preventDefault();const t=this.value;this._lastPointerEvent=e,this._updateValueFromPosition(xF(e)),t!=this.value&&this._emitInputEvent()}},this._pointerUp=e=>{this._isSliding&&(e.preventDefault(),this._removeGlobalEvents(),this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=a,this.tabIndex=parseInt(s)||0,o.runOutsideAngular(()=>{const t=e.nativeElement;t.addEventListener("mousedown",this._pointerDown,mF),t.addEventListener("touchstart",this._pointerDown,mF)})}get invert(){return this._invert}set invert(e){this._invert=Pw(e)}get max(){return this._max}set max(e){this._max=Mw(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=Mw(e,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=Mw(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=Pw(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?Mw(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let t=Mw(e);this._roundToDecimal&&t!==this.min&&t!==this.max&&(t=parseFloat(t.toFixed(this._roundToDecimal))),this._value=t,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=Pw(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const e=this.vertical?"Y":"X",t=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${e}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${t})`}}_getTrackFillStyles(){const e=this.percent,t=this.vertical?"Y":"X",n=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${t}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${n})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,t={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const e=this._shouldInvertAxis();let n;n=this.vertical?e?"Bottom":"Top":e?"Right":"Left",t[`padding${n}`]=`${this._getThumbGap()}px`}return t}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,mF),e.removeEventListener("touchstart",this._pointerDown,mF),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||mE(e))return;const t=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,e.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const t=this._document,n=wF(e),r=n?"touchmove":"mousemove",i=n?"touchend":"mouseup";t.addEventListener(r,this._pointerMove,mF),t.addEventListener(i,this._pointerUp,mF),n&&t.addEventListener("touchcancel",this._pointerUp,mF);const s=this._getWindow();void 0!==s&&s&&s.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,mF),e.removeEventListener("mouseup",this._pointerUp,mF),e.removeEventListener("touchmove",this._pointerMove,mF),e.removeEventListener("touchend",this._pointerUp,mF),e.removeEventListener("touchcancel",this._pointerUp,mF);const t=this._getWindow();void 0!==t&&t&&t.removeEventListener("blur",this._windowBlur)}_increment(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let t=this.vertical?this._sliderDimensions.top:this._sliderDimensions.left,n=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,r=this.vertical?e.y:e.x,i=this._clamp((r-t)/n);if(this._shouldInvertMouseCoords()&&(i=1-i),0===i)this.value=this.min;else if(1===i)this.value=this.max;else{const e=this._calculateValue(i),t=Math.round((e-this.min)/this.step)*this.step+this.min;this.value=this._clamp(t,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,t=e*this.step/(this.max-this.min),n=Math.ceil(30/t)*this.step;this._tickIntervalPercent=n/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(e=this.value){let t=new yF;return t.source=this,t.value=e,t}_calculatePercentage(e){return((e||0)-this.min)/(this.max-this.min)}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,t=0,n=1){return Math.max(t,Math.min(e,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}function wF(e){return"t"===e.type[0]}function xF(e){const t=wF(e)?e.touches[0]||e.changedTouches[0]:e;return{x:t.clientX,y:t.clientY}}bF.\u0275fac=function(e){return new(e||bF)(i.Nc(i.v),i.Nc(FC),i.Nc(i.k),i.Nc(Ox,8),i.Yc("tabindex"),i.Nc(i.S),i.Nc(af),i.Nc(OT,8))},bF.\u0275cmp=i.Hc({type:bF,selectors:[["mat-slider"]],viewQuery:function(e,t){if(1&e&&i.sd(gF,5),2&e){let e;i.gd(e=i.ad())&&(t._sliderWrapper=e.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,t){1&e&&i.Zc("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()})("keydown",function(e){return t._onKeydown(e)})("keyup",function(){return t._onKeyup()})("mouseenter",function(){return t._onMouseenter()})("selectstart",function(e){return e.preventDefault()}),2&e&&(i.Wc("tabIndex",t.tabIndex),i.Ec("aria-disabled",t.disabled)("aria-valuemax",t.max)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-valuetext",null==t.valueText?t.displayValue:t.valueText)("aria-orientation",t.vertical?"vertical":"horizontal"),i.Fc("mat-slider-disabled",t.disabled)("mat-slider-has-ticks",t.tickInterval)("mat-slider-horizontal",!t.vertical)("mat-slider-axis-inverted",t._shouldInvertAxis())("mat-slider-invert-mouse-coords",t._shouldInvertMouseCoords())("mat-slider-sliding",t._isSliding)("mat-slider-thumb-label-showing",t.thumbLabel)("mat-slider-vertical",t.vertical)("mat-slider-min-value",t._isMinValue())("mat-slider-hide-last-tick",t.disabled||t._isMinValue()&&t._getThumbGap()&&t._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith",valueText:"valueText"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[i.Cc([vF]),i.Ac],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,t){1&e&&(i.Tc(0,"div",0,1),i.Tc(2,"div",2),i.Oc(3,"div",3),i.Oc(4,"div",4),i.Sc(),i.Tc(5,"div",5),i.Oc(6,"div",6),i.Sc(),i.Tc(7,"div",7),i.Oc(8,"div",8),i.Oc(9,"div",9),i.Tc(10,"div",10),i.Tc(11,"span",11),i.pd(12),i.Sc(),i.Sc(),i.Sc(),i.Sc()),2&e&&(i.Dc(3),i.ed("ngStyle",t._getTrackBackgroundStyles()),i.Dc(1),i.ed("ngStyle",t._getTrackFillStyles()),i.Dc(1),i.ed("ngStyle",t._getTicksContainerStyles()),i.Dc(1),i.ed("ngStyle",t._getTicksStyles()),i.Dc(1),i.ed("ngStyle",t._getThumbContainerStyles()),i.Dc(5),i.qd(t.displayValue))},directives:[Mg],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute;-webkit-print-color-adjust:exact;color-adjust:exact}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),bF.ctorParameters=()=>[{type:i.v},{type:FC},{type:i.k},{type:Ox,decorators:[{type:i.T}]},{type:String,decorators:[{type:i.h,args:["tabindex"]}]},{type:i.S},{type:void 0,decorators:[{type:i.D,args:[af]}]},{type:String,decorators:[{type:i.T},{type:i.D,args:[OT]}]}],bF.propDecorators={invert:[{type:i.I}],max:[{type:i.I}],min:[{type:i.I}],step:[{type:i.I}],thumbLabel:[{type:i.I}],tickInterval:[{type:i.I}],value:[{type:i.I}],displayWith:[{type:i.I}],valueText:[{type:i.I}],vertical:[{type:i.I}],change:[{type:i.U}],input:[{type:i.U}],valueChange:[{type:i.U}],_sliderWrapper:[{type:i.ob,args:["sliderWrapper"]}]};class EF{}EF.\u0275fac=function(e){return new(e||EF)},EF.\u0275mod=i.Lc({type:EF}),EF.\u0275inj=i.Kc({imports:[[rm,HT],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(EF,{declarations:function(){return[bF]},imports:function(){return[rm,HT]},exports:function(){return[bF,HT]}});var CF=n("ROFb");const SF={37:1,38:1,39:1,40:1},kF=e=>{e.preventDefault()},TF=e=>SF[e.keyCode]?(kF(e),!1):null,AF=!1,DF="onwheel"in document.createElement("div")?"wheel":"mousewheel",OF=()=>{window.addEventListener("DOMMouseScroll",kF,!1),window.addEventListener(DF,kF,AF),window.addEventListener("touchmove",kF,AF),window.addEventListener("keydown",TF,!1)},IF=()=>{window.removeEventListener("DOMMouseScroll",kF,!1),window.removeEventListener(DF,kF,AF),window.removeEventListener("touchmove",kF,AF),window.removeEventListener("keydown",TF,!1)};let NF=class{constructor(e,t,n){this.renderer=e,this.el=t,this.cytoService=n,this.zoom={min:.1,max:1.5},this.selectNode=new i.y}mouseEnter(){OF()}mouseLeave(){IF()}ngOnChanges(e){this.render()}render(){const e=this.renderer.selectRootElement("#cy");this.cy=CF(Object.assign({container:e},this.cyConfig)),this.cy.userZoomingEnabled(!1),this.cytoService.setInstance(this.cy)}};NF.ctorParameters=()=>[{type:i.ab},{type:i.v},{type:aD}],NF.propDecorators={cyConfig:[{type:i.I}],zoom:[{type:i.I}],selectNode:[{type:i.U}],mouseEnter:[{type:i.B,args:["mouseenter",["$event"]]}],mouseLeave:[{type:i.B,args:["mouseleave",["$event"]]}]},NF=Tv([Object(i.n)({selector:"app-cyto-graph",template:'<div id="cy"></div>',styles:["#cy { height: calc(100% - 70px);\n        width: 100%;\n        position: absolute;\n        left: 0;\n        top: 0; }"]})],NF);let PF=class{};PF=Tv([Object(i.N)({declarations:[sI,NF],imports:[rm,xw,VR,wP,KR,iF,jN,fF,ON,EF],providers:[iI]})],PF);var MF=n("l7P3");const RF=Object(MF.j)("[Grammar] test"),LF={grammar:new oI.a("")},FF=Object(MF.k)(LF,Object(MF.m)(RF,e=>Object.assign(Object.assign({},e),{grammar:e.grammar})));Object(MF.l)(e=>e.grammar,e=>e.grammar);const jF=!0;const BF={grammar:function(e,t){return FF(e,t)}},VF=jF?[function(e){return function(t,n){return console.log("state",t),console.log("action",n),e(t,n)}}]:[];const zF=[n("agSv").a.instrument({maxAge:25,logOnly:jF})],UF=["input"],HF=function(e){return{enterDuration:e}},$F=new i.G("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let qF=0;const GF={provide:DP,useExisting:Object(i.ub)(()=>KF),multi:!0};class WF{constructor(e,t){this.source=e,this.value=t}}const XF=new i.G("MatRadioGroup");class YF{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+qF++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.y}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Pw(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Pw(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){const e=null!==this._selected&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(e=>{e.checked=this.value===e.value,e.checked&&(this._selected=e)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new WF(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}YF.\u0275fac=function(e){return new(e||YF)(i.Nc(i.k))},YF.\u0275dir=i.Ic({type:YF,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),YF.ctorParameters=()=>[{type:i.k}],YF.propDecorators={change:[{type:i.U}],color:[{type:i.I}],name:[{type:i.I}],labelPosition:[{type:i.I}],value:[{type:i.I}],selected:[{type:i.I}],disabled:[{type:i.I}],required:[{type:i.I}]};class KF extends YF{}KF.\u0275fac=function(){let e;return function(t){return(e||(e=i.Vc(KF)))(t||KF)}}(),KF.\u0275dir=i.Ic({type:KF,selectors:[["mat-radio-group"]],contentQueries:function(e,t,n){if(1&e&&i.Gc(n,JF,5),2&e){let e;i.gd(e=i.ad())&&(t._radios=e)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[i.Cc([GF,{provide:XF,useExisting:KF}]),i.Ac]}),KF.propDecorators={_radios:[{type:i.s,args:[Object(i.ub)(()=>JF),{descendants:!0}]}]};const ZF=GT(WT(class{constructor(e){this._elementRef=e}}));class QF extends ZF{constructor(e,t,n,r,s,o,a,l){super(t),this._changeDetector=n,this._focusMonitor=r,this._radioDispatcher=s,this._providerOverride=a,this._uniqueId="mat-radio-"+ ++qF,this.id=this._uniqueId,this.change=new i.y,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===o,l&&(this.tabIndex=Mw(l,0)),this._removeUniqueSelectionListener=s.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const t=Pw(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Pw(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Pw(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new WF(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputChange(e){e.stopPropagation();const t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}QF.\u0275fac=function(e){return new(e||QF)(i.Nc(YF),i.Nc(i.v),i.Nc(i.k),i.Nc(FC),i.Nc(Bx),i.Nc(String),i.Nc(void 0),i.Nc(String))},QF.\u0275dir=i.Ic({type:QF,viewQuery:function(e,t){if(1&e&&i.sd(UF,5),2&e){let e;i.gd(e=i.ad())&&(t._inputElement=e.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[i.Ac]}),QF.ctorParameters=()=>[{type:YF},{type:i.v},{type:i.k},{type:FC},{type:Bx},{type:String},{type:void 0},{type:String}],QF.propDecorators={id:[{type:i.I}],name:[{type:i.I}],ariaLabel:[{type:i.I,args:["aria-label"]}],ariaLabelledby:[{type:i.I,args:["aria-labelledby"]}],ariaDescribedby:[{type:i.I,args:["aria-describedby"]}],checked:[{type:i.I}],value:[{type:i.I}],labelPosition:[{type:i.I}],disabled:[{type:i.I}],required:[{type:i.I}],color:[{type:i.I}],change:[{type:i.U}],_inputElement:[{type:i.ob,args:["input"]}]};class JF extends QF{constructor(e,t,n,r,i,s,o,a){super(e,t,n,r,i,s,o,a)}}JF.\u0275fac=function(e){return new(e||JF)(i.Nc(XF,8),i.Nc(i.v),i.Nc(i.k),i.Nc(FC),i.Nc(Bx),i.Nc(OT,8),i.Nc($F,8),i.Yc("tabindex"))},JF.\u0275cmp=i.Hc({type:JF,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,t){1&e&&i.Zc("focus",function(){return t._inputElement.nativeElement.focus()}),2&e&&(i.Ec("tabindex",null)("id",t.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.Fc("mat-radio-checked",t.checked)("mat-radio-disabled",t.disabled)("_mat-animation-noopable",t._noopAnimations)("mat-primary","primary"===t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.Ac],ngContentSelectors:["*"],decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,t){if(1&e&&(i.dd(),i.Tc(0,"label",0,1),i.Tc(2,"span",2),i.Oc(3,"span",3),i.Oc(4,"span",4),i.Tc(5,"input",5,6),i.Zc("change",function(e){return t._onInputChange(e)})("click",function(e){return t._onInputClick(e)}),i.Sc(),i.Tc(7,"span",7),i.Oc(8,"span",8),i.Sc(),i.Sc(),i.Tc(9,"span",9),i.Tc(10,"span",10),i.pd(11,"\xa0"),i.Sc(),i.cd(12),i.Sc(),i.Sc()),2&e){const e=i.hd(1);i.Ec("for",t.inputId),i.Dc(5),i.ed("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex)("required",t.required),i.Ec("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),i.Dc(2),i.ed("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.fd(18,HF,t._noopAnimations?0:150)),i.Dc(2),i.Fc("mat-radio-label-before","before"==t.labelPosition)}},directives:[yA],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),JF.ctorParameters=()=>[{type:KF,decorators:[{type:i.T},{type:i.D,args:[XF]}]},{type:i.v},{type:i.k},{type:FC},{type:Bx},{type:String,decorators:[{type:i.T},{type:i.D,args:[OT]}]},{type:void 0,decorators:[{type:i.T},{type:i.D,args:[$F]}]},{type:String,decorators:[{type:i.h,args:["tabindex"]}]}];class ej{}ej.\u0275fac=function(e){return new(e||ej)},ej.\u0275mod=i.Lc({type:ej}),ej.\u0275inj=i.Kc({imports:[[_A,HT],HT]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.kd(ej,{declarations:function(){return[KF,JF]},imports:function(){return[_A,HT]},exports:function(){return[KF,JF,HT]}});var tj=n("sX1+");let nj=class{constructor(e,t,n){this.renderer=e,this.el=t,this.cytoService=n,this.zoom={min:.1,max:1.5},this.selectNode=new i.y}mouseEnter(){OF()}mouseLeave(){IF()}ngOnChanges(e){this.render()}render(){const e=this.renderer.selectRootElement("#cy");CF.use(tj),this.cy=CF(Object.assign({container:e},this.cyConfig)),this.cy.userZoomingEnabled(!1),this.cytoService.setInstance(this.cy)}};nj.ctorParameters=()=>[{type:i.ab},{type:i.v},{type:lI}],nj.propDecorators={cyConfig:[{type:i.I}],zoom:[{type:i.I}],selectNode:[{type:i.U}],mouseEnter:[{type:i.B,args:["mouseenter",["$event"]]}],mouseLeave:[{type:i.B,args:["mouseleave",["$event"]]}]},nj=Tv([Object(i.n)({selector:"app-cyto-graph",template:'<div id="cy"></div>',styles:["#cy { height: calc(100% - 70px);\n        width: 100%;\n        position: absolute;\n        left: 0;\n        top: 0; }"]})],nj);let rj=class{};rj=Tv([Object(i.N)({declarations:[dI,nj],imports:[rm,MT,wP,KR,iF,jN,fF,ON,EF,ej,VR],providers:[cI,lI]})],rj);var ij=n("D1Mh");let sj=class{constructor(e,t,n){this.renderer=e,this.el=t,this.cytoService=n,this.zoom={min:.1,max:1.5},this.selectNode=new i.y}mouseEnter(){OF()}mouseLeave(){IF()}ngOnChanges(e){this.render()}render(){const e=this.renderer.selectRootElement("#cy2");CF.use(ij),this.cy=CF(Object.assign({container:e},this.cyConfig)),this.cy.userZoomingEnabled(!1),this.cytoService.setInstance(this.cy)}};sj.ctorParameters=()=>[{type:i.ab},{type:i.v},{type:mI}],sj.propDecorators={cyConfig:[{type:i.I}],zoom:[{type:i.I}],selectNode:[{type:i.U}],mouseEnter:[{type:i.B,args:["mouseenter",["$event"]]}],mouseLeave:[{type:i.B,args:["mouseleave",["$event"]]}]},sj=Tv([Object(i.n)({selector:"app-cyto-graph",template:'<div id="cy2"></div>',styles:["#cy2 { height: 100%;\n        width: 100%;\n        position: absolute;\n        left: 0;\n        top: 0; }"]})],sj);let oj=class{};oj=Tv([Object(i.N)({declarations:[yI,sj],imports:[rm,xw,VR,wP,KR,iF,jN,fF,ON,EF],providers:[vI]})],oj);let aj=class{};aj=Tv([Object(i.N)({declarations:[xI,eD],imports:[nv,wI,MT,TI,ON,jN,BN,PF,rj,oj,JA,ej,MF.h.forRoot(BF,{metaReducers:VF}),zF],providers:[],bootstrap:[xI]})],aj),jF&&Object(i.tb)(),kv().bootstrapModule(aj).catch(e=>console.error(e))},zZ0H:function(e,t){e.exports=function(e){return e}},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zoYe:function(e,t,n){var r=n("nmnc"),i=n("eUgh"),s=n("Z0cm"),o=n("/9aa"),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},zp1y:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("l7GE"),i=n("ZUHj");function s(...e){return t=>{let n;"function"==typeof e[e.length-1]&&(n=e.pop());const r=e;return t.lift(new o(r,n))}}class o{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new a(e,this.observables,this.project))}}class a extends r.a{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let s=0;s<r;s++){let e=t[s];this.add(Object(i.a)(this,e,void 0,s))}}notifyNext(e,t,n){this.values[n]=t;const r=this.toRespond;if(r.length>0){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},zx2A:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return l});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}r.a;class a extends r.a{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}r.a;function l(e,t){if(t.closed)return;if(e instanceof i.a)return e.subscribe(t);let n;try{n=Object(s.a)(e)(t)}catch(r){t.error(r)}return n}}},[[0,0]]]);